(function(e){var t=window["editorWBJP"];window["editorWBJP"]=function o(s,a){var l,c,u=0,d=[];for(;u<s.length;u++){c=s[u];if(n[c])d.push.apply(d,n[c]);n[c]=0}for(l in a){if(Object.prototype.hasOwnProperty.call(a,l)){e[l]=a[l]}}if(t)t(s,a);while(d.length)d.shift().call(null,r);if(a[0]){i[0]=0;return r(0)}};var i={};var n={2:0};function r(t){if(i[t])return i[t].exports;var n=i[t]={exports:{},id:t,loaded:false};e[t].call(n.exports,n,n.exports,r);n.loaded=true;return n.exports}r.e=function e(t,i){if(n[t]===0)return i.call(null,r);if(n[t]!==undefined){n[t].push(i)}else{n[t]=[i];var o=document.getElementsByTagName("head")[0];var s=document.createElement("script");s.type="text/javascript";s.charset="utf-8";s.async=true;s.src=r.p+""+{0:"5ede33a0a60a2918c590",8:"8dfc474c22e9335f7959",10:"d972424abec24502741a"}[t]+".js";o.appendChild(s)}};r.m=e;r.c=i;r.p="https://cdn2.editmysite.com/js/";r.p="https://"+window.ASSETS_BASE+"/js/"||r.p;return r(0)})([function(e,t,i){e.exports=i(1226)},function(e,t,i){var n;!(n=function(){if(window.Weebly!==undefined&&window.Weebly.jQuery!==undefined){return window.Weebly.jQuery}return window.jQuery}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){(function(t){e.exports=t["_"]=i(177)}).call(t,function(){return this}())},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(175),i(63)],r=function(e,t,i,n,r){window.Mustache=n;var o=i.AdminType;var s={date:"MMMM D, YYYY",shortDate:"M/D/YY",longDate:"M/D/YYYY",time:"h:mm a"};var a=function(e){return function(t,i){var n=i(t),o=r.unix(n);return o.format(s[e])}};var l={expireCookie:function(e){document.cookie=e+"=; expires=Thu, 18 Dec 2000 12:00:00 UTC"},setCookie:function(e,t){l.expireCookie(e);document.cookie=e+"="+t+"; path=/; domain="+window.location.hostname}};function c(){return function(e,t){return t(i.stl(e))}}var u={buildTime:typeof window.buildTime!=="undefined"?window.buildTime:null,ASSETS_BASE:typeof window.ASSETS_BASE!=="undefined"?window.ASSETS_BASE:null,tl:function(){return function(e,t){return t(i.utl(e))}},ftl:c,stl:c,esc_attr:function(){return function(e,i){return t.escape(i(e))}},fmt:{date:function(){return a("date")},shortDate:function(){return a("shortDate")},longDate:function(){return a("longDate")},time:function(){return a("time")}},isWeeblyAdmin:function(){return o==="weebly"},td:function(){return function(e,i){var n=["d","j","m","n","y","Y","a","A","g","h","G","H","i","s"];var o=["DD","D","MM","M","YY","YYYY","a","A","hh","h","HH","H","mm","ss"];t.each(n,function(t,i){e=e.replace(t,o[i])});var s=e.split(/\|/);var a=s[0];var l=i("{{"+s[1]+"}}");var c=r(l).format(a);return c}},csrf_input:function(){var e=window.csrfToken;if(!e){e=Math.random().toString(36).substring(2);l.setCookie("_csrf",e)}return"<input type='hidden' name='_csrf' value='"+e+"' />"}};n.origRender=n.render;n.render=function(e,i,r){i=t.extend({},i,u);r=t.extend({},this.partialCache,r);return n.origRender.call(this,e,i,r)};n.compile=function(e){return this.render.bind(this,e)};n.compilePartial=function(e,t){this.partialCache=this.partialCache||{};this.partialCache[e]=t};var d=n.Writer.prototype;d.origCompile=d.compile;d.compile=function(t){var i=d.origCompile.apply(this,[t]);return function(t){var n=Array.prototype.slice.call(arguments);n[0]=e.extend(n[0]||{},u);return i.apply(this,n)}};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(9),i(153),i(148),i(149),i(126),i(81),i(197),i(67)],r=function(e){var t={},i=e.RelationalModel.extend;e.Relational.store.addModelScope(t);e.RelationalModel.extend=function(e,n){var r=i.apply(this,arguments);var o=e._class;if(o){o=o.split(".");o=o[o.length-1];t[o]=r}return r};e.Wreqr.Handlers.prototype.removeHandlers=function(e){for(var t=0;t<e.length;t++){this.removeHandler(e[t])}};return e}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){window.Weebly=window._W=window._W||{};window._W.utl=window._W.utl||function(e){window._W.failedTls=window._W.failedTls||[];window._W.failedTls.push(e);return e};window._W.ftl=window._W.ftl||function(e){window._W.failedFtls=window._W.failedFtls||[];window._W.failedFtls.push(e);return""};window._W.utl=window._W.utl||function(e){window._W.failedUtls=window._W.failedUtls||[];window._W.failedUtls.push(e);return""};window._W.stl=window._W.stl||function(e){window._W.failedStls=window._W.failedStls||[];window._W.failedStls.push(e);return""};window._W.setCookie=function(e,t,i){var n=new Date;n.setTime(n.getTime()+i*24*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+"; "+r};window._W.clearCookie=function(e){window._W.setCookie(e,"",-1)};window._W.getCookie=function(e){var t=e+"=";var i=document.cookie.split(";");for(var n=0;n<i.length;n++){var r=i[n];while(r.charAt(0)==" ")r=r.substring(1);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return""};window._W.jQuery=e;window._W.RECAPTCHA_PUBLIC_KEY=window["RECAPTCHA_PUBLIC_KEY"]="6Lf4O9USAAAAAOSa9cF4SEtxBcjrwrLe1_yP00ke";window._W.INVISIBLE_RECAPTCHA_PUBLIC_KEY=window["INVISIBLE_RECAPTCHA_PUBLIC_KEY"]="6LfRSRsUAAAAAKZnbFLRh9pFqexMBpUkku4TAYM7";return window._W}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(123),i(4),i(1),i(7),i(21),i(373),i(88),i(102),i(117),i(32),i(70),i(12),i(64)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p){var m=new n.Marionette.Application,g=false;m.addRegions({nav:"#w-editor-top",pmRegion:"#w-page-manager",dialogRegion:c,domainDialog:"#domain-dialog",userNoticeRegion:"#user-notice",footerV2Region:"#footer-v2-region"});m.navigate=function(e,t){t=t||{};if(g)n.history.navigate(e,t)};m.getCurrentRoute=function(){if(g)return n.history.fragment;return""};m.trackEditorEvent=function(e){if(window.AragornAnalytics){window.AragornAnalytics.track({type:e.type||"standard",location:e.location||"website.editor",object_category:e.object_category,action:e.action,object_instance:e.object_instance,property:e.property,value:e.value,version:e.version||"legacy"})}else{o.execute("analytics:track:event",e)}};m.loading={start:r.noop,stop:r.noop};m.on("start",function(){m.bootstrap=i("editor/app");var l=(new p).fromBackendData(m.bootstrap.ab_test_data);if(m.bootstrap){m.site=new n.Model(m.bootstrap.site)}else{m.site=null}document.cookie="WeeblySession=; expires=Fri, 31 Dec 1999 23:59:59 GMT; path=/weebly;";t.themeCache.insert(m.bootstrap.currentThemeObject.theme,m.bootstrap.currentThemeObject.data);if(s.inEditorContext()){m.loading=new a({delay:500,debug:window.W_DEBUG,defaultText:t.utl("javascript.editor.app_5"),timeout:3e4});o.commands.setHandlers({"loading:start":function(){m.loading.start.apply(m.loading,arguments)},"loading:stop":function(){m.loading.stop.apply(m.loading,arguments)}})}r(window).on("resize",e.throttle(m.utils.updateDimensions,100));var c;try{c=window.self!==window.top}catch(e){c=true}if(c){u.captureMessage("Editor was loaded in an iframe.",{level:"info",logger:"dragons",extra:{referrer:document.referrer}})}});m.preventClose=function(e,i){m.dialogRegion.showSecondaryDialog(new l({message:t.utl("javascript.editor.app_1"),title:t.utl("javascript.editor.app_2"),cancelText:t.utl("javascript.editor.app_3"),confirmText:t.utl("javascript.editor.app_4"),callback:function(t){if(t){e()}else{i()}}}))};m.on("initialize:after",function(e){if(g){n.history.start();if(m.getCurrentRoute()===""){m.vent.trigger("build:desktop")}}m.vent.triggerCascade=function(e){var t=e?e.split(":"):[],i="",n=Array.prototype.slice.apply(arguments);for(var r=0,o=t.length;r<o;r++){i=i?i+":"+t[r]:t[r];n[0]=i;m.vent.trigger.apply(m.vent,n)}};m.vent.on({"editor:toolbar:collapse":function(){m.vent.trigger("editor:toolbar:toggleCollapse",true)},"editor:toolbar:uncollapse":function(){m.vent.trigger("editor:toolbar:toggleCollapse",false)},"editor:toolbar:toggleCollapse":function(e){r(document.body).toggleClass("editor-collapsed",e)},"editor:toolbar:show":function(){m.vent.trigger("editor:toolbar:toggle",true)},"editor:toolbar:hide":function(){m.vent.trigger("editor:toolbar:toggle",false)},"editor:toolbar:toggle":function(e){r(document.body).toggleClass("editor-revealed",e)},"editor:change:siteLanguage":function(e){o.execute("editor:change:siteLanguage",e);r.getScript(t.getSiteLanguageURL(e)).done(function(){m.vent.trigger("settings:reload:cookie")})},"editor:publishBlockers:display":function(e){m.billing.displayBlockerDialog(e)}});m.reqres.setHandlers({"editor:toolbar:isCollapsed":function(){return/editor-collapsed/.test(document.body.className)},"editor:toolbar:isRevealed":function(){return/editor-revealed/.test(document.body.className)},"editor:toolbar:isHidden":function(){var e=m.reqres;return e.request("editor:toolbar:isCollapsed")&&e.request("editor:toolbar:isRevealed")}})});o.commands.setHandlers({"editor:screen:change":function(){d.go.apply(d,arguments)},"user:doEvent":function(e){t.Editor.RPC.User.doEvent(e);window.userEvents[e]=1}});o.reqres.setHandlers({"editor:hostname:get":function(){return window.location.host},"user:hasDoneEvent":function(e){return window.userEvents[e]==true}});window.editorApp=m;window.inEditor=function(){return true};return m}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(162)],r=function(e){"use strict";var t=new e;return t}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;(function(o,s){if(true){!(n=[i(2),i(1),t],r=function(e,t,i){o.Backbone=s(o,i,e,t)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof t!=="undefined"){var a=require("underscore");s(o,t,a)}else{o.Backbone=s(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}})(this,function(e,t,i,n){var r=e.Backbone;var o=[];var s=o.push;var a=o.slice;var l=o.splice;t.VERSION="1.1.2";t.$=n;t.noConflict=function(){e.Backbone=r;return this};t.emulateHTTP=false;t.emulateJSON=false;var c=t.Events={on:function(e,t,i){if(!d(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);n.push({callback:t,context:i,ctx:i||this});return this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var r=this;var o=i.once(function(){r.off(e,o);t.apply(this,arguments)});o._callback=t;return this.on(e,o,n)},off:function(e,t,n){var r,o,s,a,l,c,u,f;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n){this._events=void 0;return this}a=e?[e]:i.keys(this._events);for(l=0,c=a.length;l<c;l++){e=a[l];if(s=this._events[e]){this._events[e]=r=[];if(t||n){for(u=0,f=s.length;u<f;u++){o=s[u];if(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context){r.push(o)}}}if(!r.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!d(this,"trigger",e,t))return this;var i=this._events[e];var n=this._events.all;if(i)f(i,t);if(n)f(n,arguments);return this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var o=!t&&!n;if(!n&&typeof t==="object")n=this;if(e)(r={})[e._listenId]=e;for(var s in r){e=r[s];e.off(t,n,this);if(o||i.isEmpty(e._events))delete this._listeningTo[s]}return this}};var u=/\s+/;var d=function(e,t,i,n){if(!i)return true;if(typeof i==="object"){for(var r in i){e[t].apply(e,[r,i[r]].concat(n))}return false}if(u.test(i)){var o=i.split(u);for(var s=0,a=o.length;s<a;s++){e[t].apply(e,[o[s]].concat(n))}return false}return true};var f=function(e,t){var i,n=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:while(++n<r)(i=e[n]).callback.call(i.ctx);return;case 1:while(++n<r)(i=e[n]).callback.call(i.ctx,o);return;case 2:while(++n<r)(i=e[n]).callback.call(i.ctx,o,s);return;case 3:while(++n<r)(i=e[n]).callback.call(i.ctx,o,s,a);return;default:while(++n<r)(i=e[n]).callback.apply(i.ctx,t);return}};var h={listenTo:"on",listenToOnce:"once"};i.each(h,function(e,t){c[t]=function(t,n,r){var o=this._listeningTo||(this._listeningTo={});var s=t._listenId||(t._listenId=i.uniqueId("l"));o[s]=t;if(!r&&typeof n==="object")r=this;t[e](n,r,this);return this}});c.bind=c.on;c.unbind=c.off;i.extend(t,c);var p=t.Model=function(e,t){var n=e||{};t||(t={});this.cid=i.uniqueId("c");this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)n=this.parse(n,t)||{};n=i.defaults({},n,i.result(this,"defaults"));this.set(n,t);this.changed={};this.initialize.apply(this,arguments)};i.extend(p.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return i.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return i.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,o,s,a,l,c,u,d;if(e==null)return this;if(typeof e==="object"){o=e;n=t}else{(o={})[e]=t}n||(n={});if(!this._validate(o,n))return false;s=n.unset;l=n.silent;a=[];c=this._changing;this._changing=true;if(!c){this._previousAttributes=i.clone(this.attributes);this.changed={}}d=this.attributes,u=this._previousAttributes;if(this.idAttribute in o)this.id=o[this.idAttribute];for(r in o){t=o[r];if(!i.isEqual(d[r],t))a.push(r);if(!i.isEqual(u[r],t)){this.changed[r]=t}else{delete this.changed[r]}s?delete d[r]:d[r]=t}if(!l){if(a.length)this._pending=n;for(var f=0,h=a.length;f<h;f++){this.trigger("change:"+a[f],this,d[a[f]],n)}}if(c)return this;if(!l){while(this._pending){n=this._pending;this._pending=false;this.trigger("change",this,n)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,i.extend({},t,{unset:true}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,i.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!i.isEmpty(this.changed);return i.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?i.clone(this.changed):false;var t,n=false;var r=this._changing?this._previousAttributes:this.attributes;for(var o in e){if(i.isEqual(r[o],t=e[o]))continue;(n||(n={}))[o]=t}return n},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(e){e=e?i.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var n=e.success;e.success=function(i){if(!t.set(t.parse(i,e),e))return false;if(n)n(t,i,e);t.trigger("sync",t,i,e)};F(this,e);return this.sync("read",this,e)},save:function(e,t,n){var r,o,s,a=this.attributes;if(e==null||typeof e==="object"){r=e;n=t}else{(r={})[e]=t}n=i.extend({validate:true},n);if(r&&!n.wait){if(!this.set(r,n))return false}else{if(!this._validate(r,n))return false}if(r&&n.wait){this.attributes=i.extend({},a,r)}if(n.parse===void 0)n.parse=true;var l=this;var c=n.success;n.success=function(e){l.attributes=a;var t=l.parse(e,n);if(n.wait)t=i.extend(r||{},t);if(i.isObject(t)&&!l.set(t,n)){return false}if(c)c(l,e,n);l.trigger("sync",l,e,n)};F(this,n);o=this.isNew()?"create":n.patch?"patch":"update";if(o==="patch")n.attrs=r;s=this.sync(o,this,n);if(r&&n.wait)this.attributes=a;return s},destroy:function(e){e=e?i.clone(e):{};var t=this;var n=e.success;var r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){if(e.wait||t.isNew())r();if(n)n(t,i,e);if(!t.isNew())t.trigger("sync",t,i,e)};if(this.isNew()){e.success();return false}F(this,e);var o=this.sync("delete",this,e);if(!e.wait)r();return o},url:function(){var e=i.result(this,"urlRoot")||i.result(this.collection,"url")||K();if(this.isNew())return e;return e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},i.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=i.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;if(!n)return true;this.trigger("invalid",this,n,i.extend(t,{validationError:n}));return false}});var m=["keys","values","pairs","invert","pick","omit"];i.each(m,function(e){p.prototype[e]=function(){var t=a.call(arguments);t.unshift(this.attributes);return i[e].apply(i,t)}});var g=t.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,i.extend({silent:true},t))};var v={add:true,remove:true,merge:true};var w={add:true,remove:false};i.extend(g.prototype,c,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,i.extend({merge:false},t,w))},remove:function(e,t){var n=!i.isArray(e);e=n?[e]:i.clone(e);t||(t={});var r,o,s,a;for(r=0,o=e.length;r<o;r++){a=e[r]=this.get(e[r]);if(!a)continue;delete this._byId[a.id];delete this._byId[a.cid];s=this.indexOf(a);this.models.splice(s,1);this.length--;if(!t.silent){t.index=s;a.trigger("remove",a,this,t)}this._removeReference(a,t)}return n?e[0]:e},set:function(e,t){t=i.defaults({},t,v);if(t.parse)e=this.parse(e,t);var n=!i.isArray(e);e=n?e?[e]:[]:i.clone(e);var r,o,s,a,l,c,u;var d=t.at;var f=this.model;var h=this.comparator&&d==null&&t.sort!==false;var m=i.isString(this.comparator)?this.comparator:null;var g=[],w=[],b={};var y=t.add,_=t.merge,E=t.remove;var T=!h&&y&&E?[]:false;for(r=0,o=e.length;r<o;r++){l=e[r]||{};if(l instanceof p){s=a=l}else{s=l[f.prototype.idAttribute||"id"]}if(c=this.get(s)){if(E)b[c.cid]=true;if(_){l=l===a?a.attributes:l;if(t.parse)l=c.parse(l,t);c.set(l,t);if(h&&!u&&c.hasChanged(m))u=true}e[r]=c}else if(y){a=e[r]=this._prepareModel(l,t);if(!a)continue;g.push(a);this._addReference(a,t)}a=c||a;if(T&&(a.isNew()||!b[a.id]))T.push(a);b[a.id]=true}if(E){for(r=0,o=this.length;r<o;++r){if(!b[(a=this.models[r]).cid])w.push(a)}if(w.length)this.remove(w,t)}if(g.length||T&&T.length){if(h)u=true;this.length+=g.length;if(d!=null){for(r=0,o=g.length;r<o;r++){this.models.splice(d+r,0,g[r])}}else{if(T)this.models.length=0;var C=T||g;for(r=0,o=C.length;r<o;r++){this.models.push(C[r])}}}if(u)this.sort({silent:true});if(!t.silent){for(r=0,o=g.length;r<o;r++){(a=g[r]).trigger("add",a,this,t)}if(u||T&&T.length)this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++){this._removeReference(this.models[n],t)}t.previousModels=this.models;this._reset();e=this.add(e,i.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,i.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){return this.add(e,i.extend({at:0},t))},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){if(i.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var i in e){if(e[i]!==t.get(i))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(i.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(i.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return i.invoke(this.models,"get",e)},fetch:function(e){e=e?i.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var n=this;e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e);if(t)t(n,i,e);n.trigger("sync",n,i,e)};F(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?i.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var n=this;var r=t.success;t.success=function(e,i){if(t.wait)n.add(e,t);if(r)r(e,i,t)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e;t=t?i.clone(t):{};t.collection=this;var n=new this.model(e,t);if(!n.validationError)return n;this.trigger("invalid",this,n.validationError,t);return false},_addReference:function(e,t){this._byId[e.cid]=e;if(e.id!=null)this._byId[e.id]=e;if(!e.collection)e.collection=this;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if((e==="add"||e==="remove")&&i!==this)return;if(e==="destroy")this.remove(t,n);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(b,function(e){g.prototype[e]=function(){var t=a.call(arguments);t.unshift(this.models);return i[e].apply(i,t)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(e){g.prototype[e]=function(t,n){var r=i.isFunction(t)?t:function(e){return e.get(t)};return i[e](this.models,r,n)}});var _=t.View=function(e){this.cid=i.uniqueId("view");e||(e={});i.extend(this,i.pick(e,T));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var E=/^(\S+)\s*(.*)$/;var T=["model","collection","el","id","attributes","className","tagName","events"];i.extend(_.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,i){if(this.$el)this.undelegateEvents();this.$el=e instanceof t.$?e:t.$(e);this.el=this.$el[0];if(i!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=i.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(!i.isFunction(n))n=this[e[t]];if(!n)continue;var r=t.match(E);var o=r[1],s=r[2];n=i.bind(n,this);o+=".delegateEvents"+this.cid;if(s===""){this.$el.on(o,n)}else{this.$el.on(o,s,n)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var e=i.extend({},i.result(this,"attributes"));if(this.id)e.id=i.result(this,"id");if(this.className)e["class"]=i.result(this,"className");var n=t.$("<"+i.result(this,"tagName")+">").attr(e);this.setElement(n,false)}else{this.setElement(i.result(this,"el"),false)}}});t.sync=function(e,n,r){var o=S[e];i.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(!r.url){s.url=i.result(n,"url")||K()}if(r.data==null&&n&&(e==="create"||e==="update"||e==="patch")){s.contentType="application/json";s.data=JSON.stringify(r.attrs||n.toJSON(r))}if(r.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(r.emulateHTTP&&(o==="PUT"||o==="DELETE"||o==="PATCH")){s.type="POST";if(r.emulateJSON)s.data._method=o;var a=r.beforeSend;r.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",o);if(a)return a.apply(this,arguments)}}if(s.type!=="GET"&&!r.emulateJSON){s.processData=false}if(s.type==="PATCH"&&C){s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=r.xhr=t.ajax(i.extend(s,r));n.trigger("request",n,l,r);return l};var C=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var I=t.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var O=/\((.*?)\)/g;var k=/(\(\?)?:\w+/g;var x=/\*\w+/g;var D=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(I.prototype,c,{initialize:function(){},route:function(e,n,r){if(!i.isRegExp(e))e=this._routeToRegExp(e);if(i.isFunction(n)){r=n;n=""}if(!r)r=this[n];var o=this;t.history.route(e,function(i){var s=o._extractParameters(e,i);o.execute(r,s);o.trigger.apply(o,["route:"+n].concat(s));o.trigger("route",n,s);t.history.trigger("route",o,n,s)});return this},execute:function(e,t){if(e)e.apply(this,t)},navigate:function(e,i){t.history.navigate(e,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,"routes");var e,t=i.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(D,"\\$&").replace(O,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/?]+)"}).replace(x,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return i.map(n,function(e,t){if(t===n.length-1)return e||null;return e?decodeURIComponent(e):null})}});var R=t.History=function(){this.handlers=[];i.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var P=/^[#\/]|\s+$/g;var A=/^\/+|\/+$/g;var N=/msie [\w.]+/;var M=/\/$/;var L=/#.*$/;R.started=false;i.extend(R.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(M,"");if(!e.indexOf(i))e=e.slice(i.length)}else{e=this.getHash()}}return e.replace(P,"")},start:function(e){if(R.started)throw new Error("Backbone.history has already been started");R.started=true;this.options=i.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment();var r=document.documentMode;var o=N.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);this.root=("/"+this.root+"/").replace(A,"/");if(o&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow;this.navigate(n)}if(this._hasPushState){t.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!o){t.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=n;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else if(this._hasPushState&&this.atRoot()&&a.hash){this.fragment=this.getHash().replace(P,"");this.history.replaceState({},document.title,this.root+this.fragment)}}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);R.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){e=this.fragment=this.getFragment(e);return i.any(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}})},navigate:function(e,t){if(!R.started)return false;if(!t||t===true)t={trigger:!!t};var i=this.root+(e=this.getFragment(e||""));e=e.replace(L,"");if(this.fragment===e)return;this.fragment=e;if(e===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else{e.hash="#"+t}}});t.history=new R;var B=function(e,t){var n=this;var r;if(e&&i.has(e,"constructor")){r=e.constructor}else{r=function(){return n.apply(this,arguments)}}i.extend(r,n,t);var o=function(){this.constructor=r};o.prototype=n.prototype;r.prototype=new o;if(e)i.extend(r.prototype,e);r.__super__=n.prototype;return r};p.extend=g.extend=I.extend=_.extend=R.extend=B;var K=function(){throw new Error('A "url" property or function must be specified')};var F=function(e,t){var i=t.error;t.error=function(n){if(i)i(e,n,t);e.trigger("error",e,n,t)}};return t})},function(e,t,i){var n,r;!(n=[],r=function(){return{EDITOR_FRAME_ID:"editor-frame",HEADER_SECTION_TAG_NAME:"__header_section",HEADER_SECTION_AREA_ID:"_editor-header-section-area",HEADER_SECTION_CLASS_NAME:"wsite-header-section",HEADER_SECTION_PARENT_STRING_NAME:"header-section-parent-string",HEADER_SECTION_BACKGROUND_CLASS_NAME:"wsite-background-header-section",SECTION_EDGE_CLASS:"section-edge-wrapper",SECTION_WRAP_NAME:"wsite-section-wrap",SECTION_HIGHLIGHT_CLASS_NAME:"wsite-element-section-highlight",SECTION_BACKGROUND_CLASS_NAME:"wsite-background-section-",SECTION_BACKGROUND_VIDEO_CLASS_NAME:"wsite-section-bg-video",SECTION_BACKGROUND_COLOR_CLASS_NAME:"wsite-section-bg-color",SECTION_BACKGROUND_GRADIENT_CLASS_NAME:"wsite-section-bg-gradient",SECTION_BACKGROUND_IMAGE_CLASS_NAME:"wsite-section-bg-image",SECTION_CONTENT_CLASS_NAME:"wsite-section-content",SECTION_SPOTLIGHT_REPOSITION_INTERVAL:50,MIN_EMPTY_MESSAGE_HEIGHT:90,POSITION_TOP:0,POSITION_RIGHT:1,POSITION_BOTTOM:2,POSITION_LEFT:3,REBUILD_EDGE_INTERVAL:100,SECTION_ELEMENT:"99990000",CURRENT_PARAGRAPH_IMAGE_ELEMENT:"94464494",STANDALONE_IMAGE_ELEMENTS:["30621876","87358824","26608449"],PARAGRAPH_IMAGE_ELEMENTS:["20731748","66604512","94464494","73827406"],SIMPLE_IMAGE_ELEMENTS:["61719152","17854681","18383940","36582085","32818409","86229831","93090942","98937909","85957680","44744975","11138764"],BUTTON_ELEMENT_ID:"57909285",SLIDESHOW_ELEMENT_ID:"31574711",CONTENT_AREA_ELEMENT_ID:"92226769",PLATFORM_ELEMENT_ID:"75699656",PRODUCT_ELEMENT_ID:"5699726",IMAGE_LINK_LIGHTBOX_CFPIDS:["59252592","62258083","18452221"],FORM_CONFIRMATION_LINK_CFPID:"785459072261824",FORM_CONFIRMATION_MESSAGE_CFPID:"693737017417606279",MOBILE_EDITOR_BODY_CLASS:"wsite-native-mobile-editor"}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(4),i(6),i(7),i(223),i(137),i(46),i(32)],r=function(e,t,i,n,r,o,s,a,l,c){var u=new n.Marionette.Application;u.addRegions({elementSettings:"#elementSettingsWrapper",sectionDialog:"#section-dialogs"});var d=false;var f;var h;var p=0;var m=0;var g=false;u.on("start",function(){h=t("html");f=t(document);s(u,[{from:f,to:u.vent,events:["click","keydown","mouseup","mousedown","selectstart","selectionchange","keypress","keyup"]},{from:u.vent,to:r.vent,events:["editor:elements:changed"]},{from:u.vent,to:o,events:["page:startRender"]}]);u.listenTo(u.vent,{navClicked:function(e){o.trigger(l.EVENTS.NAV_CLICKED,e);o.request("page:navigate:go",e,1)},"editor:elements:changed":function(){if(!d){return}o.trigger("editor:elements:changed")},pageRendered:function(){d=true},forceDocumentSizeChange:function(){g=true}});setInterval(w,500);o.commands.setHandlers({loadFont:function(e){i.each(e,function(e){a.loadFont(e)})},"remoteAccount:update":function(e,t){
window.remoteAccounts[e]={remoteSite:e,remoteId:t}},"editor:change:siteLanguage":function(i){t.getScript(e.getSiteLanguageURL(i))}});c.go=function(){var e=Array.prototype.slice.call(arguments);e.unshift("editor:screen:change");o.execute.apply(o,e)};f.on("click",v)}).on("stop",function(){o.commands.removeHandlers(["loadFont","remoteAccount:update"]);f.off("click",v)});function v(){o.trigger("frame:overlays:hide")}function w(){if(window.isDraggingElement){return}var e=h.outerHeight(true);var t=f.outerHeight(true);if(g||e!=p||t!=m){g=false;p=e;m=t;o.trigger(l.EVENTS.DOCUMENT_RESIZED);u.vent.trigger("editor:elements:changed")}}return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5)],r=function(e){return{chromeless:false,content_field_js_render:false,defaultPlaceholderText:e.stl("javascript.editor.config_1"),areaDefaultPlaceholderText:{phone:e.stl("javascript.editor.config_2"),headline:e.stl("javascript.editor.config_3"),"headline-paragraph":e.stl("javascript.editor.config_4")}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(100),i(44),i(69)],r=function(e,t,i,n){var r=t.extend(e.extend({},i.Mixin,{className:"dialog",template:'<div class="dialog__topbar-container"></div>\n'+"{{#hasProgressBar}}\n"+'\t<div class="dialog__progress-bar progress-bar">\n'+'\t\t<div class="progress-bar__progress"></div>\n'+"\t</div>\n"+"{{/hasProgressBar}}\n"+'<div class="dialog__content-container"></div>',innerOverlayClassName:"dialog__overlay",contentViewTriggerPrefix:"dialog",backLink:{isClose:true},panels:null,panelCount:null,currentPanel:null,currentPanelIndex:null,transitionPromise:null,_initialize:function(){t.prototype._initialize.call(this);this.panelCount=this.queryOption("panelCount");this.panels=[];this.addGivenPanels()},destroy:function(){var e=this.panels;var i;for(i=0;i<e.length;i++){e[i].destroy()}this.panels=[];this.currentPanel=null;this.currentPanelIndex=null;return t.prototype.destroy.apply(this,arguments)},_onBeforeClose:function(){if(this.currentPanel){return this.currentPanel._trigger("before:leave")}},_onClose:function(){if(this.currentPanel){this.currentPanel._trigger("leave")}},getRenderData:function(){return{hasProgressBar:this.queryOption("hasProgressBar")}},queryHeaderOuterEl:function(){return this.$el.find(".dialog__topbar-container")},queryContentOuterEl:function(){return this.$el.find(".dialog__content-container")},queryContentInnerEl:function(){return this.$el.find(".dialog__content-container")},queryScrollEl:function(){return this.$el.find(".dialog__scroll-mask")},renderContent:function(){if(this.panels.length){var e=this.options.initialPanelIndex;if(e&&this.panels[e]){this.gotoPanel(e)}else{this.gotoPanel(0)}}},_onAttach:function(){t.prototype._onAttach.apply(this,arguments);if(this.currentPanel){this.currentPanel._trigger("attach")}},_onShow:function(){t.prototype._onShow.apply(this,arguments);if(this.currentPanel){this.currentPanel._trigger("show");this.updateHeight()}},computeHeight:function(){var e=this.currentPanel.queryOption("height");if(e!=null){return e}else{return this.$headerEl.outerHeight()+this.currentPanel.queryContentNaturalHeight()}},queryContentNaturalHeight:function(){return this.currentPanel.queryContentNaturalHeight()},addGivenPanels:function(){var e=this.options;var t=e.panels;var i;var n;var r;if(e.initialPanel){this.addPanel(e.initialPanel)}if(t){for(n=0;n<t.length;n++){this.addPanel(t[n])}}},addPanel:function(e){if(!(e instanceof o)){e=new o(e)}e.comboDialog=this;if(!this.panels.length&&this.backLink){e.setBackLink(this.backLink)}this.panels.push(e)},pushPanel:function(t){var i=this;var n=this.currentPanel;return e.when(n&&n._trigger("before:leave",t),n&&n._trigger("before:push",t),i._trigger("before:push",t,n)).then(function(){i.executePush(t);n&&n._trigger("leave",t);n&&n._trigger("push",t);i._trigger("push",t,n);t._trigger("enter")})},popPanel:function(){var t=this;var i=this.currentPanel;var n;if(this.currentPanelIndex>0){n=this.panels[this.currentPanelIndex-1];return e.when(i&&i._trigger("before:leave",n),i&&i._trigger("before:pop",n),this._trigger("before:pop",n,i)).then(function(){t.executePop();i&&i._trigger("leave",n);i&&i._trigger("pop",n);t._trigger("pop",n,i);n._trigger("enter")})}else{return this.close()}},forward:function(){var t=this;var i=this.currentPanel;var n;if(i.topbar.isForwardEnabled){if(this.currentPanelIndex<this.panels.length-1){n=this.panels[this.currentPanelIndex+1];return e.when(i&&i._trigger("before:leave",n),i&&i._trigger("before:forward",n),t._trigger("before:forward",n)).then(function(){if(!i.executeForward()){t.executeForward()}i&&i._trigger("leave",n);i&&i._trigger("forward",n);t._trigger("forward",n,i);n._trigger("enter")})}else{return e.when(i&&i._trigger("before:forward")).then(function(){i&&i._trigger("forward")})}}else{return e.Deferred().reject().promise()}},back:function(){var t=this;var i=this.currentPanel;var n;if(i.wasPushed){return this.popPanel()}if(i.topbar.isBackEnabled){if(this.currentPanelIndex>0){n=this.panels[this.currentPanelIndex-1];return e.when(i&&i._trigger("before:leave",n),i&&i._trigger("before:back",n),this._trigger("before:back",n,i)).then(function(){if(!i.executeBack()){t.executeBack()}i&&i._trigger("leave",n);i&&i._trigger("back",n);t._trigger("back",n,i);t.currentPanel._trigger("enter")})}else{return e.when(t.currentPanel._trigger("before:close")).then(function(){t.currentPanel._trigger("close");t.close()})}}else{return e.Deferred().reject().promise()}},executePush:function(e){this.panels=this.panels.slice(0,this.currentPanelIndex+1);this.addPanel(e);e.wasPushed=true;this.gotoPanel(this.currentPanelIndex+1)},executePop:function(){this.panels=this.panels.slice(0,this.currentPanelIndex);this.gotoPanel(this.currentPanelIndex-1)},executeForward:function(){this.gotoPanel(this.currentPanelIndex+1)},executeBack:function(){this.gotoPanel(this.currentPanelIndex-1)},gotoPanel:function(t){var i=this;var n=i.queryOption("hasProgressBar");function r(){if(i.currentPanelIndex===t){return}var e=i.panels;var n=e[t];var r=i.currentPanel;var o=r?t-i.currentPanelIndex:0;i.currentPanel=n;i.currentPanelIndex=t;n.hasBack=t>0;n.hasForward=t<e.length-1;i.updateProgress();if(r){return i.transitionPanels(r,n,o)}else{n.render();n._trigger("before:attach");i.attachPanelEls(n)}}if(this.transitionPromise){return this.transitionPromise=e.when(this.transitionPromise).then(r)}else{return this.transitionPromise=r()}},attachPanelEls:function(e){this.$headerEl.append(e.$headerEl);this.$contentEl.append(e.$contentEl);e.setElement(e.$contentEl)},transitionPanels:function(t,i,r){var o=this;var s;var a;i.render();this.$headerEl.addClass("is-transitioning").height(t.$headerEl.outerHeight());this.$contentEl.addClass("is-transitioning");s=t.$headerEl.add(t.$contentEl).addClass("is-current").addClass("is-exiting");a=i.$headerEl.add(i.$contentEl).addClass(r<0?"is-back":"is-forward").addClass("is-entering");i._trigger("before:attach");this.attachPanelEls(i);i._trigger("attach");this.updateHeight();return n.promiseTimeout(0).then(function(){s.addClass(r<0?"is-forward":"is-back").removeClass("is-current");a.removeClass("is-back is-forward").addClass("is-current");o.$headerEl.height(i.$headerEl.outerHeight())}).then(function(){return n.promiseTimeout(0)}).then(function(){return e.when(n.promiseTransition(i.$headerEl),n.promiseTransition(i.$contentEl))}).then(function(){t.destroy({preventContentViewDestroy:true});a.removeClass("is-entering is-current");s.removeClass("is-exiting is-back is-forward");if(o.$headerEl&&o.$contentEl){o.$headerEl.removeClass("is-transitioning").height("");o.$contentEl.removeClass("is-transitioning")}i._trigger("show")})},updateProgress:function(){var e,t;var i=this.currentPanel.queryOption("progressPercentage");var n=this.queryOption("hasProgressBar")&&i!==false;this.$el.find(".progress-bar").toggle(n);if(n){e=this.panelCount;if(e==null){e=this.panels.length}if(i!=null&&i!==false){t=i}else{t=e>0?this.currentPanelIndex/(e-1)*100:0}this.$el.find(".progress-bar__progress").width(parseFloat(t).toFixed(2)+"%")}},setPanelCount:function(e){this.panelCount=e;this.updateProgress()}}));var o=i.Panel.extend({backLink:{isDirectional:true,text:"Back"},forwardLink:{isDirectional:true,text:"Next"},comboDialog:null,hasBack:false,hasForward:false,wasPushed:false,progressPercentage:null,getBackLink:function(){var e=this.queryOption("backLink");if(e!==o.prototype.backLink){return e}if(this.hasBack){return e}else{return this.comboDialog.backLink}},getForwardLink:function(){var e=this.queryOption("forwardLink");if(e!==o.prototype.forwardLink){return e}if(this.hasForward){return e}},pushDialog:function(e,t){var n=this;var o=n.comboDialog.$el;var s=null;var a=null;var l=null;var c=null;var u=null;var d=false;var t=t||{};if(e instanceof i||e instanceof r){o.css("overflow","hidden");s=this.comboDialog.width||o.width();a=this.comboDialog.height||o.height();l=this.comboDialog.options.size;c=s;if(e.options.size&&e.options.size!==l){c=this.sizeToWidthMap[e.options.size];d=true}if(e.width&&e.width!==s){c=e.width;d=true}if(e.height&&e.height!==a){u=e.height;d=true}else{u=a}e.vAlignment=false;e.hAlignment=false;if(d){var f=o.position().left;var h=o.position().top;var p=f-(c-o.width())/2;var m=u?h-(u-o.height()):h;var g={"max-width":s,height:a};var v={"max-width":c,height:u};if(this.comboDialog.queryOption("pointAt")){if(this.comboDialog.$arrow.hasClass("popover__arrow--up")){m=h}g["top"]=h;g["left"]=f;v["top"]=m;v["left"]=p}e.once("before:attach",function(){o.addClass("is-fading");o.animate(v,500,function(){if(e.options.size){n.comboDialog.options.size=e.options.size}n.comboDialog.updatePosition();o.removeClass("is-fading")})});e.once("before:close",function(){o.addClass("is-fading");o.animate(g,500,function(){if(e.options.size){n.comboDialog.options.size=l;n.comboDialog.updateSize()}n.comboDialog.updatePosition();o.removeClass("is-fading");o.css("overflow","visible")})})}return i.Panel.prototype.openOverlay.call(this,e,t)}},queryContentOuterEl:function(){if(this.$el.is(".dialog__scroll-mask")){return this.$el}else{return this.$el.find(".dialog__scroll-mask")}},queryHeaderInnerEl:function(){return this.$el.closest(".dialog").find(".dialog__header")}});e.each(["close","back","forward","pushPanel","popPanel","setPanelCount","getContainerEl"],function(e,t){o.prototype[t]=function(){return this.comboDialog[t].apply(this.comboDialog,arguments)}});r.Panel=o;return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(537)],r=function(e){var t=function(){return new e.PageCollection};return t()}.apply(t,n),r!==undefined&&(e.exports=r))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(5),__webpack_require__(12),__webpack_require__(3),__webpack_require__(7),__webpack_require__(10),__webpack_require__(221),__webpack_require__(504),__webpack_require__(706),__webpack_require__(325)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,_W,Config,Mustache,Relay,UICONST,GenericLoader,ContentField,elementTpl,elementControlsTpl){var MOBILE_ELEMENTS=["75573027","84798836","8532979"];var NON_MOVABLE_ELEMENTS=["23247315","63868204","40806018","40197772","33814465","7928374","8220056"];var MOBILE_RENDER_WHITELIST=["62850560","44785763","94464494","30621876","18362204","31574711","42844424","79078446","51424376","90122486","59396708","27280689","63419613","67748238","9759964","46196121","5699726","36391960","87744780","92495494","35527740","16151740","7423607","87366396","53284780","99815722","14391904","94226660","82023692","45156614","82645192","86574178","74487785"];var Element=Class.create({initialize:function(e){_.extend(this,e);if(this.content_fields.length===0){this.content_fields={}}var t=this.content_fields;this.content_fields={};_.each(t,function(e){this.content_fields[e.ucfid]=new ContentField(this.eid,e)},this);this.page_element_order=parseInt(this.page_element_order)},renderHTML:function(){var e=this.eid;var t=this.id;var i="";if(!_W.view.isMobileView&&MOBILE_ELEMENTS.indexOf(e)>-1){return""}_.each(this.content_fields,function(n){if(Config.content_field_js_render&&MOBILE_RENDER_WHITELIST.indexOf(e)>-1){i+=n.render()}else{i+=n.content||""}if(n.cfid==="96854775"){i=i.replace("<div",'<div data-platform-peid="'+t+'"')}if(Config.chromeless){i=i.replace(/(['"\(])\s*(\/uploads|weebly\/)/gi,"$1http://"+configSiteName+"$2");i=i.replace(/"\/\//g,'"http://');i=this.updateContentTokens(i)}},this);if(this.li){$(this.li).remove()}var n={id:t,eid:e,platform_element_id:this.platform_element_id,platform_element_version:this.platform_element_version,controlHTML:Config.chromeless?"":this.renderControlHTML(),contentHTML:this.processHTML(i,false)};if(e=="75699656"){n.page_element_id=t}return Mustache.render(elementTpl,n)},renderControlHTML:function(){return Mustache.render(elementControlsTpl,{isMovableElement:isMovableElement(this),requiresUpgrade:this.requiresUpgrade})},processHTML:function(e,t){hashEach(this._customFunctions||{},function(i,n){if(!i.match(/^\d+$/)){var r=n.call(this,undefined,t);if(r!==undefined&&r!="undefined"){r=r.replace(/\$/g,"$$$$");e=e.replace(new RegExp(i,"g"),r)}}}.bind(this));e=e.replace(/<input type="submit" class="wsite-form-submit" name="submit" value="([^"]*)" \/>/,"<a class='wsite-button'><span class='wsite-button-inner'>$1</span></a>");return e},getDimensions:function(){var e=$("#inside_"+this.id);if(!e.length){return{}}var t=true;if(this.eid==UICONST.CONTENT_AREA_ELEMENT_ID&&!e.is(":visible")){t=false}var i=false;if(e.css("display")==="none"){e.show();i=true}var n=e.offset();var r={id:this.id,element_id:this.eid,content_field_id:e.find(".element").eq(0).attr("id"),draggable:this.draggable,top:n.top,left:n.left,height:e.outerHeight(false),width:e.outerWidth(false),spotlighted:!!this.spotlight,platform_element_id:this.platform_element_id,platform_element_version:this.platform_element_version,parentString:window.getElementParentString(e[0]),page_element_order:this.page_element_order,droppable:t};if(this._isGallery){var o=e.find("ul li");r.galleryItems=[];for(var s=0;s<o.length;s++){var a=$(o[s]);n=a.offset();r.galleryItems[s]={top:n.top,left:n.left,height:a.outerHeight(false),width:a.outerWidth(false)}}}if(this.children){if(this.platform_element_id){r.children=[];var l=_.sortBy(this.children,"page_element_order");_.each(l,function(e){var t=window.getElementObject(e.id);if(e.eid==UICONST.CONTENT_AREA_ELEMENT_ID){var i=t.getDimensions();r.children.push(i)}else{var n=t.getDimensions();n.droppable=false;r.children.push(n)}})}else{r.children=_.invoke(this.children,"getDimensions")}}if(i){e.hide()}return r},updateContentTokens:function(e){var t=_W.Reseller?_W.Reseller.isResellerUser:false;e=e.replace("%%ISRESELLERUSER%%",t?"true":"false");return e},rerenderContentField:function(e,t,i){var n=e.fetchDefinition();if(this._globalBeforeRender){this._globalBeforeRender(true)}this.beforeRender(true);var r=n.contentFieldProperties;var o=this._customFunctions;var s={};var a="";var l=n.customContent;var c=false;l=l.replace(/%%INEDITOR%%/gi,1);_.each(r,function(i){var n=i.cfpid;var r=i.property;var u=i.markupType;var d=e.getProperty({cfpid:n});var f=d.property_result;var h=o[r]||o[i.referenceProperty]||o[n];if(h){var p=h.call(this,f,true);if(p!==undefined){f=p}}if(u=="css"){s[r.camelize()]=f;a+=r+":"+f+";"}else if(u=="html"){t.setAttribute(r,f)}else if(u=="custom"){if(e.isEmbedCodeWithHTMLProperty(d.cfpid)){var m=$(t).find(".custom-html-frame").contents().find("#customhtml-content");try{m.html(f)}catch(e){console.log("Error in custom HTML element",e)}}else if(r){var g=$(t).hasClass("tablet-placeholder");l=l.replace(new RegExp(r,"gi"),f);if(r=="%%DATA%%"&&g&&JSON.parse(f).placeholder==false){$(t).removeClass("tablet-placeholder")}if(r=="%%IMAGEFILE%%"&&f&&g){c=f}if(r=="%%VIDEOFILE%%"&&f&&g){$(t).removeClass("tablet-placeholder")}}}},this);$(t).css(s);if(n.hasContent==2){l=l.replace(/%%ELEMENTID%%/gi,e.ucfid);l=l.replace(/%%PAGEELEMENTID%%/gi,e.cfid);l=l.safeReplace(/%%WEEBLYCONFIGDOMAIN%%/gi,configSiteName);l=l.safeReplace(/%%WEEBLYSUBDOMAIN%%/gi,configSiteName.replace(/\.weebly\.com$/,""));l=l.replace("%%WEEBLYUSERID%%",userID);l=l.safeReplace(/%%WHITELABELDOMAIN%%/gi,_W.WHITE_LABEL_DOMAIN);l=this.updateContentTokens(l)}if(c){l=l.replace(/282/gi,"auto");l=l.replace(/<iframe[^>]*>[^<]*<\/iframe>/gim,'<span class="icon icon-video"></span>'+_W.utl("html.weebly.libraries.classes.Element_1")+'<span class="ellipsis"><span>.</span><span>.</span><span>.</span></span>')}if(Config.chromeless){if(e.isPlaceholder()){$(t).addClass("tablet-placeholder");l=e.addPlaceholderHTML(l)}else{$(t).removeClass("tablet-placeholder")}}l=this.processHTML(l,true);if(l===true){t.innerHTML=t.innerHTML}else if(l!==false){t.innerHTML=l}this.afterRerenderContentField(e,t,i)},afterRerenderContentField:function(e,t,i){e.content=t.outerHTML;this.li=this.li||$("#inside_"+this.id)[0];this.afterRender(this.li,true);if(this._globalAfterRender){this._globalAfterRender(true)}this.reposition();if(i){i()}},rerender:function(e){this.rerenderContentField(this.getContentField(),this.li.down(".element"),e)},beforeRender:function(e){},afterRender:function(li,isRerender){this.li=li;if(this.requiresUpgrade&&!Config.chromeless){li.addClassName("inside-requires-upgrade");li.select(".w-upgrade")[0].observe("click",function(){Relay.request("billing:upgrade:prompt",{restrictionID:this.eid,restrictionType:"element",refer:"element_trial_upgrade"})})}var form=$(li).find("form");if(form.data("platform-element-id")){var elementScript=$(li).find(".element-script");if(elementScript.data("evaluated")){elementScript.data("evaluated",false)}else{if(elementScript.length){eval(elementScript[0].innerHTML)}}}},afterAdd:function(e){if(this.afterRender){this.afterRender(e)}},getContentField:function(e){return hashSearch(this.content_fields,e)},reposition:function(){},unrender:function(){delete this.li},startDrag:function(){},onDrag:function(e,t,i){if(!i||!i.el||!this.elData){return i}if(this.elData.id===i.el.id){i=null}else if((i.position===UICONST.POSITION_LEFT||i.position===UICONST.POSITION_RIGHT)&&this.elData.parentColumn&&this.elData.parentColumn.elements.length===2&&this.elData.parentColumn.elements.indexOf(i.el)!==-1){i=null}return i},stopDrag:function(){}});Element.INSIDE_CLASS="inside";GenericLoader.call(Element,"eid");var elementClasses=[];var super_register=Element.register;Element.register=function(e,t){t.prototype._customFunctions=getCustomFunctions(t.prototype);if(t.beforeRender){t.prototype._globalBeforeRender=t.beforeRender.bind(t)}if(t.afterRender){t.prototype._globalAfterRender=t.afterRender.bind(t)}super_register(e,t);elementClasses.push(t)};function getCustomFunctions(e){var t={};_.each(e,function(i,n){if(n.match(/^(%%\w+%%|<!\w+!>|\d+)$/)&&typeof e[n]==="function"){t[n]=i}});return t}Element.renderElementsHTML=function(e){var t="";_.each(e,function(e){t+=e.renderHTML(false)});return t};Element.globalBeforeRender=function(){_.invoke(elementClasses,"beforeRender")};Element.globalAfterRender=function(){_.invoke(elementClasses,"afterRender")};function isMovableElement(e){return NON_MOVABLE_ELEMENTS.indexOf(e.eid)===-1&&!e.isFormField}_W.Element=Element;return Element}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){(function($){var Prototype={Version:"1.7",Browser:function(){var e=navigator.userAgent;var t=Object.prototype.toString.call(window.opera)=="[object Opera]";return{IE:!!window.attachEvent&&!t,Opera:t,WebKit:e.indexOf("AppleWebKit/")>-1,Gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(e)}}(),BrowserFeatures:{XPath:!!document.evaluate,SelectorsAPI:!!document.querySelector,ElementExtensions:function(){var e=window.Element||window.HTMLElement;return!!(e&&e.prototype)}(),SpecificElementExtensions:function(){if(typeof window.HTMLDivElement!=="undefined")return true;var e=document.createElement("div"),t=document.createElement("form"),i=false;if(e["__proto__"]&&e["__proto__"]!==t["__proto__"]){i=true}e=t=null;return i}()},ScriptFragment:"<script[^>]*>([\\S\\s]*?)</script>",JSONFilter:/^\/\*-secure-([\s\S]*)\*\/\s*$/,emptyFunction:function(){},K:function(e){return e}};if(Prototype.Browser.MobileSafari)Prototype.BrowserFeatures.SpecificElementExtensions=false;var Abstract={};var Try={these:function(){var e;for(var t=0,i=arguments.length;t<i;t++){var n=arguments[t];try{e=n();break}catch(e){}}return e}};var Class=function(){var e=function(){for(var e in{toString:1}){if(e==="toString")return false}return true}();function t(){}function i(){var e=null,i=$A(arguments);if(Object.isFunction(i[0]))e=i.shift();function n(){this.initialize.apply(this,arguments)}Object.extend(n,Class.Methods);n.superclass=e;n.subclasses=[];if(e){t.prototype=e.prototype;n.prototype=new t;e.subclasses.push(n)}for(var r=0,o=i.length;r<o;r++)n.addMethods(i[r]);if(!n.prototype.initialize)n.prototype.initialize=Prototype.emptyFunction;n.prototype.constructor=n;return n}function n(t){var i=this.superclass&&this.superclass.prototype,n=Object.keys(t);if(e){if(t.toString!=Object.prototype.toString)n.push("toString");if(t.valueOf!=Object.prototype.valueOf)n.push("valueOf")}for(var r=0,o=n.length;r<o;r++){var s=n[r],a=t[s];if(i&&Object.isFunction(a)&&a.argumentNames()[0]=="$super"){var l=a;a=function(e){return function(){return i[e].apply(this,arguments)}}(s).wrap(l);a.valueOf=l.valueOf.bind(l);a.toString=l.toString.bind(l)}this.prototype[s]=a}return this}return{create:i,Methods:{addMethods:n}}}();(function(){var e=Object.prototype.toString,t="Null",i="Undefined",n="Boolean",r="Number",o="String",s="Object",a="[object Function]",l="[object Boolean]",c="[object Number]",u="[object String]",d="[object Array]",f="[object Date]",h=window.JSON&&typeof JSON.stringify==="function"&&JSON.stringify(0)==="0"&&typeof JSON.stringify(Prototype.K)==="undefined";function p(e){switch(e){case null:return t;case void 0:return i}var a=typeof e;switch(a){case"boolean":return n;case"number":return r;case"string":return o}return s}function m(e,t){for(var i in t)e[i]=t[i];return e}function g(e){try{if(A(e))return"undefined";if(e===null)return"null";return e.inspect?e.inspect():String(e)}catch(e){if(e instanceof RangeError)return"...";throw e}}function v(e){return w("",{"":e},[])}function w(t,i,n){var r=i[t],o=typeof r;if(p(r)===s&&typeof r.toJSON==="function"){r=r.toJSON(t)}var a=e.call(r);switch(a){case c:case l:case u:r=r.valueOf()}switch(r){case null:return"null";case true:return"true";case false:return"false"}o=typeof r;switch(o){case"string":return r.inspect(true);case"number":return isFinite(r)?String(r):"null";case"object":for(var f=0,h=n.length;f<h;f++){if(n[f]===r){throw new TypeError}}n.push(r);var m=[];if(a===d){for(var f=0,h=r.length;f<h;f++){var g=w(f,r,n);m.push(typeof g==="undefined"?"null":g)}m="["+m.join(",")+"]"}else{var v=Object.keys(r);for(var f=0,h=v.length;f<h;f++){var t=v[f],g=w(t,r,n);if(typeof g!=="undefined"){m.push(t.inspect(true)+":"+g)}}m="{"+m.join(",")+"}"}n.pop();return m}}function b(e){return JSON.stringify(e)}function y(e){return $H(e).toQueryString()}function _(e){return e&&e.toHTML?e.toHTML():String.interpret(e)}function E(e){if(p(e)!==s){throw new TypeError}var t=[];for(var i in e){if(e.hasOwnProperty(i)){t.push(i)}}return t}function T(e){var t=[];for(var i in e)t.push(e[i]);return t}function C(e){return m({},e)}function S(e){return!!(e&&e.nodeType==1)}function I(t){return e.call(t)===d}var O=typeof Array.isArray=="function"&&Array.isArray([])&&!Array.isArray({});if(O){I=Array.isArray}function k(e){return e instanceof Hash}function x(t){return e.call(t)===a}function D(t){return e.call(t)===u}function R(t){return e.call(t)===c}function P(t){return e.call(t)===f}function A(e){return typeof e==="undefined"}m(Object,{extend:m,inspect:g,toJSON:h?b:v,toQueryString:y,toHTML:_,keys:Object.keys||E,values:T,clone:C,isElement:S,isArray:I,isHash:k,isFunction:x,isString:D,isNumber:R,isDate:P,isUndefined:A})})();Object.extend(Function.prototype,function(){var e=Array.prototype.slice;function t(e,t){var i=e.length,n=t.length;while(n--)e[i+n]=t[n];return e}function i(i,n){i=e.call(i,0);return t(i,n)}function n(){var e=this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return e.length==1&&!e[0]?[]:e}function r(t){if(arguments.length<2&&Object.isUndefined(arguments[0]))return this;var n=this,r=e.call(arguments,1);return function(){var e=i(r,arguments);return n.apply(t,e)}}function o(i){var n=this,r=e.call(arguments,1);return function(e){var o=t([e||window.event],r);return n.apply(i,o)}}function s(){if(!arguments.length)return this;var t=this,n=e.call(arguments,0);return function(){var e=i(n,arguments);return t.apply(this,e)}}function a(t){var i=this,n=e.call(arguments,1);t=t*1e3;return window.setTimeout(function(){return i.apply(i,n)},t)}function l(){var e=t([.01],arguments);return this.delay.apply(this,e)}function c(e){var i=this;return function(){var n=t([i.bind(this)],arguments);return e.apply(this,n)}}function u(){if(this._methodized)return this._methodized;var e=this;return this._methodized=function(){var i=t([this],arguments);return e.apply(null,i)}}return{argumentNames:n,bind:r,bindAsEventListener:o,curry:s,delay:a,defer:l,wrap:c,methodize:u}}());(function(e){function t(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).toPaddedString(2)+"-"+this.getUTCDate().toPaddedString(2)+"T"+this.getUTCHours().toPaddedString(2)+":"+this.getUTCMinutes().toPaddedString(2)+":"+this.getUTCSeconds().toPaddedString(2)+"Z"}function i(){return this.toISOString()}if(!e.toISOString)e.toISOString=t;if(!e.toJSON)e.toJSON=i})(Date.prototype);RegExp.prototype.match=RegExp.prototype.test;RegExp.escape=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};var PeriodicalExecuter=Class.create({initialize:function(e,t){this.callback=e;this.frequency=t;this.currentlyExecuting=false;this.registerCallback()},registerCallback:function(){this.timer=setInterval(this.onTimerEvent.bind(this),this.frequency*1e3)},execute:function(){this.callback(this)},stop:function(){if(!this.timer)return;clearInterval(this.timer);this.timer=null},onTimerEvent:function(){if(!this.currentlyExecuting){try{this.currentlyExecuting=true;this.execute();this.currentlyExecuting=false}catch(e){this.currentlyExecuting=false;throw e}}}});Object.extend(String,{interpret:function(e){return e==null?"":String(e)},specialChar:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\\":"\\\\"}});Object.extend(String.prototype,function(){var NATIVE_JSON_PARSE_SUPPORT=window.JSON&&typeof JSON.parse==="function"&&JSON.parse('{"test": true}').test;function prepareReplacement(e){if(Object.isFunction(e))return e;var t=new Template(e);return function(e){return t.evaluate(e)}}function gsub(e,t){var i="",n=this,r;t=prepareReplacement(t);if(Object.isString(e))e=RegExp.escape(e);if(!(e.length||e.source)){t=t("");return t+n.split("").join(t)+t}while(n.length>0){if(r=n.match(e)){i+=n.slice(0,r.index);i+=String.interpret(t(r));n=n.slice(r.index+r[0].length)}else{i+=n,n=""}}return i}function sub(e,t,i){t=prepareReplacement(t);i=Object.isUndefined(i)?1:i;return this.gsub(e,function(e){if(--i<0)return e[0];return t(e)})}function scan(e,t){this.gsub(e,t);return String(this)}function truncate(e,t){e=e||30;t=Object.isUndefined(t)?"...":t;return this.length>e?this.slice(0,e-t.length)+t:String(this)}function strip(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}function stripTags(){return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function stripScripts(){return this.replace(new RegExp(Prototype.ScriptFragment,"img"),"")}function extractScripts(){var e=new RegExp(Prototype.ScriptFragment,"img"),t=new RegExp(Prototype.ScriptFragment,"im");return(this.match(e)||[]).map(function(e){return(e.match(t)||["",""])[1]})}function evalScripts(){return this.extractScripts().map(function(script){return eval(script)})}function escapeHTML(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function unescapeHTML(){return this.stripTags().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function toQueryParams(e){var t=this.strip().match(/([^?#]*)(#.*)?$/);if(!t)return{};return t[1].split(e||"&").inject({},function(e,t){if((t=t.split("="))[0]){var i=decodeURIComponent(t.shift()),n=t.length>1?t.join("="):t[0];if(n!=undefined)n=decodeURIComponent(n);if(i in e){if(!Object.isArray(e[i]))e[i]=[e[i]];e[i].push(n)}else e[i]=n}return e})}function toArray(){return this.split("")}function succ(){return this.slice(0,this.length-1)+String.fromCharCode(this.charCodeAt(this.length-1)+1)}function times(e){return e<1?"":new Array(e+1).join(this)}function camelize(){return this.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function capitalize(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}function underscore(){return this.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/-/g,"_").toLowerCase()}function dasherize(){return this.replace(/_/g,"-")}function inspect(e){var t=this.replace(/[\x00-\x1f\\]/g,function(e){if(e in String.specialChar){return String.specialChar[e]}return"\\u00"+e.charCodeAt().toPaddedString(2,16)});if(e)return'"'+t.replace(/"/g,'\\"')+'"';return"'"+t.replace(/'/g,"\\'")+"'"}function unfilterJSON(e){return this.replace(e||Prototype.JSONFilter,"$1")}function isJSON(){var e=this;if(e.blank())return false;e=e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@");e=e.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");e=e.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return/^[\],:{}\s]*$/.test(e)}function evalJSON(sanitize){var json=this.unfilterJSON(),cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.test(json)){json=json.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}try{if(!sanitize||json.isJSON())return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+this.inspect())}function parseJSON(){var e=this.unfilterJSON();return JSON.parse(e)}function include(e){return this.indexOf(e)>-1}function startsWith(e){return this.lastIndexOf(e,0)===0}function endsWith(e){var t=this.length-e.length;return t>=0&&this.indexOf(e,t)===t}function empty(){return this==""}function blank(){return/^\s*$/.test(this)}function interpolate(e,t){return new Template(this,t).evaluate(e)}return{gsub:gsub,sub:sub,scan:scan,truncate:truncate,strip:String.prototype.trim||strip,stripTags:stripTags,stripScripts:stripScripts,extractScripts:extractScripts,evalScripts:evalScripts,escapeHTML:escapeHTML,unescapeHTML:unescapeHTML,toQueryParams:toQueryParams,parseQuery:toQueryParams,toArray:toArray,succ:succ,times:times,camelize:camelize,capitalize:capitalize,underscore:underscore,dasherize:dasherize,inspect:inspect,unfilterJSON:unfilterJSON,isJSON:isJSON,evalJSON:evalJSON,include:include,startsWith:startsWith,endsWith:endsWith,empty:empty,blank:blank,interpolate:interpolate}}());var Template=Class.create({initialize:function(e,t){this.template=e.toString();this.pattern=t||Template.Pattern},evaluate:function(e){if(e&&Object.isFunction(e.toTemplateReplacements))e=e.toTemplateReplacements();return this.template.gsub(this.pattern,function(t){if(e==null)return t[1]+"";var i=t[1]||"";if(i=="\\")return t[2];var n=e,r=t[3],o=/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;t=o.exec(r);if(t==null)return i;while(t!=null){var s=t[1].startsWith("[")?t[2].replace(/\\\\]/g,"]"):t[1];n=n[s];if(null==n||""==t[3])break;r=r.substring("["==t[3]?t[1].length:t[0].length);t=o.exec(r)}return i+String.interpret(n)})}});
Template.Pattern=/(^|.|\r|\n)(#\{(.*?)\})/;var $break={};var Enumerable=function(){function e(e,t){var i=0;try{this._each(function(n){e.call(t,n,i++)})}catch(e){if(e!=$break)throw e}return this}function t(e,t,i){var n=-e,r=[],o=this.toArray();if(e<1)return o;while((n+=e)<o.length)r.push(o.slice(n,n+e));return r.collect(t,i)}function i(e,t){e=e||Prototype.K;var i=true;this.each(function(n,r){i=i&&!!e.call(t,n,r);if(!i)throw $break});return i}function n(e,t){e=e||Prototype.K;var i=false;this.each(function(n,r){if(i=!!e.call(t,n,r))throw $break});return i}function r(e,t){e=e||Prototype.K;var i=[];this.each(function(n,r){i.push(e.call(t,n,r))});return i}function o(e,t){var i;this.each(function(n,r){if(e.call(t,n,r)){i=n;throw $break}});return i}function s(e,t){var i=[];this.each(function(n,r){if(e.call(t,n,r))i.push(n)});return i}function a(e,t,i){t=t||Prototype.K;var n=[];if(Object.isString(e))e=new RegExp(RegExp.escape(e));this.each(function(r,o){if(e.match(r))n.push(t.call(i,r,o))});return n}function l(e){if(Object.isFunction(this.indexOf))if(this.indexOf(e)!=-1)return true;var t=false;this.each(function(i){if(i==e){t=true;throw $break}});return t}function c(e,t){t=Object.isUndefined(t)?null:t;return this.eachSlice(e,function(i){while(i.length<e)i.push(t);return i})}function u(e,t,i){this.each(function(n,r){e=t.call(i,e,n,r)});return e}function d(e){var t=$A(arguments).slice(1);return this.map(function(i){return i[e].apply(i,t)})}function f(e,t){e=e||Prototype.K;var i;this.each(function(n,r){n=e.call(t,n,r);if(i==null||n>=i)i=n});return i}function h(e,t){e=e||Prototype.K;var i;this.each(function(n,r){n=e.call(t,n,r);if(i==null||n<i)i=n});return i}function p(e,t){e=e||Prototype.K;var i=[],n=[];this.each(function(r,o){(e.call(t,r,o)?i:n).push(r)});return[i,n]}function m(e){var t=[];this.each(function(i){t.push(i[e])});return t}function g(e,t){var i=[];this.each(function(n,r){if(!e.call(t,n,r))i.push(n)});return i}function v(e,t){return this.map(function(i,n){return{value:i,criteria:e.call(t,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;return i<n?-1:i>n?1:0}).pluck("value")}function w(){return this.map()}function b(){var e=Prototype.K,t=$A(arguments);if(Object.isFunction(t.last()))e=t.pop();var i=[this].concat(t).map($A);return this.map(function(t,n){return e(i.pluck(n))})}function y(){return this.toArray().length}function _(){return"#<Enumerable:"+this.toArray().inspect()+">"}return{each:e,eachSlice:t,all:i,every:i,any:n,some:n,collect:r,detect:o,findAll:s,select:s,filter:s,grep:a,include:l,member:l,inGroupsOf:c,inject:u,invoke:d,max:f,min:h,partition:p,pluck:m,reject:g,sortBy:v,toArray:w,zip:b,size:y,inspect:_,find:o}}();function $A(e){if(!e)return[];if("toArray"in Object(e))return e.toArray();var t=e.length||0,i=new Array(t);while(t--)i[t]=e[t];return i}function $w(e){if(!Object.isString(e))return[];e=e.strip();return e?e.split(/\s+/):[]}Array.from=$A;(function(){var e=Array.prototype,t=e.slice,i=e.forEach;function n(e,t){for(var i=0,n=this.length>>>0;i<n;i++){if(i in this)e.call(t,this[i],i,this)}}if(!i)i=n;function r(){this.length=0;return this}function o(){return this[0]}function s(){return this[this.length-1]}function a(){return this.select(function(e){return e!=null})}function l(){return this.inject([],function(e,t){if(Object.isArray(t))return e.concat(t.flatten());e.push(t);return e})}function c(){var e=t.call(arguments,0);return this.select(function(t){return!e.include(t)})}function u(e){return(e===false?this.toArray():this)._reverse()}function d(e){return this.inject([],function(t,i,n){if(0==n||(e?t.last()!=i:!t.include(i)))t.push(i);return t})}function f(e){return this.uniq().findAll(function(t){return e.detect(function(e){return t===e})})}function h(){return t.call(this,0)}function p(){return this.length}function m(){return"["+this.map(Object.inspect).join(", ")+"]"}function g(e,t){t||(t=0);var i=this.length;if(t<0)t=i+t;for(;t<i;t++)if(this[t]===e)return t;return-1}function v(e,t){t=isNaN(t)?this.length:(t<0?this.length+t:t)+1;var i=this.slice(0,t).reverse().indexOf(e);return i<0?i:t-i-1}function w(){var e=t.call(this,0),i;for(var n=0,r=arguments.length;n<r;n++){i=arguments[n];if(Object.isArray(i)&&!("callee"in i)){for(var o=0,s=i.length;o<s;o++)e.push(i[o])}else{e.push(i)}}return e}Object.extend(e,Enumerable);if(!e._reverse)e._reverse=e.reverse;Object.extend(e,{_each:i,clear:r,first:o,last:s,compact:a,flatten:l,without:c,reverse:u,uniq:d,intersect:f,clone:h,toArray:h,size:p,inspect:m});var b=function(){return[].concat(arguments)[0][0]!==1}(1,2);if(b)e.concat=w;if(!e.indexOf)e.indexOf=g;if(!e.lastIndexOf)e.lastIndexOf=v})();function $H(e){return new Hash(e)}var Hash=Class.create(Enumerable,function(){function e(e){this._object=Object.isHash(e)?e.toObject():Object.clone(e)}function t(e){for(var t in this._object){var i=this._object[t],n=[t,i];n.key=t;n.value=i;e(n)}}function i(e,t){return this._object[e]=t}function n(e){if(this._object[e]!==Object.prototype[e])return this._object[e]}function r(e){var t=this._object[e];delete this._object[e];return t}function o(){return Object.clone(this._object)}function s(){return this.pluck("key")}function a(){return this.pluck("value")}function l(e){var t=this.detect(function(t){return t.value===e});return t&&t.key}function c(e){return this.clone().update(e)}function u(e){return new Hash(e).inject(this,function(e,t){e.set(t.key,t.value);return e})}function d(e,t){if(Object.isUndefined(t))return e;return e+"="+encodeURIComponent(String.interpret(t))}function f(){return this.inject([],function(e,t){var i=encodeURIComponent(t.key),n=t.value;if(n&&typeof n=="object"){if(Object.isArray(n)){var r=[];for(var o=0,s=n.length,a;o<s;o++){a=n[o];r.push(d(i,a))}return e.concat(r)}}else e.push(d(i,n));return e}).join("&")}function h(){return"#<Hash:{"+this.map(function(e){return e.map(Object.inspect).join(": ")}).join(", ")+"}>"}function p(){return new Hash(this)}return{initialize:e,_each:t,set:i,get:n,unset:r,toObject:o,toTemplateReplacements:o,keys:s,values:a,index:l,merge:c,update:u,toQueryString:f,inspect:h,toJSON:o,clone:p}}());Hash.from=$H;Object.extend(Number.prototype,function(){function e(){return this.toPaddedString(2,16)}function t(){return this+1}function i(e,t){$R(0,this,true).each(e,t);return this}function n(e,t){var i=this.toString(t||10);return"0".times(e-i.length)+i}function r(){return Math.abs(this)}function o(){return Math.round(this)}function s(){return Math.ceil(this)}function a(){return Math.floor(this)}return{toColorPart:e,succ:t,times:i,toPaddedString:n,abs:r,round:o,ceil:s,floor:a}}());function $R(e,t,i){return new ObjectRange(e,t,i)}var ObjectRange=Class.create(Enumerable,function(){function e(e,t,i){this.start=e;this.end=t;this.exclusive=i}function t(e){var t=this.start;while(this.include(t)){e(t);t=t.succ()}}function i(e){if(e<this.start)return false;if(this.exclusive)return e<this.end;return e<=this.end}return{initialize:e,_each:t,include:i}}());var Ajax={getTransport:function(){return Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")})||false},activeRequestCount:0};Ajax.Responders={responders:[],_each:function(e){this.responders._each(e)},register:function(e){if(!this.include(e))this.responders.push(e)},unregister:function(e){this.responders=this.responders.without(e)},dispatch:function(e,t,i,n){this.each(function(r){if(Object.isFunction(r[e])){try{r[e].apply(r,[t,i,n])}catch(e){}}})}};Object.extend(Ajax.Responders,Enumerable);Ajax.Responders.register({onCreate:function(){Ajax.activeRequestCount++},onComplete:function(){Ajax.activeRequestCount--}});Ajax.Base=Class.create({initialize:function(e){this.options={method:"post",asynchronous:true,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:true,evalJS:true};Object.extend(this.options,e||{});this.options.method=this.options.method.toLowerCase();if(Object.isHash(this.options.parameters))this.options.parameters=this.options.parameters.toObject()}});Ajax.Request=Class.create(Ajax.Base,{_complete:false,initialize:function($super,e,t){$super(t);this.transport=Ajax.getTransport();this.request(e)},request:function(e){this.url=e;this.method=this.options.method;var t=Object.isString(this.options.parameters)?this.options.parameters:Object.toQueryString(this.options.parameters);if(!["get","post"].include(this.method)){t+=(t?"&":"")+"_method="+this.method;this.method="post"}if(t&&this.method==="get"){this.url+=(this.url.include("?")?"&":"?")+t}this.parameters=t.toQueryParams();try{var i=new Ajax.Response(this);if(this.options.onCreate)this.options.onCreate(i);Ajax.Responders.dispatch("onCreate",this,i);this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous);if(this.options.asynchronous)this.respondToReadyState.bind(this).defer(1);this.transport.onreadystatechange=this.onStateChange.bind(this);this.setRequestHeaders();this.body=this.method=="post"?this.options.postBody||t:null;this.transport.send(this.body);if(!this.options.asynchronous&&this.transport.overrideMimeType)this.onStateChange()}catch(e){this.dispatchException(e)}},onStateChange:function(){var e=this.transport.readyState;if(e>1&&!(e==4&&this._complete))this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={"X-Requested-With":"XMLHttpRequest","X-Prototype-Version":Prototype.Version,Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if(this.method=="post"){e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:"");if(this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005)e["Connection"]="close"}if(typeof this.options.requestHeaders=="object"){var t=this.options.requestHeaders;if(Object.isFunction(t.push))for(var i=0,n=t.length;i<n;i+=2)e[t[i]]=t[i+1];else $H(t).each(function(t){e[t.key]=t.value})}for(var r in e)this.transport.setRequestHeader(r,e[r])},success:function(){var e=this.getStatus();return!e||e>=200&&e<300||e==304},getStatus:function(){try{if(this.transport.status===1223)return 204;return this.transport.status||0}catch(e){return 0}},respondToReadyState:function(e){var t=Ajax.Request.Events[e],i=new Ajax.Response(this);if(t=="Complete"){try{this._complete=true;(this.options["on"+i.status]||this.options["on"+(this.success()?"Success":"Failure")]||Prototype.emptyFunction)(i,i.headerJSON)}catch(e){this.dispatchException(e)}var n=i.getHeader("Content-type");if(this.options.evalJS=="force"||this.options.evalJS&&this.isSameOrigin()&&n&&n.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i))this.evalResponse()}try{(this.options["on"+t]||Prototype.emptyFunction)(i,i.headerJSON);Ajax.Responders.dispatch("on"+t,this,i,i.headerJSON)}catch(e){this.dispatchException(e)}if(t=="Complete"){this.transport.onreadystatechange=Prototype.emptyFunction}},isSameOrigin:function(){var e=this.url.match(/^\s*https?:\/\/[^\/]*/);return!e||e[0]=="#{protocol}//#{domain}#{port}".interpolate({protocol:location.protocol,domain:document.domain,port:location.port?":"+location.port:""})},getHeader:function(e){try{return this.transport.getResponseHeader(e)||null}catch(e){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){this.dispatchException(e)}},dispatchException:function(e){(this.options.onException||Prototype.emptyFunction)(this,e);Ajax.Responders.dispatch("onException",this,e)}});Ajax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"];Ajax.Response=Class.create({initialize:function(e){this.request=e;var t=this.transport=e.transport,i=this.readyState=t.readyState;if(i>2&&!Prototype.Browser.IE||i==4){this.status=this.getStatus();this.statusText=this.getStatusText();this.responseText=String.interpret(t.responseText);this.headerJSON=this._getHeaderJSON()}if(i==4){var n=t.responseXML;this.responseXML=Object.isUndefined(n)?null:n;this.responseJSON=this._getResponseJSON()}},status:0,statusText:"",getStatus:Ajax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(e){return""}},getHeader:Ajax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(e){return null}},getResponseHeader:function(e){return this.transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()},_getHeaderJSON:function(){var e=this.getHeader("X-JSON");if(!e)return null;e=decodeURIComponent(escape(e));try{return e.evalJSON(this.request.options.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}},_getResponseJSON:function(){var e=this.request.options;if(!e.evalJSON||e.evalJSON!="force"&&!(this.getHeader("Content-type")||"").include("application/json")||this.responseText.blank())return null;try{return this.responseText.evalJSON(e.sanitizeJSON||!this.request.isSameOrigin())}catch(e){this.request.dispatchException(e)}}});Ajax.Updater=Class.create(Ajax.Request,{initialize:function($super,e,t,i){this.container={success:e.success||e,failure:e.failure||(e.success?null:e)};i=Object.clone(i);var n=i.onComplete;i.onComplete=function(e,t){this.updateContent(e.responseText);if(Object.isFunction(n))n(e,t)}.bind(this);$super(t,i)},updateContent:function(e){var t=this.container[this.success()?"success":"failure"],i=this.options;if(!i.evalScripts)e=e.stripScripts();if(t=$(t)){if(i.insertion){if(Object.isString(i.insertion)){var n={};n[i.insertion]=e;t.insert(n)}else i.insertion(t,e)}else t.update(e)}}});Ajax.PeriodicalUpdater=Class.create(Ajax.Base,{initialize:function($super,e,t,i){$super(i);this.onComplete=this.options.onComplete;this.frequency=this.options.frequency||2;this.decay=this.options.decay||1;this.updater={};this.container=e;this.url=t;this.start()},start:function(){this.options.onComplete=this.updateComplete.bind(this);this.onTimerEvent()},stop:function(){this.updater.options.onComplete=undefined;clearTimeout(this.timer);(this.onComplete||Prototype.emptyFunction).apply(this,arguments)},updateComplete:function(e){if(this.options.decay){this.decay=e.responseText==this.lastText?this.decay*this.options.decay:1;this.lastText=e.responseText}this.timer=this.onTimerEvent.bind(this).delay(this.decay*this.frequency)},onTimerEvent:function(){this.updater=new Ajax.Updater(this.container,this.url,this.options)}});function $(e){if(arguments.length>1){for(var t=0,i=[],n=arguments.length;t<n;t++)i.push($(arguments[t]));return i}if(Object.isString(e))e=document.getElementById(e);return Element.extend(e)}if(Prototype.BrowserFeatures.XPath){document._getElementsByXPath=function(e,t){var i=[];var n=document.evaluate(e,$(t)||document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(var r=0,o=n.snapshotLength;r<o;r++)i.push(Element.extend(n.snapshotItem(r)));return i}}if(!Node)var Node={};if(!Node.ELEMENT_NODE){Object.extend(Node,{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12})}(function(e){function t(e,t){if(e==="select")return false;if("type"in t)return false;return true}var i=function(){try{var e=document.createElement('<input name="x">');return e.tagName.toLowerCase()==="input"&&e.name==="x"}catch(e){return false}}();var n=e.Element;e.Element=function(e,n){n=n||{};e=e.toLowerCase();var r=Element.cache;if(i&&n.name){e="<"+e+' name="'+n.name+'">';delete n.name;return Element.writeAttribute(document.createElement(e),n)}if(!r[e])r[e]=Element.extend(document.createElement(e));var o=t(e,n)?r[e].cloneNode(false):document.createElement(e);return Element.writeAttribute(o,n)};Object.extend(e.Element,n||{});if(n)e.Element.prototype=n.prototype})(this);Element.idCounter=1;Element.cache={};Element._purgeElement=function(e){var t=e._prototypeUID;if(t){Element.stopObserving(e);e._prototypeUID=void 0;delete Element.Storage[t]}};Element.Methods={visible:function(e){return $(e).style.display!="none"},toggle:function(e){e=$(e);Element[Element.visible(e)?"hide":"show"](e);return e},hide:function(e){e=$(e);e.style.display="none";return e},show:function(e){e=$(e);e.style.display="";return e},remove:function(e){e=$(e);e.parentNode.removeChild(e);return e},update:function(){var e=function(){var e=document.createElement("select"),t=true;e.innerHTML='<option value="test">test</option>';if(e.options&&e.options[0]){t=e.options[0].nodeName.toUpperCase()!=="OPTION"}e=null;return t}();var t=function(){try{var e=document.createElement("table");if(e&&e.tBodies){e.innerHTML="<tbody><tr><td>test</td></tr></tbody>";var t=typeof e.tBodies[0]=="undefined";e=null;return t}}catch(e){return true}}();var i=function(){try{var e=document.createElement("div");e.innerHTML="<link>";var t=e.childNodes.length===0;e=null;return t}catch(e){return true}}();var n=e||t||i;var r=function(){var e=document.createElement("script"),t=false;try{e.appendChild(document.createTextNode(""));t=!e.firstChild||e.firstChild&&e.firstChild.nodeType!==3}catch(e){t=true}e=null;return t}();function o(e,t){e=$(e);var o=Element._purgeElement;var s=e.getElementsByTagName("*"),a=s.length;while(a--)o(s[a]);if(t&&t.toElement)t=t.toElement();if(Object.isElement(t))return e.update().insert(t);t=Object.toHTML(t);var l=e.tagName.toUpperCase();if(l==="SCRIPT"&&r){e.text=t;return e}if(n){if(l in Element._insertionTranslations.tags){while(e.firstChild){e.removeChild(e.firstChild)}Element._getContentFromAnonymousElement(l,t.stripScripts()).each(function(t){e.appendChild(t)})}else if(i&&Object.isString(t)&&t.indexOf("<link")>-1){while(e.firstChild){e.removeChild(e.firstChild)}var c=Element._getContentFromAnonymousElement(l,t.stripScripts(),true);c.each(function(t){e.appendChild(t)})}else{e.innerHTML=t.stripScripts()}}else{e.innerHTML=t.stripScripts()}t.evalScripts.bind(t).defer();return e}return o}(),replace:function(e,t){e=$(e);if(t&&t.toElement)t=t.toElement();else if(!Object.isElement(t)){t=Object.toHTML(t);var i=e.ownerDocument.createRange();i.selectNode(e);t.evalScripts.bind(t).defer();t=i.createContextualFragment(t.stripScripts())}e.parentNode.replaceChild(t,e);return e},insert:function(e,t){e=$(e);if(Object.isString(t)||Object.isNumber(t)||Object.isElement(t)||t&&(t.toElement||t.toHTML))t={bottom:t};var i,n,r,o;for(var s in t){i=t[s];s=s.toLowerCase();n=Element._insertionTranslations[s];if(i&&i.toElement)i=i.toElement();if(Object.isElement(i)){n(e,i);continue}i=Object.toHTML(i);r=(s=="before"||s=="after"?e.parentNode:e).tagName.toUpperCase();o=Element._getContentFromAnonymousElement(r,i.stripScripts());if(s=="top"||s=="after")o.reverse();o.each(n.curry(e));i.evalScripts.bind(i).defer()}return e},wrap:function(e,t,i){e=$(e);if(Object.isElement(t))$(t).writeAttribute(i||{});else if(Object.isString(t))t=new Element(t,i);else t=new Element("div",t);if(e.parentNode)e.parentNode.replaceChild(t,e);t.appendChild(e);return t},inspect:function(e){e=$(e);var t="<"+e.tagName.toLowerCase();$H({id:"id",className:"class"}).each(function(i){var n=i.first(),r=i.last(),o=(e[n]||"").toString();if(o)t+=" "+r+"="+o.inspect(true)});return t+">"},recursivelyCollect:function(e,t,i){e=$(e);i=i||-1;var n=[];while(e=e[t]){if(e.nodeType==1)n.push(Element.extend(e));if(n.length==i)break}return n},ancestors:function(e){return Element.recursivelyCollect(e,"parentNode")},descendants:function(e){return Element.select(e,"*")},firstDescendant:function(e){e=$(e).firstChild;while(e&&e.nodeType!=1)e=e.nextSibling;return $(e)},immediateDescendants:function(e){var t=[],i=$(e).firstChild;while(i){if(i.nodeType===1){t.push(Element.extend(i))}i=i.nextSibling}return t},previousSiblings:function(e,t){return Element.recursivelyCollect(e,"previousSibling")},nextSiblings:function(e){return Element.recursivelyCollect(e,"nextSibling")},siblings:function(e){e=$(e);return Element.previousSiblings(e).reverse().concat(Element.nextSiblings(e))},match:function(e,t){e=$(e);if(Object.isString(t))return Prototype.Selector.match(e,t);return t.match(e)},up:function(e,t,i){e=$(e);if(arguments.length==1)return $(e.parentNode);var n=Element.ancestors(e);return Object.isNumber(t)?n[t]:Prototype.Selector.find(n,t,i)},down:function(e,t,i){e=$(e);if(arguments.length==1)return Element.firstDescendant(e);return Object.isNumber(t)?Element.descendants(e)[t]:Element.select(e,t)[i||0]},previous:function(e,t,i){e=$(e);if(Object.isNumber(t))i=t,t=false;if(!Object.isNumber(i))i=0;if(t){return Prototype.Selector.find(e.previousSiblings(),t,i)}else{return e.recursivelyCollect("previousSibling",i+1)[i]}},next:function(e,t,i){e=$(e);if(Object.isNumber(t))i=t,t=false;if(!Object.isNumber(i))i=0;if(t){return Prototype.Selector.find(e.nextSiblings(),t,i)}else{var n=Object.isNumber(i)?i+1:1;return e.recursivelyCollect("nextSibling",i+1)[i]}},select:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e)},adjacent:function(e){e=$(e);var t=Array.prototype.slice.call(arguments,1).join(", ");return Prototype.Selector.select(t,e.parentNode).without(e)},identify:function(e){e=$(e);var t=Element.readAttribute(e,"id");if(t)return t;do{t="anonymous_element_"+Element.idCounter++}while($(t));Element.writeAttribute(e,"id",t);return t},readAttribute:function(e,t){e=$(e);if(Prototype.Browser.IE){var i=Element._attributeTranslations.read;if(i.values[t])return i.values[t](e,t);if(i.names[t])t=i.names[t];if(t.include(":")){return!e.attributes||!e.attributes[t]?null:e.attributes[t].value}}return e.getAttribute(t)},writeAttribute:function(e,t,i){e=$(e);var n={},r=Element._attributeTranslations.write;if(typeof t=="object")n=t;else n[t]=Object.isUndefined(i)?true:i;for(var o in n){t=r.names[o]||o;i=n[o];if(r.values[o])t=r.values[o](e,i);if(i===false||i===null)e.removeAttribute(t);else if(i===true)e.setAttribute(t,t);else e.setAttribute(t,i)}return e},getHeight:function(e){return Element.getDimensions(e).height},getWidth:function(e){return Element.getDimensions(e).width},classNames:function(e){return new Element.ClassNames(e)},hasClassName:function(e,t){if(!(e=$(e)))return;var i=e.className;return i.length>0&&(i==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(i))},addClassName:function(e,t){if(!(e=$(e)))return;if(!Element.hasClassName(e,t))e.className+=(e.className?" ":"")+t;return e},removeClassName:function(e,t){if(!(e=$(e)))return;e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").strip();return e},toggleClassName:function(e,t){if(!(e=$(e)))return;return Element[Element.hasClassName(e,t)?"removeClassName":"addClassName"](e,t)},cleanWhitespace:function(e){e=$(e);var t=e.firstChild;while(t){var i=t.nextSibling;if(t.nodeType==3&&!/\S/.test(t.nodeValue))e.removeChild(t);t=i}return e},empty:function(e){return $(e).innerHTML.blank()},descendantOf:function(e,t){e=$(e),t=$(t);if(e.compareDocumentPosition)return(e.compareDocumentPosition(t)&8)===8;if(t.contains)return t.contains(e)&&t!==e;while(e=e.parentNode)if(e==t)return true;return false},scrollTo:function(e){e=$(e);var t=Element.cumulativeOffset(e);window.scrollTo(t[0],t[1]);return e},getStyle:function(e,t){e=$(e);t=t=="float"?"cssFloat":t.camelize();var i=e.style[t];if(!i||i=="auto"){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}if(t=="opacity")return i?parseFloat(i):1;return i=="auto"?null:i},getOpacity:function(e){return $(e).getStyle("opacity")},setStyle:function(e,t){e=$(e);var i=e.style,n;if(Object.isString(t)){e.style.cssText+=";"+t;return t.include("opacity")?e.setOpacity(t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e}for(var r in t)if(r=="opacity")e.setOpacity(t[r]);else i[r=="float"||r=="cssFloat"?Object.isUndefined(i.styleFloat)?"cssFloat":"styleFloat":r]=t[r];return e},setOpacity:function(e,t){e=$(e);e.style.opacity=t==1||t===""?"":t<1e-5?0:t;return e},makePositioned:function(e){e=$(e);var t=Element.getStyle(e,"position");if(t=="static"||!t){e._madePositioned=true;e.style.position="relative";if(Prototype.Browser.Opera){e.style.top=0;e.style.left=0}}return e},undoPositioned:function(e){e=$(e);if(e._madePositioned){e._madePositioned=undefined;e.style.position=e.style.top=e.style.left=e.style.bottom=e.style.right=""}return e},makeClipping:function(e){e=$(e);if(e._overflow)return e;e._overflow=Element.getStyle(e,"overflow")||"auto";if(e._overflow!=="hidden")e.style.overflow="hidden";return e},undoClipping:function(e){e=$(e);if(!e._overflow)return e;e.style.overflow=e._overflow=="auto"?"":e._overflow;e._overflow=null;return e},clonePosition:function(e,t){var i=Object.extend({setLeft:true,setTop:true,setWidth:true,setHeight:true,offsetTop:0,offsetLeft:0},arguments[2]||{});t=$(t);var n=Element.viewportOffset(t),r=[0,0],o=null;e=$(e);if(Element.getStyle(e,"position")=="absolute"){o=Element.getOffsetParent(e);r=Element.viewportOffset(o)}if(o==document.body){r[0]-=document.body.offsetLeft;r[1]-=document.body.offsetTop}if(i.setLeft)e.style.left=n[0]-r[0]+i.offsetLeft+"px";if(i.setTop)e.style.top=n[1]-r[1]+i.offsetTop+"px";if(i.setWidth)e.style.width=t.offsetWidth+"px";if(i.setHeight)e.style.height=t.offsetHeight+"px";return e}};Object.extend(Element.Methods,{getElementsBySelector:Element.Methods.select,childElements:Element.Methods.immediateDescendants});Element._attributeTranslations={write:{names:{className:"class",htmlFor:"for"},values:{}}};if(Prototype.Browser.Opera){Element.Methods.getStyle=Element.Methods.getStyle.wrap(function(e,t,i){switch(i){case"height":case"width":if(!Element.visible(t))return null;var n=parseInt(e(t,i),10);if(n!==t["offset"+i.capitalize()])return n+"px";var r;if(i==="height"){r=["border-top-width","padding-top","padding-bottom","border-bottom-width"]}else{r=["border-left-width","padding-left","padding-right","border-right-width"]}return r.inject(n,function(i,n){var r=e(t,n);return r===null?i:i-parseInt(r,10)})+"px";default:return e(t,i)}});Element.Methods.readAttribute=Element.Methods.readAttribute.wrap(function(e,t,i){if(i==="title")return t.title;return e(t,i)})}else if(Prototype.Browser.IE){if(!(document&&document.documentMode&&document.documentMode>=10)){Element.Methods.getStyle=function(e,t){e=$(e);t=t=="float"||t=="cssFloat"?"styleFloat":t.camelize();var i=e.style[t];if(!i&&e.currentStyle)i=e.currentStyle[t];if(t=="opacity"){if(i=(e.getStyle("filter")||"").match(/alpha\(opacity=(.*)\)/))if(i[1])return parseFloat(i[1])/100;return 1}if(i=="auto"){if((t=="width"||t=="height")&&e.getStyle("display")!="none")return e["offset"+t.capitalize()]+"px";return null}return i};Element.Methods.setOpacity=function(e,t){function i(e){return e.replace(/alpha\([^\)]*\)/gi,"")}e=$(e);var n=e.currentStyle;if(n&&!n.hasLayout||!n&&e.style.zoom=="normal")e.style.zoom=1;var r=e.getStyle("filter"),o=e.style;if(t==1||t===""){(r=i(r))?o.filter=r:o.removeAttribute("filter");return e}else if(t<1e-5)t=0;o.filter=i(r)+"alpha(opacity="+t*100+")";return e}}Element._attributeTranslations=function(){var e="className",t="for",i=document.createElement("div");i.setAttribute(e,"x");if(i.className!=="x"){i.setAttribute("class","x");if(i.className==="x"){e="class"}}i=null;i=document.createElement("label");i.setAttribute(t,"x");if(i.htmlFor!=="x"){i.setAttribute("htmlFor","x");if(i.htmlFor==="x"){t="htmlFor"}}i=null;return{read:{names:{class:e,className:e,for:t,htmlFor:t},values:{_getAttr:function(e,t){return e.getAttribute(t)},_getAttr2:function(e,t){return e.getAttribute(t,2)},_getAttrNode:function(e,t){var i=e.getAttributeNode(t);return i?i.value:""},_getEv:function(){var e=document.createElement("div"),t;e.onclick=Prototype.emptyFunction;var i=e.getAttribute("onclick");if(String(i).indexOf("{")>-1){t=function(e,t){t=e.getAttribute(t);if(!t)return null;t=t.toString();t=t.split("{")[1];t=t.split("}")[0];return t.strip()}}else if(i===""){t=function(e,t){t=e.getAttribute(t);if(!t)return null;return t.strip()}}e=null;return t}(),_flag:function(e,t){return $(e).hasAttribute(t)?t:null},style:function(e){return e.style.cssText.toLowerCase()},title:function(e){return e.title}}}}}();Element._attributeTranslations.write={names:Object.extend({cellpadding:"cellPadding",cellspacing:"cellSpacing"},Element._attributeTranslations.read.names),values:{checked:function(e,t){e.checked=!!t},style:function(e,t){e.style.cssText=t?t:""}}};Element._attributeTranslations.has={};$w("colSpan rowSpan vAlign dateTime accessKey tabIndex "+"encType maxLength readOnly longDesc frameBorder").each(function(e){Element._attributeTranslations.write.names[e.toLowerCase()]=e;Element._attributeTranslations.has[e.toLowerCase()]=e});(function(e){Object.extend(e,{href:e._getAttr2,src:e._getAttr2,type:e._getAttr,action:e._getAttrNode,disabled:e._flag,checked:e._flag,readonly:e._flag,multiple:e._flag,onload:e._getEv,onunload:e._getEv,onclick:e._getEv,ondblclick:e._getEv,onmousedown:e._getEv,onmouseup:e._getEv,onmouseover:e._getEv,onmousemove:e._getEv,onmouseout:e._getEv,onfocus:e._getEv,onblur:e._getEv,onkeypress:e._getEv,onkeydown:e._getEv,onkeyup:e._getEv,onsubmit:e._getEv,onreset:e._getEv,onselect:e._getEv,onchange:e._getEv})})(Element._attributeTranslations.read.values);if(Prototype.BrowserFeatures.ElementExtensions){(function(){function e(e){var t=e.getElementsByTagName("*"),i=[];for(var n=0,r;r=t[n];n++)if(r.tagName!=="!")i.push(r);return i}Element.Methods.down=function(t,i,n){t=$(t);if(arguments.length==1)return t.firstDescendant();return Object.isNumber(i)?e(t)[i]:Element.select(t,i)[n||0]}})()}}else if(Prototype.Browser.Gecko&&/rv:1\.8\.0/.test(navigator.userAgent)){Element.Methods.setOpacity=function(e,t){e=$(e);e.style.opacity=t==1?.999999:t===""?"":t<1e-5?0:t;return e}}else if(Prototype.Browser.WebKit){Element.Methods.setOpacity=function(e,t){e=$(e);e.style.opacity=t==1||t===""?"":t<1e-5?0:t;if(t==1)if(e.tagName.toUpperCase()=="IMG"&&e.width){e.width++;e.width--}else try{var i=document.createTextNode(" ");e.appendChild(i);e.removeChild(i)}catch(e){}return e}}if("outerHTML"in document.documentElement){Element.Methods.replace=function(e,t){e=$(e);if(t&&t.toElement)t=t.toElement();if(Object.isElement(t)){e.parentNode.replaceChild(t,e);return e}t=Object.toHTML(t);var i=e.parentNode,n=i.tagName.toUpperCase();if(Element._insertionTranslations.tags[n]){var r=e.next(),o=Element._getContentFromAnonymousElement(n,t.stripScripts());i.removeChild(e);if(r)o.each(function(e){i.insertBefore(e,r)});else o.each(function(e){i.appendChild(e)})}else e.outerHTML=t.stripScripts();t.evalScripts.bind(t).defer();return e}}Element._returnOffset=function(e,t){var i=[e,t];i.left=e;i.top=t;return i};Element._getContentFromAnonymousElement=function(e,t,i){var n=new Element("div"),r=Element._insertionTranslations.tags[e];var o=false;if(r)o=true;else if(i){o=true;r=["","",0]}if(o){n.innerHTML="&nbsp;"+r[0]+t+r[1];n.removeChild(n.firstChild);for(var s=r[2];s--;){n=n.firstChild}}else{n.innerHTML=t}return $A(n.childNodes)};Element._insertionTranslations={before:function(e,t){e.parentNode.insertBefore(t,e)},top:function(e,t){e.insertBefore(t,e.firstChild)},bottom:function(e,t){e.appendChild(t)},after:function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1]}};(function(){var e=Element._insertionTranslations.tags;Object.extend(e,{THEAD:e.TBODY,TFOOT:e.TBODY,TH:e.TD})})();Element.Methods.Simulated={hasAttribute:function(e,t){t=Element._attributeTranslations.has[t]||t;var i=$(e).getAttributeNode(t);return!!(i&&i.specified)}};Element.Methods.ByTag={};Object.extend(Element,Element.Methods);(function(e){if(!Prototype.BrowserFeatures.ElementExtensions&&e["__proto__"]){window.HTMLElement={};window.HTMLElement.prototype=e["__proto__"];Prototype.BrowserFeatures.ElementExtensions=true}e=null})(document.createElement("div"));Element.extend=function(){
function e(e){if(typeof window.Element!="undefined"){var t=window.Element.prototype;if(t){var i="_"+(Math.random()+"").slice(2),n=document.createElement(e);t[i]="x";var r=n[i]!=="x";delete t[i];n=null;return r}}return false}function t(e,t){for(var i in t){var n=t[i];if(Object.isFunction(n)&&!(i in e))e[i]=n.methodize()}}var i=e("object");if(Prototype.BrowserFeatures.SpecificElementExtensions){if(i){return function(e){if(e&&typeof e._extendedByPrototype=="undefined"){var i=e.tagName;if(i&&/^(?:object|applet|embed)$/i.test(i)){t(e,Element.Methods);t(e,Element.Methods.Simulated);t(e,Element.Methods.ByTag[i.toUpperCase()])}}return e}}return Prototype.K}var n={},r=Element.Methods.ByTag;var o=Object.extend(function(e){if(!e||typeof e._extendedByPrototype!="undefined"||e.nodeType!=1||e==window)return e;var i=Object.clone(n),o=e.tagName.toUpperCase();if(r[o])Object.extend(i,r[o]);t(e,i);e._extendedByPrototype=Prototype.emptyFunction;return e},{refresh:function(){if(!Prototype.BrowserFeatures.ElementExtensions){Object.extend(n,Element.Methods);Object.extend(n,Element.Methods.Simulated)}}});o.refresh();return o}();if(document.documentElement.hasAttribute){Element.hasAttribute=function(e,t){return e.hasAttribute(t)}}else{Element.hasAttribute=Element.Methods.Simulated.hasAttribute}Element.addMethods=function(e){var t=Prototype.BrowserFeatures,i=Element.Methods.ByTag;if(!e){Object.extend(Form,Form.Methods);Object.extend(Form.Element,Form.Element.Methods);Object.extend(Element.Methods.ByTag,{FORM:Object.clone(Form.Methods),INPUT:Object.clone(Form.Element.Methods),SELECT:Object.clone(Form.Element.Methods),TEXTAREA:Object.clone(Form.Element.Methods),BUTTON:Object.clone(Form.Element.Methods)})}if(arguments.length==2){var n=e;e=arguments[1]}if(!n)Object.extend(Element.Methods,e||{});else{if(Object.isArray(n))n.each(r);else r(n)}function r(t){t=t.toUpperCase();if(!Element.Methods.ByTag[t])Element.Methods.ByTag[t]={};Object.extend(Element.Methods.ByTag[t],e)}function o(e,t,i){i=i||false;for(var n in e){var r=e[n];if(!Object.isFunction(r))continue;if(!i||!(n in t))t[n]=r.methodize()}}function s(e){var t;var i={OPTGROUP:"OptGroup",TEXTAREA:"TextArea",P:"Paragraph",FIELDSET:"FieldSet",UL:"UList",OL:"OList",DL:"DList",DIR:"Directory",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",Q:"Quote",INS:"Mod",DEL:"Mod",A:"Anchor",IMG:"Image",CAPTION:"TableCaption",COL:"TableCol",COLGROUP:"TableCol",THEAD:"TableSection",TFOOT:"TableSection",TBODY:"TableSection",TR:"TableRow",TH:"TableCell",TD:"TableCell",FRAMESET:"FrameSet",IFRAME:"IFrame"};if(i[e])t="HTML"+i[e]+"Element";if(window[t])return window[t];t="HTML"+e+"Element";if(window[t])return window[t];t="HTML"+e.capitalize()+"Element";if(window[t])return window[t];var n=document.createElement(e),r=n["__proto__"]||n.constructor.prototype;n=null;return r}var a=window.HTMLElement?HTMLElement.prototype:Element.prototype;if(t.ElementExtensions){o(Element.Methods,a);o(Element.Methods.Simulated,a,true)}if(t.SpecificElementExtensions){for(var l in Element.Methods.ByTag){var c=s(l);if(Object.isUndefined(c))continue;o(i[l],c.prototype)}}Object.extend(Element,Element.Methods);delete Element.ByTag;if(Element.extend.refresh)Element.extend.refresh();Element.cache={}};document.viewport={getDimensions:function(){return{width:this.getWidth(),height:this.getHeight()}},getScrollOffsets:function(){return Element._returnOffset(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)}};(function(e){var t=Prototype.Browser,i=document,n,r={};function o(){if(t.WebKit&&!i.evaluate)return document;if(t.Opera&&window.parseFloat(window.opera.version())<9.5)return document.body;return document.documentElement}function s(t){if(!n)n=o();r[t]="client"+t;e["get"+t]=function(){return n[r[t]]};return e["get"+t]()}e.getWidth=s.curry("Width");e.getHeight=s.curry("Height")})(document.viewport);Element.Storage={UID:1};Element.addMethods({getStorage:function(e){if(!(e=$(e)))return;var t;if(e===window){t=0}else{if(typeof e._prototypeUID==="undefined")e._prototypeUID=Element.Storage.UID++;t=e._prototypeUID}if(!Element.Storage[t])Element.Storage[t]=$H();return Element.Storage[t]},store:function(e,t,i){if(!(e=$(e)))return;if(arguments.length===2){Element.getStorage(e).update(t)}else{Element.getStorage(e).set(t,i)}return e},retrieve:function(e,t,i){if(!(e=$(e)))return;var n=Element.getStorage(e),r=n.get(t);if(Object.isUndefined(r)){n.set(t,i);r=i}return r},clone:function(e,t){if(!(e=$(e)))return;var i=e.cloneNode(t);i._prototypeUID=void 0;if(t){var n=Element.select(i,"*"),r=n.length;while(r--){n[r]._prototypeUID=void 0}}return Element.extend(i)},purge:function(e){if(!(e=$(e)))return;var t=Element._purgeElement;t(e);var i=e.getElementsByTagName("*"),n=i.length;while(n--)t(i[n]);return null}});(function(){function e(e){var t=e.match(/^(\d+)%?$/i);if(!t)return null;return Number(t[1])/100}function t(t,i,n){var r=null;if(Object.isElement(t)){r=t;t=r.getStyle(i)}if(t===null){return null}if(/^(?:-)?\d+(\.\d+)?(px)?$/i.test(t)){return window.parseFloat(t)}var o=t.include("%"),s=n===document.viewport;if(/\d/.test(t)&&r&&r.runtimeStyle&&!(o&&s)){var a=r.style.left,l=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left;r.style.left=t||0;t=r.style.pixelLeft;r.style.left=a;r.runtimeStyle.left=l;return t}if(r&&o){n=n||r.parentNode;var c=e(t);var u=null;var d=r.getStyle("position");var f=i.include("left")||i.include("right")||i.include("width");var h=i.include("top")||i.include("bottom")||i.include("height");if(n===document.viewport){if(f){u=document.viewport.getWidth()}else if(h){u=document.viewport.getHeight()}}else{if(f){u=$(n).measure("width")}else if(h){u=$(n).measure("height")}}return u===null?0:u*c}return 0}function i(e){if(Object.isString(e)&&e.endsWith("px")){return e}return e+"px"}function n(e){var t=e;while(e&&e.parentNode){var i=e.getStyle("display");if(i==="none"){return false}e=$(e.parentNode)}return true}var r=Prototype.K;if("currentStyle"in document.documentElement){r=function(e){if(!e.currentStyle.hasLayout){e.style.zoom=1}return e}}function o(e){if(e.include("border"))e=e+"-width";return e.camelize()}Element.Layout=Class.create(Hash,{initialize:function($super,e,t){$super();this.element=$(e);Element.Layout.PROPERTIES.each(function(e){this._set(e,null)},this);if(t){this._preComputing=true;this._begin();Element.Layout.PROPERTIES.each(this._compute,this);this._end();this._preComputing=false}},_set:function(e,t){return Hash.prototype.set.call(this,e,t)},set:function(e,t){throw"Properties of Element.Layout are read-only."},get:function($super,e){var t=$super(e);return t===null?this._compute(e):t},_begin:function(){if(this._prepared)return;var e=this.element;if(n(e)){this._prepared=true;return}var i={position:e.style.position||"",width:e.style.width||"",visibility:e.style.visibility||"",display:e.style.display||""};e.store("prototype_original_styles",i);var r=e.getStyle("position"),o=e.getStyle("width");if(o==="0px"||o===null){e.style.display="block";o=e.getStyle("width")}var s=r==="fixed"?document.viewport:e.parentNode;e.setStyle({position:"absolute",visibility:"hidden",display:"block"});var a=e.getStyle("width");var l;if(o&&a===o){l=t(e,"width",s)}else if(r==="absolute"||r==="fixed"){l=t(e,"width",s)}else{var c=e.parentNode,u=$(c).getLayout();l=u.get("width")-this.get("margin-left")-this.get("border-left")-this.get("padding-left")-this.get("padding-right")-this.get("border-right")-this.get("margin-right")}e.setStyle({width:l+"px"});this._prepared=true},_end:function(){var e=this.element;var t=e.retrieve("prototype_original_styles");e.store("prototype_original_styles",null);e.setStyle(t);this._prepared=false},_compute:function(e){var t=Element.Layout.COMPUTATIONS;if(!(e in t)){throw"Property not found."}return this._set(e,t[e].call(this,this.element))},toObject:function(){var e=$A(arguments);var t=e.length===0?Element.Layout.PROPERTIES:e.join(" ").split(" ");var i={};t.each(function(e){if(!Element.Layout.PROPERTIES.include(e))return;var t=this.get(e);if(t!=null)i[e]=t},this);return i},toHash:function(){var e=this.toObject.apply(this,arguments);return new Hash(e)},toCSS:function(){var e=$A(arguments);var t=e.length===0?Element.Layout.PROPERTIES:e.join(" ").split(" ");var i={};t.each(function(e){if(!Element.Layout.PROPERTIES.include(e))return;if(Element.Layout.COMPOSITE_PROPERTIES.include(e))return;var t=this.get(e);if(t!=null)i[o(e)]=t+"px"},this);return i},inspect:function(){return"#<Element.Layout>"}});Object.extend(Element.Layout,{PROPERTIES:$w("height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"),COMPOSITE_PROPERTIES:$w("padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"),COMPUTATIONS:{height:function(e){if(!this._preComputing)this._begin();var t=this.get("border-box-height");if(t<=0){if(!this._preComputing)this._end();return 0}var i=this.get("border-top"),n=this.get("border-bottom");var r=this.get("padding-top"),o=this.get("padding-bottom");if(!this._preComputing)this._end();return t-i-n-r-o},width:function(e){if(!this._preComputing)this._begin();var t=this.get("border-box-width");if(t<=0){if(!this._preComputing)this._end();return 0}var i=this.get("border-left"),n=this.get("border-right");var r=this.get("padding-left"),o=this.get("padding-right");if(!this._preComputing)this._end();return t-i-n-r-o},"padding-box-height":function(e){var t=this.get("height"),i=this.get("padding-top"),n=this.get("padding-bottom");return t+i+n},"padding-box-width":function(e){var t=this.get("width"),i=this.get("padding-left"),n=this.get("padding-right");return t+i+n},"border-box-height":function(e){if(!this._preComputing)this._begin();var t=e.offsetHeight;if(!this._preComputing)this._end();return t},"border-box-width":function(e){if(!this._preComputing)this._begin();var t=e.offsetWidth;if(!this._preComputing)this._end();return t},"margin-box-height":function(e){var t=this.get("border-box-height"),i=this.get("margin-top"),n=this.get("margin-bottom");if(t<=0)return 0;return t+i+n},"margin-box-width":function(e){var t=this.get("border-box-width"),i=this.get("margin-left"),n=this.get("margin-right");if(t<=0)return 0;return t+i+n},top:function(e){var t=e.positionedOffset();return t.top},bottom:function(e){var t=e.positionedOffset(),i=e.getOffsetParent(),n=i.measure("height");var r=this.get("border-box-height");return n-r-t.top},left:function(e){var t=e.positionedOffset();return t.left},right:function(e){var t=e.positionedOffset(),i=e.getOffsetParent(),n=i.measure("width");var r=this.get("border-box-width");return n-r-t.left},"padding-top":function(e){return t(e,"paddingTop")},"padding-bottom":function(e){return t(e,"paddingBottom")},"padding-left":function(e){return t(e,"paddingLeft")},"padding-right":function(e){return t(e,"paddingRight")},"border-top":function(e){return t(e,"borderTopWidth")},"border-bottom":function(e){return t(e,"borderBottomWidth")},"border-left":function(e){return t(e,"borderLeftWidth")},"border-right":function(e){return t(e,"borderRightWidth")},"margin-top":function(e){return t(e,"marginTop")},"margin-bottom":function(e){return t(e,"marginBottom")},"margin-left":function(e){return t(e,"marginLeft")},"margin-right":function(e){return t(e,"marginRight")}}});if("getBoundingClientRect"in document.documentElement){Object.extend(Element.Layout.COMPUTATIONS,{right:function(e){var t=r(e.getOffsetParent());var i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return(n.right-i.right).round()},bottom:function(e){var t=r(e.getOffsetParent());var i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return(n.bottom-i.bottom).round()}})}Element.Offset=Class.create({initialize:function(e,t){this.left=e.round();this.top=t.round();this[0]=this.left;this[1]=this.top},relativeTo:function(e){return new Element.Offset(this.left-e.left,this.top-e.top)},inspect:function(){return"#<Element.Offset left: #{left} top: #{top}>".interpolate(this)},toString:function(){return"[#{left}, #{top}]".interpolate(this)},toArray:function(){return[this.left,this.top]}});function s(e,t){return new Element.Layout(e,t)}function a(e,t){return $(e).getLayout().get(t)}function l(e){e=$(e);var t=Element.getStyle(e,"display");if(t&&t!=="none"){return{width:e.offsetWidth,height:e.offsetHeight}}var i=e.style;var n={visibility:i.visibility,position:i.position,display:i.display};var r={visibility:"hidden",display:"block"};if(n.position!=="fixed")r.position="absolute";Element.setStyle(e,r);var o={width:e.offsetWidth,height:e.offsetHeight};Element.setStyle(e,n);return o}function c(e){e=$(e);if(w(e)||b(e)||g(e)||v(e))return $(document.body);var t=Element.getStyle(e,"display")==="inline";if(!t&&e.offsetParent)return $(e.offsetParent);while((e=e.parentNode)&&e!==document.body){if(Element.getStyle(e,"position")!=="static"){return v(e)?$(document.body):$(e)}}return $(document.body)}function u(e){e=$(e);var t=0,i=0;if(e.parentNode){do{t+=e.offsetTop||0;i+=e.offsetLeft||0;e=e.offsetParent}while(e)}return new Element.Offset(i,t)}function d(e){e=$(e);var t=e.getLayout();var i=0,n=0;do{i+=e.offsetTop||0;n+=e.offsetLeft||0;e=e.offsetParent;if(e){if(g(e))break;var r=Element.getStyle(e,"position");if(r!=="static")break}}while(e);n-=t.get("margin-top");i-=t.get("margin-left");return new Element.Offset(n,i)}function f(e){var t=0,i=0;do{t+=e.scrollTop||0;i+=e.scrollLeft||0;e=e.parentNode}while(e);return new Element.Offset(i,t)}function h(e){r=$(r);var t=0,i=0,n=document.body;var r=e;do{t+=r.offsetTop||0;i+=r.offsetLeft||0;if(r.offsetParent==n&&Element.getStyle(r,"position")=="absolute")break}while(r=r.offsetParent);r=e;do{if(r!=n){t-=r.scrollTop||0;i-=r.scrollLeft||0}}while(r=r.parentNode);return new Element.Offset(i,t)}function p(e){e=$(e);if(Element.getStyle(e,"position")==="absolute"){return e}var t=c(e);var i=e.viewportOffset(),n=t.viewportOffset();var r=i.relativeTo(n);var o=e.getLayout();e.store("prototype_absolutize_original_styles",{left:e.getStyle("left"),top:e.getStyle("top"),width:e.getStyle("width"),height:e.getStyle("height")});e.setStyle({position:"absolute",top:r.top+"px",left:r.left+"px",width:o.get("width")+"px",height:o.get("height")+"px"});return e}function m(e){e=$(e);if(Element.getStyle(e,"position")==="relative"){return e}var t=e.retrieve("prototype_absolutize_original_styles");if(t)e.setStyle(t);return e}if(Prototype.Browser.IE){c=c.wrap(function(e,t){t=$(t);if(w(t)||b(t)||g(t)||v(t))return $(document.body);var i=t.getStyle("position");if(i!=="static")return e(t);t.setStyle({position:"relative"});var n=e(t);t.setStyle({position:i});return n});d=d.wrap(function(e,t){t=$(t);if(!t.parentNode)return new Element.Offset(0,0);var i=t.getStyle("position");if(i!=="static")return e(t);var n=t.getOffsetParent();if(n&&n.getStyle("position")==="fixed")r(n);t.setStyle({position:"relative"});var o=e(t);t.setStyle({position:i});return o})}else if(Prototype.Browser.Webkit){u=function(e){e=$(e);var t=0,i=0;do{t+=e.offsetTop||0;i+=e.offsetLeft||0;if(e.offsetParent==document.body)if(Element.getStyle(e,"position")=="absolute")break;e=e.offsetParent}while(e);return new Element.Offset(i,t)}}Element.addMethods({getLayout:s,measure:a,getDimensions:l,getOffsetParent:c,cumulativeOffset:u,positionedOffset:d,cumulativeScrollOffset:f,viewportOffset:h,absolutize:p,relativize:m});function g(e){return e.nodeName.toUpperCase()==="BODY"}function v(e){return e.nodeName.toUpperCase()==="HTML"}function w(e){return e.nodeType===Node.DOCUMENT_NODE}function b(e){return e!==document.body&&!Element.descendantOf(e,document.body)}if("getBoundingClientRect"in document.documentElement){Element.addMethods({viewportOffset:function(e){e=$(e);if(b(e))return new Element.Offset(0,0);var t=e.getBoundingClientRect(),i=document.documentElement;return new Element.Offset(t.left-i.clientLeft,t.top-i.clientTop)}})}})();window.$$=function(){var e=$A(arguments).join(", ");return Prototype.Selector.select(e,document)};Prototype.Selector=function(){function e(){throw new Error('Method "Prototype.Selector.select" must be defined.')}function t(){throw new Error('Method "Prototype.Selector.match" must be defined.')}function i(e,t,i){i=i||0;var n=Prototype.Selector.match,r=e.length,o=0,s;for(s=0;s<r;s++){if(n(e[s],t)&&i==o++){return Element.extend(e[s])}}}function n(e){for(var t=0,i=e.length;t<i;t++){Element.extend(e[t])}return e}var r=Prototype.K;return{select:e,match:t,find:i,extendElements:Element.extend===r?r:n,extendElement:Element.extend}}();Prototype._original_property=window.Sizzle;(function(){var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,t=0,i=Object.prototype.toString,n=false,r=true;[0,0].sort(function(){r=false;return 0});var o=function(t,n,r,l){r=r||[];var u=n=n||document;if(n.nodeType!==1&&n.nodeType!==9){return[]}if(!t||typeof t!=="string"){return r}var d=[],f,g,v,w,b,y,_=true,E=p(n),T=t;while((e.exec(""),f=e.exec(T))!==null){T=f[3];d.push(f[1]);if(f[2]){y=f[3];break}}if(d.length>1&&a.exec(t)){if(d.length===2&&s.relative[d[0]]){g=m(d[0]+d[1],n)}else{g=s.relative[d[0]]?[n]:o(d.shift(),n);while(d.length){t=d.shift();if(s.relative[t])t+=d.shift();g=m(t,g)}}}else{if(!l&&d.length>1&&n.nodeType===9&&!E&&s.match.ID.test(d[0])&&!s.match.ID.test(d[d.length-1])){var C=o.find(d.shift(),n,E);n=C.expr?o.filter(C.expr,C.set)[0]:C.set[0]}if(n){var C=l?{expr:d.pop(),set:c(l)}:o.find(d.pop(),d.length===1&&(d[0]==="~"||d[0]==="+")&&n.parentNode?n.parentNode:n,E);g=C.expr?o.filter(C.expr,C.set):C.set;if(d.length>0){v=c(g)}else{_=false}while(d.length){var S=d.pop(),I=S;if(!s.relative[S]){S=""}else{I=d.pop()}if(I==null){I=n}s.relative[S](v,I,E)}}else{v=d=[]}}if(!v){v=g}if(!v){throw"Syntax error, unrecognized expression: "+(S||t)}if(i.call(v)==="[object Array]"){if(!_){r.push.apply(r,v)}else if(n&&n.nodeType===1){for(var O=0;v[O]!=null;O++){if(v[O]&&(v[O]===true||v[O].nodeType===1&&h(n,v[O]))){r.push(g[O])}}}else{for(var O=0;v[O]!=null;O++){if(v[O]&&v[O].nodeType===1){r.push(g[O])}}}}else{c(v,r)}if(y){o(y,u,r,l);o.uniqueSort(r)}return r};o.uniqueSort=function(e){if(u){n=r;e.sort(u);if(n){for(var t=1;t<e.length;t++){if(e[t]===e[t-1]){e.splice(t--,1)}}}}return e};o.matches=function(e,t){return o(e,null,null,t)};o.find=function(e,t,i){var n,r;if(!e){return[]}for(var o=0,a=s.order.length;o<a;o++){var l=s.order[o],r;if(r=s.leftMatch[l].exec(e)){var c=r[1];r.splice(1,1);if(c.substr(c.length-1)!=="\\"){r[1]=(r[1]||"").replace(/\\/g,"");n=s.find[l](r,t,i);if(n!=null){e=e.replace(s.match[l],"");break}}}}if(!n){n=t.getElementsByTagName("*")}return{set:n,expr:e}};o.filter=function(e,t,i,n){var r=e,o=[],a=t,l,c,u=t&&t[0]&&p(t[0]);while(e&&t.length){for(var d in s.filter){if((l=s.match[d].exec(e))!=null){var f=s.filter[d],h,m;c=false;if(a==o){o=[]}if(s.preFilter[d]){l=s.preFilter[d](l,a,i,o,n,u);if(!l){c=h=true}else if(l===true){continue}}if(l){for(var g=0;(m=a[g])!=null;g++){if(m){h=f(m,l,g,a);var v=n^!!h;if(i&&h!=null){if(v){c=true}else{a[g]=false}}else if(v){o.push(m);c=true}}}}if(h!==undefined){if(!i){a=o}e=e.replace(s.match[d],"");if(!c){return[]}break}}}if(e==r){if(c==null){throw"Syntax error, unrecognized expression: "+e}else{break}}r=e}return a};var s=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,i){var n=typeof t==="string",r=n&&!/\W/.test(t),s=n&&!r;if(r&&!i){t=t.toUpperCase()}for(var a=0,l=e.length,c;a<l;a++){if(c=e[a]){while((c=c.previousSibling)&&c.nodeType!==1){}e[a]=s||c&&c.nodeName===t?c||false:c===t}}if(s){o.filter(t,e,true)}},">":function(e,t,i){var n=typeof t==="string";if(n&&!/\W/.test(t)){t=i?t:t.toUpperCase();for(var r=0,s=e.length;r<s;r++){var a=e[r];if(a){var l=a.parentNode;e[r]=l.nodeName===t?l:false}}}else{for(var r=0,s=e.length;r<s;r++){var a=e[r];if(a){e[r]=n?a.parentNode:a.parentNode===t}}if(n){o.filter(t,e,true)}}},"":function(e,i,n){var r=t++,o=f;if(!/\W/.test(i)){var s=i=n?i:i.toUpperCase();o=d}o("parentNode",i,r,e,s,n)},"~":function(e,i,n){var r=t++,o=f;if(typeof i==="string"&&!/\W/.test(i)){var s=i=n?i:i.toUpperCase();o=d}o("previousSibling",i,r,e,s,n)}},find:{ID:function(e,t,i){if(typeof t.getElementById!=="undefined"&&!i){var n=t.getElementById(e[1]);return n?[n]:[]}},NAME:function(e,t,i){if(typeof t.getElementsByName!=="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var o=0,s=r.length;o<s;o++){if(r[o].getAttribute("name")===e[1]){n.push(r[o])}}return n.length===0?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,i,n,r,o){e=" "+e[1].replace(/\\/g,"")+" ";if(o){return e}for(var s=0,a;(a=t[s])!=null;s++){if(a){if(r^(a.className&&(" "+a.className+" ").indexOf(e)>=0)){if(!i)n.push(a)}else if(i){t[s]=false}}}return false},ID:function(e){return e[1].replace(/\\/g,"")},TAG:function(e,t){for(var i=0;t[i]===false;i++){}return t[i]&&p(t[i])?e[1]:e[1].toUpperCase()},CHILD:function(e){if(e[1]=="nth"){var i=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(e[2]=="even"&&"2n"||e[2]=="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=i[1]+(i[2]||1)-0;e[3]=i[3]-0}e[0]=t++;return e},ATTR:function(e,t,i,n,r,o){var a=e[1].replace(/\\/g,"");if(!o&&s.attrMap[a]){e[1]=s.attrMap[a]}if(e[2]==="~="){e[4]=" "+e[4]+" "}return e},PSEUDO:function(t,i,n,r,a){if(t[1]==="not"){if((e.exec(t[3])||"").length>1||/^\w/.test(t[3])){t[3]=o(t[3],null,null,i)}else{var l=o.filter(t[3],i,n,true^a);if(!n){r.push.apply(r,l)}return false}}else if(s.match.POS.test(t[0])||s.match.CHILD.test(t[0])){return true}return t},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){e.parentNode.selectedIndex;return e.selected===true},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,i){return!!o(i[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||e.nodeName.toUpperCase()==="BUTTON"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return t===0},last:function(e,t,i,n){return t===n.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,i){return t<i[3]-0},gt:function(e,t,i){return t>i[3]-0},nth:function(e,t,i){return i[3]-0==t},eq:function(e,t,i){return i[3]-0==t}},filter:{PSEUDO:function(e,t,i,n){var r=t[1],o=s.filters[r];if(o){return o(e,i,t,n)}else if(r==="contains"){return(e.textContent||e.innerText||"").indexOf(t[3])>=0}else if(r==="not"){var a=t[3];for(var i=0,l=a.length;i<l;i++){if(a[i]===e){return false}}return true}},CHILD:function(e,t){var i=t[1],n=e;switch(i){case"only":case"first":while(n=n.previousSibling){if(n.nodeType===1)return false}if(i=="first")return true;n=e;case"last":while(n=n.nextSibling){if(n.nodeType===1)return false}return true;case"nth":var r=t[2],o=t[3];if(r==1&&o==0){return true}var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(n=a.firstChild;n;n=n.nextSibling){if(n.nodeType===1){n.nodeIndex=++l}}a.sizcache=s}var c=e.nodeIndex-o;if(r==0){return c==0}else{return c%r==0&&c/r>=0}}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||e.nodeName===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var i=t[1],n=s.attrHandle[i]?s.attrHandle[i](e):e[i]!=null?e[i]:e.getAttribute(i),r=n+"",o=t[2],a=t[4];return n==null?o==="!=":o==="="?r===a:o==="*="?r.indexOf(a)>=0:o==="~="?(" "+r+" ").indexOf(a)>=0:!a?r&&n!==false:o==="!="?r!=a:o==="^="?r.indexOf(a)===0:o==="$="?r.substr(r.length-a.length)===a:o==="|="?r===a||r.substr(0,a.length+1)===a+"-":false},POS:function(e,t,i,n){var r=t[2],o=s.setFilters[r];if(o){return o(e,i,t,n)}}}};var a=s.match.POS;for(var l in s.match){s.match[l]=new RegExp(s.match[l].source+/(?![^\[]*\])(?![^\(]*\))/.source);s.leftMatch[l]=new RegExp(/(^(?:.|\r|\n)*?)/.source+s.match[l].source)}var c=function(e,t){e=Array.prototype.slice.call(e,0);if(t){t.push.apply(t,e);return t}return e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(e){c=function(e,t){var n=t||[];if(i.call(e)==="[object Array]"){Array.prototype.push.apply(n,e)}else{if(typeof e.length==="number"){for(var r=0,o=e.length;r<o;r++){n.push(e[r])}}else{for(var r=0;e[r];r++){n.push(e[r])}}}return n}}var u;if(document.documentElement.compareDocumentPosition){u=function(e,t){if(!e.compareDocumentPosition||!t.compareDocumentPosition){if(e==t){n=true}return 0}var i=e.compareDocumentPosition(t)&4?-1:e===t?0:1;if(i===0){n=true}return i}}else if("sourceIndex"in document.documentElement){u=function(e,t){if(!e.sourceIndex||!t.sourceIndex){if(e==t){n=true}return 0}var i=e.sourceIndex-t.sourceIndex;if(i===0){n=true}return i}}else if(document.createRange){u=function(e,t){if(!e.ownerDocument||!t.ownerDocument){if(e==t){n=true}return 0}var i=e.ownerDocument.createRange(),r=t.ownerDocument.createRange();i.setStart(e,0);i.setEnd(e,0);r.setStart(t,0);r.setEnd(t,0);var o=i.compareBoundaryPoints(Range.START_TO_END,r);if(o===0){n=true}return o}}(function(){var e=document.createElement("div"),t="script"+(new Date).getTime();e.innerHTML="<a name='"+t+"'/>";var i=document.documentElement;i.insertBefore(e,i.firstChild);if(!!document.getElementById(t)){s.find.ID=function(e,t,i){if(typeof t.getElementById!=="undefined"&&!i){var n=t.getElementById(e[1]);return n?n.id===e[1]||typeof n.getAttributeNode!=="undefined"&&n.getAttributeNode("id").nodeValue===e[1]?[n]:undefined:[]}};s.filter.ID=function(e,t){var i=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&i&&i.nodeValue===t}}i.removeChild(e);i=e=null})();(function(){var e=document.createElement("div");e.appendChild(document.createComment(""));if(e.getElementsByTagName("*").length>0){s.find.TAG=function(e,t){var i=t.getElementsByTagName(e[1]);if(e[1]==="*"){var n=[];for(var r=0;i[r];r++){if(i[r].nodeType===1){n.push(i[r])}}i=n}return i}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){s.attrHandle.href=function(e){return e.getAttribute("href",2)}}e=null})();if(document.querySelectorAll)(function(){var e=o,t=document.createElement("div");t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0){return}o=function(t,i,n,r){i=i||document;if(!r&&i.nodeType===9&&!p(i)){try{return c(i.querySelectorAll(t),n)}catch(e){}}return e(t,i,n,r)};for(var i in e){o[i]=e[i]}t=null})();if(document.getElementsByClassName&&document.documentElement.getElementsByClassName)(function(){var e=document.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(e.getElementsByClassName("e").length===0)return;e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;s.order.splice(1,0,"CLASS");s.find.CLASS=function(e,t,i){if(typeof t.getElementsByClassName!=="undefined"&&!i){return t.getElementsByClassName(e[1])}};e=null})();function d(e,t,i,n,r,o){var s=e=="previousSibling"&&!o;for(var a=0,l=n.length;a<l;a++){var c=n[a];if(c){if(s&&c.nodeType===1){c.sizcache=i;c.sizset=a}c=c[e];var u=false;while(c){if(c.sizcache===i){u=n[c.sizset];break}if(c.nodeType===1&&!o){c.sizcache=i;c.sizset=a}if(c.nodeName===t){u=c;break}c=c[e]}n[a]=u}}}function f(e,t,i,n,r,s){var a=e=="previousSibling"&&!s;for(var l=0,c=n.length;l<c;l++){var u=n[l];if(u){if(a&&u.nodeType===1){u.sizcache=i;u.sizset=l}u=u[e];var d=false;while(u){if(u.sizcache===i){d=n[u.sizset];break}if(u.nodeType===1){if(!s){u.sizcache=i;u.sizset=l}if(typeof t!=="string"){if(u===t){d=true;break}}else if(o.filter(t,[u]).length>0){d=u;break}}u=u[e]}n[l]=d}}}var h=document.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)&16}:function(e,t){return e!==t&&(e.contains?e.contains(t):true)};var p=function(e){return e.nodeType===9&&e.documentElement.nodeName!=="HTML"||!!e.ownerDocument&&e.ownerDocument.documentElement.nodeName!=="HTML"};var m=function(e,t){var i=[],n="",r,a=t.nodeType?[t]:t;while(r=s.match.PSEUDO.exec(e)){n+=r[0];e=e.replace(s.match.PSEUDO,"")}e=s.relative[e]?e+"*":e;for(var l=0,c=a.length;l<c;l++){o(e,a[l],i)}return o.filter(n,i)};window.Sizzle=o})();(function(e){var t=Prototype.Selector.extendElements;function i(i,n){return t(e(i,n||document))}function n(t,i){return e.matches(i,[t]).length==1}Prototype.Selector.engine=e;Prototype.Selector.select=i;Prototype.Selector.match=n})(Sizzle);window.Sizzle=Prototype._original_property;delete Prototype._original_property;var Form={reset:function(e){e=$(e);e.reset();return e},serializeElements:function(e,t){if(typeof t!="object")t={hash:!!t};else if(Object.isUndefined(t.hash))t.hash=true;var i,n,r=false,o=t.submit,s,a;if(t.hash){a={};s=function(e,t,i){if(t in e){if(!Object.isArray(e[t]))e[t]=[e[t]];e[t].push(i)}else e[t]=i;return e}}else{a="";s=function(e,t,i){return e+(e?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(i)}}return e.inject(a,function(e,t){if(!t.disabled&&t.name){i=t.name;n=$(t).getValue();if(n!=null&&t.type!="file"&&(t.type!="submit"||!r&&o!==false&&(!o||i==o)&&(r=true))){e=s(e,i,n)}}return e})}};Form.Methods={serialize:function(e,t){return Form.serializeElements(Form.getElements(e),t)},getElements:function(e){var t=$(e).getElementsByTagName("*"),i,n=[],r=Form.Element.Serializers;for(var o=0;i=t[o];o++){n.push(i)}return n.inject([],function(e,t){if(r[t.tagName.toLowerCase()])e.push(Element.extend(t));return e})},getInputs:function(e,t,i){e=$(e);var n=e.getElementsByTagName("input");if(!t&&!i)return $A(n).map(Element.extend);for(var r=0,o=[],s=n.length;r<s;r++){var a=n[r];if(t&&a.type!=t||i&&a.name!=i)continue;o.push(Element.extend(a))}return o},disable:function(e){e=$(e);Form.getElements(e).invoke("disable");return e},enable:function(e){e=$(e);Form.getElements(e).invoke("enable");return e},findFirstElement:function(e){var t=$(e).getElements().findAll(function(e){return"hidden"!=e.type&&!e.disabled});var i=t.findAll(function(e){return e.hasAttribute("tabIndex")&&e.tabIndex>=0}).sortBy(function(e){return e.tabIndex}).first();return i?i:t.find(function(e){return/^(?:input|select|textarea)$/i.test(e.tagName)})},focusFirstElement:function(e){e=$(e);var t=e.findFirstElement();if(t)t.activate();return e},request:function(e,t){e=$(e),t=Object.clone(t||{});var i=t.parameters,n=e.readAttribute("action")||"";if(n.blank())n=window.location.href;t.parameters=e.serialize(true);if(i){if(Object.isString(i))i=i.toQueryParams();Object.extend(t.parameters,i)}if(e.hasAttribute("method")&&!t.method)t.method=e.method;return new Ajax.Request(n,t)}};Form.Element={focus:function(e){$(e).focus();return e;
},select:function(e){$(e).select();return e}};Form.Element.Methods={serialize:function(e){e=$(e);if(!e.disabled&&e.name){var t=e.getValue();if(t!=undefined){var i={};i[e.name]=t;return Object.toQueryString(i)}}return""},getValue:function(e){e=$(e);var t=e.tagName.toLowerCase();return Form.Element.Serializers[t](e)},setValue:function(e,t){e=$(e);var i=e.tagName.toLowerCase();Form.Element.Serializers[i](e,t);return e},clear:function(e){$(e).value="";return e},present:function(e){return $(e).value!=""},activate:function(e){e=$(e);try{e.focus();if(e.select&&(e.tagName.toLowerCase()!="input"||!/^(?:button|reset|submit)$/i.test(e.type)))e.select()}catch(e){}return e},disable:function(e){e=$(e);e.disabled=true;return e},enable:function(e){e=$(e);e.disabled=false;return e}};var Field=Form.Element;var $F=Form.Element.Methods.getValue;Form.Element.Serializers=function(){function e(e,n){switch(e.type.toLowerCase()){case"checkbox":case"radio":return t(e,n);default:return i(e,n)}}function t(e,t){if(Object.isUndefined(t))return e.checked?e.value:null;else e.checked=!!t}function i(e,t){if(Object.isUndefined(t))return e.value;else e.value=t}function n(e,t){if(Object.isUndefined(t))return(e.type==="select-one"?r:o)(e);var i,n,s=!Object.isArray(t);for(var a=0,l=e.length;a<l;a++){i=e.options[a];n=this.optionValue(i);if(s){if(n==t){i.selected=true;return}}else i.selected=t.include(n)}}function r(e){var t=e.selectedIndex;return t>=0?s(e.options[t]):null}function o(e){var t,i=e.length;if(!i)return null;for(var n=0,t=[];n<i;n++){var r=e.options[n];if(r.selected)t.push(s(r))}return t}function s(e){return Element.hasAttribute(e,"value")?e.value:e.text}return{input:e,inputSelector:t,textarea:i,select:n,selectOne:r,selectMany:o,optionValue:s,button:i}}();Abstract.TimedObserver=Class.create(PeriodicalExecuter,{initialize:function($super,e,t,i){$super(i,t);this.element=$(e);this.lastValue=this.getValue()},execute:function(){var e=this.getValue();if(Object.isString(this.lastValue)&&Object.isString(e)?this.lastValue!=e:String(this.lastValue)!=String(e)){this.callback(this.element,e);this.lastValue=e}}});Form.Element.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.Observer=Class.create(Abstract.TimedObserver,{getValue:function(){return Form.serialize(this.element)}});Abstract.EventObserver=Class.create({initialize:function(e,t){this.element=$(e);this.callback=t;this.lastValue=this.getValue();if(this.element.tagName.toLowerCase()=="form")this.registerFormCallbacks();else this.registerCallback(this.element)},onElementEvent:function(){var e=this.getValue();if(this.lastValue!=e){this.callback(this.element,e);this.lastValue=e}},registerFormCallbacks:function(){Form.getElements(this.element).each(this.registerCallback,this)},registerCallback:function(e){if(e.type){switch(e.type.toLowerCase()){case"checkbox":case"radio":Event.observe(e,"click",this.onElementEvent.bind(this));break;default:Event.observe(e,"change",this.onElementEvent.bind(this));break}}}});Form.Element.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.Element.getValue(this.element)}});Form.EventObserver=Class.create(Abstract.EventObserver,{getValue:function(){return Form.serialize(this.element)}});(function(){var e={KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45,cache:{}};var t=document.documentElement;var i="onmouseenter"in t&&"onmouseleave"in t;var n=function(e){return false};if(window.attachEvent){if(window.addEventListener){n=function(e){return!(e instanceof window.Event)}}else{n=function(e){return true}}}var r;function o(e,t){return e.which?e.which===t+1:e.button===t}var s={0:1,1:4,2:2};function a(e,t){return e.button===s[t]}function l(e,t){switch(t){case 0:return e.which==1&&!e.metaKey;case 1:return e.which==2||e.which==1&&e.metaKey;case 2:return e.which==3;default:return false}}if(window.attachEvent){if(!window.addEventListener){r=a}else{r=function(e,t){return n(e)?a(e,t):o(e,t)}}}else if(Prototype.Browser.WebKit){r=l}else{r=o}function c(e){return r(e,0)}function u(e){return r(e,1)}function d(e){return r(e,2)}function f(t){t=e.extend(t);var i=t.target,n=t.type,r=t.currentTarget;if(r&&r.tagName){if(n==="load"||n==="error"||n==="click"&&r.tagName.toLowerCase()==="input"&&r.type==="radio")i=r}if(i.nodeType==Node.TEXT_NODE)i=i.parentNode;return Element.extend(i)}function h(t,i){var n=e.element(t);if(!i)return n;while(n){if(Object.isElement(n)&&Prototype.Selector.match(n,i)){return Element.extend(n)}n=n.parentNode}}function p(e){return{x:m(e),y:g(e)}}function m(e){var t=document.documentElement,i=document.body||{scrollLeft:0};return e.pageX||e.clientX+(t.scrollLeft||i.scrollLeft)-(t.clientLeft||0)}function g(e){var t=document.documentElement,i=document.body||{scrollTop:0};return e.pageY||e.clientY+(t.scrollTop||i.scrollTop)-(t.clientTop||0)}function v(t){e.extend(t);t.preventDefault();t.stopPropagation();t.stopped=true}e.Methods={isLeftClick:c,isMiddleClick:u,isRightClick:d,element:f,findElement:h,pointer:p,pointerX:m,pointerY:g,stop:v};var w=Object.keys(e.Methods).inject({},function(t,i){t[i]=e.Methods[i].methodize();return t});if(window.attachEvent){function b(e){var t;switch(e.type){case"mouseover":case"mouseenter":t=e.fromElement;break;case"mouseout":case"mouseleave":t=e.toElement;break;default:return null}return Element.extend(t)}var y={stopPropagation:function(){this.cancelBubble=true},preventDefault:function(){this.returnValue=false},inspect:function(){return"[object Event]"}};e.extend=function(t,i){if(!t)return false;if(!n(t))return t;if(t._extendedByPrototype)return t;t._extendedByPrototype=Prototype.emptyFunction;var r=e.pointer(t);Object.extend(t,{target:t.srcElement||i,relatedTarget:b(t),pageX:r.x,pageY:r.y});Object.extend(t,w);Object.extend(t,y);return t}}else{e.extend=Prototype.K}if(window.addEventListener){e.prototype=window.Event.prototype||document.createEvent("HTMLEvents").__proto__;Object.extend(e.prototype,w)}function _(t,n,r){var o=Element.retrieve(t,"prototype_event_registry");if(Object.isUndefined(o)){T.push(t);o=Element.retrieve(t,"prototype_event_registry",$H())}var s=o.get(n);if(Object.isUndefined(s)){s=[];o.set(n,s)}if(s.pluck("handler").include(r))return false;var a;if(n.include(":")){a=function(i){if(Object.isUndefined(i.eventName))return false;if(i.eventName!==n)return false;e.extend(i,t);r.call(t,i)}}else{if(!i&&(n==="mouseenter"||n==="mouseleave")){if(n==="mouseenter"||n==="mouseleave"){a=function(i){e.extend(i,t);var n=i.relatedTarget;while(n&&n!==t){try{n=n.parentNode}catch(e){n=t}}if(n===t)return;r.call(t,i)}}}else{a=function(i){e.extend(i,t);r.call(t,i)}}}a.handler=r;s.push(a);return a}function E(){for(var t=0,i=T.length;t<i;t++){e.stopObserving(T[t]);T[t]=null}}var T=[];if(Prototype.Browser.IE)window.attachEvent("onunload",E);if(Prototype.Browser.WebKit)window.addEventListener("unload",Prototype.emptyFunction,false);var C=Prototype.K,S={mouseenter:"mouseover",mouseleave:"mouseout"};if(!i){C=function(e){return S[e]||e}}function I(e,t,i){e=$(e);var n=_(e,t,i);if(!n)return e;if(t.include(":")){if(e.addEventListener)e.addEventListener("dataavailable",n,false);else{e.attachEvent("ondataavailable",n);e.attachEvent("onlosecapture",n)}}else{var r=C(t);if(e.addEventListener)e.addEventListener(r,n,false);else e.attachEvent("on"+r,n)}return e}function O(e,t,i){e=$(e);var n=Element.retrieve(e,"prototype_event_registry");if(!n)return e;if(!t){n.each(function(t){var i=t.key;O(e,i)});return e}var r=n.get(t);if(!r)return e;if(!i){r.each(function(i){O(e,t,i.handler)});return e}var o=r.length,s;while(o--){if(r[o].handler===i){s=r[o];break}}if(!s)return e;if(t.include(":")){if(e.removeEventListener)e.removeEventListener("dataavailable",s,false);else{e.detachEvent("ondataavailable",s);e.detachEvent("onlosecapture",s)}}else{var a=C(t);if(e.removeEventListener)e.removeEventListener(a,s,false);else e.detachEvent("on"+a,s)}n.set(t,r.without(s));return e}function k(t,i,n,r){t=$(t);if(Object.isUndefined(r))r=true;if(t==document&&document.createEvent&&!t.dispatchEvent)t=document.documentElement;var o;if(document.createEvent){o=document.createEvent("HTMLEvents");o.initEvent("dataavailable",r,true)}else{o=document.createEventObject();o.eventType=r?"ondataavailable":"onlosecapture"}o.eventName=i;o.memo=n||{};if(document.createEvent)t.dispatchEvent(o);else t.fireEvent(o.eventType,o);return e.extend(o)}e.Handler=Class.create({initialize:function(e,t,i,n){this.element=$(e);this.eventName=t;this.selector=i;this.callback=n;this.handler=this.handleEvent.bind(this)},start:function(){e.observe(this.element,this.eventName,this.handler);return this},stop:function(){e.stopObserving(this.element,this.eventName,this.handler);return this},handleEvent:function(t){var i=e.findElement(t,this.selector);if(i)this.callback.call(this.element,t,i)}});function x(t,i,n,r){t=$(t);if(Object.isFunction(n)&&Object.isUndefined(r)){r=n,n=null}return new e.Handler(t,i,n,r).start()}Object.extend(e,e.Methods);Object.extend(e,{fire:k,observe:I,stopObserving:O,on:x});Element.addMethods({fire:k,observe:I,stopObserving:O,on:x});Object.extend(document,{fire:k.methodize(),observe:I.methodize(),stopObserving:O.methodize(),on:x.methodize(),loaded:false});if(window.Event)Object.extend(window.Event,e);else window.Event=e})();(function(){var e;function t(){if(document.loaded)return;if(e)window.clearTimeout(e);document.loaded=true;document.fire("dom:loaded")}function i(){if(document.readyState==="complete"){document.stopObserving("readystatechange",i);t()}}function n(){try{document.documentElement.doScroll("left")}catch(t){e=n.defer();return}t()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false)}else{document.observe("readystatechange",i);if(window==top)e=n.defer()}Event.observe(window,"load",t)})();Element.addMethods();Hash.toQueryString=Object.toQueryString;var Toggle={display:Element.toggle};Element.Methods.childOf=Element.Methods.descendantOf;var Insertion={Before:function(e,t){return Element.insert(e,{before:t})},Top:function(e,t){return Element.insert(e,{top:t})},Bottom:function(e,t){return Element.insert(e,{bottom:t})},After:function(e,t){return Element.insert(e,{after:t})}};var $continue=new Error('"throw $continue" is deprecated, use "return" instead');var Position={includeScrollOffsets:false,prepare:function(){this.deltaX=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;this.deltaY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},within:function(e,t,i){if(this.includeScrollOffsets)return this.withinIncludingScrolloffsets(e,t,i);this.xcomp=t;this.ycomp=i;this.offset=Element.cumulativeOffset(e);return i>=this.offset[1]&&i<this.offset[1]+e.offsetHeight&&t>=this.offset[0]&&t<this.offset[0]+e.offsetWidth},withinIncludingScrolloffsets:function(e,t,i){var n=Element.cumulativeScrollOffset(e);this.xcomp=t+n[0]-this.deltaX;this.ycomp=i+n[1]-this.deltaY;this.offset=Element.cumulativeOffset(e);return this.ycomp>=this.offset[1]&&this.ycomp<this.offset[1]+e.offsetHeight&&this.xcomp>=this.offset[0]&&this.xcomp<this.offset[0]+e.offsetWidth},overlap:function(e,t){if(!e)return 0;if(e=="vertical")return(this.offset[1]+t.offsetHeight-this.ycomp)/t.offsetHeight;if(e=="horizontal")return(this.offset[0]+t.offsetWidth-this.xcomp)/t.offsetWidth},cumulativeOffset:Element.Methods.cumulativeOffset,positionedOffset:Element.Methods.positionedOffset,absolutize:function(e){Position.prepare();return Element.absolutize(e)},relativize:function(e){Position.prepare();return Element.relativize(e)},realOffset:Element.Methods.cumulativeScrollOffset,offsetParent:Element.Methods.getOffsetParent,page:Element.Methods.viewportOffset,clone:function(e,t,i){i=i||{};return Element.clonePosition(t,e,i)}};if(!document.getElementsByClassName)document.getElementsByClassName=function(e){function t(e){return e.blank()?null:"[contains(concat(' ', @class, ' '), ' "+e+" ')]"}e.getElementsByClassName=Prototype.BrowserFeatures.XPath?function(e,i){i=i.toString().strip();var n=/\s/.test(i)?$w(i).map(t).join(""):t(i);return n?document._getElementsByXPath(".//*"+n,e):[]}:function(e,t){t=t.toString().strip();var i=[],n=/\s/.test(t)?$w(t):null;if(!n&&!t)return i;var r=$(e).getElementsByTagName("*");t=" "+t+" ";for(var o=0,s,a;s=r[o];o++){if(s.className&&(a=" "+s.className+" ")&&(a.include(t)||n&&n.all(function(e){return!e.toString().blank()&&a.include(" "+e+" ")})))i.push(Element.extend(s))}return i};return function(e,t){return $(t||document.body).getElementsByClassName(e)}}(Element.Methods);Element.ClassNames=Class.create();Element.ClassNames.prototype={initialize:function(e){this.element=$(e)},_each:function(e){this.element.className.split(/\s+/).select(function(e){return e.length>0})._each(e)},set:function(e){this.element.className=e},add:function(e){if(this.include(e))return;this.set($A(this).concat(e).join(" "))},remove:function(e){if(!this.include(e))return;this.set($A(this).without(e).join(" "))},toString:function(){return $A(this).join(" ")}};Object.extend(Element.ClassNames.prototype,Enumerable);(function(){window.Selector=Class.create({initialize:function(e){this.expression=e.strip()},findElements:function(e){return Prototype.Selector.select(this.expression,e)},match:function(e){return Prototype.Selector.match(e,this.expression)},toString:function(){return this.expression},inspect:function(){return"#<Selector: "+this.expression+">"}});Object.extend(Selector,{matchElements:function(e,t){var i=Prototype.Selector.match,n=[];for(var r=0,o=e.length;r<o;r++){var s=e[r];if(i(s,t)){n.push(Element.extend(s))}}return n},findElement:function(e,t,i){i=i||0;var n=0,r;for(var o=0,s=e.length;o<s;o++){r=e[o];if(Prototype.Selector.match(r,t)&&i===n++){return Element.extend(r)}}},findChildElements:function(e,t){var i=t.toArray().join(", ");return Prototype.Selector.select(i,e||document)}})})();window.P$=$;module.exports=$}).call(exports,__webpack_require__(16))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(36),i(10),i(60)],r=function(e,t,i,n){var r={};r.setContentFieldProperty=function(t,i,n){var o=r.getContentFieldProperty(t,i);if(o){o.property_result=n;var s=e("#"+o.ucfpid);if(s.length){s[0].value=n}}return!!o};r.getContentFieldProperty=function(e,t){var i=r.getContentField(e);if(i){return i.getProperty(t)}};r.getContentFieldProperties=function(e){var t=r.getContentField(e);if(t){return t.properties}};r.getContentField=function(e){return Weebly.pageContext.contentFieldsByID[e]||Weebly.siteContext.contentFieldsByID[e]};r.getElementByContentField=function(e){var i;if(Weebly.pageContext.contentFieldsByID[e]){i=Weebly.pageContext}else if(Weebly.siteContext.contentFieldsByID[e]){i=Weebly.siteContext}else{return null}return t.find(i.elementsByID,function(t){return t.content_fields[e]})};r.getElementObject=function(e){if(typeof e=="object"&&e.id){e=e.id.replace("inside_","")}var t;if(Weebly&&Weebly.pageContext&&Weebly.pageContext.elementsByID){t=Weebly.pageContext.elementsByID[e];if(t){return t}}if(Weebly&&Weebly.siteContext&&Weebly.siteContext.elementsByID){return Weebly.siteContext.elementsByID[e]}};r.getElementParentString=function(t){var i="";var r=e(t);var o=t.up();var s;if(o){s=o.up()}var a;if(s){a=s.up()}if(o&&o.hasClassName("wsite-com-long-description")){i=o.id}else if(a&&a.className.match(/column/)){i=a.id}else if(s&&s.className.match(/wsite-multicol-col/)){i=s.id}else if(r.closest("[data-"+n.HEADER_SECTION_PARENT_STRING_NAME+"]").length){i=r.closest("[data-"+n.HEADER_SECTION_PARENT_STRING_NAME+"]").data(n.HEADER_SECTION_PARENT_STRING_NAME)}else if(t.up(".formlist")){i=t.up(".formlist").id}else if(r.closest(".content-area-element").length){i=r.closest(".content-area-element").data("ucfid")+""}return i};r.getElementParentObject=function(t){if(!t){return null}var i=r.getElementObject(e("#"+t).closest("li.inside")[0]);if(i){return i}else{var n=e('[data-ucfid="'+t+'"]');if(n.length){return getElementObject(e(n[0]))}}return null};r.getElementSiblings=function(e,t){if(!t){t=r.getElementParentObject(e)}var i;if(i=e.match(/^(\d+)-lhs$/)){return t.leftChildren||t.columns[0]}else if(i=e.match(/^(\d+)-rhs$/)){return t.rightChildren||t.columns[1]}else if(i=e.match(/^(\d+)-col(\d+)$/)){if(!t.columns[i[2]]){t.columns[i[2]]=[]}return t.columns[i[2]]}else{return t.children}};r.repositionElements=function(){Weebly.siteContext.reposition();Weebly.pageContext.reposition();Weebly.Slideshow.updateSize()};r.newElement=function(e,t,n,o,s,a){var l,e=e||"";if(e.match(/[A-z0-9]+-col[0-9]+/)||e.match(/[A-z0-9]+-form-list/)){var c=r.getElementObject(s);if(!c||!c.addChild){return false}return c.addChild(t,n,e,a)}l=i.getAreaInstanceFromParent(o.is_site_wide,o.type,o.name,e);if(!l)return false;if(a){var u=l.sections.get(a);if(u){u.get("elementArea").addElement(t,n)}}else{l.addElement(t,n)}return true};t.extend(window,r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(225),i(47)],r=function(e,t,i,n){var r={currentThemeData:{},currentTheme:"",currentMobileTheme:"legacy",currentStandardTheme:"",currentThemeColor:window.currentThemeColor};r.setCurrentTheme=function(e,t){if(t){window.currentMobileTheme=e}else{window.currentStandardTheme=e}window.currentTheme=e};r.setCurrentThemeColor=function(e){window.currentThemeColor=e};r.setCurrentThemeData=function(e){if(r.currentThemeData===e){return}for(var i in r.currentThemeData){delete r.currentThemeData[i]}t.extend(r.currentThemeData,e)};r.getCurrentThemeData=function(t){var n=t?i.mobileThemeCache:i.themeCache;var r=t?window.currentMobileTheme:window.currentTheme;var o=e.Deferred();n.get(r,function(e){e.is_mobile=t;e.current_theme_color=window.currentThemeColor;o.resolve(e)});return o.promise()};r.getCurrentThemeHeaderSectionSettingValue=function(e,t,i){var o={};if(r.currentThemeData){o=r.currentThemeData}else{o=r.getCurrentThemeData(false)}if(o){var s=n.getNestedValue(o,["page-types",i,"header-section",e],null);if(s!==null){return s}return n.getNestedValue(o,["header-section",e],t)}return t};t.extend(window,r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(12),i(221),i(7),i(46)],r=function(e,t,i,n,r,o){var s=Class.create({tagName:"div",initialize:function(e,t){this.type=e.type;this.name=e.name||"";this.data=ensureObject(e.data);this.attrs={};this.context=t;if(this.name==this.type){this.name=""}if(!this.elID){this.elID=l()}},getHTML:function(){return"<"+this.tagName+" id='"+this.elID+"'"+" class='weebly-area weebly-"+this.type+"-area'"+">"+this.getInnerHTML()+"</"+this.tagName+">"},beforeRender:function(){},getInnerHTML:function(){return""},afterRender:function(){if(!this.el){return}var e=t.view.isMobileView;if(e&&this.data.mobileHidden||!e&&this.data.hidden){this.el.hide()}else{this.el.show()}},render:function(){this.beforeRender();this.el.innerHTML=this.getInnerHTML();this.afterRender()},rerender:function(){var e=this.el;if(e){this.unrender()}this.beforeRender();this.el=e;this.el.innerHTML=this.getInnerHTML();this.afterRender()},save:function(n){if(this.type=="text"){r.trigger(o.EVENTS.AREA_TEXT_EDITING_END,this.type,this.name,this.data.text)}if(i.chromeless){return}new Ajax.Request(window.ajax,{parameters:{pos:"savearea",page_id:this.context.pageID||"",area_type:this.type,area_name:this.name,area_data:Object.toJSON(this.data),extra_data:n?Object.toJSON(n):"",cookie:document.cookie,token:t.RequestToken},onSuccess:function(){if(["search","social","text"].indexOf(this.type)!==-1){var t=e.result(this.data,"hidden")?"hide":"show";r.execute("analytics:track:event",{object_category:"site",action:t,object_instance:window.currentSite,property:"area",value:this.type})}}.bind(this)})},hide:function(){if(this.el&&this.el.hide){this.el.hide()}else{r.execute("area:hideArea",this.type,this.name,this.context===t.siteContext)}if(t.view.isMobileView){this.data.mobileHidden=true}else{this.data.hidden=true}this.save()},show:function(){if(this.el){this.el.show()}else{r.execute("area:showArea",this.type,this.name,this.context===t.siteContext)}if(t.view.isMobileView){delete this.data.mobileHidden}else{delete this.data.hidden}this.save()},reposition:function(){},unrender:function(){},replaceArea:function(e){var t=new Element("div");t.innerHTML=this.getHTML();this.el=t.down();e.replace(this.el)}});var a=1;function l(){return"weebly-area-"+a++}n.call(s,"type");s.getNewElID=l;t.Area=s;return s}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(10)],r=function(e,t){var i={};i.getScrollContainer=function(){var i=e("#"+t.EDITOR_FRAME_ID).eq(0);if(i.length){return i}return e(window)};i.inSiteContext=function(){return i.getScrollContainer()[0]===window};i.inEditorContext=function(){return!i.inSiteContext()};i.executingInIframe=function(){return window!==window.top};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){(function(e){window.Weebly=window.Weebly||{};window.currentBlog={postId:0,newPost:0,title:"",categories:"",saving:0,permalink:"",comments:"",date:""};window.done=function(){return false};window.preloadedImages=Array();window.lastEventID;window.lastEventID=Array();window.checkContentEditable=function(){var e=new Element("div");var t=typeof e.contentEditable=="undefined"||typeof document.documentMode!="undefined"&&document.documentMode<10;if(t){window.showError('<div style="text-align:center;">'+window._W.utl("html.weebly.libraries.weebly_utils_18")+"<br/><br/><div style='width:350px; margin:10px auto; background:#FEEFDA;'><a href='http://www.firefox.com' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox'/></a><a href='http://www.browserforthebetter.com/download.html' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer'/></a><a href='http://www.apple.com/safari/download/' target='_blank' style='margin-right:15px;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari'/></a><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div></div>")}};window.Weebly.trackingArray=Array();window.fireTrackingEvent=function(e,t,i,n){try{n=n?n:0;if(!window.doTrackingEvent(e,t,i,n)){throw"Did not process tracking event"}if(window.Weebly.trackingArray.length>0){for(var r=0;r<window.Weebly.trackingArray.length;r++){var o=window.Weebly.trackingArray[r];window.doTrackingEvent(o.category,o.action,o.optional_label,o.optional_value)}window.Weebly.trackingArray=Array()}}catch(r){window.Weebly.trackingArray.push({category:e,action:t,optional_label:i,optional_value:n})}};window.doTrackingEvent=function(e,t,i,n){try{if(typeof pageTracker=="object"){window.pageTracker("send","event",e,t,i,parseInt(n))}else{window.ga("send","event",e,t,i,parseInt(n))}window.mpmetrics.track(e,{type:t})}catch(e){return false}return true};window.fireTransactionEvent=function(e,t,i,n,r){try{if(typeof pageTracker=="object"){window.pageTracker("require","ecommerce");window.pageTracker("ecommerce:addTransaction",{id:e,affiliation:n,revenue:i,shipping:0,tax:0});window.pageTracker("ecommerce:addItem",{id:e,name:t,sku:t,category:r,price:i,quantity:1});window.pageTracker("ecommerce:send")}else{if(window.ga){window.ga("require","ecommerce");window.ga("ecommerce:addTransaction",{id:e,affiliation:n,revenue:i,shipping:0,tax:0});window.ga("ecommerce:addItem",{id:e,name:t,sku:t,category:r,price:i,quantity:1});window.ga("ecommerce:send")}}window.mpmetrics.track("Purchase "+r)}catch(e){}};window.errorDialog;window.showError=function(t,i,n){if(typeof t=="string"){e("red-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_3"));e("red-error-text").update(t)}else{e("red-error-title").update(t.title);e("red-error-text").update(t.message)}if(!window.errorDialog){window.errorDialog=new window.Weebly.Dialog(e("red-error"),{inner_class:"weebly-dialog-inner-red",zIndex:9999,modal:1})}window.errorDialog.open();if(!n){window.fireTrackingEvent("WeeblyError","Error",t)}var r={pos:"oopserror",message:t,token:window.Weebly.RequestToken};if(typeof i==="object"&&i.request){r.ajax_request=i.request.body.match(/^.*?&cookie/)[0];r.ajax_response=i.responseText;r.ajax_status=i.status;r.server=i.getHeader("X-Host");if(i.request.times){r.ajax_start=i.request.times.start;r.ajax_initialized=i.request.times.initialized;r.ajax_sent=i.request.times.sent;r.ajax_response_start=i.request.times.response;r.ajax_complete=(new Date).getTime()-i.request.times.start;r.current_upload=i.request.concurrentUpload?1:0}}r.cookie=document.cookie;new window.Ajax.Request(window.ajax,{parameters:r,bgRequest:true});return window.errorDialog};window.hideError=function(){if(window.errorDialog){window.errorDialog.close()}};window.retriableErrorDialog;window.retriableAjax;window.showRetriableError=function(t,n,r){if(typeof retriableErrorDialog=="object"){window.retriableErrorDialog.close()}var o=i(54);var s=!o.isWhiteLabeled()?"<br/><br/>"+window._W.utl("html.weebly.libraries.weebly_utils_4"):"";s+="<br/><br/>";s+="<a href='#' onclick='window.location.href=\"/editor/exitEditor.php"+"\"' class='big-grey-button'><span class='button-inner'>"+window._W.utl("html.weebly.libraries.weebly_utils_5")+"</span></a>&nbsp;&nbsp;";s+="<a href='#' onclick='retryRetriableError();' class='big-blue-button'><span class='button-inner'>"+window._W.utl("html.weebly.libraries.weebly_utils_6")+"</span></a>";if(typeof t=="string"){e("red-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_7"));e("red-error-text").update(t+s);window.fireTrackingEvent("WeeblyError","Retriable Error",t)}else{e("red-error-title").update(t.title);e("red-error-text").update(t.message+s);window.fireTrackingEvent("WeeblyError","Retriable Error",t.message)}window.retriableErrorDialog=new window.Weebly.Dialog(e("red-error"),{inner_class:"weebly-dialog-inner-red",modal:1,showClose:r});window.retriableErrorDialog.open();try{var a={pos:"oopserror",message:typeof t=="string"?t:t.message,token:window.Weebly.RequestToken};if(typeof n==="object"&&!n.body.match(/oopserror/)){a.ajax_request=n.body.match(/^.*?&cookie/)[0];a.ajax_response=n.transport.responseText;a.ajax_status=n.transport.status;a.server=n.getHeader("X-Host");if(n.times){a.ajax_start=n.times.start;a.ajax_initialized=n.times.initialized;a.ajax_sent=n.times.sent;a.ajax_response_start=n.times.response;a.ajax_complete=(new Date).getTime()-n.times.start;a.current_upload=0}a.cookie=document.cookie;new window.Ajax.Request("/weebly/getElements.php",{parameters:a,bgRequest:true});window.retriableAjax=n}}catch(e){}return window.retriableErrorDialog};window.retryRetriableError=function(){window.hideRetriableError();window.retriableAjax.retry(true)};window.hideRetriableError=function(){if(window.retriableErrorDialog){window.retriableErrorDialog.close()}};window.warningDialog;window.showWarning=function(t,i){i=Object.extend({width:"585px",titleFontSize:"36px",showClose:true,closeFunction:null},i);e("orange-error").setStyle({width:i.width});e("orange-error-title").setStyle({fontSize:i.titleFontSize});if(typeof t=="string"){e("orange-error-title").update(window._W.utl("html.weebly.libraries.weebly_utils_8"));e("orange-error-text").update(t);window.fireTrackingEvent("WeeblyError","Warning",t)}else{e("orange-error-title").update(t.title);e("orange-error-text").update(t.message);window.fireTrackingEvent("WeeblyError","Warning",t.message)}if(i.okButton){e("orange-error-button").show().stopObserving("click").observe("click",function(){window.warningDialog.close()})}else{e("orange-error-button").hide()}window.warningDialog=new window.Weebly.Dialog(e("orange-error"),{inner_class:"weebly-dialog-inner-orange",modal:1,showClose:i.showClose,closeFunction:i.closeFunction});window.warningDialog.open();return window.warningDialog};window.showDeniedAction=function(e){window.jQuery("orange-error-title").setStyle({fontSize:"30px"}).update("Text Not Allowed");window.jQuery("orange-error-text").setStyle({marginTop:"25px",marginBottom:"25px"});var t=new Element("a",{class:"orange-button-29",href:"#",id:"closeWarning"}).update('<span class="bi">'+window._W.utl("html.weebly.libraries.weebly_utils_9")+"</span>").setStyle({marginBottom:"10px"}).observe("click",function(){window.warningDialog.close();window.jQuery("closeWarning").hide()});window.jQuery("orange-error-text").insert({after:t});window.showWarning(e)};window.hideWarning=function(){if(window.warningDialog){window.warningDialog.close()}};window.showDialogElement;window.showDialog=function(e,t){t=t||{};if(!window.showDialogElement){var i=new Element("div",{id:"showDialogElement",class:"orange-error weebly-text w-ui"});var n="";if(t.title){n+="<div class='orange-error-heading'>"+"<span class='orange-error-title' style='font-size:24px'>"+t.title+"</span>"+"</div>"}n+="<div class='orange-error-text'>"+e+"<div class='orange-error-buttons' style='margin-top:2em'></div>"+"</div>";i.update(n);window.showDialogElement=new window.Weebly.Dialog(i,{inner_class:"weebly-dialog-inner-orange"})}window.showDialogElement.open()};window.confirmDialog;window.lastConfirmOk=false;window.showConfirm=function(t){var i;window.lastConfirmOk=false;if(!window.confirmDialog){i=new Element("div",{id:"confirmDialogContent",class:"orange-error weebly-text w-ui"});window.confirmDialog=new window.Weebly.Dialog(i,{inner_class:"weebly-dialog-inner-orange"})}else{i=e("confirmDialogContent")}window.confirmDialog.options.onClose=function(){if(!window.lastConfirmOk&&t.onCancel){t.onCancel()}};i.update("<div class='orange-error-heading'>"+"<div class='orange-error-title'>"+t.title+"</div>"+"</div>"+"<div class='orange-error-text'>"+t.message+"<div class='orange-error-buttons' style='margin-top:2em'></div>"+"</div>");var n=new Element("button",{style:"padding:.5em 1em;cursor:pointer",class:"btn btn-default"}).update(t.okText||"OK").observe("click",function(){t.onConfirm();window.lastConfirmOk=true;window.confirmDialog.close()});var r=new Element("button",{style:"padding:.5em 1em;cursor:pointer",class:"btn btn-primary"}).update(t.cancelText||window._W.utl("html.weebly.libraries.weebly_utils_10")).observe("click",function(){window.confirmDialog.close()});i.select("div.orange-error-buttons")[0].insert(n).insert(" ").insert(r);window.confirmDialog.open()};window.whoisDialog;window.showUpdateWhois=function(t,i,n,r,o,s,a,l,c){e("CCState").value=e("whois-state").value;Event.fire(e("CCState"),"liszt:updated");e("whois-complete").onclick=function(){window.submitWhois();return false};e("whois-complete").style.opacity="1";e("whois-complete").disabled=false;e("whois-error").innerHTML="";var u=a&&a.amountFormatted?a.amountFormatted:s*10+".00";var d=a&&a.yearlyAmountFormatted?a.yearlyAmountFormatted:"$10";if(a&&a.tax){u+='<br><span class="whois-TaxAmount">(includes '+a.taxFormatted+" tax)</span>";e("whois-totalContainer").addClassName("has-tax")}e("whois-totalAmount").update(u);e("yearly-whois-price").update(d);e("whois-fields-domain").innerText=r+"."+o;e("whois-fields-userServiceID").value=n;if(t.match(/customDomainWhois/)){e("whoisProtectContainer-public").style.display="none";e("whoisProtect-public").name="whois-blank";e("whoisProtectContainer-private").style.display="none";e("whoisProtect-private").name="whois-blank";e("whoisProtectContainer-purchasedPrivate").style.display="block";e("whoisProtect-purchasedPrivate").name="whois-protect"}else if(i=="PayPal"){e("whoisProtectContainer-public").style.display="none";e("whoisProtect-public").name="whois-blank";e("whoisProtectContainer-private").style.display="none";e("whoisProtect-private").name="whois-blank";e("whoisProtect-purchasedPayPal").name="whois-protect"}window.whoisDialog=new window.Weebly.Dialog(e("update-whois"),{
modal:1,closeFunction:l||window.Weebly.goHome});window.whoisDialog.successFunction=c;window.whoisDialog.open()};window.submitWhois=function(){e("whois-complete").onclick=function(){return false};e("whois-complete").style.opacity="0.5";e("whois-complete").disabled=true;e("whois-error").innerHTML="";var t=[];var i=["whois-name","whois-email","whois-address","whois-city","whois-state","whois-zip","CCState","CCCountry","whois-phone"];for(var n=0;n<i.length;n++){if(i[n]!="CCCountry"&&i[n]!="CCState"||true){e(i[n]).parentNode.style.border="1px solid #999"}if(e(i[n]).value==""){if(i[n]=="CCState"&&e("CCCountry").value=="US"||i[n]=="whois-state"&&e("CCCountry").value!="US"||i[n]!="CCState"&&i[n]!="whois-state")t.push(i[n])}if(i[n]=="whois-name"&&!e(i[n]).value.match(" ")){t.push(i[n])}}if(t.length>0){for(var n=0;n<t.length;n++){e(t[n]).parentNode.style.border="1px solid red"}e("whois-complete").onclick=function(){window.submitWhois();return false};e("whois-complete").style.opacity="1";e("whois-complete").disabled=false;e("whois-error").innerHTML=window._W.utl("html.weebly.libraries.weebly_utils_19")}else{var r=e("whois-form").serialize(true);r.pos="updatedomainwhois";r.cookie=document.cookie;r.token=window.Weebly.RequestToken;new window.Ajax.Request(window.ajax,{parameters:r,onSuccess:window.handlerSubmitWhois,onFailure:window.errFunc})}};window.handlerSubmitWhois=function(t){if(t.responseText.match("%%SUCCESS%")){window.whoisDialog.close();if(window.whoisDialog.successFunction){window.whoisDialog.successFunction()}}else{e("whois-complete").onclick=function(){window.submitWhois();return false};e("whois-complete").style.opacity="1";e("whois-complete").disabled=false;e("whois-error").innerHTML=t.responseText}};window.selectWhoisSetting=function(t){if(t=="public"){e("whoisProtectContainer-private").removeClassName("multiple-choice-box-selected");e("whoisProtectContainer-public").addClassName("multiple-choice-box-selected");e("whoisProtect-public").checked=true;e("whois-totalContainer").style.display="none"}else{e("whoisProtectContainer-public").removeClassName("multiple-choice-box-selected");e("whoisProtectContainer-private").addClassName("multiple-choice-box-selected");e("whoisProtect-private").checked=true;e("whois-totalContainer").style.display="inline-block"}};window.showError2=function(t){e("errorText2").innerHTML=t;window.Effect.Appear("error2")};window.hoverOn=function(e,t){if(window.isIn(window.lastEventID,e)){}else{if(window.settingTooltips==1){var i;if(t==1){i=window._W.utl("html.weebly.libraries.weebly_utils_12")}if(t==2){i=window._W.utl("html.weebly.libraries.weebly_utils_13")}if(t==3){i=window._W.utl("html.weebly.libraries.weebly_utils_14")}window.showTip(i,e,"y",e,1);window.lastEventID.push(e)}}};window.hoverOff=function(e){if(window.settingTooltips==1){window.hideTip("tip"+e)}if(window.isIn(window.lastEventID,e)){window.lastEventID.splice(window.isIn(window.lastEventID,e),1)}};window.preloadImages=function(e){var t=e.split(",");for(var i=0;i<t.length;i++){var n=window.preloadedImages.length;window.preloadedImages[n]=new Image;window.preloadedImages[n].src=t[i]}};window.duplicateStyle=function(e,t,i){if(e.currentStyle){for(var n in e.currentStyle){var r=e.currentStyle[n];if(r!=""&&!(r instanceof Object)&&n!="length"&&n!="parentRule"&&n!="display"&&!n.match(/border/)&&!n.match(/margin/)&&!n.match(/line/)){if(n!="display"&&!n.match(/border/)&&!n.match(/margin/)){t.style[n]=r}if(n!="width"&&n!="height"&&!n.match(/padding/)&&!n.match(/border/)){i.style[n]=r}}}}else{var o=document.defaultView.getComputedStyle(e,"");for(var n in o){var r=o[n];if(r!=""&&!(r instanceof Object)&&n!="length"&&n!="parentRule"&&n!="display"&&!n.match(/border/)&&!n.match(/margin/)){if(n.match(/^[0-9]+$/)){n=r;r=o[n]}if(n!="cssText"&&n!="display"&&!n.match(/border/)&&!n.match(/margin/)&&!n.match(/webkit/)){t.style[n]=r}if(n!="width"&&n!="height"&&n!="maxWidth"&&n!="maxHeight"&&!n.match(/padding/)&&!n.match(/border/)){i.style[n]=r}}}}t.style.margin="0"};window.shortcut={all_shortcuts:{},add:function(e,t,i){var n={type:"keydown",propagate:false,disable_in_input:false,target:document,keycode:false};if(!i)i=n;else{for(var r in n){if(typeof i[r]=="undefined")i[r]=n[r]}}var o=i.target;if(typeof i.target=="string")o=document.getElementById(i.target);var s=this;e=e.toLowerCase();var a=function(n){n=n||window.event;if(i["disable_in_input"]){var r;if(n.target)r=n.target;else if(n.srcElement)r=n.srcElement;if(r.nodeType==3)r=r.parentNode;if(r.tagName=="INPUT"||r.tagName=="TEXTAREA")return}var o;if(n.keyCode)o=n.keyCode;else if(n.which)o=n.which;var s=String.fromCharCode(o).toLowerCase();if(o==188)s=",";if(o==190)s=".";var a=e.split("+");var l=0;var c={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var u={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};var d={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(n.ctrlKey)d.ctrl.pressed=true;if(n.shiftKey)d.shift.pressed=true;if(n.altKey)d.alt.pressed=true;if(n.metaKey)d.meta.pressed=true;for(var f=0;window.k=a[f],f<a.length;f++){if(window.k=="ctrl"||window.k=="control"){l++;d.ctrl.wanted=true}else if(window.k=="shift"){l++;d.shift.wanted=true}else if(window.k=="alt"){l++;d.alt.wanted=true}else if(window.k=="meta"){l++;d.meta.wanted=true}else if(window.k.length>1){if(u[window.k]==o)l++}else if(i["keycode"]){if(i["keycode"]==o)l++}else{if(s==window.k)l++;else{if(c[s]&&n.shiftKey){s=c[s];if(s==window.k)l++}}}}if(l==a.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted){t(n);Event.stop(n);return false;if(!i["propagate"]){return false}}return true};this.all_shortcuts[e]={callback:a,target:o,event:i["type"]};if(o.addEventListener)o.addEventListener(i["type"],a,false);else if(o.attachEvent)o.attachEvent("on"+i["type"],a);else o["on"+i["type"]]=a},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];delete this.all_shortcuts[e];if(!t)return;var i=t["event"];var n=t["target"];var r=t["callback"];if(n.detachEvent)n.detachEvent("on"+i,r);else if(n.removeEventListener)n.removeEventListener(i,r,false);else n["on"+i]=false}};window.Weebly.keyTracker={};window.disableBackspaceExit=true;document.observe("keydown",function(e){if(Event.element(e).hasClassName("editable-text")){return}if(e.keyCode)window.code=e.keyCode;else if(e.which)window.code=e.which;var t=String.fromCharCode(window.code).toLowerCase();var i;if(e.target)i=e.target;else if(e.srcElement)i=e.srcElement;if(i.nodeType==3)i=i.parentNode;if(window.disableBackspaceExit&&window.code==8&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"){e.keyCode=0;event.keyCode=0;e.returnValue=false;event.returnValue=false;Event.stop(e);return false}window.Weebly.keyTracker[t]=1;if(window.Weebly.keyTracker["p"]&&window.Weebly.keyTracker["s"]&&window.Weebly.keyTracker["u"]){window.showAbout()}});document.observe("keyup",function(e){if(Event.element(e).hasClassName("editable-text")){return}if(e.keyCode)window.code=e.keyCode;else if(e.which)window.code=e.which;var t=String.fromCharCode(window.code).toLowerCase();window.Weebly.keyTracker[t]=0});e.StealMouse=window.Class.create();e.StealMouse.__class_name="$.StealMouse";e.StealMouse.prototype.__class_name="$.StealMouse";window.$_StealMouse=e.StealMouse;Object.extend(e.StealMouse,{on:function t(i){i.__steal_mouseup=function(t){e.StealMouse._sendMouseEvent(t,"mouseup",i)};Event.observe(i.contentWindow.document,"mouseup",i.__steal_mouseup);i.__steal_mousedown=function(t){e.StealMouse._sendMouseEvent(t,"mousedown",i)};Event.observe(i.contentWindow.document,"mousedown",i.__steal_mousedown);i.__steal_mousemove=function(t){e.StealMouse._sendMouseEvent(t,"mousemove",i)}},off:function e(){Event.stopObserving(window.ifr.contentWindow.document,"mouseup",window.ifr.__steal_mouseup);Event.stopObserving(window.ifr.contentWindow.document,"mousedown",window.ifr.__steal_mousedown);Event.stopObserving(window.ifr.contentWindow.document,"mousemove",window.ifr.__steal_mousemove)},_sendMouseEvent:function e(t,i,n){var r=window.Position.cumulativeOffset(n);var o=[0,0];var s={x:r[0]+o[0],y:r[1]+o[1]};if(document.createEvent){var a=document.createEvent("MouseEvents");a.initMouseEvent(i,true,false,window,t.detail,t.screenX,t.screenY,t.clientX+s.x,t.clientY+s.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null);n.dispatchEvent(a)}else{var a=document.createEventObject();a.detail=t.detail;a.screenX=t.screenX;a.screenY=t.screenY;a.clientX=t.clientX+s.x;a.clientY=t.clientY+s.y;a.ctrlKey=t.ctrlKey;a.altKey=t.altKey;a.shiftKey=t.shiftKey;a.metaKey=t.metaKey;a.button=t.button;a.relatedTarget=t.relatedTarget;a.target=n;a.srcElement=n}}});window.tryStealMouse=function(t){var i=document.getElementById(t);if(i&&i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.body&&i.contentWindow.document.body.innerHTML&&i.contentWindow.document.body.innerHTML!=""){e.StealMouse.on(i)}else{setTimeout("tryStealMouse('"+t+"');",250)}};window.isAParent=function(t,i){if(typeof i!="object")i=e(i);if(typeof t!="object")t=e(t);if(i==t)return true;while(i.parentNode){if(i.parentNode==t)return true;i=i.parentNode}return false};window.isAParentByClass=function(t,i){var n;if(typeof i!="object")i=e(i);if(i.hasClassName(t))return i;n=i.up();while(n&&n!==document){if(n.hasClassName(t))return n;i=n;n=i.up()}return false};window.isAParentMatch=function(t,i){if(typeof i!="object")i=e(i);if(typeof i.id!="string")return false;if(i.id.match(t))return i;while(i.id!="body"){if(!i.parentNode)return false;if(i.parentNode&&i.parentNode.id&&i.parentNode.id.match&&i.parentNode.id.match(t))return i.parentNode;i=i.parentNode}return false};window.getXML=function(e){var t=window.Try.these(function(){return(new DOMParser).parseFromString(e,"text/xml")},function(){var t=new window.ActiveXObject("Microsoft.XMLDOM");t.loadXML(e);return t});return t};window.getValueXML=function(e,t){return e.getElementsByTagName(t)[0].firstChild.nodeValue};window.Weebly.on={textIsChanging:0,currentTextElement:null,currentTextCallBack:null,textChange:function(t,i,n,r){t=e(t);if(!n){n=1500}if(t!=window.Weebly.on.currentTextElement&&typeof window.Weebly.on.currentTextElement=="function"){window.Weebly.on.currentTextCallBack()}if(window.Weebly.on.currentTextElement==t&&typeof r=="undefined"){return}if(typeof r=="undefined"){window.Weebly.on.currentTextElement=t;window.Weebly.on.currentTextCallBack=i;window.Weebly.on.myFunction=window.Weebly.on.textChange.bind(window.Weebly.on.textChange,t,i,n,t.value);setTimeout("Weebly.on.myFunction();",n)}else if(t&&t.value&&t.value==r||t.value==""&&r==""){window.Weebly.on.currentTextCallBack(t.value);window.Weebly.on.currentTextElement=null;window.Weebly.on.currentTextCallBack=null}else{window.Weebly.on.myFunction=window.Weebly.on.textChange.bind(window.Weebly.on.textChange,t,i,n,t.value);setTimeout("Weebly.on.myFunction();",n)}}};window.getInnerHeight=function(){var e,t;if(self.innerHeight){return self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight}else if(document.body){return document.body.clientHeight}};window.isPro=function(){return window.Weebly.Restrictions.hasPro()};window.modalProFeatures=function(t,n,r){if(window.source=="reseller"){var o=i(88);window.editorApp.showDialog(new o({title:window._W.utl("html.weebly.libraries.weebly_utils_20"),message:t,confirmText:window._W.utl("html.weebly.libraries.weebly_utils_21"),dialogClass:"ui-dialog-overlay-wsite-dialog",callback:function(e){if(e){window.showPremiumPurchaseScreen({refer:n,level:r})}}}));return}var s=new window.Weebly.Dialog("pro-upgrade-modal",{modal:true,onClose:function(){e("pro-upgrade-accept").stopObserving();e("pro-upgrade-okay").stopObserving()}});e("pro-upgrade-accept").observe("click",function(e){s.close();window.showPremiumPurchaseScreen({refer:n,level:r});e.preventDefault()});e("pro-upgrade-okay").observe("click",function(e){s.close();e.preventDefault()});e("pro-upgrade-modal-body").update(t);s.open()};window.currentHref=document.location.href.replace(/#.*$/,"");window.firstTime=(new Date).getTime();window.publishAfterPro=false;window.monitorHref=function(e){var t=(new Date).getTime();if(t<window.firstTime+500){return}if(document.location.href!=window.currentHref||e){if(e){var i=e}else{var i=document.location.href.replace(/.*#/,"");document.location.href=document.location.href.replace(/(.*#)[^#]*$/,"$1");window.currentHref=document.location.href}if(i.match("refresh")){document.location.reload()}else if(i.match("addService")){var n=i.replace("addService:","");window.updateList()}else if(i=="closePollDaddy"){if(window.Pages.openPages.indexOf("goBlogPost")>-1){window.Pages.go("goBlogPost")}else{window.Pages.go("main")}}}};window.alertPremiumFeature=function(e,t){window.showPremiumPurchaseScreen({restrictionID:e,refer:t})};window.showPremiumPurchaseScreen=function(e){e=e||{};if(window.source=="reseller"){window.editorApp.billing.resellerPaymentRedirect(e);return}if(window.Weebly.Developer&&window.Weebly.Developer.isMaster){window.editorApp.designer.showPlanChooser(function(e){window.Weebly.Restrictions.level=e},e.level);return}if(window.Weebly.Permissions&&window.Weebly.Permissions.isContributor){alert("The site owner must upgrade this site in order for this feature to be available.");return}if(!e.level&&e.restrictionID){e.level=window.Weebly.Restrictions.requiredService(e.restrictionID);if(e.level==window.Weebly.Restrictions.freeLevel&&window.Weebly.Restrictions.isUpgradable(e.restrictionID)){e.level=window.Weebly.Restrictions.isUpgradable(e.restrictionID)}}if(!e.level&&!e.type){e.type="premium"}if(e.siteID===undefined){if(window.location.href.match(/\/userHome\.php(\?|#|$)/)){e.siteID=false}}if(e.isPublishModal===true){if(window.AragornAnalytics){window.AragornAnalytics.track({type:"standard",location:"website.publish_tip_modal",object_category:"upgrade_button",action:"click",object_instance:e.refer.toLowerCase()})}}window.showPurchaseScreen(e)};window.showDesignerPurchaseScreen=function(e){window.showPurchaseScreen({type:window.Weebly.Restrictions.designerSitesService,refer:e})};window.showUpdateBillingScreen=function(e,t,i,n,r,o,s){window.showPurchaseScreen({refer:e,userServiceID:t,type:n||"update",hideCard:r,deleteCard:o,extraArgs:s})};window.showPurchaseScreen=function(e){e=e||{};var t=null;var n;if(e.closeCallback){t=e.closeCallback}if(e.type==="protip"&&window._W&&window.editorApp){var r={unifiedCheckoutBase:window._W.UNIFIED_CHECKOUT_BASE};var o={siteID:window.editorApp.site.get("site_id"),level:e.level,refer:e.refer,restrictionID:e.restrictionID};n=i(336).buildUrl(r,o)}else{var s="/weebly/apps/purchasePage.php"+"?s="+encodeURIComponent(window.configSiteName)+(e.type?"&type="+encodeURIComponent(e.type):"")+(e.level?"&level="+encodeURIComponent(e.level):"")+(e.restrictionID?"&restrictionID="+encodeURIComponent(e.restrictionID):"")+(e.refer?"&refer="+encodeURIComponent(e.refer):"")+(e.siteID!==undefined?"&siteID="+encodeURIComponent(e.siteID):"")+(e.forceComparison?"&comparison=1":"")+(e.userServiceID?"&userServiceID="+e.userServiceID:"")+(e.customTitle?"&customTitle="+e.customTitle:"")+(e.startTrial?"&startTrial=1":"")+(e.hideCard?"&hideCard="+e.hideCard:"")+(e.deleteCard?"&deleteCard="+e.deleteCard:"")+(e.extraArgs?"&"+e.extraArgs:"");n=window.buildSecureUrl(s)}if(window.isProtocolSecure()){i.e(0,function(e){var i=[e(337)];(function(e){var i=new e({url:n});i.open();i.on("close",function(){t?t():window.loadLastTransaction()})}).apply(null,i)})}else{var a=window.open(n,"_blank");if(e.makePopupGlobal){window.billingPopup=a}window.monitorBillingWindow(a,t)}};window.buildSecureUrl=function(e){var t=window.secureBase;if(t&&t.length){e="https://"+t+"/weebly/setSession.php"+"?WeeblySession="+window.sid+"&redirect="+encodeURIComponent(e)}return e};window.monitorBillingWindow=function(e,t){t=t||function(){window.loadLastTransaction()};if(e&&e.closed){t()}else{setTimeout(function(){window.monitorBillingWindow(e,t)},200)}};window.loadLastTransaction=function(e,t){if(window.preventAJAX()){return}e=e||function(){};new window.Ajax.Request(window.ajax,{parameters:{pos:"getlasttransaction",cookie:document.cookie,transaction:JSON.stringify(t),token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:function(e){var t=e.responseText;if(t.isJSON){var i=t.evalJSON();if(i.action){window.processLastTransaction(i)}}},onComplete:e})};window.fireBillingTransactionEvent=function(e,t){window.fireTransactionEvent(e.transaction_id,e.service_id,e.amount,e.payment_type,t)};window.processLastTransaction=function(t){if(t.action&&window.Weebly.Transactions&&window.Weebly.Transactions[t.action]){return window.Weebly.Transactions[t.action](t)}switch(t.action){case"successBillingPremium":window.fireBillingTransactionEvent(t,t.other_vars.plan.title);if(window.inEditor&&window.inEditor()){window.makePremium(t.other_vars.plan,t.service_id);if(window.isDomainChooserOpen){window.domainChoiceContinue()}else if(window.Pages.openPages.indexOf("exportSite")>-1){window.Pages.go("exportSite")}else if((!window.editorApp||!window.editorApp.isStorePanelOpen)&&window.Pages.openPages.indexOf("store")===-1){window.Pages.go("main")}if(t.other_vars.freeDomainIssued){window.hasDomainCredit=true}if(t.other_vars.bundled_domain){window.fireBillingTransactionEvent(t,"Domain");var i=t.other_vars.bundled_domain.domain;var n=i.fqdn;window.Weebly.Location.all_purchased_domains.push(n);window.Weebly.Location.custom_domain=n;window.Weebly.Location.purchased_domain=true;window.settingQuickExport=1;window.domainDialog.close();window.domainChoiceFinish()}if(t.other_vars.plan.level>=10){window.editorApp.vent.trigger("billing:upgrade:proElement")}else if(t.other_vars.plan.level>=5){window.editorApp.vent.trigger("billing:upgrade:starter")}if(t.other_vars.plan.level>0){window.editorApp.vent.trigger("billing:upgrade:feature")}}else{window.location.reload()}break;case"successBilling":window.fireBillingTransactionEvent(t,"Other");window.location.reload();break;case"successBillingExtend":window.fireBillingTransactionEvent(t,"Extend");window.location.reload();break;case"successBillingUpdate":if(typeof editorApp=="object"){window.editorApp.vent.trigger("billing:profile:updated",t)}else if(window.homeApp&&window.homeApp.vent){window.homeApp.vent.trigger("billing:profile:updated",t)}break;case"successTrialPlanChange":window.location.reload();break;case"successBillingDomainTransfer":window.useOwnDialog.close();if(window.inEditor&&window.inEditor()){var r="/home/domains/transfers/"+t.other_vars.domain_transfer_model.domain_transfer_id;window.open(r,"_blank")}window.domainChoiceFinish();break;case"successBillingDomain":if(t.other_vars.bundled_plan){var o=t.other_vars.bundled_plan;if(window.inEditor&&window.inEditor()){window.makePremium(o.other_vars.plan,o.other_vars.service_id)}}window.fireBillingTransactionEvent(t,"Domain");var n="www."+t.other_vars.sld+"."+t.other_vars.tld;window.Weebly.Location.all_purchased_domains.push(n);window.Weebly.Location.custom_domain=n;window.Weebly.Location.purchased_domain=true;window.domainDialog.close();window.settingQuickExport=1;var s={};if(t.other_vars.whoisTax){s.tax=t.other_vars.whoisTax;s.amount=t.other_vars.whoisAmount}window.domainChoiceFinish();break;case"successStockMedia":window.fireBillingTransactionEvent(t,"StockMedia");window.stockMediaPurchased(t.other_vars.media_info);break;case"successSimpleChat":if(typeof window.inEditor==="function"&&window.inEditor()&&window.editorApp){window.editorApp.vent.triggerCascade("settings:general");window.updatList()}else if(window.homeApp&&window.homeApp.vent){window.homeApp.vent.trigger("simplechat:purchase:success")}break;case"designerBillingSetup":window.fireBillingTransactionEvent(t,"DesignerBilling");window.Weebly.Restrictions.designerBillingSetup=true;if(window.Weebly.AllDialogs["designer-billing-setup"]){window.Weebly.AllDialogs["designer-billing-setup"].close();if(e("designerBillingSuccessMessage")){e("designerBillingSuccessMessage").show()}if(typeof openDomainContainer=="function"){window.openDomainContainer()}else{window.exportSite()}}break}if(t.other_vars&&t.other_vars.plan&&t.other_vars.plan.level){var a=t.other_vars.plan.level;window.Weebly.Restrictions.level=a;if(typeof editorApp=="object"){window.editorApp.vent.trigger("user:upgrade")}}};window.removeService=function(t){e("serviceError").innerHTML="";new window.Ajax.Request(window.ajax,{parameters:{pos:"removeservice",userServiceId:t,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.handlerRemoveService(e,t)},onFailure:window.errFunc})};window.handlerRemoveService=function(t,i){if(t.responseText.match("%%SUCCESS%%")){e(i).innerHTML="<em>This service has been removed.</em>"}else if(t.responseText.match("%%SUCCESSREFUND%%")){e(i).innerHTML="<em>"+window._W.utl("html.weebly.libraries.weebly_utils_16")+"</em>"}else{e("serviceError").innerHTML=t.responseText}};window.onDropElements=function(e){var t=e.getElementsByTagName("input");if(t&&t[0]&&t[0].value&&t[0].value.startsWith("def:")){var i=t[0].value.match(/def:(\d*)/)[1];if(!window.allowProElementsTrial&&!window.Weebly.Restrictions.hasAccess(i)){window.alertPremiumFeature(i)}}};window.deleteAccount=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"deleteaccount",feedback:e("deleteAccountComments").value,email:e("deleteAccountEmailPref").checked,token:window.Weebly.RequestToken,cookie:document.cookie},onSuccess:window.handlerDeleteAccount,onFailure:window.errFunc})};window.handlerDeleteAccount=function(e){if(e.responseText.match("%%SUCCESS%%")){document.location="/index.html?account-deleted"}};window.ElementExtensions={center:function(t,i,n){t=e(t);var r=t.getDimensions();var o=document.viewport.getDimensions();var s=document.viewport.getScrollOffsets();var a=o.width/2+s.left-r.width/2;var l=o.height/2+s.top-r.height/2;if(i&&a<i){a=parseInt(i)}if(n&&l<n){l=parseInt(n)}t.setStyle({position:"absolute",top:Math.floor(l)+"px",left:Math.floor(a)+"px"});return t},getInnerText:function(e){return window.jQuery(e).text()},setInnerText:function(e,t){return window.jQuery(e).text(t)}};Element.addMethods(window.ElementExtensions);window.goModerateBlog=function(e,t,i){window.currentBlog.saving=0;window.currentBlog.blogId=e;window.currentBlog.params=t;i=i||"comments";new window.Ajax.Request(window.ajax,{parameters:{pos:"blogmoderateblog",blogid:e,params:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:window.handlerModerateBlog(i)})};window.handlerModerateBlog=function(t){return function(i){var n=new window.Weebly.Dialog("blog-manage-"+t+"-dialog",{modal:false,showClose:true,closeFunction:function(){n.close();window.Pages.go("main")}});n.open();window.currentBlog.settingsDialog=n;e("blog-manage-"+t+"-dialog-content").update(i.responseText);if(t=="comments"){e("blog_moderation_iframe").addClassName("is-overlay");window.$$(".blog-moderation-filter a.all")[0].onclick()}}};window.showBlogComments=function(e){var t=window.jQuery;if(e===null){var i=t(".blog-moderation-filter a.selected");e=i.length?i.attr("class").replace("selected","").trim():"all"}t(".js-delete-comment").toggle(e!=="deleted");t(".js-spam-comment").toggle(e!=="deleted"&&e!=="spam");var n=t("#site-blogs-select option:selected");var r=n.val();var o=n.data("site-id");var s=n.data("user-id");t(".blog-moderation-filter a").removeClass("selected").filter("."+e).addClass("selected");t("#blog_moderation_iframe").attr({src:window.getBlogCommentsUrl(e,r,o,s)})};window.getBlogCommentsUrl=function(e,t,i,n){var r=new window.Hash({blog_id:t,type:e,site_id:i,user_id:n,size:"slim",r:parseInt(Math.random()*99999999)});return"viewBlogModeration.php?"+r.toQueryString()};window.blogModerationAction=function(t){var i=e("blog_moderation_iframe");if(!i){return}var n=i.contentWindow;if(!n){return}var r={approve:n.approveComments,delete:n.deleteComments,spam:n.markSpamComments};if(r[t]){r[t]()}};window.changeUserLanguage=function(e){new window.Ajax.Request(window.ajax,{parameters:{pos:"changeuserlanguage",lang:e,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc})};window.ieVersion=function(){var e=navigator.appVersion.match(/MSIE.*?(\d+)/i);if(!e){return false}return parseInt(e[1])};window.clearPrefilledInput=function(t,i){if(t.value==i){t.value="";e(t).setStyle({color:""})}};window.getPagePermissionHtml=function(e,t){e.each(function(e){t+="<label>";if(e.kind!=="store"&&e.extlink===""){t+='<input type="checkbox" name="allowed_pages[]" value="'+e.id+'" /> '}else{t+="-- "}t+=e.title+"</label>";if(e.children.size()>0){t+='<div class="subpages">';t=window.getPagePermissionHtml(e.children,t);t+="</div>"}});return t};String.prototype.safeReplace=function(e,t){return this.replace(e,(t+"").replace(/\$/g,"$$$$"))};window._loadingLevel=0;if(window.W_DEBUG){window.loadingQueue=[]}window.pushLoading=function(){if(!window._loadingLevel){if(e("pleaseWait")){window.jQuery("#pleaseWait").addClass("loading")}}if(window.W_DEBUG){window.loadingQueue.push(arguments.callee.caller.toString())}window._loadingLevel++};window.popLoading=function(){if(window._loadingLevel>0){window._loadingLevel--;if(window.W_DEBUG){window.loadingQueue.pop()}}if(!window._loadingLevel){if(e("pleaseWait")){window.jQuery("#pleaseWait").removeClass("loading")}}};window.htmlEscape=function(e){if(e===undefined||e===null)return"";else if(typeof e==="number")return e.toString();else return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")};window.eventStop=function(e){e.stop()};window.handleDesignerPublishCodes=function(t,i,n){n=n&&e(n)||e("exportText");if(t.responseText.match(/%%PURCHASESITES%%/)){if(window.Weebly.AllDialogs["publishing-status"]){window.Weebly.AllDialogs["publishing-status"].close()}window.showDesignerBillingSetup()}if(t.responseText.match(/%%GOLIVEWARNING%%/)){var r=n.up(".titled-box");n.show().innerHTML=e("designer-publish-message").innerHTML;window.Weebly.AllDialogs[r.id].positionDialog()}if(t.responseText.match(/%%CARDSETUPREQUIRED%%/)){n.show().innerHTML='<div style="font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 16px; line-height:1.5; text-align:left; margin-bottom:10px;">Sites cannot be published live until the account holder has setup a credit card</div>'}if(t.responseText.match(/%%CANTCREATECHARGE%%/)){n.show().innerHTML="Error:E119190"}};window.showDesignerBillingSetup=function(){if(window.Weebly.Restrictions.isDesignerMaster){e("designer-billing-setup-body").update("Before publishing your first website live, you need to setup a billing method.");e("setup-buttons-master").show();e("setup-buttons-admin").hide()}else{e("designer-billing-setup-body").update(window._W.utl("html.weebly.libraries.weebly_utils_17"));e("setup-buttons-master").hide()}new window.Weebly.Dialog(e("designer-billing-setup"),{modal:true}).open()};window.getInnerWidth=function(e){return e.offsetWidth-(parseInt(e.getStyle("border-left-width"))||0)-(parseInt(e.getStyle("border-right-width"))||0)-(parseInt(e.getStyle("padding-left"))||0)-(parseInt(e.getStyle("padding-right"))||0)};window.ensureObject=function(e){e=e||{};if(e.length===0){e={}}return e};window.hashEach=function(e,t){window.$H(e).each(function(e){t(e.key,e.value)})};window.hashMap=function(e,t){var i={};window.$H(e).each(function(e){i[e.key]=t(e.key,e.value)});return i};window.hashSearch=function(e,t){if(!t){return window.$H(e).values()[0]}else if(typeof t=="object"){for(var i in e){var n=e[i];if(typeof n=="object"){for(var r in t){var o=t[r];if(typeof o!="function"){if(n[r]==o){return n}}}}}}else{return e[t]}};window.arraySearch=function(e,t){if(!t){return e[0]}else if(typeof t=="object"){for(var i=0;i<e.length;i++){var n=e[i];if(typeof n=="object"){for(var r in t){var o=t[r];if(typeof o!="function"){if(n[r]==o){return n}}}}}}};window.preventParentScroll=function(e){window.attachMousewheelListener(e,function(t,i){Event.stop(t);e.scrollTop-=i})};window.attachMousewheelListener=function(e,t){var i=function(e){var i=e.wheelDelta?e.wheelDelta/4:-(e.detail||0);return t.call(this,e,i)};e.observe(window.getMousewheelEventName(),i)};window.getMousewheelEventName=function(){var e="_mousewheelEventName",t="mousewheel",i="DOMMouseScroll";if(!window[e]){var n=document.createElement("div");window[e]=n["on"+t]!==undefined?t:i;n=null}return window[e]};window.getTextNodesIn=function(e,t){var i=[],n=/^\s*$/;function r(e){if(e.nodeType==3){if(t||!n.test(e.nodeValue)){i.push(e)}}else{for(var o=0,s=e.childNodes.length;o<s;++o){r(e.childNodes[o])}}}r(e);return i};window.doEvent=function(e){new window.Ajax.Request(window.ajax,{parameters:{pos:"doevent",event:e,cookie:document.cookie,token:window.Weebly.RequestToken}})};window.confirmBouncedEmail=function(e,t){var i=e.getOffsetParent().id.replace("user-note-","");window.removeUserNote(i);new window.Ajax.Request(window.ajax,{parameters:{pos:"confirmBouncedEmail",email:t,cookie:document.cookie,token:window.Weebly.RequestToken}})};window.preventAJAX=function(){if(window.inEditor&&window.inEditor()){var e=i(12);if(e.chromeless){try{throw new Error("Invalid ajax request attempted in script")}catch(e){console.log(e.message);return true}}}return false};window.formatMoney=function(e,t,i){var n="";var t=t||"USD";var r=parseFloat(e);if(i){i=i.replace("_","-")}else{i="en-US"}try{n=r.toLocaleString(i,{style:"currency",currency:t})}catch(e){n=r.toLocaleString("en-US",{style:"currency",currency:t})}if(t=="MXN"){n=n.replace(/(MX)?\$/,"MX$")}if(t=="CAD"){n=n.replace(/(CA)?\$/,"CA$")}if(t=="AUD"){n=n.replace(/(A)?\$/,"A$")}return n};window.isProtocolSecure=function(){return document.location.protocol=="https:"}}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(7),i(21),i(10),i(15)],r=function(e,t,i,n,r,o){var s={};var a=null;s.init=function(e){if(a){return}a=e;a.vent.on({"editor:spotlight:open":C,"editor:spotlight:close":S,"section:remove:after section:add:after":s.clearPageDataCache});i.on({"section:remove:after section:add:after":s.clearPageDataCache})};var l=false;var c;var u=null;var d;s.clearPageDataCache=function(){l=false;f=false};s.getPageData=function(){if(u){return u}else if(!l){var t=n.inSiteContext()?a:i;u=e.when(t.request("page:getDimensions"));return u.then(m)}return e.Deferred().resolve(c).promise()};var f=false;var h;var p=null;s.getPageSectionData=function(){if(p){return p}else if(!f){var t=n.inSiteContext()?a:i;p=e.when(t.request("page:getSectionDimensions"));return p.then(function(e){h=null;if(e){h=e;f=true}p=null;return h})}return e.Deferred().resolve(h).promise()};function m(e){c=null;if(e){c=e;d=E(c);l=true}u=null;return c}var g={};function v(e){for(var i in g){delete g[i]}d=e;t.each(d,w)}function w(e){var i=function(i){t.each(i.elements,function(t){t.area=e;if(i.section_id){t.section_id=i.section_id}b(t)})};if(e.sections){t.each(e.sections,function(e){i(e)})}else{i(e)}}function b(e){g[e.id]=e;if(e.children){t.each(e.children,function(t){t.area=e.area;t.parent=e;b(t)})}if(e.columns){t.each(e.columns,function(t){t.el=e;y(t)})}}function y(e){t.each(e.elements,function(t){t.parentColumn=e;t.area=e.el.area;b(t)})}function _(){if(l){return e.Deferred().resolve(d).promise()}return s.getPageData().then(E)}s.getSectionData=function(){if(f){return e.Deferred().resolve(h).promise()}return s.getPageSectionData()};function E(e){if(e){v(e.areas)}
return d}s.getAreasByName=function(e){return _().then(function(i){return t.where(i,{name:e})})};s.getAreasByType=function(e){return _().then(function(i){return t.where(i,{type:e})})};s.getAreasWhere=function(e){return _().then(function(i){return t.where(i,e)})};var T=null;s.getActiveContentAreas=function(){if(T){if(T.id){return s.getElementById(T.id).then(function(e){return[{element:e,elements:e.children,empty:e.children.length==0,top:e.top,left:e.left,height:e.height,width:e.width,parentString:e.content_field_id+"-form-list"}]})}else if(T.name){return s.getAreasByName(T.name)}}return _().then(function(e){return t.difference(t.where(e,{type:"content"}),t.where(e,{name:"footer"}))})};i.on({"editor:spotlight:open":C,"editor:spotlight:close":S});function C(e){T=e}function S(){T=null}s.getElements=function(){return _().then(I)};function I(){return g}s.getElementById=function(e){return _().then(function(){return g[e]})};s.setContextData=function(e){if(!e){return}if(!a){s.init(e.currentApp)}t.each(e.elementsByID,s.setElementData)};s.setElementData=function(e,i){if(!(e instanceof o)){return}s.getElementById(i).done(function(t){e.elData=t});t.each(e.columns,function(e){t.each(e,O)});t.each(e.children,O)};function O(e){s.setElementData(e,e.id)}function k(e){return{page_element_id:e.id}}s.getColumnData=function(e,i){var n;var o=[i];if(e.column){n=t.map(e.el.columns,function(e){if(e.elements.length===1&&e.elements[0].id===i.page_element_id){return}var n=t.map(e.elements,function(e){if(e.id===i.page_element_id){return}return k(e)});return t.filter(n,t.identity)});var s=e.column_id?e.column_index:0;if(e.position===r.POSITION_RIGHT){s++}n.splice(s,0,o);n=t.filter(n,t.identity)}else{n=[[k(e.el)]];n.splice(e.position===r.POSITION_RIGHT?1:0,0,o)}return n};s.isChildOf=function(e,t){if(e.id===t){return true}if(e.parentColumn){return s.isChildOf(e.parentColumn.el,t)}if(e.parent){return s.isChildOf(e.parent,t)}return false};s.isChildOfMultiColumn=function(e){if(e.parentColumn){return true}if(e.parent){return s.isChildOfMultiColumn(e.parent)}return false};s.flattenElements=function(e,i){var n=[];function r(e){if(e.id){n.push(e)}n.push.apply(n,s.flattenElements(e))}if(t.isArray(e)){t.each(e,r)}t.each(e.sections,r);t.each(e.columns,r);if(!i||!e.spotlighted){t.each(e.elements,r)}if((!i||!e.spotlighted)&&!e.platform_element_id){t.each(e.children,r)}return n};s.whenImageLoaded=function(t){if(!(t instanceof HTMLImageElement)){t=this}var i=e.Deferred();var n=i.promise();if(t.complete){i.resolve(t);return n}var r=setTimeout(i.reject.bind(i),15e3);e(t).one({load:function(){clearTimeout(r);i.resolve(this)},error:function(){clearTimeout(r);i.reject(this)}});return n};s.detectImageAlign=function(t){t=e(t);var i=t.offset().left;var n=i+t.width();var r=t.attr("style");t.css({height:t.height()+"px",width:"1px","max-width":""});var o=t.offset().left;var s;if(o==i){s="left"}else if(o+1==n){s="right"}else{s="center"}t.attr("style",r);return s};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(343),i(27),i(321)],r=function(e,t,i){var n=t.extendBase({className:"Commerce.Model._baseCommerceModel",unbatchRelatedModels:["Commerce.Model.Category"],baseCollection:i,userKey:"owner_id",siteKey:"site_id",baseModelDefaults:{owner_id:com_userID,site_id:com_currentSite},pageDirtyCheck:function(){return true},getGetterForAttribute:function(e){var t=e.replace(/[\W_].?/g,function(e){if(e[1]){return e[1].toUpperCase()}return""});return"get"+t[0].toUpperCase()+t.slice(1)},get:function(e){var i=t.prototype.get.apply(this,arguments);var n=this.getGetterForAttribute(e);if(this[n]){i=this[n](i)}return i},toJSON:function(){var e=t.prototype.toJSON.apply(this,arguments);Object.keys(e).forEach(function(t){var i=this.getGetterForAttribute(t);if(this[i]){var n=e[t];e[t]=this[i](n)}},this);return e}});n.extend=function(i,n){return t.extend.call(this,i,n,e.Commerce.BackboneModelData,"owner_id")};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(18),i(56),i(10),i(35)],r=function(e,t,i,n,r,o){var s={getSectionIdFromAreaInstance:function(e){var t;if(e&&e.el){t=e.el.parentElement;return t.getAttribute("data-section")}return},getElementAreaInstanceFromSectionId:function(e,t){var i;if(e){i=t.sections.get(e);if(i){return i.get("elementArea")}}},themeSupportsSections:function(e){return t.any(t.values(e.page_type_templates),this.pageHasSectionsMarkup)},pageHasSectionsMarkup:function(e){if(!e){return false}return e.has_sections},pageHasHeaderSection:function(e){return e.has_header_section},pageHasDroppableSections:function(e,t){return e.has_sections&&t==="page"},isHeaderSectionSupported:function(e){var i=t.findWhere(e,{type:"content",name:r.HEADER_SECTION_TAG_NAME});return i?true:false},getPrefix:function(){var e=window.currentPageType;return i.currentThemeData["page_type_templates"][e]["section_prefix_mustache"]},getPostfix:function(){var e=window.currentPageType;return i.currentThemeData["page_type_templates"][e]["section_postfix_mustache"]},normalizeEmptyAreaSections:function(e,t){var i=[];if(!e){return e}for(var n=0,r=e.length;n<r;n++){if(e[n].type==="content"&&e[n].sections&&!e[n].name){i=t.map(function(t){var i=t.get("section_id");var r=e[n].sections[i]?e[n].sections[i]:[];var o=t.toJSON();o.elements=r;return o});if(t.length){e[n].sections=i}}}return e},combineSectionElementsToElements:function(e){var i=[];if(!e)return;for(var n=0,r=e.length;n<r;n++){if(e[n].type==="content"&&e[n].sections&&!e[n].name){t.each(e[n].sections,function(e){i.push(e)});t.flatten(i,true);delete e[n].sections;e[n].elements=i;i=[]}}},mergeBackgroundData:function(e,i,n){var r={};e=t.isArray(e)?{}:e;i=t.isArray(i)?{}:i;r=t.clone(e);t.each(i,function(e,t){var i=n;if(t){i=i+"-"+t}r[i]=e});return r},mergeVideoBackgroundData:function(e,i,n){var r={};if(!i){return e}e=t.isArray(e)?{}:e;t.each(i,function(e,t){var i=n+"-"+t;r[i]=this.generateVideoStillImage(e.background_url,e.encoding_done===false)},this);return t.extend({},e,r)},generateVideoStillImage:function(e,t){return{image:{url:e,filename:"",isStock:false},position:"fill",loading:t===true}},resizeEmptyMessage:function(i,n,o){if(!o){o=i.find(".empty-element-message")}if(!o.length){return}if(!t.isNumber(n)||t.isNaN(n)){n=this.getSectionInnerHeight(i)}var s=o.parentsUntil(i).get().reduce(function(t,i){var n=e(i);return t+n.outerHeight()-n.height()},0);var a=Math.max(n-s,0);o.height(a).children("span").css("display",a>=r.MIN_EMPTY_MESSAGE_HEIGHT?"":"none")},getSectionInnerHeight:function(i,n){if(!t.isNumber(n)||t.isNaN(n)){n=i.height()}var o=i.find("."+r.SECTION_CONTENT_CLASS_NAME);var s=o.find("*").addBack().map(function(){return e(this).outerHeight(true)}).get();var a=Math.max.apply(Math,s);var l=o.outerHeight();var c=Math.max(0,a-l);return n-c},shouldShowEditMode:function(t){var i=e(t.target);return i.closest(".empty-element-message").length||!i.parents(".weebly-content-area").length&&!o.isElementSettingsOpen()&&!e("#editMenu:visible").length},clearSectionStyling:function(e){this.clearSectionAttributes(e);e.attr("style","")},clearSectionAttributes:function(e){e.removeClass([r.SECTION_BACKGROUND_VIDEO_CLASS_NAME,r.SECTION_BACKGROUND_COLOR_CLASS_NAME,r.SECTION_BACKGROUND_GRADIENT_CLASS_NAME,r.SECTION_BACKGROUND_IMAGE_CLASS_NAME,"is-loading"].join(" "));n.destroyVideoBackground(e)},previewBackgroundVideo:function(e,t){this.clearSectionAttributes(e);n.applyBackgroundVideo(e,t,true);e.addClass(r.SECTION_BACKGROUND_VIDEO_CLASS_NAME)}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(160)],r=function(e){var t=e.extendBase({className:"Commerce.Collection._baseCommerceCollection",userKey:"owner_id",userValue:com_userID,siteKey:"site_id"});t.extend=function(t,i){return e.extend.call(this,t,i,window.Weebly.Commerce.BackboneCollectionData)};return t}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;(function(o){!(n=[i(1),i(6),i(18),i(105),i(7),i(119),i(120)],r=function(e,t,i,n,r,s,a){var l={isMobileView:false};var c="";var u=function(e,t){setTimeout(function(){if(typeof e==="function"){e.apply(this,t)}},1)};l.setMobileView=function(i,n){if(l.isMobileView){return}e("#w-editor-mobile").show();e("body").addClass("w-mobile-editor");if(a.getSiteSetting("allow_mobile")!==false){s.hideElement()}t.vent.once("themeRendered",function(){if(a.getSiteSetting("allow_mobile")!==false){s.showElement()}u(i,n)},this);window.ENABLE_PAGE_HIERARCHY=false;l.isMobileView=true;c=currentThemeColor;t.vent.trigger("setMobileView");e("#w-editor-mobile").show();e("body").addClass("w-mobile-editor");e(".device-switcher").addClass("mobile-selected");e("#wsite-web-view").removeClass("weebly-current");e("#wsite-mobile-view").addClass("weebly-current");e("#designOptionsStyle").remove();t.vent.trigger("viewChange");e("#menuitem-cc").hide()};l.setStandardView=function(d,f){if(!l.isMobileView){return}o("#w-editor-top").find("#device_switcher").find(".icon:not(.dropdown)").text("devicedesktop");if(a.getSiteSetting("allow_mobile")!==false){s.hideElement()}t.vent.once("themeRendered",function(){if(a.getSiteSetting("allow_mobile")!==false){s.showElement()}u(d,f)},this);l.isMobileView=false;window.ENABLE_PAGE_HIERARCHY=true;i.setCurrentTheme(currentStandardTheme,false);currentThemeColor=c;t.vent.trigger("setStandardView");t.vent.trigger("forceThemeRerender");updateList(currentPage,true);e(".device-switcher").removeClass("mobile-selected");setTimeout(function(){e("body").removeClass("w-mobile-editor")},0);e("#wsite-mobile-view").removeClass("weebly-current");e("#wsite-web-view").addClass("weebly-current");n.applyDesignOptions();e("#blog-navigation, #blog-navigation-placeholder").show();r.execute("element:setHandlers");t.vent.trigger("viewChange");e("#menuitem-cc").show();e("#w-editor-mobile").hide()};if(!window.Weebly){window.Weebly={}}window.Weebly.view=l;return l}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(1))},,function(e,t,i){var n,r;!(n=[i(2),i(5)],r=function(e,t){var i={settings:{},services:[],source:"main",userSource:window.source,level:0,freeLevel:0,defaultSource:"main",disabledLevel:1e7,defaultLevel:"all",connectLevel:3,preLaunchLevel:4,starterLevel:5,proLevel:10,businessLevel:15,performanceLevel:20,maxUpgradableLevel:20,maxPromoteServiceName:"promoteAccelerate",designerSitesService:"Weebly.designerSites",unlimitedValue:"-1",freeTrialBlockedFeatures:["existing_domain","site_ssl"],allowedPerformanceCommerceSources:["main","developer"],hasAccess:function(e){var n=i;var r=t.Location&&t.Location.google_domains.length>0;if(r&&e==="existing_domain"){return true}if(n.featureBlockedByFreeTrial(e)){return false}if(!n.settings[e]){return true}if("enabled"in n.settings[e]){return n.settings[e]["enabled"]}return true},getResellerPlans:function(){var e=i;var t=[e.freeLevel,e.starterLevel,e.proLevel,e.businessLevel,e.performanceLevel];var n=[];for(index in t){planid=t[index];n.push({plan:planid,name:e.levelToName(planid)})}return n},accessValue:function(e){var t=i;if(!t.settings[e]){return""}return t.settings[e]["value"]||""},isUnlimited:function(e){var t=i;var n=t.accessValue(e);return n==t.unlimitedValue},featureEnabled:function(e){var t=i;var n=t.getMinimumLevel(e);if(t.featureBlockedByFreeTrial(e)){return false}return n!=t.disabledLevel},isUpgradable:function(e){var t=i;if(!t.settings[e]){return false}if(!t.settings[e]["available_after_upgrade"]){return false}return t.settings[e]["minimum_level_required_to_upgrade_to"]},hasHigherLevelAvailable:function(){var e=i;return e.level<e.maxUpgradableLevel},getMinimumLevel:function(e){var t=i;if(!t.settings[e]){return t.freeLevel}return t.settings[e]["minimum_level_required_to_upgrade_to"]||t.freeLevel},requiredService:function(e){var t=i;return t.getMinimumLevel(e)},requiresUpgrade:function(e){var t=i;var n=t.getMinimumLevel(e);return n&&n!=t.freeLevel},addService:function(e){var t=i;t.services.push(e)},hasNewElementAccess:function(e){var t=i;if(t.requiresUpgrade(e)&&t.expired_trial){return false}return t.hasAccess(e)},getSiteLimit:function(){var e=i;if(e.siteLimit&&e.siteLimit>0){return e.siteLimit}return e.accessValue("site_limit")},getCurrentPlanName:function(){var e=i;return e.levelToName(e.level)},levelToName:function(e){var n=i;if(typeof e=="string"){e=parseInt(e)}switch(e){case n.freeLevel:return t.utl("billing.plans.names.free");case n.connectLevel:return t.utl("billing.plans.names.connect");case n.preLaunchLevel:return t.utl("billing.plans.names.pre_launch");case n.proLevel:return t.utl("billing.plans.names.pro");case n.starterLevel:return t.utl("billing.plans.names.starter");case n.businessLevel:return t.utl("billing.plans.names.business");case n.performanceLevel:return t.utl("billing.plans.names.performance");default:return""}},getNextLevel:function(e){var t=i;switch(e){case t.freeLevel:case t.connectLevel:return t.starterLevel;case t.starterLevel:return t.proLevel;case t.proLevel:return t.businessLevel;case t.businessLevel:return t.performanceLevel;case t.performanceLevel:default:return false}},hasStarter:function(){var e=i;return e.level>=e.starterLevel},hasPro:function(){var e=i;return e.level>=e.proLevel},hasBusiness:function(){var e=i;return e.level>=e.businessLevel},hasPerformance:function(){var e=i;return e.level>=e.performanceLevel},hasFreeRestrictions:function(){var e=i;return e.level==0||e.is_trial},featureBlockedByFreeTrial:function(e){var t=i;if(!t.is_trial){return false}for(var n=0;n<t.freeTrialBlockedFeatures.length;n++){if(t.freeTrialBlockedFeatures[n]==e){return true}}return false},canAcceptPayments:function(){var e=i;return e.hasAccess("com_square_payment")||e.hasAccess("com_authorizenet_payment")||e.hasAccess("com_paypal_payment")||e.hasBusiness()},isServiceUpgradabale:function(e){var t=i;var n=e.product_group==="premium";var r=e.site_id;var o=e.level;if(n&&r&&o<t.maxUpgradableLevel){return true}var s=e.product_group==="promote";return s&&e.name!==t.maxPromoteServiceName}};i=e.extend(i,t.Restrictions);t.Restrictions=i;return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(5),i(4),i(6),i(7),i(139),i(187)],r=function(e,t,i,n,r,s){window.noJump=0;var a={Version:"0.5",Author:"David Rusenko",Company:"Weebly, Inc.",openPages:new Array("main"),currentNavPage:"load",optConfirmLoad:0,optAnimations:1,history:[],lastPage:"",queue:[],load:function(){},pageConstructor:{main:{}},pageDestructor:{main:{}},pageWindows:{main:["main"]},currentVar1:"empty",currentVar2:"empty",currentVar3:"empty",currentVar4:"empty",currentVar5:"empty",go:function(){var e=arguments;var t=function(){this._go.apply(this,e);this.queue.forEach(function(e){this._go.apply(this,e)},this)}.bind(this);t();this.clearQueue()},setQueue:function(){this.queue.push(Array.prototype.slice.call(arguments))},clearQueue:function(){this.queue=[]},removeQueue:function(){var e=Array.prototype.slice.call(arguments);var t=0;e.forEach(function(e){this.queue.forEach(function(i,n){t=i.indexOf(e);if(t>-1){this.goDestination.splice(n,1)}},this)},this)},_go:function(t,i,o,s,a,l){if(window.editorApp){window.editorApp.vent.trigger("editor:pages:go",arguments)}this.updateHistory(t);if(e.Elements){n.execute("editor:elements:unselect")}if(e.BlogEditor&&!e.BlogEditor.tryPageSwitch(arguments)){return}if(t!=="saveBlogPost"&&e.BlogEditor&&e.BlogEditor.isEditing&&e.mobile.isMobileEditor()){e.mobile.isMobileEditor(false);this.go("mobileView");return}var c=typeof i=="undefined"||i==""||i=="undefined"?0:1;var u=typeof o=="undefined"||o==""||o=="undefined"?0:1;var d=typeof s=="undefined"||s==""||s=="undefined"?0:1;var f=typeof a=="undefined"||a==""||a=="undefined"?0:1;var h=typeof l=="undefined"||l==""||l=="undefined"?0:1;if(t!=this.currentNavPage||i!=this.currentVar1&&c||o!=this.currentVar2&&u||s!=this.currentVar3&&d||a!=this.currentVar4&&f||l!=this.currentVar5&&h){this.handleMain(t);this.closeAll(t);n.execute("closeCurrentSpotlight");if(window.noJump==1){window.noJump=0}else{window.scrollTo(0,0)}var p=this.pageConstructor[t];if(p&&t!="main"){if(p.element){this.showElement(p.element)}if(p.go){p.go(i,o,s,a,l)}}if(!window.litePageChange){if(!this.optConfirmLoad)this.confirmLoad(t,i,o,s,a,l)}this.currentNavPage=t;if(typeof i=="undefined"||i==""||i=="undefined"){this.currentVar1="empty"}else{this.currentVar1=i}if(typeof o=="undefined"||o==""||o=="undefined"){this.currentVar2="empty"}else{this.currentVar2=o}if(typeof s=="undefined"||o==""||s=="undefined"){this.currentVar3="empty"}else{this.currentVar3=s}if(typeof a=="undefined"||o==""||a=="undefined"){this.currentVar4="empty"}else{this.currentVar4=a}if(typeof l=="undefined"||o==""||l=="undefined"){this.currentVar5="empty"}else{this.currentVar5=l}r.fireEvent("navPageChange",t)}if(this.openPages.indexOf(t)==-1){this.openPages.push(t)}},showElement:function(e,t){if(this.optAnimations){setTimeout("Effect.Appear('"+e+"');",1e3)}else{Element.show(e)}},handleMain:function(e){if(this.pageWindows[e].indexOf("main")>-1){if(this.pageConstructor.main){if(this.pageConstructor.main.element){if(this.optAnimations){setTimeout("Effect.Fade('"+this.pageConstructor.main.element+"')",1e3)}else{Element.hide(this.pageConstructor.main.element)}}if(this.pageConstructor.main.go){this.pageConstructor.main.go()}}if(this.openPages.indexOf("main")==-1){this.openPages.push("main")}}else{if(this.pageDestructor.main){if(this.pageDestructor.main.element){var t="100%";Element.setStyle(this.pageDestructor.main.element,{height:t});if(this.optAnimations){Effect.Appear(this.pageDestructor.main.element)}else{Element.show(this.pageDestructor.main.element)}}if(this.pageDestructor.main.go){this.pageDestructor.main.go()}}if(this.openPages.indexOf("main")==-1){this.openPages.push("main")}}if(e=="main"&&o("grayedOut").style.visibility=="visible"){Element.hide("grayedOut")}},confirmLoad:function(e,t,i,n,r,o){if(this.openPages.indexOf(e)==-1){this.openPages.push(e)}if(typeof t==="function"){t=""}_goPageHistory("page="+e+"&1="+encodeURIComponent(t)+"&2="+encodeURIComponent(i)+"&3="+encodeURIComponent(n)+"&4="+encodeURIComponent(r)+"&5="+encodeURIComponent(o))},closeAll:function(e){for(j=this.openPages.length-1;j>=0;j--){var t=this.pageWindows[e].indexOf(this.openPages[j]);if(t==-1&&this.openPages[j]!="main"){var i=this.pageDestructor[this.openPages[j]];if(i){if(i.element){if(this.optAnimations){Effect.Fade(o(i.element))}else{Element.hide(o(i.element))}}if(i.go){i.go()}}this.openPages.splice(j,1)}}},returnToEditorFromAppCenter:function(){if(this.openPages.indexOf("goBlogPost")>-1){this.go("goBlogPost")}else{this.goToPreviousPage()}},updateHistory:function(e){if(e!=this.lastPage){this.history.push(e);if(this.history.size()>10){this.history.shift()}}this.lastPage=e},getPreviousPage:function(){return this.history.length>1?this.history[this.history.length-2]:null},goToPreviousPage:function(){if(this.history.size()>1){var e=this.history.pop();var t=this.history.pop();this.go(t)}else if(s.isCommerceFunnel()&&(window.editorApp?!window.editorApp.bootstrap.enableCommerceThree:!i.bootstrap.enableCommerceThree)){this.go("store")}else{this.go("editMenu")}}};var l;window._goPageHistory=function(e){var t="/weebly/goPage.php?"+e;if(!l){l=new Element("iframe",{style:"height:0;width:0;border:0;overflow:hidden;position:absolute;top:0px;left:0px;",frameBorder:0});o(document.body).insert(l);l.src=t}else{l.contentWindow.location.href=t}};window.Pages=a;return a}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(16),__webpack_require__(1),__webpack_require__(2),__webpack_require__(9),__webpack_require__(12),__webpack_require__(6),__webpack_require__(11),__webpack_require__(552),__webpack_require__(286),__webpack_require__(90),__webpack_require__(78),__webpack_require__(55),__webpack_require__(17),__webpack_require__(136),__webpack_require__(29),__webpack_require__(124),__webpack_require__(237),__webpack_require__(92),__webpack_require__(7),__webpack_require__(60),__webpack_require__(10),__webpack_require__(125),__webpack_require__(189),__webpack_require__(549),__webpack_require__(22)],__WEBPACK_AMD_DEFINE_RESULT__=function(P$,jQuery,_,Backbone,Config,editorApp,frameApp,PlatformElementOptionsView,ElementOptionsView,ElementSettingModel,ImageControls,ImageUtils,ElementUtils,Definitions,View,AjaxModule,DeadClickSpotlight,ElementSpotlight,Relay,Slideshow,UICONST,CommerceModule,BaseElementOptionsView,ElementPropertyConverter){var exports={Version:"0.1",Author:"David Rusenko",Company:"Weebly, Inc.",propertyContainer:null,currentElement:null,currentValidateFunction:null,currentSaveValidateFunction:null,currentCustomProperties:[],editing:null,customHTML:[],upload:0,skipRerender:false,isFormDirty:false,unsyncedProperties:{},useNewSettingsPopup:false,init:function(e){this.propertyContainer=e.propertyContainer},selectElement:function(e,t){var i=this;var n;e=P$(e);if(e!==this.currentElement||t){jQuery.when(exports.unselectElement()).always(function(){if(!i.isSelectableElement(e)){return}i.currentElement=e;i.currentCustomProperties=[];var t=P$(e.id+"-form-parent");if(!t&&!Config.chromeless){n=jQuery(e).closest("li.inside");n.addClass("inside-active");n.parents("li.inside").addClass("inside-child-active")}i.generateProperties(e);ImageControls.show(e)})}},isPlatformElement:function(){return this.currentElement!==null&&this.currentElement.dataset&&typeof this.currentElement.dataset.platformPeid==="string"},unselectElement:function(e){var t;if(this.currentElement){var i=jQuery(this.currentElement).closest("li.inside");i.removeClass("inside-active");i.parents("li.inside").removeClass("inside-child-active");var n=ElementUtils.getElementObject(exports.currentElement.up("li.inside"));if(n&&n.unselect){n.unselect()}ImageControls.hide(this.currentElement);if(this.editing){exports.hideCustomHTML(this.ucfid,this.editing,this.uproperty.properties[this.editing].ucfpid)}frameApp.vent.trigger("editor:elements:unselect",this.idfield.eid);if(this.idfield.eid=="36391960"){var r;if(this.uproperty.properties[96630555].property_result=="text"){r="TextOnly"}else if(this.uproperty.properties[96630555].property_result=="image"){r="ImageOnly"}else if(this.uproperty.properties[96630555].property_result=="text_image"){r="TextAndImage"}new Ajax.Request(AjaxModule.ajax,{parameters:{pos:"saveadsense",cookie:document.cookie,cfid:this.uproperty.properties.cfid,backgroundColor:this.uproperty.properties[53687540].property_result,borderColor:this.uproperty.properties[52715841].property_result,textColor:this.uproperty.properties[60388297].property_result,titleColor:this.uproperty.properties[10290183].property_result,urlColor:this.uproperty.properties[34189825].property_result,adUnitType:r,layout:this.uproperty.properties[81070942].property_result,elementid:this.idfield.id},onFailure:AjaxModule.errFunc,bgRequest:true})}Relay.execute("linker:close");jQuery(document.activeElement).blur();if(this.currentSaveValidateFunction!=""&&!this.closeOnValidate&&(this.textChange||this.mapChange)){this.textChange=null;this.mapChange=null;validateFunction();this.closeOnValidate=1}else{this.mapChange=null;this.closeOnValidate=null;var o=this;var s=this.currentElement.id;var a=o.isFormDirty;t=jQuery.when.apply(jQuery,[Relay.request("dontSave:get"),Relay.request("xhrUploading:get")]).then(function(t,i){var n=null;if(e||t||s===i){Relay.execute("dontSave:set",null)}else{n=o.saveProperties()}return n}).always(function(){if(a){o.isFormDirty=false;o.continueOnChange()}o.currentElement=null;o.currentValidateFunction=null;o.currentSaveValidateFunction=null;ElementUtils.repositionElements()});if(BaseElementOptionsView.isElementSettingsOpen()||o.useNewSettingsPopup){o.hideElementSettings()}}}this.isFormDirty=false;return t},setCurrentElement:function(e){if(e!=this.currentElement){var t=this;jQuery.when(exports.unselectElement()).always(function(){t.currentElement=e;t.currentCustomProperties=[];if(!t.extractElementProperties(e)){return}Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:false})},true)})}},generateProperties:function(e){if(!this.currentElement){return}if(!this.extractElementProperties(e)){return}var t=this;var i=jQuery(e);if(i.attr("data-platform-peid")){var n=i.children(".platform-element-contents").eq(0);if(n&&n.attr("data-platform-element-id")){var r=n.attr("data-platform-element-id").split("-")[0];Relay.request("platform:element:isDisconnected",r).done(function(e){if(e===true){t.unselectElement(true)}else{Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:true})},true)}})}}else{Definitions.fetchDefinition(t.idfield.eid,function(e){exports.handlerGenerateProperties({eid:t.idfield.eid,ucfid:t.ucfid,userProperties:t.uproperty,elementDef:e,render:true})},true)}},_setValidateFunctions:function(e,t,i,n){var r="";if(this.useNewSettingsPopup){r="platform-settings-tooltip-"}this.currentContentFieldDef=e.contentfields[i];this.currentValidateFunction=this.currentContentFieldDef.elementonChangeJs.replace(new RegExp("%%ELEMENTID%%","gi"),t);this.currentSaveValidateFunction=this.currentContentFieldDef.elementJs.replace(new RegExp("%%ELEMENTID%%","gi"),t);var o=e.contentfields[i].contentFieldProperties;for(var s=0;s<o.length;s++){var a=o[s];var l=a.cfpid;var c=n.properties[l];if(a.referenceProperty!=""){this.currentValidateFunction=this.currentValidateFunction.replace(new RegExp(a.referenceProperty,"gi"),r+c.ucfpid);this.currentSaveValidateFunction=this.currentSaveValidateFunction.replace(new RegExp(a.referenceProperty,"gi"),r+c.ucfpid)}}},handlerGenerateProperties:function(options){var elementDef=options.elementDef,ucfid=options.ucfid,userProperties=options.userProperties,render=options.render||false,hiddenProperties=[];if(!this.currentElement){return}if(elementDef.elementid==="5699726"){elementDef=hideNonMatchingModeProperties(elementDef)}this.elementDef=elementDef;var cfid=userProperties.cfid;this._setValidateFunctions(elementDef,ucfid,cfid,userProperties);var allProperties=elementDef.contentfields[cfid].contentFieldProperties;if(!render){return}var visibleProperties=jQuery.grep(allProperties,function(e){return e.hidden!=1});if(visibleProperties.length){if(this.currentValidateFunction!=""){this.currentValidateFunction=eval("("+this.currentValidateFunction+")")}if(this.currentSaveValidateFunction!=""){validateFunction=eval("("+this.currentSaveValidateFunction+")")}var isEmptyImage=false;if(ImageUtils.isImageElement(elementDef.elementid)){var srcProperty=ElementUtils.getContentFieldProperty(this.ucfid,"<!SRC!>");if(srcProperty){isEmptyImage=!!/\/na\.jpg$/.test(srcProperty.property_result)||!!/\/na\.png$/.test(srcProperty.property_result)}}var isEmptyProductsElement=this.isEmptyProductsElement();if(!this.disableElementOptions&&!isEmptyProductsElement&&(!isEmptyImage||elementDef.elementid==="61719152")){this.renderElementOptions(elementDef,visibleProperties,allProperties,userProperties)}}DeadClickSpotlight.show({element:jQuery("#"+ucfid).closest("li.inside")});ElementUtils.repositionElements()},renderElementOptions:function(e,t,i,n){editorApp.vent.trigger("editor:element:props:show");var r=t.first().property==="%%ELEMENTSETTINGS%%";var o=e["manifest"];if(r){this.showPlatformElementOptions(this.currentElement)}else{if(jQuery.isEmptyObject(o)){o=ElementPropertyConverter.convertToManifest(this.currentContentFieldDef.contentFieldProperties,e.displayname,e.elementid)}if(o){this.showElementOptions(this.currentElement,o)}}},showElementOptions:function(e,t){if(jQuery.isEmptyObject(t))return;window.closePlatformSettingsPanel();Weebly.Elements.currentElement=e;var i=jQuery(e).attr("id");var n=t.elements[0];new ElementOptionsView({collection:new Backbone.Collection(n.settings.properties,{model:ElementSettingModel}),model:new Backbone.Model(n.settings.config||{}),elementId:i,name:n.name,description:n.settings.description,element:e});frameApp.vent.trigger("editor:elements:options:show",this.idfield.eid,this.uproperty.cfid,this.ucfid)},showPlatformElementOptions:function(e){window.closePlatformSettingsPanel();exports.currentElement=e;var t=jQuery("#"+e.id).closest(".element");var i=t.data("platform-peid");Weebly.Editor.RPC.PlatformElementInstance.getEditorSettings(i).done(function(t){var n=t.data;var r=n?n.properties||[]:[];var o=n?n.config||{}:{};var s=n?n.config.name:"";var a=n?n.tutorial:null;var l=n?n.description:null;new PlatformElementOptionsView({collection:new Backbone.Collection(r,{model:ElementSettingModel}),model:new Backbone.Model(o||{}),name:s,peid:i,element:e,tutorial:a,description:l})})},getCurrentImageElement:function(){if(!this.currentElement){return}var e={};if(this.currentElement.tagName=="IMG"){e=P$(this.ucfid+"")}else{e=this.currentElement.getElementsByTagName("IMG")[0]}return e},saveProperties:function(e){if(Config.chromeless||!this.currentElement){return}var t=exports.elementDef.elementid;var i=this.ucfid;var n=JSON.stringify(this.pfield.properties);if(e){var r=ElementUtils.getElementObject(this.idfield.id);r.rerenderContentField(this.uproperty,this.currentElement,null,this.unsyncedProperties)}this.idfieldNode.value=JSON.stringify(this.idfield).replace(/"/g,"'");this.unsyncedProperties={};Weebly.Editor.RPC.Elements.saveProperties(i,n).done(function(e){if(e.result===false&&e.error){window.showDeniedAction(e.error);return}}).fail(AjaxModule.errFunc)},onTextChange:function(e,t,i){if(!this.currentElement){return}this.skipRerender=typeof i!=="undefined"?i:false;this.textChange=1;var n=P$(e);if(typeof t=="undefined"){this.onTextChangeTracking=e;setTimeout(function(){exports.onTextChange(e,n.value,i)},1500)}else if(n&&n.value&&n.value==t||n.value==""&&t==""){this.onTextChangeTracking=null;exports.onChange(e,undefined,i)}else if(e!=this.onTextChangeTracking){setTimeout(function(){exports.onTextChange(e,n.value,i)},1500)}},onChange:function(e,t){if(!this.currentElement){return}if(exports.elementDef.elementid=="7423607"){this.isFormDirty=true}if(exports.elementDef.elementid!=="5699726"&&t=="49312965"&&CommerceModule.storefrontSettings.get("element_legacy_mode")){var i=$F(e);var n={grid:"164px",small:"125px",large:"225px",long:"175px"}[i];var r="36068137";var o=this.uproperty.properties[r].ucfpid;this.pfield.properties[r].property_result=n;this.unsyncedProperties[o]=n}if(Object.keys(exports.elementDef.manifest).length>0){if(this.currentValidateFunction!=""&&typeof this.currentValidateFunction=="function"){this.currentValidateFunction(e)}}if(this.currentSaveValidateFunction!=""&&this.currentSaveValidateFunction!=null){validateFunction()}else{this.continueOnChange()}},continueOnChange:function(){if(!this.currentElement&&!this.currentContentFieldDef){return}var e=this.currentContentFieldDef["isLegacy"];for(var t=0;t<this.currentContentFieldDef.contentFieldProperties.length;++t){var i=this.currentContentFieldDef.contentFieldProperties[t].cfpid;if(!this.uproperty.properties[i]){continue}var n=this.uproperty.properties[i].ucfpid;var r=this.currentContentFieldDef.contentFieldProperties[t];var o;var s="";var a="";if(this.isPlatformElement()||this.useNewSettingsPopup){o=P$("platform-settings-tooltip-"+n)}else{if(e){o=P$(n)}else{if(_.contains(UICONST.IMAGE_LINK_LIGHTBOX_CFPIDS,i)){var l=editorApp.request("element:options:get:ucfpid",n+"-lightbox"),c=editorApp.request("element:options:get:ucfpid",n+"-link");if(l==="1"){var u="http://weebly-image-full/"+Weebly.Elements.ucfid;s="<a"+(u?" href='"+u+"'":"")+">"}else if(typeof c!=="undefined"&&c.length>0){s=c}else{s="<a>"}}else{s=editorApp.request("element:options:get:ucfpid",n)}if(!s&&P$(n)&&P$(n).value){s=P$(n).value}if(typeof s!=="undefined"&&s===Weebly.Elements.uproperty["properties"][i].property_result){s=undefined}}}if(P$("cfpid-"+i)){a=P$("cfpid-"+i).value;this.pfield.properties[i].property_result=a;
}else if(o&&(o.value||o.value=="")){a=o.value;this.pfield.properties[i].property_result=a;this.unsyncedProperties[n]=a}else if(typeof s!=="undefined"){a=s;this.pfield["properties"][i].property_result=a;this.unsyncedProperties[n]=a}else if(r.options=="%%CUSTOMHTML%%"){a=P$(n+"CustomHTML").value;this.pfield.properties[i].property_result=a;this.unsyncedProperties[n]=a}if(r.options=="%%URICOMPONENT%%"){a=this.unsyncedProperties[n];if(a!==""){a=encodeURIComponent(a);this.pfield.properties[i].property_result=a;this.unsyncedProperties[n]=a}}}var d=ElementUtils.getElementObject(this.idfield.id);var f=this.uproperty;if(this.currentElement&&!this.skipRerender&&!this.isFormDirty){var h=this.currentElement.select(".editable-text")[0];if(h&&h.id==window.currentBox){window.currentBox=null}d.rerenderContentField(f,this.currentElement,null,this.unsyncedProperties);if(d.children&&d.children.length){setTimeout(function(){Relay.request("page:navigate")},250)}if(this.closeOnValidate){this.unselectElement()}}this.skipRerender=false},hideElementSettings:function(){frameApp.vent.trigger("element:options:dialog:close")},getPropertyByReference:function(e){if(!this.currentElement){return{}}var t={};$H(this.uproperty.properties).values().each(function(i){if(i.reference_property==e){t=i}});return t},isProductElement:function(){return P$(this.currentElement).down(".product-image")},extractElementProperties:function(element){var idfield;var finalChild;var ucfid=element.id;var parentRef=P$(element).up(".inside");var children=parentRef.childElements();for(var i=0;i<children.size();i++){if(children[i].idfield){finalChild=children[i];break}}try{idfield=eval("("+finalChild.idfield.value+")")}catch(e){window.showError(_W.utl("javascript.site.editor.ui.weebly_elements_28"));return false}this.idfield=idfield;this.idfieldNode=finalChild.idfield;this.pfield=ElementUtils.getElementObject(idfield.id).content_fields[ucfid];this.ucfid=ucfid;this.uproperty=this.pfield;this.upload=0;return true},isSelectableElement:function(e){var t=e.up("li.inside").up().hasClassName("weebly-single-area");var i=e.select("> .wsite-multicol").length;var n=P$(e.id+"-form-parent");var r=e.select("> .wsite-button").length;var o=e.select("> .wsite-social").length;var s=ElementSpotlight.getCurrent();if(s&&!s.container.is(e)&&!s.container.find(e).length){return false}if(t){if(r||o){}else{return false}}if(View.isMobileView&&i){return false}if(n&&!ElementSpotlight.isCurrentContainer(e)){return false}return true},isSingleArea:function(e){return e.up("li.inside").up().hasClassName("weebly-single-area")},getCurrentProductID:function(){if(this.isProductElement()){var e=P$(this.ucfid+"-product-data");return $F(e.productID)}return false},isFormElement:function(){return this.currentElement&&P$(this.currentElement.id+"-form-parent")?true:false},isEmptyProductsElement:function(){var e=jQuery(this.currentElement);if(e.length){var t=e.find(".empty-commerce-element");return t.length>0}return false},getNewElementID:function(){var e=$$("#secondlist .outside_top form");if(e.size()==1){var t=e[0].idfield.value.replace(/[^\d]/g,"");return t}},hideCustomHTML:function(e,t,i){if(!exports.editing){return}exports.editing=null;var n=P$(""+e);var r=P$("customHTMLDummy").parentNode;var o=P$(""+i+"CustomHTML");o.style.display="none";n.style.display="block";r.appendChild(o);r.removeChild(P$("customHTMLDummy"));new Ajax.Request(AjaxModule.ajax,{parameters:{pos:"savecustomhtml",ucfid:e,ucfpid:i,customhtml:o.value,cookie:document.cookie,token:Weebly.RequestToken},onSuccess:function(t){if(t.responseText.isJSON()==true){var i=t.responseText.evalJSON();if(i.result==false){window.showDeniedAction(i.error)}}else{refreshCustomHtml(e,o.value)}},onFailure:AjaxModule.errFunc,bgRequest:true});exports.customHTML[i]=o.value;exports.onChange(i,t);exports.unselectElement();jQuery("#elementSettingsWrapper").show()},editCustomHTML:function(e,t,i){jQuery("#elementSettingsWrapper").hide();var n=P$(""+e);var r=n.parentNode;var o=n.getHeight();var s=n.getWidth();o=o>150?o+"px":"150px";s=s>200?s-6+"px":"100%";n.style.display="none";var a=P$(""+i+"CustomHTML");var l=a.parentNode;if(exports.customHTML[i]){a.value=exports.customHTML[i]}var c=document.createElement("div");c.style.display="none";c.id="customHTMLDummy";l.appendChild(c);r.appendChild(a);a.style.height=o;a.style.width=s;a.style.display="block";a.focus();a.select();exports.editing=t},getImageProperty:function(){var e=exports.getPropertyByReference("<!IMAGESET!>");if(!e.cfpid){e=exports.getPropertyByReference("<!IMAGES!>");if(!e.cfpid){return false}}return e},setProperty:function(e,t){var i=exports.getPropertyByReference(e),n,r;if(i){n=i.cfpid;if(n){var o=Weebly.Elements.uproperty.properties[n];o.property_result=t;Weebly.Elements.unsyncedProperties[o.ucfpid]=t}r=P$(i.ucfpid);if(r){r.value=t}}}};function validateFunction(){window.validateOK()}window.validateOK=function(){exports.continueOnChange()};function refreshCustomHtml(e,t){var i=P$("custom-frame-"+e);var n=i.contentWindow.setContent;if(t.match(/\Wscript\W/i)&&i.src){jQuery(i).load(function(){n(t,true)});i.contentWindow.location.reload(true)}else{n(t)}}function hideNonMatchingModeProperties(e){var t=CommerceModule.storefrontSettings.get("element_legacy_mode"),i=function(e){_.each(e,function(e){if(_.has(e,"legacyMode")&&e.legacyMode!==t){e.hidden=true}if(e.properties){i(e.properties)}})};_.each(e.manifest.elements,function(e){if(e.settings.properties){i(e.settings.properties)}});return e}window.menuBarChooseImage=function(e,t,i,n,r){var o=ImageUtils.isImageLiquid(jQuery(e));Relay.request("chooseImage",{clickDiff:{left:0,top:10},type:t,width:i,ucfid:n,ucfpid:r,copyFlickr:true}).done(function(e){window.updateImageElement(e,n,r,o,e.image.pageUrl,e.image.creator);exports.unselectElement()})};window.determineUpload=function(){var e=_.toArray(arguments);e.unshift("determineUpload");Relay.execute.apply(Relay,e)};window.manageSlideshow=function(){var e=_.toArray(arguments);e.unshift("slideshowadmin:manage");Relay.execute.apply(Relay,e)};editorApp.vent.on("editor:updateList",function(){exports.unselectElement()});Relay.commands.setHandlers({"editor:elements:select":_.bind(exports.selectElement,exports),"editor:elements:unselect":_.bind(exports.unselectElement,exports),"editor:elements:setDisableElementOptions":function(e){exports.disableElementOptions=e},"editor:elements:setProperty":_.bind(exports.setProperty,exports),"editor:elements:setImageProperty":function(e){var t=exports.getImageProperty();if(!t){return}t.property_result=e},"editor:elements:continueOnChange":_.bind(exports.continueOnChange,exports),"editor:elements:saveProperties":_.bind(exports.saveProperties,exports),"editor:elements:element-options:open":function(e){exports.selectElement(e,true)},"slideshow:updatePhotos":Slideshow.updatePhotos,"editor:elements:saveAndRerender":function(e,t,i,n){exports.selectElement(e);exports.setProperty(t,i);exports.saveProperties(n)}.bind(exports)});Relay.reqres.setHandlers({"editor:elements:getProperty":exports.getPropertyByReference.bind(exports)});Relay.on({"site:overlays:hide":function(){exports.unselectElement()}});Weebly.Elements=exports;return exports}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,i){var n,r;!(n=[i(4),i(2),i(35),i(53)],r=function(e,t,i,n){var r=e.Marionette.ItemView.extend({modelEvents:{change:"changeHandler"},attributes:function(){var e=this,i,n=e.model.get("type"),r=["select","radio","button"];if((e.options.isInGroup||!t.contains(r,n))&&!e.options.isExternal&&(n!=="optionItems"||e.options.isInGroup)){i="group__item"}return{class:i}},initialize:function(){if(this.model.get("hovertip")||this.model.get("tooltip")){n.prototype.executeClose=function(){var e=this.$el;var t=this.$modalEl;this.currentOpenOptions=null;this.destroyCloseOnEsc();this.destroyCloseOnEnter();this.destroyCloseOnClick();this.destroyCloseOnClickAway();this.destroyRepositioning();e.removeClass("is-in").add(t||null);this.destroy();e.removeClass("modal__subject");if(this.$outerEl){this.$outerEl.remove();this.$outerEl=null}};n.initialize()}},onRender:function(){var e=this.model.get("hideOn");var n=false;if(e){var r=e["propertyReference"];var o=Weebly.Elements.getPropertyByReference(r);var s=i.getPropertyByKey(this.collection||this.model.collection,"cfpid",o.cfpid)||o.property_result;var a=e["value"];if(t.isArray(a)){t.each(a,function(e){if(e===s){this.close();this.$el=null;n=true}},this)}else if(a&&a===s){this.close();this.$el=null;n=true}}return n},getValue:function(){throw"ElementSettingsError: Failed to override BaseSettingsItemView.getValue in subclass"},isValid:function(e){var e=this.getValue();if(this.model){return this.model.isValid(e)}else{return false}},saveValue:function(){var e=this.model.get("ucfpid"),t=this.model.get("cfpid");if(this.isValid()){this.hideError();if(this.model.get("value")===this.getValue()){return}this.model.set("value",this.getValue());if(e||t){Weebly.Elements.onChange(e,t)}return true}else{this.showError();return false}},showError:function(){this.$el.addClass("is-error")},hideError:function(){this.$el.removeClass("is-error");this.$el.find(".error").removeClass("error")},changeHandler:function(){if(this.collection){i.setPropertyByKey(this.collection,"actionPaneIndex",this.model.get("actionPaneIndex"),this.model.get("value"))}}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1)],r=function(e){return{propertyIterator:function(e,i,n){t(e,i,n)},setPropertyByKey:function(e,i,n,r){if(!e.models)return;var s=this,a=function(e){if(typeof e[i]!=="undefined"){if(e[i]===n){e["value"]=r}}};o.each(e.models,function(e){if(e.get("properties")){var o=JSON.parse(JSON.stringify(e.get("properties")));t(o,a);e.set("properties",o)}else if(n&&e.get(i)===n){e.set("value",r)}})},getPropertyByKey:function(e,i,n){if(!e.models)return;var r=this,s,a=function(e){if(typeof e[i]!=="undefined"){if(e[i]===n){var t=e["measure"]||"",r=typeof e["value"]!=="undefined"?e["value"]+t:e;return r}}};o.each(e.models,function(e){var i=t(e,a);if(typeof i!=="undefined"){s=i}});return s},isElementSettingsOpen:function(){return e("#elementSettingsWrapper").find(".dialog").length>0}};function t(e,i){var n=e.get?e.get("properties"):e.properties;if(!n){n=e.get?e.attributes:e}if(n.length){for(var r=0;r<n.length;r++){var o=i(n[r],n);if(typeof o!=="undefined"){return o}o=t(n[r],i);if(typeof o!=="undefined"){return o}}}else{if(typeof n["actionPaneIndex"]==="undefined"){var o=i(n);if(typeof o!=="undefined"){return o}}}}}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(2),i(5)],r=function(e,t){var n={};n.getAreaInstanceFromParent=function(e,i,r,o){o=o||"";var s;if(o.match(/[0-9]+p[0-9]+/)||o.match(/[0-9]+c[0-9]+/)){s=t.pageContext.getArea(i,r);s=s.descriptionArea;s.type="content"}else if(o.match(/-sidebar/)){s=n.getAreaInstance(e,i,r);s=s.sidebar;s.type="content"}else if(o.match(/-blog/)){s=n.getAreaInstance(e,i,r);s=s.main;s.type="content"}else{s=n.getAreaInstance(e,i,r)}return s};n.getAreaInstance=function(i,n,r){if(e.isUndefined(i)||i===null){return t.pageContext.getArea(n,r)||t.siteContext.getArea(n,r)}return i?t.siteContext.getArea(n,r):t.pageContext.getArea(n,r)};n.getAreaInstanceForElement=function(e){var i;if(t.pageContext){i=t.pageContext.getAreaForElement(e)}if(!i&&t.siteContext){i=t.siteContext.getAreaForElement(e)}return i};var r=[];var o=[];var s=null;n.clearAreaBatch=function(){r=[];o=[];s=null};n.fetchNeededArea=function(e,t,i,n){r.push({type:t,name:i,is_global:e});o.push(n)};n.batchFetchNeededAreas=function(e){var n=currentPage.replace(/\/.*/,"");var a=i(12);if(n=="0"){n=null}s=e;if(r.length&&n&&(!a.chromeless||!a.isNativeApp)){new Ajax.Request(ajax,{parameters:{pos:"getareas",current_page_id:currentPage,area_summary:Object.toJSON(r),token:t.RequestToken},onSuccess:function(e){var t=e.responseText.evalJSON();for(var i=0;i<t.length;i++){o[i](t[i])}r=[];o=[];s&&s()}})}else{s&&s()}};return n}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,r,o;for(o=0;(r=i[o])!=null;o++){try{n=e._data(r,"events");if(n&&n.remove){e(r).triggerHandler("remove")}}catch(e){}}t(i)}}(e.cleanData);e.widget=function(t,i,n){var r,o,s,a,l={},c=t.split(".")[0];t=t.split(".")[1];r=c+"-"+t;if(!n){n=i;i=e.Widget}e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)};e[c]=e[c]||{};o=e[c][t];s=e[c][t]=function(e,t){if(!this._createWidget){return new s(e,t)}if(arguments.length){this._createWidget(e,t)}};e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]});a=new i;a.options=e.widget.extend({},a.options);e.each(n,function(t,n){if(!e.isFunction(n)){l[t]=n;return}l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t=this._super,i=this._superApply,o;this._super=e;this._superApply=r;o=n.apply(this,arguments);this._super=t;this._superApply=i;return o}}()});s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r});if(o){e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)});delete o._childConstructors}else{i._childConstructors.push(s)}e.widget.bridge(t,s);return s};e.widget.extend=function(t){var n=i.call(arguments,1),r=0,o=n.length,s,a;for(;r<o;r++){for(s in n[r]){a=n[r][s];if(n[r].hasOwnProperty(s)&&a!==undefined){if(e.isPlainObject(a)){t[s]=e.isPlainObject(t[s])?e.widget.extend({},t[s],a):e.widget.extend({},a)}else{t[s]=a}}}}return t};e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s=typeof o==="string",a=i.call(arguments,1),l=this;if(s){this.each(function(){var i,n=e.data(this,r);if(o==="instance"){l=n;return false}if(!n){return e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+o+"'")}if(!e.isFunction(n[o])||o.charAt(0)==="_"){return e.error("no such method '"+o+"' for "+t+" widget instance")}i=n[o].apply(n,a);if(i!==n&&i!==undefined){l=i&&i.jquery?l.pushStack(i.get()):i;return false}})}else{if(a.length){o=e.widget.extend.apply(null,[o].concat(a))}this.each(function(){var t=e.data(this,r);if(t){t.option(o||{});if(t._init){t._init()}}else{e.data(this,r,new n(o,this))}})}return l}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0];this.element=e(n);this.uuid=t++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=e();this.hoverable=e();this.focusable=e();if(n!==this){e.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===n){this.destroy()}}});this.document=e(n.style?n.ownerDocument:n.document||n);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this.options=e.widget.extend({},this.options,this._getCreateOptions(),i);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n=t,r,o,s;if(arguments.length===0){return e.widget.extend({},this.options)}if(typeof t==="string"){n={};r=t.split(".");t=r.shift();if(r.length){o=n[t]=e.widget.extend({},this.options[t]);for(s=0;s<r.length-1;s++){o[r[s]]=o[r[s]]||{};o=o[r[s]]}t=r.pop();if(arguments.length===1){return o[t]===undefined?null:o[t]}o[t]=i}else{if(arguments.length===1){return this.options[t]===undefined?null:this.options[t]}n[t]=i}}this._setOptions(n);return this},_setOptions:function(e){var t;for(t in e){this._setOption(t,e[t])}return this},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!t);if(t){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(t,i,n){var r,o=this;if(typeof t!=="boolean"){n=i;i=t;t=false}if(!n){n=i;i=this.element;r=this.widget()}else{i=r=e(i);this.bindings=this.bindings.add(i)}e.each(n,function(n,s){function a(){if(!t&&(o.options.disabled===true||e(this).hasClass("ui-state-disabled"))){return}return(typeof s==="string"?o[s]:s).apply(o,arguments)}if(typeof s!=="string"){a.guid=s.guid=s.guid||a.guid||e.guid++}var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];if(u){r.delegate(u,c,a)}else{i.bind(c,a)}})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.unbind(i).undelegate(i);this.bindings=e(this.bindings.not(t).get());this.focusable=e(this.focusable.not(t).get());this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return(typeof e==="string"?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,o,s=this.options[t];n=n||{};i=e.Event(i);i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();i.target=this.element[0];o=i.originalEvent;if(o){for(r in o){if(!(r in i)){i[r]=o[r]}}}this.element.trigger(i,n);return!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){if(typeof r==="string"){r={effect:r}}var s,a=!r?t:r===true||typeof r==="number"?i:r.effect||i;r=r||{};if(typeof r==="number"){r={duration:r}}s=!e.isEmptyObject(r);r.complete=o;if(r.delay){n.delay(r.delay)}if(s&&e.effects&&e.effects.effect[a]){n[t](r)}else if(a!==t&&n[a]){n[a](r.duration,r.easing,o)}else{n.queue(function(i){e(this)[t]();if(o){o.call(n[0])}i()})}}});return e.widget})},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(9),i(3)],r=function(e,t,i){var n=t.View.extend({template:null,options:null,constructor:function(e){this.options=e||{};this._initialize();t.View.call(this,e)},_initialize:function(){},showWithin:function(t){this._trigger("before:attach");e(t).append(this.render().$el);this._trigger("attach");this.updateSize();this._trigger("show")},queryOption:function(e){var t=this.options[e];if(t==null){t=this[e]}return t},queryOptionOverride:function(e,t){var i;if(t){i=t[e]}if(i==null){i=this.queryOption(e)}return i},extendOptions:function(t){e.extend(this.options,t)},extendEvents:function(e){if(e&&e.events){var t=o.values(e.events);o.extend(this.events,e.events);o.each(t,function(t){var i=e.context||this;this[t]=function(n){return e[t].apply(i,arguments)}},this);this.delegateEvents()}},_trigger:function(e){var t=Array.prototype.slice.call(arguments,1);return r(this,e,t)},render:function(){var t;var n=this.getRenderData();if(this.template){if(e.isFunction(this.template)){t=this.template(n)}else{t=i.render(this.template,n)}this.$el.html(t)}this.delegateEvents();return this},updateSize:function(){},getRenderData:function(){return{}},destroy:function(){this._trigger("before:destroy");this._trigger("before:detach");this.executeDestroy.apply(this,arguments);this._trigger("detach");this._trigger("destroy")},executeDestroy:function(){this.remove();this.el=null;this.$el=null;this._ensureElement()},renderProceedButtonHtml:function(){return this.renderButtonHtml(this.normalizeButtonRenderData("btn--primary js-proceed-btn",this.queryOption("proceedButton"),this.queryOption("proceedText")))},renderCancelButtonHtml:function(){return this.renderButtonHtml(this.normalizeButtonRenderData("btn--cancel btn--secondary js-cancel-btn",this.queryOption("cancelButton"),this.queryOption("cancelText")))},normalizeButtonRenderData:function(e,t,i){t=t||{};if(typeof t==="string"){t={text:t}}if(t.text==null&&typeof i==="string"){t.text=i}t.mainClassName=e;return t},renderButtonHtml:function(e){return i.render("<button class='btn {{mainClassName}} {{className}}' {{#icon}}data-icon-before='{{icon}}'{{/icon}}>{{text}}</button>",e)}});function r(t,i,n){var r=t.options;var o="on"+i.replace(/(^|\:)([a-zA-Z])/g,function(e,t,i){return i.toUpperCase()});var a="_"+o;t.trigger.apply(t,[i].concat(n));return e.when(s(t[a]?t[a].apply(t,n):null),s(t[o]?t[o].apply(t,n):null),s(r&&r[o]?r[o].apply(t,n):null))}n.triggerOn=r;function s(t){if(t===false){return e.Deferred().reject().promise()}return t}return n}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},,function(e,t,i){(function(t){if(!window.Weebly)Weebly={};Weebly.AllDialogs={};Weebly.Dialog=function(e,i){var n=t;if(!i&&typeof e=="object"&&!e.nodeName){i=e;e=null}else{if(typeof e==="string"){e=n("#"+e)}else{e=n(e)}i=i||{};Weebly.AllDialogs[e.attr("id")]=this}this.options=i;var r,o,s;this.setOption=function(e,t){if(t===undefined){delete this.options[e]}else{this.options[e]=t}};this.open=function(t,s){if(t){i.url=t}if(s){i.parameters=s}if(i.modal){if(!r){r=n('<div class="weebly-blackout">').attr("id",i.blackoutID||"");n(document.body).append(r);r.css("z-index",i.zIndex||999);var u=i.blackoutOpacity!==undefined?i.blackoutOpacity:.5;r.css("opacity",u);a()}else{r.show()}}if(!o){c()}if(i.modal){n(document.body).append(o)}if(i.iframe){var d="";if(i.parameters){d=n.param(i.parameters);if(i.url.indexOf("?")==-1){d="?"+d}else{d="&"+d}}var f={};f.border=0;if(i.width){f.width=i.width+"px"}if(i.height){f.height=i.width+"px"}l(n('<iframe src="'+i.url+d+'" frameborder="0">').css(f))}else if(i.url){new n.ajax(i.url,{type:i.method||"get",data:i.parameters,success:function(e){l(e)}})}else{l(e.show(),true)}};function a(){r.height(document.body.offsetHeight);var e=n(window).height();if(e>document.body.offsetHeight){r.height(e)}}function l(t,n){e=t;if(!n){s.empty()}s.append(e);e=s.children().first();o.show();u();if(i.onOpen){i.onOpen.call(o,e)}}this.update=function(t){e=t;s.empty().append(e);u()};function c(){var e=n("<div>");var t=i.outerClass||"";e.addClass(i.inner_class||"weebly-dialog-inner");var r=document.createElement("div");r.innerHTML="<div class='weebly-dialog "+t+"'>"+"  <div class='weebly-dialog-border'>"+"    <div class='weebly-dialog-content'>"+"    </div>"+"  </div>"+"</div>";o=n(r.firstChild);o.find("div.weebly-dialog-content").first().append(e);if(i.showClose!==false){var a=typeof i.closeFunction==="function"?i.closeFunction:function(){f(true)};var l=n('<div class="weebly-dialog-close">').on("click",a);e.append(l)}s=n("<div>");e.append(s);if(i.iframe){s.css("line-height",0)}else{if(i.width){s.width(i.width)}if(i.height){s.height(i.height)}}o.css("position","absolute");o.css("left","-10000px");o.css("z-index",i.zIndex||999);n(document.body).append(o)}function u(){if(!o){return}var t=e[0].scrollHeight+29;var s=n(window).height(),l=o[0].scrollHeight;l=Math.max(t,l);o.css("top",n(window).scrollTop()+Math.max(10,Math.round(s/2-l/2))+"px");o.css("left",Math.round(n(document.body).width()/2-o.width()/2)+"px");if(!i.noScrollbars&&l>s-20){e.height(e.scrollHeight-(l-(s-20)));if(!i.iframe){e.css("overflow","auto")}}else{if(i.iframe){if(i.height){e.height=i.height}}else{e.css("height","");e.css("overflow","")}}if(r&&r.is(":visible")){a()}}this.positionDialog=u;var d;n(window).on("resize",function(){if(!d&&e){if(e.offsetWidth){d=true;u();d=false}}});var f=this.close=function(e){if(o){if(!i.onClose||i.onClose.call(o,e)!==false){if(r){r.hide()}o.hide()}}};this.destroy=function(){if(r){r.remove()}if(s){s.remove()}}};if(!window.getInnerHeight){function i(){var e,t;if(self.innerHeight){return self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight}else if(document.body){return document.body.clientHeight}}}e.exports=Weebly.Dialog}).call(t,i(1))},,function(e,t,i){var n,r;!(n=[i(1),i(2),i(40),i(100),i(76),i(176),i(69)],r=function(e,t,i,n,r,o,s){var a=n.extend({className:"dialog",innerOverlayClassName:"dialog__overlay",contentViewTriggerPrefix:"dialog",topbar:null,topbars:null,title:"Dialog",hasContentPadding:true,hasTopbarBorder:true,loadingText:"Loading content...",_initialize:function(){n.prototype._initialize.call(this);this.topbars=[];var e=this.queryOption("topbar");if(e instanceof o){}else if(e&&typeof e==="object"){e=new o(e)}else{e=new o(this.getTopbarOptions())}this.topbar=e;this.addTopbar(e)},processContentView:function(e){this.extendOptions(t.result(e,"dialogOptions",{}));e.dialog=this;e.dialogPanel=this;if(e instanceof i){this.hasContentPadding=false}if(this.topbar){this.topbar.setTitle(this.queryOption("title"));this.topbar.setBackLink(this.getBackLink());this.topbar.setForwardLink(this.getForwardLink())}},getTopbarOptions:function(){return{title:this.queryOption("title"),hasTopbarBorder:this.queryOption("hasTopbarBorder")}},destroy:function(){n.prototype.destroy.apply(this,arguments)},renderSkeleton:function(){var e=this.queryOption("hasContentPadding")?"":" dialog__content--flush";var t='<div class="dialog__header"></div>'+'<div class="dialog__scroll-mask">'+'<div class="dialog__scroll">'+'<div class="dialog__content'+e+'"></div>'+"</div>"+'<div class="dialog-loading">'+'<div class="dialog-loading__container">'+'<div class="dialog-spinner">'+'<div class="dialog-spinner__bg"></div>'+"</div>"+'<span class="dialog-loading__text">'+this.queryOption("loadingText")+"</span>"+"</div>"+"</div>"+"</div>";this.$el.html(t)},renderHeader:function(e){this.topbar=this.topbars[0];this.topbar.setBackLink(this.queryOption("backLink"));this.topbar.setForwardLink(this.queryOption("forwardLink"));var i=t.extend({context:this},this.topbar.getNormalizedLink(this.getBackLink()));var n=t.extend({context:this},this.topbar.getNormalizedLink(this.getForwardLink()));this.topbar.setBackLink(i);this.topbar.setForwardLink(n);this.topbar.render();this.topbar.$el.addClass("dialog__topbar");this.attachTopbar(this.topbar)},renderContent:function(){n.prototype.renderContent.apply(this,arguments);if(this.contentView instanceof i){this.contentView.$el.addClass("dialog__component")}},getBackLink:function(){return this.topbar.queryOption("backLink")},getForwardLink:function(){return this.topbar.queryOption("forwardLink")},queryHeaderOuterEl:function(){return this.$el.find(".dialog__header")},queryHeaderInnerEl:function(){return this.$el.find(".dialog__header")},queryContentOuterEl:function(){return this.$el.find(".dialog__scroll-mask")},queryContentInnerEl:function(){return this.$el.find(".dialog__content")},queryScrollEl:function(){return this.queryContentOuterEl()},queryDialogEl:function(){if(this.comboDialog){return this.comboDialog.$el}else{return this.$el}},back:function(){var t=this;if(this.topbar.isBackEnabled){return this._trigger("before:back").then(function(){t.executeBack();t._trigger("back")})}else{return e.Deferred().reject().promise()}},executeBack:function(){var e=this.topbar.queryOption("backLink");var t=(e||{}).action;if(t){this[t].call(this);return t}},forward:function(){var t=this;var i=this.topbar.queryOption("forwardLink");var n=(i||{}).action;if(this.topbar.isForwardEnabled){return this._trigger("before:forward").then(function(){t.executeForward();t._trigger("forward")})}else{return e.Deferred().reject().promise()}},executeForward:function(){var e=this.topbar.queryOption("forwardLink");var t=(e||{}).action;if(t){this[t].call(this);return t}},setIsLoading:function(e){this.$el.find(".dialog-loading").toggleClass("is-visible",e)},addTopbar:function(e){this.topbars.push(e);var t=this;e.on("back",function(){t.back()}).on("forward",function(){t.forward()})},pushTopbar:function(e){this.addTopbar(e);this.gotoTopbar(this.topbars.length-1,"add")},popTopbar:function(){var e=this.topbars.length;if(e>1){this.gotoTopbar(e-2,"remove")}},gotoTopbar:function(e,t){var i=this.topbars[e];var n;if(this.topbar!=null){n=this.topbar}var r=t==="add"?"up":"down";this.topbar=i;this.transitionTopbars(n,i,r)},attachTopbar:function(e){e.$el.appendTo(this.queryHeaderInnerEl())},transitionTopbars:function(e,t,i){var n=this;var r=this.queryHeaderOuterEl();t.render();t.$el.addClass("dialog__topbar");r.addClass("is-transitioning").height(e.$el.outerHeight());if(i==="up"){this.attachTopbar(t)}return s.promiseTimeout(0).then(function(){if(i==="up"){e.$el.addClass("is-sliding-up");t.$el.addClass("is-entering")}else if(i==="down"){t.$el.removeClass("is-sliding-up").addClass("is-entering is-sliding-down")}else{throw new Error('transitionTopbars direction argument accepts the following: "up" or "down"')}}).then(function(){return s.promiseTimeout(0)}).then(function(){if(i==="up"){return s.promiseTransition(e.$el)}else{return s.promiseTransition(t.$el)}}).then(function(){t.$el.removeClass("is-sliding-up is-sliding-down is-entering");if(i==="down"){e.$el.removeClass("is-sliding-up is-sliding-down is-entering");e.destroy();n.topbars=n.topbars.slice(0,n.topbars.length-1)}r.removeClass("is-transitioning").height("")})},enableEditMode:function(e){var i=t.extend({forwardLink:{context:this,text:"Done",action:"close"},isEditMode:true},e);this.pushTopbar(new o(i));this.queryDialogEl().addClass("is-edit-mode");this._trigger("enableEditMode")},disableEditMode:function(){if(this.topbars.length>1){this.popTopbar();this.queryDialogEl().removeClass("is-edit-mode");this._trigger("disableEditMode")}}});e.each(["setTitle","setBackLink","setForwardLink","setBackEnabled","setForwardEnabled"],function(e,t){a.prototype[t]=function(){this.topbar[t].apply(this.topbar,arguments)}});var l=e.extend({},r.Mixin,{zIndex:9999,size:"large",isFullscreen:false,isModal:false,hAlignment:"center",vAlignment:"center",draggableSelector:".dialog__topbar",positionRefresh:true,dialogResizeHandler:null,backLink:{isClose:true,action:"close"},open:function(t){this.isFullscreen=this.queryOptionOverride("isFullscreen",t);if(this.isFullscreen){e("html,body").css({margin:0,padding:0,overflow:"hidden",height:"100%"});this.$el.addClass("dialog--fullscreen");this.showWithin("body")}else{r.Mixin.open.call(this,t)}this.initializeResizeOnWindowResize();this.isModal=this.queryOptionOverride("isModal",t);if(this.isModal){this.scrollPosition=e(window).scrollTop();this.scrollbarWidth=window.innerWidth-document.body.clientWidth;this.defaultBodyAttr=e("body").attr("style")||"";e("body").css({position:"fixed",top:-this.scrollPosition,width:"calc(100% + "+this.scrollbarWidth+"px)","margin-left":-this.scrollbarWidth+"px"})}return this},initializeResizeOnWindowResize:function(){var i=this;e(window).on("resize",i.dialogResizeHandler=t.debounce(function(){i.updateSize()},100))},destroyResizeOnWindowResize:function(){if(this.dialogResizeHandler){e(window).off("resize",this.dialogResizeHandler)}},executeClose:function(){if(!this.isFullscreen){r.Mixin.executeClose.call(this)}this.destroyResizeOnWindowResize();if(this.isModal){e("body").attr("style",this.defaultBodyAttr).scrollTop(this.scrollPosition);
}return this},updateSize:function(e){var t=this.queryOptionOverride("size",e);if(t){this.$el.removeClass("dialog--small dialog--medium dialog--large").addClass("dialog--"+t)}n.prototype.updateSize.call(this);return this}});var c=a.extend(l);c.open=function(e){var t=new this(e);return t.open()};c.Panel=a;c.Mixin=l;return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(12),i(11),i(164),i(10),i(55),i(15),i(179),i(60),i(306),i(304),i(33),i(7)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p=Class.create(a,{initialize:function($super,e,t){$super(e,t);this.includedScripts={};if(!this.platform_element_id&&this.eid!=o.CONTENT_AREA_ELEMENT_ID){if(this.children){this.children=t.loadElements(this.children)}if(this.leftChildren){this.leftChildren=t.loadElements(this.leftChildren)}if(this.rightChildren){this.rightChildren=t.loadElements(this.rightChildren)}}if(!window.adsenseID){var n=this.getContentField();if(n&&n.content&&n.content.match(/serveAds\.php\?type=adsense/)&&!adsenseID&&!i.chromeless){Pages.go("adsenseSetup");calledAdsenseSetup=true}}if(!window.calledExternalSetup){if(this.externalSetup){Pages.go("externalSetup",this.externalSetup,this.id);calledExternalSetup=true}}},processHTML:function($super,i,n){var o=this;var u="";var f=o.getContentField();if(f){u=f.ucfid}i=$super(i,n);i=i.replace(/<!WEEBLYGALLERY2?\-(?:.|\s)*?!>/g,function(){o._isGallery=true;return l.update(u,o.getPropertyResult("<!COLUMNS!>"),o.getPropertyResult("<!SPACING!>"),o.getPropertyResult("<!BORDER!>")||0,o.getPropertyResult("<!CROPPING!>")||0,o.getPropertyResult("<!THUMBCAPTIONTYPE!>"),o.getPropertyResult("<!THUMBCAPTIONHOVER!>"),o.getPropertyResult("<!IMAGESET!>"))});i=i.replace(/<!WEEBLYSLIDESHOW\-\{(?:.|\s)*?\}!>/g,function(){o._isSlideshow=true;var e=o.getPropertyResult("<!IMAGES!>");e=e?e.evalJSON():[];return c.generateHTML(u,{elementID:u,nav:o.getPropertyResult("<!NAV!>"),navLocation:o.getPropertyResult("<!NAVLOCATION!>"),captionLocation:o.getPropertyResult("<!CAPTIONLOCATION!>"),transition:o.getPropertyResult("<!TRANSITION!>"),autoplay:o.getPropertyResult("<!AUTOPLAY!>"),speed:o.getPropertyResult("<!SPEED!>"),aspectRatio:o.getPropertyResult("<!ASPECTRATIO!>"),showControls:o.getPropertyResult("<!SHOWCONTROLS!>"),randomStart:o.getPropertyResult("<!RANDOMSTART!>"),images:e})});i=i.replace(/<!WEEBLYRADIO\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,i){return d.drawRadioOptions(i)});i=i.replace(/<!WEEBLYSELECT\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,i){return d.drawSelectOptions(i)});i=i.replace(/<!WEEBLYCHECKBOXES\-((?:.|\s)*?)\-((?:.|\s)*?)!>/g,function(e,t,i){return d.drawCheckboxes(i)});if(o.formParentID){i=i.split("<!"+o.formParentID+"CONTENTS!>").join(n?t("#"+o.formParentID+"-form-list")[0].innerHTML:a.renderElementsHTML(o.children));i=i.replace(/<input type="submit" class="wsite-form-submit" name="submit" value="([^"]*)" \/>/,"<a class='wsite-button'><span class='wsite-button-inner'>$1</span></a>")}if(o.columnParentID){if(!n){i=i.replace("<!"+o.columnParentID+"LHSUL!>",o.leftChildren.length?a.renderElementsHTML(o.leftChildren):"");i=i.replace("<!"+o.columnParentID+"RHSUL!>",o.rightChildren.length?a.renderElementsHTML(o.rightChildren):"")}}i=i.replace(/<!EXTERNAL:([^!]+)!>/g,function(e,t){if(externalSites<1e3){externalSites++;var i=t;if(remoteAccounts[i]){return remoteAccounts[i].remoteId}}return""});i=i.replace(/<weebly include_once(_noexport)? ([^>]*)>([\S\s]*?)<\/weebly>/gim,function(e,t,i,n){if(r.scriptSrc.length<30){r.scriptSrc.push(n);r.scriptId.push(i);o.includedScripts[i]=n}return""});i=i.replace(/<weebly only_export([^>]*)>([\S\s]*?)<\/weebly>/gim,"");if(s.isImageElement(this.eid)){o._isInitialImage=false;if(/<img[^>]*src=['"][^'"]*\/na.png[^'"]*['"][^>]*>/.test(i)){o._isInitialImage=true;var h=i.match(/(<img[^<]*)/g);var p=h[0]+'<p class="wsite-image-placeholder-text">'+e.utl("javascript.editor-site-shared.build.elements.LegacyElement_1")+"</p>";i=i.replace(/(<img[^<]*)/g,p)}var m=o.getPropertyResult("<!DATA!>")||"{}";var g;try{g=JSON.parse(m)}catch(e){g={}}if(g.placeholder){o._isInitialImage=true}}if(n){if(i.match("custom-html-frame")){return false}if(t(this.li).find(".product-image").length>0){return true}}return i},"%%FEEDURL%%":function(e){return encodeURIComponent(e)},afterRender:function($super,e,i,o){$super(e,i);if(i){var a=t(this.li).find(".wsite-form-instructions");if(a.length){u.setupFieldInstructions(a[0])}}if(this._isGallery){if(i){l.init()}t(e).find("img").on("dragstart",false)}if(this._isSlideshow){var d=this.getContentField().ucfid;whenThemeCSSLoaded(function(){c.init(d);if(i){n.vent.trigger("slideshowRerendered")}t(e).find(".wslide-slides img").on("dragstart",false)})}if(this._isInitialImage&&s.isImageElement(this.eid)){t(e).addClass("wsite-initial-image")}else{if(t(e).hasClass("wsite-initial-image")){t(e).find(".tablet-placeholder").removeClass("tablet-placeholder")}t(e).removeClass("wsite-initial-image")}if(o){try{r.runIncludedScripts(this.includedScripts)}catch(e){}}},getPropertyResult:function(e){var t=this.getContentField();if(!t){return}var i=t.getProperty(e);if(i){return i.property_result}}});p.beforeRender=function(e){externalSites=0;r.scriptSrc=[];r.scriptId=[]};p.afterRender=function(e){n.vent.trigger("afterRender:LegacyElement",e);if(i.chromeless){t(".wsite-youtube-coverbox").hide()}if(!e){h.execute("slideshowadmin:updateManager")}try{r.runIncludedScripts()}catch(e){}};Weebly.LegacyElement=p;a.register(true,p);return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){return{EVENTS:{DOCUMENT_READY:"documentReady",DOCUMENT_RESIZED:"documentSizeChanged",AREA_TEXT_EDITING_START:"startedEditingAreaText",AREA_TEXT_EDITING_END:"finishedEditingAreaText",TEXT_EDITING_START:"startedEditingText",TEXT_EDITING_END:"finishedEditingText",TEXT_EDITING_TOOLBAR_UPDATE:"updateToolbarStates",SUBNAV_SHOWN:"navShown",SUBNAV_HIDDEN:"navHidden",NAV_CLICKED:"navClicked",NAV_PREVIOUS_PAGE_CLICKED:"navPreviousPageClicked",NAV_NEXT_PAGE_CLICKED:"navNextPageClicked",PAGE_RENDER_FAIL:"renderPageFailed",SITE_INIT_FAIL:"initializeEditorFailed",EDITING_POST_TITLE:"startedEditingPostTitle",EDITED_POST_TITLE:"finishedEditingPostTitle",INITIALIZE_BLOG_POST_EDITOR_FAILED:"initializeBlogPostEditorFailed"},COMMANDS:{},REQUESTS:{}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(5)],r=function(e){var t={htmlDecode:function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes.length===0?"":t.childNodes[0].nodeValue},isIE:function(){return/(MSIE|Trident)/.test(navigator.userAgent)},isEdge:function(){return/(edge)/.test(navigator.userAgent.toLowerCase())},isChrome:function(){return/(Chrome)/.test(navigator.userAgent)},getURLParameter:function(e,t){var i=t||window.location.search.substring(1);var n=i.split("&");for(var r=0;r<n.length;r++){var o=n[r].split("=");if(o[0]==e){return decodeURIComponent(o[1])}}return""},splitName:function(e){var t;if(/^[^\s]*\s[^\s]*\s?$/i.test(e)){return e.split(" ")}else if(t=e.match(/^([^\s]*\s[^\s]\.?)\s(.*)\s?$/i)){return t.slice(1)}else if(t=e.match(/^(.*)\s([^\s]*)\s(jr|sr|ii|iii|iv|v|vi|vii|viii|ix|x)\.?\s?$/i)){return t.slice(1)}else if(t=e.match(/^([^\s]*\s[^\s]*)\s(.*)\s?$/i)){return t.slice(1)}else{return[e,""]}},isValidEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},getSiteDomain:function(){var t=false;if(e.Location.custom_domain){t=e.Location.custom_domain}else if(e.Location.weebly_subdomain){t=e.Location.weebly_subdomain+".weebly.com"}return t},generateTimeInterval:function(e,t){var i,n,r=[],e=e||12,t=t||30;for(i=0;i<=23;i++){for(n=0;n<60;n+=t){var o=("00"+n).slice(-2),s=i,a="";if(e===12){a="am";if(i===0){s=12}else if(i===12){s=i;a="pm"}else if(i>12){s=i-e;a="pm"}}else{s=("00"+i).slice(-2)}r.push(s+":"+o+" "+a)}}return r},hasValidUrl:function(e){return/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(e)},isCyclic:function(e){try{JSON.stringify(e,function(e,t){if(typeof t==="object"){return t}return undefined})}catch(e){if(e instanceof TypeError){return true}throw e}return false},setDropEffect:function(e){var t;if(e.originalEvent){e=e.originalEvent}if(e.dataTransfer){t=["move","linkMove"].indexOf(e.dataTransfer.effectAllowed)!==-1;e.dataTransfer.dropEffect=t?"move":"copy"}},getCookie:function(e){var t="; "+document.cookie;var i=t.split("; "+e+"=");if(i.length>=2){return unescape(i.pop().split(";").shift())}return null},setCookie:function(e,t,i){var n="";if(i){var r=new Date;r.setTime(r.getTime()+i*24*60*60*1e3);n="; expires="+r.toUTCString()}document.cookie=e+"="+t+n+"; path=/"},eraseCookie:function(e){this.setCookie(e,"",-1)},roundNumber:function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},getNestedValue:function(e,t,i){var n=e;for(var r=0;r<t.length;r++){var o=t[r];if(o in n){n=n[o]}else{return i}}return n},isProtocolSecure:function(){return document.location.protocol=="https:"},mapObjectValues:function(e,t){var i=[e];while(i.length){var n=i[0];var r=Object.keys(n);r.forEach(function(e){if(o.isObject(n[e])){i.push(n[e])}else{n[e]=t(n[e]);if(o.isUndefined(n[e])){delete n[e]}}});i.shift()}return e},getFrontDoorOnboardingLink:function(e){return e?"/app/front-door/users/"+e+"/getting-started":"/"}};return t}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){e.ui=e.ui||{};e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({scrollParent:function(t){var i=this.css("position"),n=i==="absolute",r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);if(n&&t.css("position")==="static"){return false}return r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return i==="fixed"||!o.length?e(this[0].ownerDocument||document):o},uniqueId:function(){var e=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++e}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){e(this).removeAttr("id")}})}});function t(t,n){var r,o,s,a=t.nodeName.toLowerCase();if("area"===a){r=t.parentNode;o=r.name;if(!t.href||!o||r.nodeName.toLowerCase()!=="map"){return false}s=e("img[usemap='#"+o+"']")[0];return!!s&&i(s)}return(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&t(i,!r)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(t,i){var n=i==="Width"?["Left","Right"]:["Top","Bottom"],r=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function s(t,i,r,o){e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0;if(r){i-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(o){i-=parseFloat(e.css(t,"margin"+this))||0}});return i}e.fn["inner"+i]=function(t){if(t===undefined){return o["inner"+i].call(this)}return this.each(function(){e(this).css(r,s(this,t)+"px")})};e.fn["outer"+i]=function(t,n){if(typeof t!=="number"){return o["outer"+i].call(this,t)}return this.each(function(){e(this).css(r,s(this,t,true,n)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(i){if(arguments.length){return t.call(this,e.camelCase(i))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.fn.extend({focus:function(t){return function(i,n){return typeof i==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus();if(n){n.call(t)}},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined){return this.css("zIndex",t)}if(this.length){var i=e(this[0]),n,r;while(i.length&&i[0]!==document){n=i.css("position");if(n==="absolute"||n==="relative"||n==="fixed"){r=parseInt(i.css("zIndex"),10);if(!isNaN(r)&&r!==0){return r}}i=i.parent()}}return 0}});e.ui.plugin={add:function(t,i,n){var r,o=e.ui[t].prototype;for(r in n){o.plugins[r]=o.plugins[r]||[];o.plugins[r].push([i,n[r]])}},call:function(e,t,i,n){var r,o=e.plugins[t];if(!o){return}if(!n&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)){return}for(r=0;r<o.length;r++){if(e.options[o[r][0]]){o[r][1].apply(e.element,i)}}}}})},function(e,t,i){var n,r;!(n=[i(1),i(40),i(76),i(100)],r=function(e,t,i,n){var r=t.extend(e.extend({},i.Mixin,{className:"alert confirm",template:"<div class='alert__content'>\n"+"\t{{#title}}\n"+"\t\t<h2 class='alert__title'>\n"+"\t\t\t{{title}}\n"+"\t\t</h2>\n"+"\t{{/title}}\n"+"\t{{#message}}\n"+"\t\t<div class='alert__paragraph'>\n"+"\t\t\t{{message}}\n"+"\t\t</div>\n"+"\t{{/message}}\n"+"\t{{#messageHtml}}\n"+"\t\t<div class='alert__paragraph'>\n"+"\t\t\t{{{messageHtml}}}\n"+"\t\t</div>\n"+"\t{{/messageHtml}}\n"+"   <div class='confirm__buttons'>\n"+"\t    {{{cancelButtonHtml}}}\n"+"\t    {{{proceedButtonHtml}}}\n"+"   </div>\n"+"</div>",zIndex:9999,isModal:true,hAlignment:"center",vAlignment:"center",vAlignmentTopClassName:"alert--v-top",vAlignmentCenterClassName:"alert--v-center",proceedText:"Continue",cancelText:"Cancel",events:{"click .btn--primary":"proceed","click .btn--cancel":"cancel"},getRenderData:function(){return{title:this.queryOption("title"),message:this.queryOption("message"),messageHtml:this.queryOption("messageHtml"),proceedButtonHtml:this.renderProceedButtonHtml(),cancelButtonHtml:this.renderCancelButtonHtml()}},resetFocus:function(){this.$el.find(".btn--primary").focus()},proceed:function(){var e=this;return this._trigger("before:proceed").then(function(){return e.close()}).then(function(){e._trigger("proceed")})},cancel:function(){var e=this;return this._trigger("before:cancel").then(function(){return e.close()}).then(function(){e._trigger("cancel")})},promise:function(){var t=e.Deferred();this.once("proceed",function(){t.resolve()});this.once("cancel",function(){t.reject()});return t.promise()}}));r.confirm=function(e){var t=new r(e);t.open();return t.promise()};n.prototype.confirm=function(t){t=e.extend({vAlignment:"top"},t);var i=new r(t);this.openOverlay(i);return i.promise()};return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(7),i(27),i(24),i(65)],r=function(e,t,i,n,r){var o=i,s=o.prototype;var a=o.extend({model:r,useServerGeneratedDefaultsFor:"Category",fetch:function(e){e=e||{};if(e.force)delete a._fetchPromise;var t=this,i=a._fetchPromise;if(!i){i=a._fetchPromise=s.fetch.apply(t,arguments);i.done(function(){t.each(function(e){e.createSavepoint()})});i.done(function(e){l.reset(e.data)}).fail(function(){delete a._fetchPromise})}else{i.done(function(){t.reset(l.models)})}return i},state:{pageSize:null},setSearchText:function(e){if(!e){if(this.searchQuery){var t=this.fetchOptions.filter.indexOf(this.searchQuery);this.fetchOptions.filter.splice(t,1);this.searchQuery=null}if(this.blockStorefront){var t=this.fetchOptions.filter.indexOf(this.blockStorefront);this.fetchOptions.filter.splice(t,1);this.blockStorefront=null}return}if(!this.searchQuery){this.blockStorefront={property:"site_category_id",comparison:"!=",value:_W.Commerce.storefrontSettings.get("storefront_category_id")};this.fetchOptions.filter.push(this.blockStorefront);this.searchQuery={property:"name",comparison:"LIKE",value:"%"+e+"%"};this.fetchOptions.filter.push(this.searchQuery)}else{this.searchQuery.value="%"+e+"%"}}},{count:function(){var t=e.Deferred();var i=new a;i.fetch().done(function(){t.resolve(i.length)});return t.promise()}});t.reqres.setHandlers({"editor:commerce:categories:fetch":function(e){var t=new a;return t.fetch(e).then(function(){return t.toJSON()})}});t.commands.setHandlers({"editor:commerce:categories:force":function(e){delete a._fetchPromise}});var l=new a;n.vent.on({"create:category":function(e){l.add(e)},"delete:category":function(e){l.remove(e)}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(40),i(76),i(69)],r=function(e,t,i,n){var r=t.extend(e.extend({},i.Mixin,{className:"hover-tip",arrowSize:0,arrowGap:10,showPointAtArrow:false,constructor:function(i){t.call(this,i);var n=this.queryOption("el");if(n){e(n).css("display","block").detach()}},toggle:function(e,t){if(t==="close"){this.close()}else if(t==="open"){this.setElement(this.queryOption("el"));this.$el.removeClass("is-out");this.open(e)}},onDestroy:function(){this.options.pointAt.removeData("hover-tip")},resetFocus:function(){}}));function o(t,i){var o=e(t);var s=n.getElDataAttributes(t,"data-hover-tip-");var a=o.data("hover-tip");if(typeof a!=="object"){if(!s.content&&!s.text){throw new Error("No Hover Tip content specified.")}var l;if(s.cssclass){l=e('<div class="hover-tip '+s.cssclass+'"></div>')}else{l=e('<div class="hover-tip"></div>')}if(s.content){l.html(s.content)}if(s.text){l.text(s.text)}a=new r({el:l,pointAt:o});o.data("hover-tip",a)}a.toggle(s,i)}function s(e){o(this,"open")}function a(e){o(this,"close")}function l(){e(document).off("mouseenter.hoverTip","[data-hover-tip]").off("mouseleave.hoverTip","[data-hover-tip]").on("mouseenter.hoverTip","[data-hover-tip]",s).on("mouseleave.hoverTip","[data-hover-tip]",a)}function c(){e("[data-hover-tip]").each(function(){var t=e(this).data("hover-tip");if(t){t.close()}})}r.initialize=l;r.closeAll=c;return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5)],r=function(e){var t={isWhiteLabeled:function(){return e.Branding.isWhiteLabeled},hasWeeblySupportAccess:function(){return e.Branding.hasWeeblySupportAccess},isCommonUserIncludingSquare:function(){return e.Branding.isCommonUserIncludingSquare}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(10)],r=function(e,t){var i={isInitialImage:function(e){if(e){return i.isInitialImageSrc(e.src||"")}return false},isInitialImageSrc:function(e){return typeof e==="string"&&(e.match(/na\.jpg/)||e.match(/na\.png/)||e.match(/upload_images_01\.jpg/)||e.match(/\/placeholders\/[^\.]*\.png/))},isImageElement:function(e){e+="";return t.STANDALONE_IMAGE_ELEMENTS.indexOf(e)!==-1||t.PARAGRAPH_IMAGE_ELEMENTS.indexOf(e)!==-1||t.SIMPLE_IMAGE_ELEMENTS.indexOf(e)!==-1},isStandaloneImageElement:function(e){e+="";return t.STANDALONE_IMAGE_ELEMENTS.indexOf(e)!==-1},isPageLayoutImage:function(e){return i.isPageLayoutImageSrc(e.src||"")&&e.up("div").className!="wslide-slide-inner2"},isPageLayoutImageSrc:function(e){return typeof e==="string"&&e.match(/page-layouts/)},isImageLiquid:function(e){return(e.attr("style")||"").indexOf("max-width")!==-1},preloadImage:function(e,t){var i=new Image;i.onload=function(){t()};i.src=e},loadImage:function(e,t,i){var n=null;var r=false;function o(){if(n){clearInterval(n);n=null}if(!r){r=true;i()}}e.onload=o;e.src=t;if(e.complete){o()}else{n=setInterval(function(){if(e.complete){o()}},500)}},getImageDimensions:function(e,t){var n=new Image;i.loadImage(n,e,function(){t(n.naturalWidth||n.width,n.naturalHeight||n.height)})},getBackgroundPosition:function(e){var t=(e.css("background-position")||"").split(" "),i,n;if(t[0]){i=parseFloat(t[0]);i=isNaN(i)?0:i/100}if(t[1]){n=parseFloat(t[1]);n=isNaN(n)?0:n/100}return{x:i,y:n}}};window.isInitialImage=i.isInitialImage;window.isInitialImageSrc=i.isInitialImageSrc;window.isImageElement=i.isImageElement;window.isStandaloneImageElement=i.isStandaloneImageElement;window.isPageLayoutImage=i.isPageLayoutImage;window.isPageLayoutImageSrc=i.isPageLayoutImageSrc;window.isImageLiquid=i.isImageLiquid;return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(411),i(412),i(423),i(421),i(597)],r=function(e,t,i,n){var r;var o={applyBackgroundVideo:function(e,t,n,r){if(!e){return}if(r){e.css("minHeight",270)}e.data("properties",t);if(!r&&!n||new i(window.navigator.userAgent).mobile()){return}switch(t.video_type){case"youtube":this.initYoutubeVideo(e,t);break;case"vimeo":this.initVimeoVideo(e,t);break;case"upload":this.initUploadedVideo(e,t);break;case"gallery":this.initGalleryVideo(e,t);break}e.data("has-video",true)},initYoutubeVideo:function(e,t){e.YTPlayer({videoId:t.video_id,repeat:t.loop,mute:t.mute,fitToBackground:false,pauseOnScroll:false,playerVars:{autoplay:t.autoplay,controls:0,showinfo:0,modestbranding:1,wmode:"transparent",branding:0,rel:0,autohide:0,origin:window.location.origin}})},initVimeoVideo:function(e,t){e.VimeoPlayer({videoId:t.video_id,loop:t.loop,mute:t.mute,autoplay:t.autoplay})},initUploadedVideo:function(e,t){e.UploadPlayer(t)},initGalleryVideo:function(e,t){e.UploadPlayer(t)},toggleVideoBackground:function(e){if(!e){return}if(e.data("ytPlayer")){e.find('[id^="ytplayer"]').toggle()}else if(e.data("VimeoPlayer")){e.find('[id^="vimeoplayer"]').toggle()}else if(e.data("UploadPlayer")){e.find('[id^="uploadplayer"]').toggle()}},destroyVideoBackground:function(e){if(!e){return}if(e.data("ytPlayer")){e.data("ytPlayer").destroy()}else if(e.data("VimeoPlayer")){e.data("VimeoPlayer").destroy()}else if(e.data("UploadPlayer")){e.data("UploadPlayer").destroy()}e.removeData("has-video")},applyBackgroundEffects:function(o,s,a){Object.keys(s).forEach(function(l){var c=s[l];if(t.isObject(c["css"])&&!t.isArray(c["css"])){Object.keys(c["css"]).forEach(function(e){o.css(e,c["css"][e])})}if(t.isArray(c["classes"])){c["classes"].forEach(function(e){o.addClass(e)})}switch(l){case"parallax":var u=new i(window.navigator.userAgent);if(u.mobile()||u.tablet()){o.css("background-attachment","")}break;case"reveal":if(!r){r=n()}var d=a?o.find(".weebly-content-area"):o.find(".wsite-section-elements");var f=a?d.children(':not(".wsite-spacer-li")'):d.children(':not(".wsite-spacer")');if(f.length===0){break}f.each(function(t,i){var n=e(i);if(a&&n.attr("id")!=="empty-message"){n.data("before-reveal-style",i.style)}n.addClass("sr-nodelist")});var h=d[0].querySelectorAll(".sr-nodelist");var p={opacity:0,scale:1,easing:"ease-in",afterReveal:function(t){var i=e(t);if(a){if(i.data("before-reveal-style")){t.style=i.data("before-reveal-style");i.removeData("before-reveal-style")}i.removeAttr("data-sr-id")}i.removeClass("sr-nodelist")},sequenceInterval:100};if(o.hasClass("wsite-header-section")){p=t.extend({duration:700,delay:800},p)}else{p=t.extend({duration:300,delay:300,origin:"top",distance:"10px"},p)}var m=t.defaults({},p);r.reveal(h,m,m.sequenceInterval);break}})},getSectionElement:function(t){return e('.wsite-section[data-section="'+t+'"]')}};return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){if(typeof e.fn.wRadio==="undefined"&&typeof e.fn.wCheckbox==="undefined"&&typeof e.fn.wToggle==="undefined"){var t,i,n,r;function o(t,i){var n=function(){};n.prototype=new t;n.prototype.constructor=n;n.prototype.parent=t.prototype;n.prototype=e.extend(n.prototype,i);return n}t=o(Object,{inputName:"winput",bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(e){this.initializing=true;this.opts=e=this.prepareOpts(e);if(e.element.data(this.inputName)){this.destroy()}this.container=this.createContainer();var t=e.element.prop("checked")||e.element.prop("defaultChecked");if(t){this.opts.element.removeAttr("checked");this.check()}var i=e.element.prop("readonly");if(i===undefined)i=false;this.readonly(i);var n=e.element.prop("disabled");if(n===undefined)n=false;this.enable(!n);this.initContainer();this.initializing=false},initContainer:function(){var e;this._tabindex=this.opts.element.attr("tabindex");this.opts.element.addClass("w-input-offscreen").data(this.inputName,this).before(this.container).attr("tabindex","-1");this.container.data(this.inputName,this).attr("tabindex",this._tabindex||0);this.container.on("keypress."+this.inputName,this.bind(function(e){if(e.which===32){this.toggleCheck();e.preventDefault()}}));this.opts.element.on("change",this.bind(function(e){var t=e.currentTarget.checked;if(!e.internal){this.assign(t)}}))},prepareOpts:function(e){return e},updateInterface:function(){var e=!this._readonly&&!!this._enabled;if(this._enabledInterface===e)return false;this._enabledInterface=e;this.container.toggleClass("disabled",!e);return e},readonly:function(e){if(e===undefined)e=false;if(this._readyonly===e)return false;this._readonly=e;this.opts.element.prop("readonly",e);this.updateInterface();return e},enable:function(e){if(e===undefined)e=true;if(this._enabled===e)return false;this._enabled=e;this.opts.element.prop("disabled",!e);this.updateInterface();return e},disable:function(){return this.enable(false)},uncheck:function(){return this.checking(false)},check:function(){return this.checking(true)},checking:function(e){if(!this.opts.element.prop("defaultChecked")&&this.opts.element.prop("checked")===e)return false;this.assign(e);return true},assign:function(e){if(this._readonly===true||this._enabled===false)return false;this.opts.element.prop("checked",e);this.opts.element.closest("label.box").toggleClass("checked",e);this.container.toggleClass("checked",e)},toggleCheck:function(){this.opts.element.prop("checked")?this.uncheck():this.check()},reset:function(){var e=this.opts.element.prop("checked")||this.opts.element.prop("defaultChecked");this.opts.element.prop("checked",e);this.container.toggleClass("checked",e)},destroy:function(){var e=this.opts.element.data(this.inputName);if(e!==undefined){e.container.remove();e.opts.element.attr("tabindex",this._tabindex).removeData(this.inputName).removeClass("w-input-offscreen")}this.opts.element.off("."+this.inputName)}});i=o(t,{inputName:"wcheckbox",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-checkbox-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments);this.container.on("click."+this.inputName,this.bind(function(e){e.preventDefault();e.stopPropagation();this.toggleCheck()}))},checking:function(t){var i=e.Event("change",{internal:true});this.parent.checking.apply(this,arguments);if(!this.initializing){this.opts.element.trigger(i)}}});n=o(t,{inputName:"wtoggle",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-toggle-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments);this.container.on("click."+this.inputName,this.bind(function(e){e.preventDefault();e.stopPropagation();this.toggleCheck()}))},checking:function(t){var i=e.Event("change",{internal:true});this.parent.checking.apply(this,arguments);if(!this.initializing){this.opts.element.trigger(i)}}});r=o(t,{inputName:"wradio",prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e},createContainer:function(){var t=e(document.createElement("span")).addClass("w-radio-container");return t},initContainer:function(){this.parent.initContainer.apply(this,arguments);this.initSet();this.container.on("click."+this.inputName,this.bind(function(t){t.preventDefault();t.stopPropagation();this.check();if(this._readonly!==true&&this._enabled!==false){this.opts.element.trigger(e.Event("click"))}}));var t=this.opts.element.closest("label");if(t.length===0){t=e("label[for="+this.opts.element.attr("id")+"]")}t.on("click."+this.inputName,this.bind(function(e){e.preventDefault();e.stopPropagation();this.check()}));this.opts.label=t},check:function(){if(this.opts.element.prop("checked"))return;if(this._enabled&&!this._readonly){this.uncheckAll()}return this.parent.check.apply(this,arguments)},initSet:function(){var t=this.opts.element.closest("form"),i=this.opts.element.attr("name");if(!t.length&&!i)return;var n;if(t.length>0){n=t.find("input[type=radio][name="+i+"]")}else{n=e("input[type=radio][name="+i+"]")}var r=[];for(var o=0;o<n.length;o++){if(n.eq(o).data(this.inputName)){r.push(n.eq(o).data(this.inputName))}}for(var o=0;o<r.length;o++){r[o]._set=r}this._set=r;n.off("reread").on("reread",this.bind(this.resetAll))},resetAll:function(){var e=this._set,t=e.length;for(var i=0;i<t;i++){e[i].reset()}},uncheckAll:function(){if(this._set===undefined){this.initSet()}for(var e=0;e<this._set.length;e++){this._set[e].uncheck()}},toggleCheck:function(){this.uncheckAll();this.parent.toggleCheck.apply(this,arguments)},checking:function(t){if(this.initializing){return this.parent.checking.apply(this,arguments)}if(this._readonly||!this._enabled)return;var i=this.opts.element.prop("checked"),n=this.parent.checking.apply(this,arguments),r=i!==n;if(r&&t){this.opts.element.trigger(e.Event("change"))}return n},destroy:function(){var e=this.opts.element.data(this.inputName);if(e!==undefined){e.opts.label.off("."+this.inputName)}this.parent.destroy.apply(this,arguments)}});e.fn.wCheckbox=function(){var t=Array.prototype.slice.call(arguments,0),n,r,o,s;var a=["check","uncheck","toggleCheck","enable","disable","readonly","destroy"];this.each(function(l,c){if(t.length===0||typeof t[0]==="object"){r=t.length===0?{}:e.extend({},t[0]);if(c.tagName.toLowerCase()==="input"&&c.type.toLowerCase()==="checkbox"){r.element=e(c);n=new i;n.init(r)}else{throw"Invalid input, wCheckbox only allowed for checkboxes"}}else if(typeof t[0]==="string"){o=t[0];s=e(c).data("wcheckbox");if(e.inArray(o,a)===-1){throw"Method not found: "+o}if(s===undefined){throw"Element is not a wCheckbox element"}s[o].apply(s,t.slice(1))}else{throw"Invalid arguments to wCheckbox: "+t}});return this};e.fn.wToggle=function(){var t=Array.prototype.slice.call(arguments,0),i,r,o,s;var a=["check","uncheck","toggleCheck","enable","disable","readonly","destroy"];this.each(function(l,c){if(t.length===0||typeof t[0]==="object"){r=t.length===0?{}:e.extend({},t[0]);if(c.tagName.toLowerCase()==="input"&&c.type.toLowerCase()==="checkbox"){r.element=e(c);i=new n;i.init(r)}else{throw"Invalid input, wToggle only allowed for checkboxes"}}else if(typeof t[0]==="string"){o=t[0];s=e(c).data("wtoggle");if(e.inArray(o,a)===-1){throw"Method not found: "+o}if(s===undefined){throw"Element is not a wToggle element"}s[o].apply(s,t.slice(1));
}else{throw"Invalid arguments to wToggle: "+t}});return this};e.fn.wRadio=function(){var t=Array.prototype.slice.call(arguments,0),i,n,o;var s=["check","uncheck","enable","disable","readonly","destroy"];this.each(function(a,l){if(t.length===0||typeof t[0]==="object"){o=t.length===0?{}:e.extend({},t[0]);if(l.tagName.toLowerCase()==="input"&&l.type.toLowerCase()==="radio"){o.element=e(l);n=new r;n.init(o)}else if(l.tagName.toLowerCase()==="form"){e(l).find("input[type=radio]").each(function(){e(this).wRadio()})}else{throw"Invalid element, wRadio only allowed for radios and forms with radios"}}else if(typeof t[0]==="string"){i=t[0];n=e(l).data("wradio");if(e.inArray(i,s)===-1){throw"Method not found: "+i}if(n===undefined){throw"Element is not a wRadio element"}n[i].apply(n,t.slice(1))}else{throw"Invalid arguments to wRadio: "+t}});return this}}}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(2),i(4)],r=function(e,t,i){var n=i.Marionette.ItemView.extend({getValue:function(){var e=this;return e.model.get("value")},searchResults:t.debounce(function(t){var i=this,n=e(t.currentTarget).val()||"";i.filterSearchResults(n.toLowerCase().trim())},150),filterSearchResults:function(){throw"BaseItemViewError: failed to override BaseItemView.filterSearchResults in subclass"},unlink:function(){var e=this,t=e.panel.panelSwitcher.dialog;e.model.set("value","");e.options.prepareSave.apply(t,[e.options,true])},changeUnlinkState:function(){var e=!Boolean(this.ui.input.val());this.ui.unlink.attr("disabled",e)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(12)],r=function(e,t,i,n){function r(e){var t=o(e);if(t){t.render()}}function o(t){var i=e('[class*="wsite-header"]:not(.wsite-header-section)');i.not(":first").hide();var n=i.css("background","none")[0];if(n){var r=new _(n,{fillDimensions:true,autoplay:true,speed:t.speed||5,slide:t.slide,transition:t.transition,showControls:true,showPlayButton:false,dots:t.dots,dotPosition:t.dotPosition,arrows:t.arrows,forceSideArrows:true,images:t.images||t.slides,aspectRatio:t.aspectRatio||"auto",useAspectRatio:t.useAspectRatio||false});return r}}var s={};var a={};var l="ontouchstart"in document.documentElement;function c(e){return a[e].getPhotos()}function u(){var t=false;e.each(a,function(e,i){i.updateSize();t=true});return t}function d(e,t){s[e]=m(t);return"<div id='"+e+"-slideshow' style='height:1000px'></div>"}function f(t){var i=e("#"+t+"-slideshow");var n=new _(i,s[t]);a[t]=n;n.render();i.height("")}function h(t,i){if(a[t]){a[t].destroy();var n=s[t];n.images=i;a[t]=new _(e("#"+t+"-slideshow"),n);a[t].render()}}function p(t){var i=m(t);var n=i.elementID;var r=new _(e("#"+n+"-slideshow"),i);a[n]=r;r.render()}function m(e){var t=e.nav;var i=1;if(t=="double_thumbnails"){t="thumbnails";i=2}else if(t=="none"){t=false}return{elementID:e.elementID,links:t,linkLocation:e.navLocation,linkTiers:i,captionLocation:e.captionLocation,slide:e.transition=="slide",transition:e.transition,autoplay:parseInt(e.autoplay),speed:parseInt(e.speed),aspectRatio:e.aspectRatio||"auto",showControls:e.showControls!=="false",randomStart:e.randomStart==="true",images:e.images||[]}}var g=5;var v={"16:9":16/9,"3:2":3/2,"4:3":4/3};var w=.4;var b=1;var y=4;function _(n,r){var o=this;o.render=de;o.destroy=fe;o.updateSize=Ie;o.play=ot;o.pause=st;o.on=Et;o.getHandlers=Ct;o.setHandlers=St;o.clearHandlers=It;o.getPhotos=function(){return s};o.isPlaying=function(){return M};o.getSlideIndex=function(){return k};o.gotoSlide=function(e,t){st();Ke(e,undefined,t)};o.getElement=function(){return n};n=e(n);r=r||{};var s=(r.images||[]).filter(T);var a;var c;var u=[];var d=[];var f=[];var h=[];var p=[];var m;var _;var S;var I;var O=false;var k;var x;var D,R,P,A;var N;var M=false;var L=0;var B;var K;var F;var H=true;var W;var j;var $;var z;var V;var U;var G;var q;var Y;var X;var J;var Q;var Z=0;var ee=0;var te;var ie;var ne=false;var re=0;var oe=0;var se=0;var ae;var le=8;var ce=4;var ue=15;function de(){n.addClass("wslide").html("<table class='wslide-main'><tbody></tbody></table>");var t=n.find("table");var i=n.find("tbody");var o=pe();if(!l){o.on("mouseover",function(){if(r.showControls){clearTimeout(U);if(!H){lt(N.queue()&&N.queue().length)}}}).on("mouseout",function(){U=setTimeout(function(){dt()},1e3)})}if(r.fillDimensions&&r.useAspectRatio){n.css({height:"auto"})}if(!r.links||!s.length){var a=e("<tr/>");var c=e("<td/>");c.append(o);a.append(c);i.append(a)}else{S=[];var u=r.linkLocation;x=u=="top"||u=="bottom";var d=ye();var f=e("<td class='wslide-link-cell'/>").append(d);var h=e("<td/>").append(o);if(x){f.width("auto");var p=e("<tr/>");var m=e("<tr/>");if(u=="top"){p.append(f);m.append(h)}else{p.append(h);m.append(f)}i.append(p);i.append(m)}else{var a=e("<tr/>");if(u=="left"){a.append(f);a.append(h)}else{a.append(h);a.append(f)}i.append(a)}}if(r.dots){I=_e()}Se();if(s.length){if(r.randomStart){Ke(Math.floor(Math.random()*s.length))}else{Ke(0)}}ut();if(r.autoplay){ot()}e(window).on("resize",kt)}function fe(){n.empty();if(r.fillDimensions&&r.useAspectRatio){n.css("height","")}n.removeClass("wslide");n.css("background","");he()}function he(){st();e(window).off("resize",kt);It()}function pe(){a=e("<div class='wslide-content disable-user-select'>"+"&nbsp;"+"<div class='wslide-content-inner'>"+"<div class='wslide-slides'></div>"+"</div>"+"<div class='wslide-overlay-top-left disable-user-select'></div>"+"<div class='wslide-overlay-top-right disable-user-select'></div>"+"<div class='wslide-overlay-left disable-user-select'></div>"+"<div class='wslide-overlay-right disable-user-select'></div>"+"</div>");c=a.find("div.wslide-slides");D=a.find("div.wslide-overlay-top-left");R=a.find("div.wslide-overlay-top-right");P=a.find("div.wslide-overlay-left");A=a.find("div.wslide-overlay-right");N=D.add(R).add(P).add(A);if(s.length>1){var t=function(){if(l){me()}st();ze()};var i=function(){if(l){me()}st();Ve()};var n=function(){if(l){me()}};if(l){a.on("click",n)}var o=we();var u=be();if(r.showPlayButton!==false){D.append(ge()).append(ve())}if(r.arrows!==false){if(r.slide||r.forceSideArrows){P.append(o).on("click",t);A.append(u).on("click",i)}else{o.on("click",t);u.on("click",i);R.append(o).append("&nbsp;").append(u)}}}N=N.find(".wslide-button-wrap");return a}function me(){clearTimeout(U);lt(N.queue().length);U=setTimeout(function(){dt()},1e3)}function ge(){var t=e("<div class='wslide-button-wrap'>"+"<span class='wslide-play wslide-button disable-user-select'>"+"<span class='wslide-button-inner'>Play <span class='wslide-button-icon'></span></span>"+"<span class='wslide-button-bg'></span>"+"</span>"+"</div>");t.css({display:"inline-block"});B=t.find(".wslide-play");B.on("click",ot);return t}function ve(){var t=e("<div class='wslide-button-wrap'>"+"<span class='wslide-pause wslide-button disable-user-select'>"+"<span class='wslide-button-inner'>Pause <span class='wslide-button-icon'></span></span>"+"<span class='wslide-button-bg'></span>"+"</span>"+"</div>");t.css({display:"inline-block"});K=t.find(".wslide-pause");K.on("click",st);return t}function we(){var t=e("<div class='wslide-button-wrap'>"+"<span class='wslide-prev wslide-button disable-user-select'>"+"<span class='wslide-button-inner'><span class='wslide-button-icon'></span></span>"+"<span class='wslide-button-bg'></span>"+"</span>"+"</div>");t.css({display:"inline-block"});return t}function be(){var t=e("<div class='wslide-button-wrap'>"+"<span class='wslide-next wslide-button disable-user-select'>"+"<span class='wslide-button-inner'><span class='wslide-button-icon'></span></span>"+"<span class='wslide-button-bg'></span>"+"</span>"+"</div>");t.css({display:"inline-block"});return t}function ye(){var t=r.linkLocation;var i=r.linkTiers;var n="wslide-links disable-user-select wslide-links-"+r.linkLocation;if(r.links){if(r.links=="thumbnails"){n+=" wslide-thumbnail-links"}else{n+=" wslide-number-links"}}m=e("<div class='"+n+"'>"+"<div class='wslide-links-inner'>"+"<table><tbody></tbody></table>"+"</div>"+"</div>");if(!l){m.on("mouseover",Je).on("mousemove",Qe).on("mouseout",et)}else{m.on("touchstart",Ye).on("touchmove",Xe)}_=m.children().first();wt(_);var o=m.find("tbody");if(x){var a=[];for(var c=0;c<i;c++){a[c]=e("<tr/>");o.append(a[c])}for(var c=0;c<s.length;c++){a[c%i].append(Ee(s[c],c))}}else{var u=s.length;for(var d=0,c=0;c<u;d++){var f=e("<tr/>");for(var h=0;h<i&&c<u;h++,c++){f.append(Ee(s[c],c))}o.append(f)}}if(l&&typeof whenPhotoSwipeLoaded!=="undefined"){whenPhotoSwipeLoaded(function(){Code.PhotoSwipe.attach(m.find("a").toArray(),{captionAndToolbarFlipPosition:true,captionAndToolbarAutoHideDelay:0,loop:false})})}return m}function _e(){var t=e("<div class='wslide-dots'></div>");for(var i=0;i<s.length;i++)(function(i){t.append(e("<div class='wslide-dot' />").on("click",function(){st();Ke(i)}))})(i);a.append(t);var o=r.dotPosition||"right";if(o=="left"){t.css({left:10,bottom:10})}else if(o=="center"){t.css({left:n.width()/2-t.width()/2,bottom:10})}else if(o=="right"){t.css({right:10,bottom:10})}return t}function Ee(i,n){var o=e("<td/>");if(r.links=="numbers"){o.append("<a class='wslide-link wslide-link-number'>"+"<div class='wslide-link-inner1'>"+"<div class='wslide-link-inner2'>"+(n+1)+"</div>"+"</div>"+"</a>")}else{o.append("<a class='wslide-link wslide-link-thumbnail'>"+"<div class='wslide-link-inner1'>"+"<div class='wslide-link-inner2'>"+"<img style='visibility:hidden' />"+"</div>"+"</div>"+"</a>");var s=o.find("img");setTimeout(function(){C(s[0],E(i),function(){De(s,i);s.css("visibility","")})},0)}var a=o.find("a");if(l&&typeof whenPhotoSwipeLoaded!=="undefined"){a.attr("href",T(i)).attr("title",t.unescape(i.caption))}else{a.on("click",function(){st();Ke(n)})}wt(a);S[n]=a;return o}function Te(n,o,s){var a=false;var l=n.link;if(l){var m=l;l=l.replace("weeblylink_new_window","");if(l!=m){a=true}}var g=t.unescape(n.caption)?"<div style='display:none;' class='wslide-caption "+(r.captionLocation=="top"?"wslide-caption-top":"wslide-caption-bottom")+"'>"+"<div class='wslide-caption-text'>"+t.unescape(n.caption)+"</div>"+"<div class='wslide-caption-bg'></div>"+"</div>":"";var v=e("<div class='wslide-slide wslide-slide-loading'>"+(l?"<a>":"")+(r.fillDimensions?g:"")+"<div class='wslide-slide-inner1'>"+"<div class='wslide-slide-inner2' style='visibility:hidden'>"+"<img/>"+(r.fillDimensions?"":g)+"</div>"+"</div>"+(l?"</a>":"")+"</div>");v.find(".wslide-caption").css({opacity:.99});v.hide();c.append(v);var w=v.find("img");var b=w.closest(".wslide-slide-inner2");u[o]=v;d[o]=w;p[o]=b;if(n.alt){w.attr("alt",n.alt)}v.find("a").each(function(t,n){n=e(n);if(window.currentSite){n.attr("href","#");n.on("click",function(){return false});n.attr("title",i.utl("html.weebly.libraries.slideshow-jq_1"))}else{if(l){n.attr("href",l);if(a){n.attr("target","_blank")}}}});C(w[0],T(n),function(){v.removeClass("wslide-slide-loading");f[o]=w[0].width;h[o]=w[0].height;if(f[o]===0||h[o]===0){v.show(0);f[o]=w[0].width;h[o]=w[0].height;v.hide(0)}Oe();Re(o);if(o==k){Le(o);if(M){Ue()}}b.css("visibility","");if(s){Ke(o)}});return v}function Ce(e,t){return t===0&&!!e?e:t}function Se(){xe();Ie()}function Ie(){if(rt()||!a){return}if(m&&!x){Y=Ce(Y,_.outerWidth());m.width(Y)}Oe();if(m){J=Ce(J,_.outerWidth());Q=Ce(Q,_.outerHeight());if(x){Y=j;X=Q;m.height(X);te=Y-J;ie=0}else{X=$;m.height(X);te=X-Q;ie=0}}var t=e(".wslide-dots");var i=$<200?$/20:10;if(r.dotPosition=="center"){t.css({left:n.width()/2-t.width()/2,bottom:i})}else{t.css({bottom:i})}if(f[k]&&h[k]){Oe();Re(k);Le(k)}}function Oe(){j=Ce(j,a.outerWidth());if(r.fillDimensions&&!r.useAspectRatio){$=n.height();if(m&&x){$-=_.outerHeight()}}else{$=Math.round(j/ke())}a.height($)}function ke(){if(r.aspectRatio=="auto"){if(!s.length){return 16/9}var t={};for(var i=0;i<s.length;i++){var n=s[i].width/s[i].height;var o;var a=false;e.each(v,function(e,t){var i=t;var r=Math.abs(i-n);if(a===false||r<a){a=r;o=e}});t[o]=(t[o]||0)+1}var l;var c=false;e.each(t,function(e,t){if(c===false||t>c){c=t;l=e}});return v[l]}else if(e.isNumeric(r.aspectRatio)){return Number(r.aspectRatio)}else{return v[r.aspectRatio]}}function xe(){z=0;V=0;if(m){var e=m.find("a.wslide-link-thumbnail").first();if(e.length){var t=e.children().first();z=t.outerWidth();V=t.outerHeight()}}}function De(e,t){var i=parseInt(t.width);var n=parseInt(t.height);var r=z/i;var o=V/n;var s=Math.max(r,o);var a=Math.ceil(i*s);var l=Math.ceil(n*s);e.attr("width",a);e.attr("height",l);e.css("top",-Math.round(l/2)+"px");e.css("left",-Math.round(a/2)+"px")}function Re(e){var t=u[e];var i=t.find(".wslide-caption");var n=p[e];var o=d[e];var s;if(r.fillDimensions){s=Math.max(j/f[e],$/h[e])}else{s=Math.min(j/f[e],$/h[e],1)}var a,l;l=Math.ceil(f[e]*s);a=Math.ceil(h[e]*s);if(l+1<=f[e]){l++;a++}o.width(l);n.css("width",l);n.css("left",-Math.round(l/2));n.css("top",-Math.ceil(a/2));if(i.length&&r.fillDimensions){var c;if(t.is(":hidden")){t.show();c=i.outerHeight();t.hide()}else{c=i.outerHeight()}var m=$*.25-c/2;var g=.13*$;m=Math.max(g,m);i.css("bottom",m)}i.show()}var Pe=0;var Ae=0;var Ne=0;var Me=0;function Le(e){var t=u[e];var i=t.offset();var n=t.outerWidth();var o=t.outerHeight();var a=d[e];var l=a.offset();var c=a.outerWidth();var f=a.outerHeight();var h=u[e].find("div.wslide-caption").outerHeight();Pe=Math.max(0,l.left-i.left);Ae=Math.max(0,i.left+n-(l.left+c));Ne=Math.max(0,l.top-i.top);if(s[e].caption&&r.captionLocation=="top"&&o!=h){Ne+=h}Me=Math.max(0,i.top+o-(l.top+f))}function Be(e){var t=false;var i=k;k=e;if(u[e]){if(f[e]&&h[e]){Oe();Re(e);t=true;if(M){Ue()}}}if(S){if(i!==undefined){S[i].removeClass("wslide-link-active")}S[e].addClass("wslide-link-active");if(M){n.find(".wslide-link-thumbnail img").css({opacity:.5});n.find(".wslide-thumbnail-links .wslide-link-active img").css({opacity:1})}}if(I){I.find(".wslide-dot").removeClass("wslide-dot-current").eq(e).addClass("wslide-dot-current")}at();return t}function Ke(t,i,n){if(!s.length||O){return}t=Math.min(s.length-1,Math.max(0,t));var o=$e(t,t);if(o){return}if(t!=k){var a=k;var l=Be(t);var d=i;if(!d){d=t>a?1:-1}if(n||a===undefined){if(a!==undefined){u[a].hide()}u[t].show();if(l){Le(t)}}else if(r.transition=="mosaic"){var f=d<0;je(t);var h=e(".wslide-box",c);var p=0;var m=f?(le-1)*150:0;Fe(t,a);O=true;h.each(function(i){var n=e(this);setTimeout(function(){n.animate({opacity:"1.0"},500,function(){p++;if(p==h.length){u[a].hide();O=false;u[t].find("img").show();setTimeout(function(){h.remove()},50)}})},m);if((i+1)%le==0){m=(i+1)/le*75;if(f){m+=(le-1)*150}}else{m=f?m-150:m+150}})}else if(r.transition=="slice"){Fe(t,a);He(t,a,d<0,false)}else if(r.transition=="fold"){Fe(t,a);He(t,a,d<0,true)}else if(r.transition=="slide"||r.slide){var g=u[t];var v=u[a];g.css({left:d*j+"px"}).show();O=true;c.css({left:0}).animate({left:-d*j+"px"},{duration:500,complete:function(){if(l){Le(t)}v.hide();c.css({left:0});g.css({left:0});O=false}})}else{var w=u[a].find(".wslide-slide-inner2");var b=u[t].find(".wslide-slide-inner2");var y=function(){if(l){Le(t)}u[a].hide();O=false};u[t].show();O=true;var _=.99;w.css({opacity:_}).animate({opacity:0},{duration:500,complete:y});b.css({opacity:0}).animate({opacity:_},{duration:500,complete:y})}}Tt("slideChange",t)}var Fe=function(e,t){var i=u[e].find(".wslide-caption");var n=u[t].find(".wslide-caption");var r=.99;n.css({"z-index":3,opacity:r}).animate({opacity:0},{duration:1e3});i.css({"z-index":3,opacity:0}).animate({opacity:r},{duration:1e3})};var He=function(t,i,n,r){We(t);var o=0;var s=e(".wslide-slice",c);if(n){if(Array.prototype._reverse){Array.prototype._reverse.call(s)}else{Array.prototype.reverse.call(s)}}var a=0;O=true;s.each(function(){var n=e(this);var l={opacity:"1.0"};if(r){var c=n.width();n.css({width:"0px"});l.width=c}setTimeout(function(){n.animate(l,500,function(){a++;if(a==s.length){u[i].hide();O=false;u[t].find("img").css("visibility","visible");setTimeout(function(){s.remove()},50)}})},o);o+=65})};var We=function(t,i){var n=u[t];var r=n.find("img");var o=r.attr("src");var s=r.attr("alt");var a=r.up(".wslide-slide-inner2");n.show();var l=r.height();var c=Math.round(a.width()/ue);r.css("visibility","hidden");for(var d=0;d<ue;d++){var f=e("<img>").attr({src:o,alt:s}).css({position:"absolute",width:a.width()+"px",height:"auto",display:"block !important",top:0});var h=e('<div class="wslide-slice"></div>');h.css({position:"absolute",height:l+"px",opacity:"0",overflow:"hidden","z-index":"2","-webkit-backface-visibility":"hidden"});if(i){f.css({left:-((ue-d-1)*c)+"px"});h.css({right:c*d+"px"})}else{f.css({left:-d*c+"px"});h.css({left:c*d+"px"})}if(d===ue-1){h.css({width:a.width()-c*d+"px"})}else{h.css({width:c+"px"})}h.append(f);a.append(h)}};var je=function(t){var i=u[t];var n=i.find("img");var r=n.attr("src");var o=n.attr("alt");var s=n.up(".wslide-slide");i.show();var a=Math.round(s.width()/le);var l=Math.round(s.height()/ce);var c=Math.floor(n.offset().left-s.offset().left);var d=Math.ceil(n.offset().top-s.offset().top);n.hide();for(var f=0;f<ce;f++){for(var h=0;h<le;h++){var p=e("<img>").attr({src:r,alt:o}).css({position:"absolute",width:n.width()+"px",height:"auto",display:"block !important",top:-(l*f)+d+"px",left:-(a*h)+c+"px"});var m=e('<div class="wslide-box"></div>').append(p);m.css({position:"absolute",opacity:0,left:a*h+"px",top:l*f+"px",overflow:"hidden","z-index":"2","-webkit-backface-visibility":"hidden"});if(h===le-1){m.css({width:s.width()-a*h+"px"})}else{m.css({width:a+"px"})}if(f===ce-1){m.css({height:s.height()-l*f+"px"})}else{m.css({height:l+"px"})}s.append(m)}}};function $e(e,t){var i=false;for(var n=e;n<=e+g&&n<s.length;n++){if(n>=0&&!u[n]){Te(s[n],n,n===t);i=e===n?true:false}}return i}function ze(){var e=(k-1+s.length)%s.length;if(e>=0){Ke(e,-1);tt(e,false)}}function Ve(){var e=(k+1)%s.length;Ke(e,1);tt(e,true)}function Ue(){F=setTimeout(function(){if(!rt()){Ve()}},r.speed*1e3)}var Ge=0;var qe=0;function Ye(e){Ge=e.pageX||e.originalEvent.pageX||e.originalEvent.touches[0].pageX;qe=e.pageY||e.originalEvent.pageY||e.originalEvent.touches[0].pageY}function Xe(e){var t=e.pageX||e.originalEvent.pageX||e.originalEvent.touches[0].pageX;var i=e.pageY||e.originalEvent.pageY||e.originalEvent.touches[0].pageY;if(x){se=t-Ge}else{se=i-qe;e.preventDefault()}Ge=t;qe=i;oe=se;Ze()}function Je(e){ne=true;re++;if(x){G=m.offset().left}else{q=m.offset().top}}function Qe(e){if(x&&J<Y||!x&&Q<X){return}var t;if(x){t=(e.pageX-G)/Y}else{t=(e.pageY-q)/X}var i;if(t<w){i=(1-t/w)*y;i*=i}else if(t>1-w){i=(t-(1-w))/w*y;i*=-i}else{i=0}i=Math.round(i);if(oe!=i){oe=i;if(!ae){ae=setInterval(Ze,35)}}}function Ze(){if(se<oe){se+=b}else if(se>oe){se-=b}if(!se&&!oe){clearInterval(ae);ae=null}else{if(x){Z=Math.min(ie,Math.max(te,Z+se));_.css("left",Z)}else{ee=Math.min(ie,Math.max(te,ee+se));_.css("top",ee)}}}function et(e){var t=++re;setTimeout(function(){if(t==re){oe=0;ne=false}},10)}function tt(e,t){if(S&&!ne){var i=S[e];if(x){var n=i.position().left;var r=n+_.position().left;var o=i.outerWidth();if(r<0||r+o>Y){if(t){it(-n)}else{it(-(n+o-Y))}}}else{var s=i.position().top;var a=s+_.position().top;var l=i.outerHeight();if(a<0||a+l>X){if(t){nt(-s)}else{nt(-(s+l-X))}}}}}function it(e){e=Math.min(ie,Math.max(te,e));_.animate({left:e},500)}function nt(e){e=Math.min(ie,Math.max(te,e));_.animate({top:e},500)}function rt(){if(!n.parents("body").length){he();return true}return false}function ot(e){if(s.length>1&&!M){M=true;at();if(f[k]&&h[k]){if(e){Ve()}else{Ue()}}Tt("play")}}function st(){if(M){n.find(".wslide-link-thumbnail img").css({opacity:1});M=false;at();clearTimeout(F);F=null;L++;Tt("pause")}}function at(){if(s.length>1&&r.showPlayButton!==false){if(M){B.css("opacity",0).hide();K.css("opacity",1).show()}else{B.css("opacity",1).show();K.css("opacity",0).hide()}}}function lt(e){ft();if(!e){ct()}N.show().css("opacity",1);H=true}function ct(){D.css("padding-top",Ne);D.css("padding-left",Pe);R.css("padding-top",Ne);R.css("padding-right",Ae);P.css("padding-left",Pe);A.css("padding-right",Ae)}function ut(){ft();N.hide();H=false}function dt(){if(H){H=false;N.animate({opacity:0},{duration:1e3,complete:function(){ut()}})}}function ft(){N.stop(true)}var ht=true;var pt=ht?"mousedown":"touchstart";var mt=ht?"mousemove":"touchmove";var gt=ht?"mouseup":"touchend";var vt=ht?"xxx":"touchcancel";function wt(t){function i(i){st();if(ae){clearInterval(ae);ae=null;se=0}var n=bt(i);var r=Z;var o=ee;var s;var a=null;var l=null;var c=true;function u(e){var t=bt(e);a=l;l=t;s=t-n;if(Math.abs(s)>15){c=false}if(x){Z=r+s;Z=Math.max(te,Z);Z=Math.min(ie,Z);_.css("left",Z)}else{ee=o+s;ee=Math.max(te,ee);ee=Math.min(ie,ee);_.css("top",ee)}}function d(i){if(c&&t.is("a")){window.Code.Util.Events.fire(t[0],"click")}if(l===null||a===null){se=0}else{se=l-a;se=Math.max(-15,se);se=Math.min(15,se)}oe=0;if(!ae){ae=setInterval(Ze,35)}e(document).off(mt,u).off(gt,d).off(vt,d)}e(document).off(mt,u).off(gt,d).off(vt,d);return false}t.on(pt,i)}function bt(e){if(x){return yt(e).pageX}else{return yt(e).pageY}}function yt(e){if(ht){return e}return e.touches[0]}var _t={};function Et(e,t){var i=_t[e]||[];i.push(t);_t[e]=i}function Tt(t){var i=this;var n=Array.prototype.slice.call(arguments,1);e.each(_t[t]||[],function(e,t){t.apply(i,n)})}function Ct(){return _t}function St(e){_t=e}function It(){_t={}}var Ot=0;function kt(){var e=++Ot;setTimeout(function(){if(e==Ot){if(!rt()){Ie()}}},500)}}function E(e){var t=e.previewUrl||e.url;if(!t){return T(e)}if(!e.previewUrl&&!t.match("/weebly/images/")&&!t.match("x-com-weebly-images")){t="/uploads/"+t.replace(/^\/uploads\//,"")}if(window.inEditor&&inEditor()){if(n.chromeless&&t.startsWith("/")){t="http://"+configSiteName+t}}return t}function T(e){var t=window.inEditor&&inEditor()?e.editorUrl||e.url:e.publishedUrl||e.url;if(!t){return""}if(!e.editorUrl&&!t.match("/weebly/images/")&&!t.match("x-com-weebly-images")){t="/uploads/"+t.replace(/^\/uploads\//,"");if(e.thumbnail!==false){t=t.replace(/^(.*)\.([^\.]+)$/,"$1_orig.$2")}}if(window.inEditor&&inEditor()){if(n.chromeless&&t.startsWith("/")){t="http://"+configSiteName+t}}return t}function C(e,t,i){if(!t){return}var r=null;var o=false;function s(){if(r){clearInterval(r);r=null}if(!o){o=true;i()}}e.onload=s;e.src=t;if(window.inEditor&&inEditor()){if(n.chromeless&&e.src.startsWith("/")){e.src="http://"+configSiteName+e.src}}if(e.complete){s()}else{r=setInterval(function(){if(e.complete){s()}},500)}}var S={getSlideshowImages:c,updateSize:u,generateHTML:d,init:f,updatePhotos:h,render:p,initHeaderSlideshow:r,instantiateHeaderSlideshow:o,thumbnailURL:E,largeURL:T};i.Slideshow=window.wSlideshow=S;return S}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(12),i(6),i(11),i(14),i(7),i(186),i(33),i(71),i(21),i(46),i(17),i(215),i(237),i(271),i(378),i(400),i(332),i(644),i(645)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g){var v={currentBox:"",_editBoxOptions:{},editBoxRedrawOptions:false,editBoxSelectingText:false};var w=false;var b=false;var y="";var _=null;var E="";var T;var C=null;var S=null;var I=null;var O=null;var k=true;var x=null;var D=0;var R=t.noop;var P=false;var A={};var N;var M;var L=false;var B=0;var K=null;v.getChannel=function(){if(K==null){K=d.inEditorContext()?r:a}return K};v.makeElementContentEditable=function(e,r){if(!e){return}r=r||{};var o;if(e instanceof t){o=e;e=e[0]}else{o=t(e)}if(!e.id){e.id="editableElementContent"+B++}e.contentEditable=true;o.addClass("editable-text");if(o.attr("placeholder")!==undefined){r.emptyText=o.attr("placeholder");if(!o.html()){o.html(o.attr("placeholder"))}}r.$el=o;if(i.isUndefined(r.richTextControls)){r.richTextControls=!n.chromeless}window._editBoxOptions[e.id]=r};v.initEditBox=function(){if(!window.rangy.initialized){window.rangy.init()}F();window.onbeforeunload=function(){v.hideEditBox(window.currentBox)};t(document).on({click:$,mousedown:z,selectstart:V,selectionchange:U});if(n.chromeless){t(document).on({keypress:W,keyup:j,focusin:z})}};function F(){var e={customConfig:"",enterMode:p.ENTER_BR,allowedContent:"p li ol ul h1 h2 h3 b i u em strong [style] {color}; span font [size, color, style] {font-weight, color, size}; a [href, target];",pasteFromWordRemoveStyles:true,pasteFromWordRemoveFontStyles:true,title:false,coreStyles_bold:{element:"b",overrides:"strong"},coreStyles_italic:{element:"i",overrides:"em"},tabSpaces:4,toolbarGroups:[],removeDisallowedTags:"link:advanced",removeButtons:"Cut,Copy,Paste,Undo,Redo,Anchor,Underline,Strike,Subscript,Superscript",disableNativeSpellChecker:false};if(n.chromeless){e.removePlugins="pastefromword, pastetext, clipboard"}else{e.removePlugins="magicline, contextmenu, liststyle, tabletools, toolbar, link, scayt, menubutton"}t.extend(p.config,e);if(n.chromeless){p.basePath="//"+ASSETS_BASE+"/js/vendor/bower_components/ckeditor/"}}function H(e){var i=t("#"+e.editor.name),r=e.editor.name;if(window.currentBox&&window.currentBox===r){var o=window._editBoxOptions[i[0].id];if(o&&!n.chromeless){var s=Date.now();if(!I||s>I+20*1e3){I=s;if(r!="wsite-title"){if(typeof O!=="function"){if(!i.hasClass("input")){var a=i.html();l.saveContent(r,a,C,1)}}}}}}if(e.data.keyCode===9){e.cancel();if(r!=="wsite-title"){v.runCommand(e.editor.name,"indent",null)}}var c=i[0].id;if(i&&c){window.editBoxSelectingText=true;if(!window.currentBox||window.currentBox!=c){v.showEditBox(c,null,window._editBoxOptions[c])}}}function W(e){D=t("#"+window.currentBox).height()}function j(e){if(D!=t("#"+window.currentBox).height()){o.vent.trigger("forceDocumentSizeChange")}}function $(e){if(n.chromeless){return}var i=t(e.target);if(!i.is(document)&&(i.hasClass("editable-text")||i.closest(".editable-text").length)){he(e)}else{ve()}}v.closePlatformSettingsPanel=function(){o.elementSettings.close()};function z(e){if(!w){window.editBoxSelectingText=false;var i=t(e.target);i=i.hasClass("editable-text")?i[0]:i.closest(".editable-text")[0];if(i&&i.id){window.editBoxSelectingText=true;r.vent.trigger("editor:element:props:show");if(!window.currentBox||window.currentBox!=i.id){v.showEditBox(i.id,null,window._editBoxOptions[i.id])}}}}function V(){N=M}function U(){var e=de();if(!e){A={};return}M=e.cloneRange();var n={};["bold","fontSize","foreColor","italic","justify","link","orderedList","underline","unorderedList"].each(function(e){var t=v.getCurrentValue(e);if(i.isEqual(A[e],t)){return}A[e]=t;n[e]=t!==undefined?t:false});if(!t.isEmptyObject(n)){a.trigger(f.EVENTS.TEXT_EDITING_TOOLBAR_UPDATE,n)}}function G(e,t,r){var o=oe(e);if(t){o=o.replace(/^(\s|&nbsp;|&#160;|<br\s*\/?>)*/i,"")}if(t||window.currentBox=="wsite-title"){o=o.replace(/(\s|&nbsp;|&#160;|<br\s*\/?>)*$/i,"")}if(n.chromeless){o=o.replace(/&nbsp;/gi," ");o=i.unescape(o)}return o}function q(e){var t="​";var i=" ";e=e.split(t).join(i);var n=/<(?:.|\n)*?>/gim;var r=/\s+/gim;var o=e.replace(n,i);o=o.replace(r,i);o=o.trim();return o}function Y(e){var i;if(!p.instances[e]){i=t("#"+e);if(i.is("span")){i=v.convertSpanToDiv(i)}p.inline(e,{on:{key:function(e){H(e)}}})}}a.on({"site:overlays:hide":function(){v.hideEditBox(null,true)},dragstart:v.hideEditBox});o.on({dragstart:v.hideEditBox});v.hideEditBox=function(e,i){if(!window.currentBox||window.currentBox!==e&&!i){return}else if(window.currentBox&&i){e=window.currentBox}if(x){x.parents("li.inside").removeClass("inside-child-active");x.removeClass("inside-active");x=null}var r=t("#"+e);var o=window._editBoxOptions[r.id]||{richTextControls:!n.chromeless};if(r.length){var s=null;if(e==="wsite-title"){s=q(r[0].innerText)}else{s=G(r.html(),!!O,r)}if(e==="wsite-title"){a.trigger(f.EVENTS.AREA_TEXT_EDITING_END,"logo","",s)}else if(typeof O!="function"){a.trigger(f.EVENTS.TEXT_EDITING_END,e,s)}if(e!="wsite-title"&&(!s||s.match(/^(<span><\/span>)*<br \/>$/))){var u=r.attr("placeholder");var d=e.replace(/wsite-/,"");if(typeof o.emptyText!="string"&&typeof u=="string"){o.emptyText=u}s=typeof o.emptyText=="string"?o.emptyText:n.areaDefaultPlaceholderText[d]||n.defaultPlaceholderText;if(typeof r.parents("li.inside.platform-element-child").data("default-text")!=="undefined"){s=r.parents("li.inside.platform-element-child").data("default-text")}r.html(s)}if(typeof O=="function"){O(e,J(s,o)?"":s,C)}else if(e=="wsite-title"&&!n.chromeless){l.updateSiteTitle(s)}else if(!r.hasClass("input")&&!n.chromeless){l.saveContent(e,s,C)}var m=h.getContentField(window.currentBox);if(m){m.contentFieldContent=s;m.content=m.render()}if(p.instances[e]){p.instances[e].setData(s);p.instances[e].focusManager.blur();try{p.instances[e].destroy()}catch(e){}ve();if(n.chromeless){r.off("blur");r.blur()}}}if(T){T();T=null}window.currentBox=null;if(o.richTextControls){t("#editMenu").hide();v.getChannel().execute("linker:close");r.off("blur")}if(window.editBoxRedrawOptions){c.generateProperties(c.currentElement)}if(r.attr("class")){if(r.attr("class").match("prettyprint")){window.prettyPrint()}}if(e=="wsite-title"&&window.refreshNavCondense){window.refreshNavCondense()}};v.showEditBox=function(e,r,s){var l=t("#editMenu:hidden");s=s||{richTextControls:!n.chromeless};o.vent.trigger("editor:element:text:modify");closePlatformSettingsPanel();Y(e);if(e==window.currentBox){if(l.length&&e!="wsite-title"&&k&&s.richTextControls!==false){Q(e)}return}if(window.currentBox){v.hideEditBox(window.currentBox)}var d=t("#"+e);var h=d.hasClass("wsite-button-inner");h===true?c.selectElement(d.closest(".element").get(0)):c.unselectElement();x=d.closest("li.inside");if(x.length){x.parents("li.inside").addClass("inside-child-active");x.addClass("inside-active")}else{x=null}window.currentBox=e;C=d[0].style.textAlign||null;O=null;if(d.hasClass("product-description")||d.hasClass("product-title")){s=i.extend({saveCallback:u.saveProductField,redrawOptions:true,showOptions:true},s)}if(d.hasClass("product-price")){s=i.extend({saveCallback:u.saveProductField,redrawOptions:true,showOptions:false},s)}if(s){if(typeof s.saveCallback=="function"){O=s.saveCallback}if(typeof s.redrawOptions!=="undefined"){window.editBoxRedrawOptions=s.redrawOptions}if(typeof s.showOptions!=="undefined"){k=s.showOptions}}if(e!="wsite-title"&&k&&s.richTextControls!==false){Q(e);m.show({element:d.closest("li.inside")});m.once("destroy",function(){if(w){y=e;b=true}})}var p=de();if(p){re()}if(e==="wsite-title"){d.html(q(d[0].innerText))}else{d.html(G(d.html(),!!O,d))}if(p){ye()}else{p=window.rangy.createRange();p.selectNodeContents(d[0]);p.collapse(false);v.selectRange(p)}if(s.richTextControls){var g=t(document);g.on("click",_)}else{d.on("blur",function(){if(!L){v.hideEditBox(e)}})}function _(i){if(w||t.contains(d[0],i.target)||l.length&&t.contains(l[0],i.target)||d.is(document.activeElement)){return}g.off("click",_);v.hideEditBox(e)}var E=d.html();var T=d.parents("li.inside.platform-element-child")[0];if(J(E,s)||typeof T!=="undefined"&&E!==""&&t(T).data("default-text")===E){try{setTimeout(X,0)}catch(e){}}if(s.startedEditingCallback){s.startedEditingCallback()}else if(e=="wsite-title"){a.trigger(f.EVENTS.AREA_TEXT_EDITING_START,"logo","")}else{a.trigger(f.EVENTS.TEXT_EDITING_START,e)}};function X(){v.runCommand(window.currentBox,"selectAll",false);setTimeout(function(){v.runCommand(window.currentBox,"delete")},0)}function J(e,t){e=e||"";if(e.match(/^(Product.*)?Click here to edit.$/)||e.match(/^(Product.*)?Double-tap to edit.$/)){return true}if(e.replace(/<.*?>/g,"").match(/Click here to edit\.$/)||e.replace(/<.*?>/g,"").match(/Double-tap to edit\.$/)){return true}if(e.indexOf("This is your new blog post.")>-1){return true}if(t.$el&&e==t.$el.attr("placeholder")){return true}if(e==n.defaultPlaceholderText){return true}for(var i in n.areaDefaultPlaceholderText){if(e==n.areaDefaultPlaceholderText[i]){return true}}if(t.emptyText){return e.indexOf(t.emptyText)>-1}return false}function Q(e){var n=t("#editMenu"),r={},o=t("#"+e),s=o.closest("li.inside"),a=s.length?s:o;if(!o.is("div")||o.hasClass("product-title")||o.data("converted")==="true"){r.unorderedList=false;r.orderedList=false}if(o.hasClass("wsite-product-description")||o.parent().is("#wsite-com-product-short-description")){
a=o;r.alignment=false;r.changecolor=false}var l=t("#menuitem-a");l.toggle(r.alignment!==false);var c=t("#menuitem-ul");c.toggle(r.unorderedList!==false);var u=t("#menuitem-ol");u.toggle(r.orderedList!==false);var d=t("#menuitem-cc");d.toggle(r.changecolor!==false);if(!P){P=true;var f={delay:{show:600,hide:100},placement:"bottom"};t("#editMenuChild").on("click","a[data-command]",Z);t("#menuitem-b").tooltip(f);t("#menuitem-i").tooltip(f);t("#menuitem-u").tooltip(f);t("#menuitem-if").tooltip(f);t("#menuitem-df").tooltip(f);d.tooltip(f).wColorChooser({id:"editmenu-color-chooser",autoExpand:true,containerOffsetY:5,parent:"#_editor-ui",onBeforeShow:function(){var e=de();if(e){var i=t(e.commonAncestorContainer).closest("font").css("color");if(i){d.spectrum("set",i)}}},onMove:ee,onUpdate:ee,onChange:function(e){d.spectrum("hide");ee(e)}});t("#menuitem-cl").tooltip(f).on("mousedown",re).on("click",function(e){e.preventDefault();e.stopPropagation();v.showCreateLink()});l.tooltip(f);c.tooltip(f);u.tooltip(f);t("#menuitem-rf").tooltip(f);t("#menuitem-z").tooltip(f);t("#menuitem-r").tooltip(f)}n.show();var h=t(window);var p=function(e,i){var n=t(document.body);te(e,i,n)};R=i.partial(p,n,a);var m=i.debounce(R,100);R();h.on("scroll",m);T=function(){h.off("scroll",m);R=t.noop}}function Z(e){v.runCommand(window.currentBox,t(e.currentTarget).data("command"),null);e.preventDefault()}function ee(e){if(p.env.ie&&p.env.version==10){return}v.runCommand(window.currentBox,"foreColor",e)}function te(e,i,n){var r=n.offset();var o=n.outerWidth();var s=i.offset();var a=i.outerWidth();var l=i.outerHeight();var c=t("#_editor-ui").length>0?t("#_editor-ui").offset().top:0;s.top=s.top-t(document).scrollTop()-c;var u=e.outerWidth();var d=e.outerHeight();var f=false;var h=s.top-d-10;if(h<r.top+10){h=r.top+10;f=true}h=Math.min(s.top+l+10,h);var p=i.find("[contenteditable=true]")[0];if(!p&&i.is("[contenteditable=true]")){p=i[0]}var m;if(p){var g=window.getComputedStyle(p);switch(g["text-align"]){case"right":m=s.left+a-u;break;case"center":m=s.left+a/2-u/2;break;case"left":case"justify":default:m=s.left-(f?10:0);if(m+u-r.left>=o){m=s.left+a-u}break}}else if(u<o){m=s.left-(f?10:0);if(m+u-r.left>=o){m=s.left+a-u}}else{m=s.left+a/2-u/2}var v=t(document);e.css({top:h+v.scrollTop(),left:m+v.scrollLeft()})}v.runCommand=function(e,i,r){var o=document,s=t("#"+window.currentBox),a=p.instances[window.currentBox],l,c,u,d=window.rangy.getSelection(),f=d.toString(),h,m=false;if((!s.length||!a)&&!n.chromeless){return false}a.focus();if(J(s.html(),{$el:s})){l=window.rangy.createRange();l.selectNodeContents(s[0]);v.selectRange(l);l.deleteContents()}else if(i==="increaseFontSize"||i==="decreaseFontSize"||i==="unlink"||i==="foreColor"&&f!==""||i==="bold"&&!n.chromeless){h=a.getSelection().createBookmarks();if(f===""){a.getSelection().selectBookmarks(h);h=null}}else{ye();if(h){a.getSelection().selectBookmarks(h)}}try{switch(i){case"foreColor":if(h){a.getSelection().selectBookmarks(h)}o.execCommand(i,false,r);h=a.getSelection().createBookmarks();if(p.env.gecko){s.find("[type=_moz]").remove()}break;case"fontSize":o.execCommand("FontSize",false,r);break;case"increaseFontSize":try{c=o.queryCommandValue("FontSize");if(!c){a.getSelection().selectBookmarks(h);c=o.queryCommandValue("FontSize")||3;o.execCommand("FontSize",false,parseInt(c)+1);h=a.getSelection().createBookmarks()}else if(typeof c=="string"){if(h){a.getSelection().selectBookmarks(h);h=null}if(c.match("px")){u=ne(parseInt(c.replace("px",""),10))}else{u=parseInt(c,10)}u=u>6?7:u+1;if(f===""&&!n.chromeless){a.insertHtml('<font size="'+u+'"></font>')}else{o.execCommand("FontSize",false,u)}}else{u=c>6?7:c+1;if(f===""&&!n.chromeless){a.insertHtml('<font size="'+u+'"></font>')}else{o.execCommand("FontSize",false,u)}}}catch(e){o.execCommand(i,false,r)}break;case"decreaseFontSize":try{c=o.queryCommandValue("FontSize");if(!c){a.getSelection().selectBookmarks(h);c=o.queryCommandValue("FontSize")||3;o.execCommand("FontSize",false,c-1);h=a.getSelection().createBookmarks()}else if(typeof c=="string"){if(h){a.getSelection().selectBookmarks(h);h=null}if(c.match("px")){u=ne(parseInt(c.replace("px",""),10))}else{u=parseInt(c,10)}u=u>1?u-1:1;if(f===""&&!n.chromeless){a.insertHtml('<font size="'+u+'"></font>')}else{o.execCommand("FontSize",false,u)}}else{u=c>1?c-1:1;if(f===""&&!n.chromeless){a.insertHtml('<font size="'+u+'"></font>')}else{o.execCommand("FontSize",false,u)}}}catch(e){o.execCommand(i,false,r)}break;case"promptLink":v.showCreateLink({useExisting:true,remove:true,modal:true});break;case"justifyLeft":case"justifyCenter":case"justifyRight":C=i.toLowerCase().replace("justify","");s.css("text-align",C);R();break;case"justifyFull":C="justify";s.css("text-align","justify");R();break;case"insertOrderedList":if(n.chromeless){o.execCommand(i,false,r)}else{a.execCommand("numberedlist")}break;case"insertUnorderedList":if(n.chromeless){o.execCommand(i,false,r)}else{a.execCommand("bulletedlist")}break;case"createLink":if(f===""){var l=d.rangeCount?d.getRangeAt(0):null;if(l){g.getNameFromParsedLink(v.parseLinkString(r),function(e){var t=document.createTextNode(e);l.insertNode(t);l.selectNodeContents(t);d.setSingleRange(l);o.execCommand(i,false,r)})}}else{o.execCommand(i,false,r)}break;case"unlink":var w=o.execCommand(i,false,r);if((p.env.gecko||!w)&&E.length){t(E[0]).contents().unwrap()}break;case"selectAll":case"delete":o.execCommand(i,false,r);break;default:a.execCommand(i);break}}catch(e){o.execCommand(i,false,r)}if(h){a.getSelection().selectBookmarks(h)}if(i!="promptLink"){be()}};v.getCurrentValue=function(e){var i=document,n=t("#"+window.currentBox),r;if(!n.length){return null}ye();switch(e){case"link":var o=t(fe()).closest("a");if(o.length){r={href:o.attr("href")||"",target:o.attr("target")||""}}else{r=false}break;case"justify":r=n.css("text-align");if(r==="justify"){r="full"}break;case"orderedList":r=ie(fe(),"ol");break;case"unorderedList":r=ie(fe(),"ul");break;default:try{r=i.queryCommandValue(e)}catch(e){}break}return r};function ie(e,i){var n=t(e).closest("li");if(n.is(".inside")){return false}if(n.parent().is(i)){return true}return false}v.convertSpanToDiv=function(e){var i,n,r={};t.each(e.get(0).attributes,function(e,t){r[t.name]=t.value});n=window.getComputedStyle(e.get(0));r.css={display:n.display||"inline"};r.data={converted:"true"};r.append=e.contents();i=t("<div/>",r);e.replaceWith(i);return i};function ne(e){var t=3;if(e<13){t=1}else if(e>=13&&e<16){t=2}else if(e>=18&&e<24){t=4}else if(e>=24&&e<32){t=5}else if(e>=32){t=6}return t}function re(){var e=window.rangy.getSelection();if(e.rangeCount<1){if(M&&M.isValid()){e.addRange(M)}else if(N&&N.isValid()){e.addRange(N)}}S=window.rangy.saveSelection()}v.saveSelection=re;v.getSelectionHtml=function(){return window.rangy.getSelection().toHtml()};function oe(e){e=e.replace(/<!--.*?-->/gi,"");if(navigator.appVersion.match("Safari/")||navigator.appVersion.match("AppleWebKit/")){e=e.replace(/^\s+|\s+$/g,"").replace(/^(<\/?div>)*|(<\/?div>)*$/gi,"").replace(/(<br[ \/]*>)?(\s*<\/?div>)+\s*/gi,"<br />")}e=e.replace(/<b(\s+|>)/gi,"<strong$1");e=e.replace(/<\/b(\s+|>)/gi,"</strong$1");e=e.replace(/<i(\s+|>)/gi,"<em$1");e=e.replace(/<\/i(\s+|>)/gi,"</em$1");e=e.replace(/<br ?>/gi,"<br />");e=e.replace(/<br style=[\'\"].*?[\'\"]>/gi,"<br />");e=e.replace(/<p>&nbsp;<\/p>/gi,"");e=e.replace(/<\/p[^>]*>/gi,"<br /><span></span>");e=e.replace(/<p[^>]*>/gi,"");e=e.replace(/<([\w-]+)(?:|[^>]*[^\/])>((?:\s|<br[ \/]*>)*)<\/\1>/gi,se);e=e.replace(/(<span><\/span>)+/gi,"<span></span>");e=e.replace(/<\/?([\w-]+)[^>]*>/gi,ae);e=e.replace(/<[^>]*>/g,le);return e}function se(e,t,i){if(t.toLowerCase()=="span"){return e}return i}function ae(e,t){if(/^(span|strong|u|em|br|big|small|a|font|ul|ol|li)$/i.test(t)||n.chromeless&&/^(img)$/i.test(t)){return e}else{return""}}function le(e){e=e.replace(/\s+([\w-]+)\s*=\s*["'][^"']*["']/g,ce);return e}function ce(e,t){var i=/^(src|alt|href|target|title|style|size|color)$/i;if(e.match(/selectionboundary/i)||i.test(t)){return e}else{return""}}function ue(e){if(!e){return false}var t=window.rangy.createRange();t.selectNode(e);v.selectRange(t);return}function de(e){L=!!e;var t=window.rangy.getSelection();if(t.rangeCount<1){return null}return t.getRangeAt(0)}v.getSelectionRange=de;v.selectRange=function(e){var t=window.rangy.getSelection();t.setSingleRange(e);return};function fe(){var e=window.rangy.getSelection().anchorNode;if(e.nodeType===3){e=e.parentNode}return e}function he(){try{var e=t(fe()),i="a:not(.wbutton)",n=e.closest(i);if(e.length&&(e.is(i)||n.length===1)){if(n.length===1){e=t(n[0])}if(e.closest(".wsite-logo").length===0){v.getChannel().request("settings:siteDomain").done(function(t){ve();ge(e,t)});return}}ve();if(window.currentBox){be()}}catch(e){}}function pe(e){return e.offset().left-t(document).scrollLeft()}function me(e){return e.offset().top-t(document).scrollTop()}function ge(i,n){if(i.length&&i.is("a")){E=i;var r=v.parseLinkString(i.attr("href"));var l=function(e){e.stopPropagation();w=true;var t=i.closest(".element");v.getChannel().request("linker:open",{existing:r,remove:true,ucfid:t.length?t[0].id:null,coordinates:t.length?{docLeft:pe(t),docTop:me(t),height:t.height(),width:t.width()}:null}).done(function(e,t){if(e){i.attr("href",e);if(t){i.attr("target","_blank")}else{i.removeAttr("target")}}else{ue(i[0]);v.runCommand(window.currentBox,"unlink",null)}}).always(v.linkerAlwaysCallback)};var c=t("<div>",{id:"link-info-box"});if(i.attr("target")=="_blank"){r.newWindow=true}if(r.pageID){var u=s.getPage(r.pageID);c.append(e.utl("html.weebly.libraries.weebly_editbox_1"),t("<a>",{html:u.get("title"),on:{click:function(){a.request("page:navigate:go",r.pageID)}}}))}else if(r.location){if(e.Restrictions.published){var d=n?"http://"+n+"/uploads/"+r.location:"/uploads/"+r.location;c.append(e.utl("html.weebly.libraries.weebly_editbox_2"),t("<a>",{href:d,target:"_blank",html:r.location.replace(/^.*\//,"")}))}else{c.append(e.utl("javascript.site.editor.ui.weebly_editbox_10"),t("<a>",{html:r.location.replace(/^.*\//,"")}))}}else if(r.email){c.append(r.email)}else if(r.store){c.append(e.utl("html.weebly.libraries.weebly_editbox_3"),t("<a>",{html:r.store,on:{click:function(){a.request("page:navigate:commerce",r.store)}}}))}else if(r.phone){c.append(e.utl("javascript.site.editor.ui.weebly_editbox_9")+" : ",t("<span>",{text:r.phone}))}else if(r.blogPost){var f=g.getBlogPostDetailsFromLink(r.blogPost);c.append(e.utl("javascript.site.editor.ui.weebly_editbox_8"),t("<a>",{html:f.title,on:{click:function(){o.vent.trigger("navClicked",f.pageId);o.vent.once({pageRendered:function(){a.execute("blog:post:edit",f.postId)}})}}}))}else{c.append(e.utl("html.weebly.libraries.weebly_editbox_4"),t("<a>",{href:r.url,target:"_blank",html:r.url}))}c.append(" - ",t("<a>",{html:e.utl("html.weebly.libraries.weebly_editbox_5"),on:{click:l}})," - ",t("<a>",{html:e.utl("html.weebly.libraries.weebly_editbox_6"),on:{click:we}}),t("<a>",{html:"&times;",alt:e.utl("javascript.site.editor.ui.weebly_editbox_7"),css:{padding:"0px 5px 0px 10px"}}));t("#menuitem-lu").on("click.link-info-box",l).show();t("#menuitem-cl").hide();var h=t("#_editor-ui");var p=h.offset();var m=i.offset();c.css({top:m.top+i.height()+2-p.top+"px",left:m.left-p.left+"px"});h.append(c)}}function ve(){t("#link-info-box").remove();t("#menuitem-lu").off("click.link-info-box").hide();t("#menuitem-cl").show()}function we(){if(E.length&&E.is("a")){ue(E[0]);v.runCommand(window.currentBox,"unlink",null);ve()}}v.parseLinkString=function(e){if(typeof e==="undefined"){return{url:""}}else{var t;var i={};var n=e.replace("weeblylink_new_window","");if(n!==e){i.newWindow=true;e=n}var r=g.getGiftCardData();if(r.showGiftCardUrl&&e===r.giftCardUrl){i.giftCard=e}else if(t=e.match(/^http:\/\/weebly-link\/(.*)/)){i.pageID=t[1]}else if(t=e.match(/^http:\/\/weebly-file\/(.*)/)){i.location=t[1]}else if(t=e.match(/^http:\/\/weebly-image-full\//)){i.fullSized=true}else if(t=e.match(/^mailto:(.*)/)){i.email=t[1]}else if(t=e.match(/store\/[pc]\d+\/.*/)){i.store=t[0]}else if(t=e.match(/^http:\/\/weebly-blog-post-link\/(.*)/)){i.blogPost=e}else if(t=e.match(/^tel:(.*)/)){i.phone=t[1]}else{if(t=e.match(/^http:\/\/(.*)/)){var o=t[1].replace(/<\/?[^>]+>/g,"");if(o!=t[1]){i.url=""}else{i.url=n}}else{i.url=n}}if(i.url&&typeof i.url==="string"){if(i.url.indexOf("javascript:;")>-1){i.url=i.url.replace("javascript:;","")}if(i.url==="<a>"){i.url=""}}return i}};function be(){var e=t("#"+window.currentBox);if(Prototype.Browser.IE){var i=t(window);var n=i.scrollTop();e.css("position","fixed").focus().css("position","relative");i.scrollTop(n)}else{e.focus()}}v.showCreateLink=function(e){w=true;e=e||{};var i=false;var n=null;if(!e.isConfLink){n=t(fe())}if(e.useExisting){var r;var o=t(e.ucfpid);if(o.length&&o.val()){r=o.val().match(/href=["'](.*?)["']/);if(r){i=v.parseLinkString(r[1])}}else{var s=v.getSelectionHtml();if(n&&n.is("a")){i=v.parseLinkString(n[0].href)}else if(s){r=s.match(/href=["'](.*?)["']/);if(r){i=v.parseLinkString(r[1])}}}}var a=de();var l=t("#"+currentBox);v.getChannel().request("linker:open",{ucfid:window.currentBox,modal:e.modal,existing:i,remove:e.remove&&!!i,disableFile:e.isConfLink,disableEmail:e.isConfLink,disableNewWindow:e.isConfLink,coordinates:l.length?{docLeft:pe(l),docTop:me(l),height:l.height(),width:l.width()}:null}).done(function(t,i){e.range=a;e.node=n;v.setLink(t,i,e)}).fail(function(i){if(a&&window.currentBox){be();v.selectRange(a)}if(i){var n=t("#"+this.ucfid).find('a[href="'+i+'"]');n.replaceWith(n.html())}else if(e.onCancel){e.onCancel()}}).always(v.linkerAlwaysCallback)};v.linkerAlwaysCallback=function(){if(b){v.hideEditBox(y);b=false;y=""}w=false};function ye(){L=false;if(S){window.rangy.restoreSelection(S);window.rangy.removeMarkers(S);S=null;return}var e=de();if(!e||!e.isValid()){e=null;if(M&&M.isValid()){e=M}else if(N&&N.isValid()){e=N}if(e){v.selectRange(e)}}}v.tryRestoreSelection=ye;v.updateLink=function(e,i){ye();var n=t(fe());var r="a:not(.wbutton)";if(n.length&&(n.is(r)||(n=n.closest(r)))){if(e){n.attr("href",e);if(i){n.attr("target","_blank")}else{n.removeAttr("target")}}else{ue(n[0]);v.runCommand(window.currentBox,"unlink",null)}}};v.setLink=function(e,i,n){n=n||{};if(n.ucfpid){h.setContentFieldProperty(c.ucfid,n.ucfpid,"<a"+(e?" href='"+e+"'":"")+(i?" target='_blank'":"")+">");c.skipRerender=true;c.onChange(n.ucfpid);o.execute("element:setHandlers")}else{if(n.range&&window.currentBox){v.selectRange(n.range)}else{ye()}if(e){if(i){v.runCommand(window.currentBox,"createLink",e);t("#"+window.currentBox).find('a[href="'+e+'"]').attr("target","_blank")}else{v.runCommand(window.currentBox,"createLink",e)}}else if(n.remove){v.runCommand(window.currentBox,"unlink");var r=t(fe());if(r.length&&r.is("a")){re();r.replaceWith(r.html());ye()}}}if(n.onChoose){n.onChoose(e,i)}};v.cleanEditableText=G;v.cleanSiteTitleHtml=q;i.extend(window,v);return v}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t){(function(t){var i,n="2.8.1",r=typeof global!=="undefined"?global:this,o,s=Math.round,a,l=0,c=1,u=2,d=3,f=4,h=5,p=6,m={},g=[],v=typeof e!=="undefined"&&e.exports,w=/^\/?Date\((\-?\d+)/i,b=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,y=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,T=/\d\d?/,C=/\d{1,3}/,S=/\d{1,4}/,I=/[+\-]?\d{1,6}/,O=/\d+/,k=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,x=/Z|[\+\-]\d\d:?\d\d/gi,D=/T/i,R=/[\+\-]?\d+(\.\d{1,3})?/,P=/\d{1,2}/,A=/\d/,N=/\d\d/,M=/\d{3}/,L=/\d{4}/,B=/[+-]?\d{6}/,K=/[+-]?\d+/,F=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H="YYYY-MM-DDTHH:mm:ssZ",W=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],j=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],$=/([\+\-]|\d\d)/gi,z="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),V={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},U={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},G={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},q={},Y={s:45,m:45,h:22,d:26,M:11},X="DDD w W M D d".split(" "),J="M D H h m s w W".split(" "),Q={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return pe(this.year()%100,2)},YYYY:function(){return pe(this.year(),4)},YYYYY:function(){return pe(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+pe(Math.abs(e),6)},gg:function(){return pe(this.weekYear()%100,2)},gggg:function(){return pe(this.weekYear(),4)},ggggg:function(){return pe(this.weekYear(),5)},GG:function(){return pe(this.isoWeekYear()%100,2)},GGGG:function(){return pe(this.isoWeekYear(),4)},GGGGG:function(){return pe(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return Se(this.milliseconds()/100)},SS:function(){return pe(Se(this.milliseconds()/10),2)},SSS:function(){return pe(this.milliseconds(),3)},SSSS:function(){return pe(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+pe(Se(e/60),2)+":"+pe(Se(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+pe(Se(e/60),2)+pe(Se(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Z={},ee=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function te(e,t,i){switch(arguments.length){case 2:return e!=null?e:t;case 3:return e!=null?e:t!=null?t:i;default:throw new Error("Implement me")}}function ie(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function ne(e){if(i.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function re(e,t){var i=true;return de(function(){if(i){ne(e);i=false}return t.apply(this,arguments)},t)}function oe(e,t){if(!Z[e]){ne(t);Z[e]=true}}function se(e,t){return function(i){return pe(e.call(this,i),t)}}function ae(e,t){return function(i){return this.localeData().ordinal(e.call(this,i),t)}}while(X.length){a=X.pop();Q[a+"o"]=ae(Q[a],a)}while(J.length){a=J.pop();Q[a+a]=se(Q[a],2)}Q.DDDD=se(Q.DDD,3);function le(){}function ce(e,t){if(t!==false){De(e)}fe(this,e);this._d=new Date(+e._d)}function ue(e){var t=Te(e),n=t.year||0,r=t.quarter||0,o=t.month||0,s=t.week||0,a=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._milliseconds=+d+u*1e3+c*6e4+l*36e5;this._days=+a+s*7;this._months=+o+r*3+n*12;this._data={};this._locale=i.localeData();this._bubble()}function de(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}if(t.hasOwnProperty("toString")){e.toString=t.toString}if(t.hasOwnProperty("valueOf")){e.valueOf=t.valueOf}return e}function fe(e,t){var i,n,r;if(typeof t._isAMomentObject!=="undefined"){e._isAMomentObject=t._isAMomentObject}if(typeof t._i!=="undefined"){e._i=t._i}if(typeof t._f!=="undefined"){e._f=t._f}if(typeof t._l!=="undefined"){e._l=t._l}if(typeof t._strict!=="undefined"){e._strict=t._strict}if(typeof t._tzm!=="undefined"){e._tzm=t._tzm}if(typeof t._isUTC!=="undefined"){e._isUTC=t._isUTC}if(typeof t._offset!=="undefined"){e._offset=t._offset}if(typeof t._pf!=="undefined"){e._pf=t._pf}if(typeof t._locale!=="undefined"){e._locale=t._locale}if(g.length>0){for(i in g){n=g[i];r=t[n];if(typeof r!=="undefined"){e[n]=r}}}return e}function he(e){if(e<0){return Math.ceil(e)}else{return Math.floor(e)}}function pe(e,t,i){var n=""+Math.abs(e),r=e>=0;while(n.length<t){n="0"+n}return(r?i?"+":"":"-")+n}function me(e,t){var i={milliseconds:0,months:0};i.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(i.months,"M").isAfter(t)){--i.months}i.milliseconds=+t-+e.clone().add(i.months,"M");return i}function ge(e,t){var i;t=Me(t,e);if(e.isBefore(t)){i=me(e,t)}else{i=me(t,e);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function ve(e,t){return function(n,r){var o,s;if(r!==null&&!isNaN(+r)){oe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period).");s=n;n=r;r=s}n=typeof n==="string"?+n:n;o=i.duration(n,r);we(this,o,e);return this}}function we(e,t,n,r){var o=t._milliseconds,s=t._days,a=t._months;r=r==null?true:r;if(o){e._d.setTime(+e._d+o*n)}if(s){dt(e,"Date",ut(e,"Date")+s*n)}if(a){ct(e,ut(e,"Month")+a*n)}if(r){i.updateOffset(e,s||a)}}function be(e){return Object.prototype.toString.call(e)==="[object Array]"}function ye(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function _e(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,s;for(s=0;s<n;s++){if(i&&e[s]!==t[s]||!i&&Se(e[s])!==Se(t[s])){o++}}return o+r}function Ee(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=U[e]||G[t]||t}return e}function Te(e){var t={},i,n;for(n in e){if(e.hasOwnProperty(n)){i=Ee(n);if(i){t[i]=e[n]}}}return t}function Ce(e){var n,r;if(e.indexOf("week")===0){n=7;r="day"}else if(e.indexOf("month")===0){n=12;r="month"}else{return}i[e]=function(o,s){var a,l,c=i._locale[e],u=[];if(typeof o==="number"){s=o;o=t}l=function(e){var t=i().utc().set(r,e);return c.call(i._locale,t,o||"")};if(s!=null){return l(s)}else{for(a=0;a<n;a++){u.push(l(a))}return u}}}function Se(e){var t=+e,i=0;if(t!==0&&isFinite(t)){if(t>=0){i=Math.floor(t)}else{i=Math.ceil(t)}}return i}function Ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function Oe(e,t,n){return ot(i([e,11,31+t-n]),t,n).week}function ke(e){return xe(e)?366:365}function xe(e){return e%4===0&&e%100!==0||e%400===0}function De(e){var t;if(e._a&&e._pf.overflow===-2){t=e._a[c]<0||e._a[c]>11?c:e._a[u]<1||e._a[u]>Ie(e._a[l],e._a[c])?u:e._a[d]<0||e._a[d]>23?d:e._a[f]<0||e._a[f]>59?f:e._a[h]<0||e._a[h]>59?h:e._a[p]<0||e._a[p]>999?p:-1;if(e._pf._overflowDayOfYear&&(t<l||t>u)){t=u}e._pf.overflow=t}}function Re(e){if(e._isValid==null){e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated;if(e._strict){e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0}}return e._isValid}function Pe(e){return e?e.toLowerCase().replace("_","-"):e}function Ae(e){var t=0,i,n,r,o;while(t<e.length){o=Pe(e[t]).split("-");i=o.length;n=Pe(e[t+1]);n=n?n.split("-"):null;while(i>0){r=Ne(o.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&_e(o,n,true)>=i-1){break}i--}t++}return null}function Ne(e){var t=null;if(!m[e]&&v){try{t=i.locale();require("./locale/"+e);i.locale(t)}catch(e){}}return m[e]}function Me(e,t){return t._isUTC?i(e).zone(t._offset||0):i(e).local()}de(le.prototype,{set:function(e){var t,i;for(i in e){t=e[i];if(typeof t==="function"){this[i]=t}else{this["_"+i]=t}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;if(!this._monthsParse){this._monthsParse=[]}for(t=0;t<12;t++){if(!this._monthsParse[t]){n=i.utc([2e3,t]);r="^"+this.months(n,"")+"|^"+this.monthsShort(n,"");this._monthsParse[t]=new RegExp(r.replace(".",""),"i")}if(this._monthsParse[t].test(e)){return t}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;if(!this._weekdaysParse){this._weekdaysParse=[]}for(t=0;t<7;t++){if(!this._weekdaysParse[t]){n=i([2e3,1]).day(t);r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,"");this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")}if(this._weekdaysParse[t].test(e)){return t}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];if(!t&&this._longDateFormat[e.toUpperCase()]){t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});this._longDateFormat[e]=t}return t},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,i){if(e>11){return i?"pm":"PM"}else{return i?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return typeof i==="function"?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return typeof r==="function"?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return typeof i==="function"?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ot(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function Le(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function Be(e){var t=e.match(_),i,n;for(i=0,n=t.length;i<n;i++){if(Q[t[i]]){t[i]=Q[t[i]]}else{t[i]=Le(t[i])}}return function(r){var o="";for(i=0;i<n;i++){o+=t[i]instanceof Function?t[i].call(r,e):t[i]}return o}}function Ke(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=Fe(t,e.localeData());if(!q[t]){q[t]=Be(t)}return q[t](e)}function Fe(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}E.lastIndex=0;while(i>=0&&E.test(e)){e=e.replace(E,n);E.lastIndex=0;i-=1}return e}function He(e,t){var i,n=t._strict;switch(e){case"Q":return A;case"DDDD":return M;case"YYYY":case"GGGG":case"gggg":return n?L:S;case"Y":case"G":case"g":return K;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?B:I;case"S":if(n){return A}case"SS":if(n){return N}case"SSS":if(n){return M}case"DDD":return C;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return k;case"a":case"A":return t._locale._meridiemParse;case"X":return R;case"Z":case"ZZ":return x;case"T":return D;case"SSSS":return O;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?N:T;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return T;case"Do":return P;default:i=new RegExp(Ye(qe(e.replace("\\","")),"i"));return i}}function We(e){e=e||"";var t=e.match(x)||[],i=t[t.length-1]||[],n=(i+"").match($)||["-",0,0],r=+(n[1]*60)+Se(n[2]);return n[0]==="+"?-r:r}function je(e,t,n){var r,o=n._a;switch(e){case"Q":if(t!=null){o[c]=(Se(t)-1)*3}break;case"M":case"MM":if(t!=null){o[c]=Se(t)-1}break;case"MMM":case"MMMM":r=n._locale.monthsParse(t);if(r!=null){o[c]=r}else{n._pf.invalidMonth=t}break;case"D":case"DD":if(t!=null){o[u]=Se(t)}break;case"Do":if(t!=null){o[u]=Se(parseInt(t,10))}break;case"DDD":case"DDDD":if(t!=null){n._dayOfYear=Se(t)}break;case"YY":o[l]=i.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[l]=Se(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":o[d]=Se(t);break;case"m":case"mm":o[f]=Se(t);break;case"s":case"ss":o[h]=Se(t);break;case"S":case"SS":case"SSS":case"SSSS":o[p]=Se(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=true;n._tzm=We(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t);if(r!=null){n._w=n._w||{};n._w["d"]=r}else{n._pf.invalidWeekday=t}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2);if(t){n._w=n._w||{};n._w[e]=Se(t)}break;case"gg":case"GG":n._w=n._w||{};n._w[e]=i.parseTwoDigitYear(t)}}function $e(e){var t,n,r,o,s,a,c;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){s=1;a=4;n=te(t.GG,e._a[l],ot(i(),1,4).year);r=te(t.W,1);o=te(t.E,1)}else{s=e._locale._week.dow;a=e._locale._week.doy;n=te(t.gg,e._a[l],ot(i(),s,a).year);r=te(t.w,1);if(t.d!=null){o=t.d;if(o<s){++r}}else if(t.e!=null){o=t.e+s}else{o=s}}c=st(n,r,o,a,s);e._a[l]=c.year;e._dayOfYear=c.dayOfYear}function ze(e){var t,i,n=[],r,o;if(e._d){return}r=Ue(e);if(e._w&&e._a[u]==null&&e._a[c]==null){$e(e)}if(e._dayOfYear){o=te(e._a[l],r[l]);if(e._dayOfYear>ke(o)){e._pf._overflowDayOfYear=true}i=tt(o,0,e._dayOfYear);e._a[c]=i.getUTCMonth();e._a[u]=i.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=r[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}e._d=(e._useUTC?tt:et).apply(null,n);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function Ve(e){var t;if(e._d){return}t=Te(e._i);e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond];ze(e)}function Ue(e){var t=new Date;if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}else{return[t.getFullYear(),t.getMonth(),t.getDate()]}}function Ge(e){if(e._f===i.ISO_8601){Je(e);return}e._a=[];e._pf.empty=true;var t=""+e._i,n,r,o,s,a,l=t.length,c=0;o=Fe(e._f,e._locale).match(_)||[];for(n=0;n<o.length;n++){s=o[n];r=(t.match(He(s,e))||[])[0];if(r){a=t.substr(0,t.indexOf(r));if(a.length>0){e._pf.unusedInput.push(a)}t=t.slice(t.indexOf(r)+r.length);c+=r.length}if(Q[s]){if(r){e._pf.empty=false}else{e._pf.unusedTokens.push(s)}je(s,r,e)}else if(e._strict&&!r){e._pf.unusedTokens.push(s)}}e._pf.charsLeftOver=l-c;if(t.length>0){e._pf.unusedInput.push(t)}if(e._isPm&&e._a[d]<12){e._a[d]+=12}if(e._isPm===false&&e._a[d]===12){e._a[d]=0}ze(e);De(e)}function qe(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})}function Ye(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Xe(e){var t,i,n,r,o;if(e._f.length===0){e._pf.invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){o=0;t=fe({},e);t._pf=ie();t._f=e._f[r];Ge(t);if(!Re(t)){continue}o+=t._pf.charsLeftOver;o+=t._pf.unusedTokens.length*10;t._pf.score=o;if(n==null||o<n){n=o;i=t}}de(e,i||t);
}function Je(e){var t,i,n=e._i,r=F.exec(n);if(r){e._pf.iso=true;for(t=0,i=W.length;t<i;t++){if(W[t][1].exec(n)){e._f=W[t][0]+(r[6]||" ");break}}for(t=0,i=j.length;t<i;t++){if(j[t][1].exec(n)){e._f+=j[t][0];break}}if(n.match(x)){e._f+="Z"}Ge(e)}else{e._isValid=false}}function Qe(e){Je(e);if(e._isValid===false){delete e._isValid;i.createFromInputFallback(e)}}function Ze(e){var n=e._i,r;if(n===t){e._d=new Date}else if(ye(n)){e._d=new Date(+n)}else if((r=w.exec(n))!==null){e._d=new Date(+r[1])}else if(typeof n==="string"){Qe(e)}else if(be(n)){e._a=n.slice(0);ze(e)}else if(typeof n==="object"){Ve(e)}else if(typeof n==="number"){e._d=new Date(n)}else{i.createFromInputFallback(e)}}function et(e,t,i,n,r,o,s){var a=new Date(e,t,i,n,r,o,s);if(e<1970){a.setFullYear(e)}return a}function tt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<1970){t.setUTCFullYear(e)}return t}function it(e,t){if(typeof e==="string"){if(!isNaN(e)){e=parseInt(e,10)}else{e=t.weekdaysParse(e);if(typeof e!=="number"){return null}}}return e}function nt(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function rt(e,t,n){var r=i.duration(e).abs(),o=s(r.as("s")),a=s(r.as("m")),l=s(r.as("h")),c=s(r.as("d")),u=s(r.as("M")),d=s(r.as("y")),f=o<Y.s&&["s",o]||a===1&&["m"]||a<Y.m&&["mm",a]||l===1&&["h"]||l<Y.h&&["hh",l]||c===1&&["d"]||c<Y.d&&["dd",c]||u===1&&["M"]||u<Y.M&&["MM",u]||d===1&&["y"]||["yy",d];f[2]=t;f[3]=+e>0;f[4]=n;return nt.apply({},f)}function ot(e,t,n){var r=n-t,o=n-e.day(),s;if(o>r){o-=7}if(o<r-7){o+=7}s=i(e).add(o,"d");return{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function st(e,t,i,n,r){var o=tt(e,0,1).getUTCDay(),s,a;o=o===0?7:o;i=i!=null?i:r;s=r-o+(o>n?7:0)-(o<r?7:0);a=7*(t-1)+(i-r)+s+1;return{year:a>0?e:e-1,dayOfYear:a>0?a:ke(e-1)+a}}function at(e){var n=e._i,r=e._f;e._locale=e._locale||i.localeData(e._l);if(n===null||r===t&&n===""){return i.invalid({nullInput:true})}if(typeof n==="string"){e._i=n=e._locale.preparse(n)}if(i.isMoment(n)){return new ce(n,true)}else if(r){if(be(r)){Xe(e)}else{Ge(e)}}else{Ze(e)}return new ce(e)}i=function(e,i,n,r){var o;if(typeof n==="boolean"){r=n;n=t}o={};o._isAMomentObject=true;o._i=e;o._f=i;o._l=n;o._strict=r;o._isUTC=false;o._pf=ie();return at(o)};i.suppressDeprecationWarnings=false;i.createFromInputFallback=re("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)});function lt(e,t){var n,r;if(t.length===1&&be(t[0])){t=t[0]}if(!t.length){return i()}n=t[0];for(r=1;r<t.length;++r){if(t[r][e](n)){n=t[r]}}return n}i.min=function(){var e=[].slice.call(arguments,0);return lt("isBefore",e)};i.max=function(){var e=[].slice.call(arguments,0);return lt("isAfter",e)};i.utc=function(e,i,n,r){var o;if(typeof n==="boolean"){r=n;n=t}o={};o._isAMomentObject=true;o._useUTC=true;o._isUTC=true;o._l=n;o._i=e;o._f=i;o._strict=r;o._pf=ie();return at(o).utc()};i.unix=function(e){return i(e*1e3)};i.duration=function(e,t){var n=e,r=null,o,s,a,l;if(i.isDuration(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(typeof e==="number"){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(r=b.exec(e))){o=r[1]==="-"?-1:1;n={y:0,d:Se(r[u])*o,h:Se(r[d])*o,m:Se(r[f])*o,s:Se(r[h])*o,ms:Se(r[p])*o}}else if(!!(r=y.exec(e))){o=r[1]==="-"?-1:1;a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*o};n={y:a(r[2]),M:a(r[3]),d:a(r[4]),h:a(r[5]),m:a(r[6]),s:a(r[7]),w:a(r[8])}}else if(typeof n==="object"&&("from"in n||"to"in n)){l=ge(i(n.from),i(n.to));n={};n.ms=l.milliseconds;n.M=l.months}s=new ue(n);if(i.isDuration(e)&&e.hasOwnProperty("_locale")){s._locale=e._locale}return s};i.version=n;i.defaultFormat=H;i.ISO_8601=function(){};i.momentProperties=g;i.updateOffset=function(){};i.relativeTimeThreshold=function(e,i){if(Y[e]===t){return false}if(i===t){return Y[e]}Y[e]=i;return true};i.lang=re("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return i.locale(e,t)});i.locale=function(e,t){var n;if(e){if(typeof t!=="undefined"){n=i.defineLocale(e,t)}else{n=i.localeData(e)}if(n){i.duration._locale=i._locale=n}}return i._locale._abbr};i.defineLocale=function(e,t){if(t!==null){t.abbr=e;if(!m[e]){m[e]=new le}m[e].set(t);i.locale(e);return m[e]}else{delete m[e];return null}};i.langData=re("moment.langData is deprecated. Use moment.localeData instead.",function(e){return i.localeData(e)});i.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return i._locale}if(!be(e)){t=Ne(e);if(t){return t}e=[e]}return Ae(e)};i.isMoment=function(e){return e instanceof ce||e!=null&&e.hasOwnProperty("_isAMomentObject")};i.isDuration=function(e){return e instanceof ue};for(a=ee.length-1;a>=0;--a){Ce(ee[a])}i.normalizeUnits=function(e){return Ee(e)};i.invalid=function(e){var t=i.utc(NaN);if(e!=null){de(t._pf,e)}else{t._pf.userInvalidated=true}return t};i.parseZone=function(){return i.apply(null,arguments).parseZone()};i.parseTwoDigitYear=function(e){return Se(e)+(Se(e)>68?1900:2e3)};de(i.fn=ce.prototype,{clone:function(){return i(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=i(this).utc();if(0<e.year()&&e.year()<=9999){return Ke(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return Ke(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return Re(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&_e(this._a,(this._isUTC?i.utc(this._a):i(this._a)).toArray())>0}return false},parsingFlags:function(){return de({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){if(this._isUTC){this.zone(0,e);this._isUTC=false;if(e){this.add(this._d.getTimezoneOffset(),"m")}}return this},format:function(e){var t=Ke(this,e||i.defaultFormat);return this.localeData().postformat(t)},add:ve(1,"add"),subtract:ve(-1,"subtract"),diff:function(e,t,n){var r=Me(e,this),o=(this.zone()-r.zone())*6e4,s,a;t=Ee(t);if(t==="year"||t==="month"){s=(this.daysInMonth()+r.daysInMonth())*432e5;a=(this.year()-r.year())*12+(this.month()-r.month());a+=(this-i(this).startOf("month")-(r-i(r).startOf("month")))/s;a-=(this.zone()-i(this).startOf("month").zone()-(r.zone()-i(r).startOf("month").zone()))*6e4/s;if(t==="year"){a=a/12}}else{s=this-r;a=t==="second"?s/1e3:t==="minute"?s/6e4:t==="hour"?s/36e5:t==="day"?(s-o)/864e5:t==="week"?(s-o)/6048e5:s}return n?a:he(a)},from:function(e,t){return i.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(i(),e)},calendar:function(e){var t=e||i(),n=Me(t,this).startOf("day"),r=this.diff(n,"days",true),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this))},isLeapYear:function(){return xe(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=it(e,this.localeData());return this.add(e-t,"d")}else{return t}},month:ft("Month",true),startOf:function(e){e=Ee(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}else if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(e){e=Ee(e);return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")},isAfter:function(e,t){t=typeof t!=="undefined"?t:"millisecond";return+this.clone().startOf(t)>+i(e).startOf(t)},isBefore:function(e,t){t=typeof t!=="undefined"?t:"millisecond";return+this.clone().startOf(t)<+i(e).startOf(t)},isSame:function(e,t){t=t||"ms";return+this.clone().startOf(t)===+Me(e,this).startOf(t)},min:re("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){e=i.apply(null,arguments);return e<this?this:e}),max:re("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){e=i.apply(null,arguments);return e>this?this:e}),zone:function(e,t){var n=this._offset||0,r;if(e!=null){if(typeof e==="string"){e=We(e)}if(Math.abs(e)<16){e=e*60}if(!this._isUTC&&t){r=this._d.getTimezoneOffset()}this._offset=e;this._isUTC=true;if(r!=null){this.subtract(r,"m")}if(n!==e){if(!t||this._changeInProgress){we(this,i.duration(n-e,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;i.updateOffset(this,true);this._changeInProgress=null}}}else{return this._isUTC?n:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else if(typeof this._i==="string"){this.zone(this._i)}return this},hasAlignedHourOffset:function(e){if(!e){e=0}else{e=i(e).zone()}return(this.zone()-e)%60===0},daysInMonth:function(){return Ie(this.year(),this.month())},dayOfYear:function(e){var t=s((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")},quarter:function(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)},weekYear:function(e){var t=ot(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ot(this,1,4).year;return e==null?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")},isoWeek:function(e){var t=ot(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return Oe(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return Oe(this.year(),e.dow,e.doy)},get:function(e){e=Ee(e);return this[e]()},set:function(e,t){e=Ee(e);if(typeof this[e]==="function"){this[e](t)}return this},locale:function(e){if(e===t){return this._locale._abbr}else{this._locale=i.localeData(e);return this}},lang:re("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){if(e===t){return this.localeData()}else{this._locale=i.localeData(e);return this}}),localeData:function(){return this._locale}});function ct(e,t){var i;if(typeof t==="string"){t=e.localeData().monthsParse(t);if(typeof t!=="number"){return e}}i=Math.min(e.date(),Ie(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i);return e}function ut(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function dt(e,t,i){if(t==="Month"){return ct(e,i)}else{return e._d["set"+(e._isUTC?"UTC":"")+t](i)}}function ft(e,t){return function(n){if(n!=null){dt(this,e,n);i.updateOffset(this,t);return this}else{return ut(this,e)}}}i.fn.millisecond=i.fn.milliseconds=ft("Milliseconds",false);i.fn.second=i.fn.seconds=ft("Seconds",false);i.fn.minute=i.fn.minutes=ft("Minutes",false);i.fn.hour=i.fn.hours=ft("Hours",true);i.fn.date=ft("Date",true);i.fn.dates=re("dates accessor is deprecated. Use date instead.",ft("Date",true));i.fn.year=ft("FullYear",true);i.fn.years=re("years accessor is deprecated. Use year instead.",ft("FullYear",true));i.fn.days=i.fn.day;i.fn.months=i.fn.month;i.fn.weeks=i.fn.week;i.fn.isoWeeks=i.fn.isoWeek;i.fn.quarters=i.fn.quarter;i.fn.toJSON=i.fn.toISOString;function ht(e){return e*400/146097}function pt(e){return e*146097/400}de(i.duration.fn=ue.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data,r,o,s,a=0;n.milliseconds=e%1e3;r=he(e/1e3);n.seconds=r%60;o=he(r/60);n.minutes=o%60;s=he(o/60);n.hours=s%24;t+=he(s/24);a=he(ht(t));t-=he(pt(a));i+=he(t/30);t%=30;a+=he(i/12);i%=12;n.days=t;n.months=i;n.years=a},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return he(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+Se(this._months/12)*31536e6},humanize:function(e){var t=rt(this,!e,this.localeData());if(e){t=this.localeData().pastFuture(+this,t)}return this.localeData().postformat(t)},add:function(e,t){var n=i.duration(e,t);this._milliseconds+=n._milliseconds;this._days+=n._days;this._months+=n._months;this._bubble();return this},subtract:function(e,t){var n=i.duration(e,t);this._milliseconds-=n._milliseconds;this._days-=n._days;this._months-=n._months;this._bubble();return this},get:function(e){e=Ee(e);return this[e.toLowerCase()+"s"]()},as:function(e){var t,i;e=Ee(e);t=this._days+this._milliseconds/864e5;if(e==="month"||e==="year"){i=this._months+ht(t)*12;return e==="month"?i:i/12}else{t+=pt(this._months/12);switch(e){case"week":return t/7;case"day":return t;case"hour":return t*24;case"minute":return t*24*60;case"second":return t*24*60*60;case"millisecond":return t*24*60*60*1e3;default:throw new Error("Unknown unit "+e)}}},lang:i.fn.lang,locale:i.fn.locale,toIsoString:re("toIsoString() is deprecated. Please use toISOString() instead "+"(notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(i?i+"D":"")+(n||r||o?"T":"")+(n?n+"H":"")+(r?r+"M":"")+(o?o+"S":"")},localeData:function(){return this._locale}});function mt(e){i.duration.fn[e]=function(){return this._data[e]}}for(a in V){if(V.hasOwnProperty(a)){mt(a.toLowerCase())}}i.duration.fn.asMilliseconds=function(){return this.as("ms")};i.duration.fn.asSeconds=function(){return this.as("s")};i.duration.fn.asMinutes=function(){return this.as("m")};i.duration.fn.asHours=function(){return this.as("h")};i.duration.fn.asDays=function(){return this.as("d")};i.duration.fn.asWeeks=function(){return this.as("weeks")};i.duration.fn.asMonths=function(){return this.as("M")};i.duration.fn.asYears=function(){return this.as("y")};i.locale("en",{ordinal:function(e){var t=e%10,i=Se(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});function gt(e){if(typeof ender!=="undefined"){return}o=r.moment;if(e){r.moment=re("Accessing Moment through the global scope is "+"deprecated, and will be removed in an upcoming "+"release.",i)}else{r.moment=i}}if(v){e.exports=i}else if(typeof define==="function"&&define.amd){define("moment",function(e,t,n){if(n.config&&n.config()&&n.config().noGlobal===true){r.moment=o}return i});gt(true)}else{gt()}}).call(this)},function(e,t,i){var n,r;!(n=[i(2),i(9),i(426)],r=function(e,t,i){var n=t.Collection.extend({model:i,getTest:function(e){return this.findWhere({name:e})},fromBackendData:function(t){this.add(e.map(t,function(e,t){e["name"]=t;return e}));return this},getTestVariable:function(e,t){var i=this.findWhere({name:e});if(!i){return null}return i.getVariable(t)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(200),i(24),i(429)],r=function(e,t,n,r){var o=r,s=o.prototype;var a=o.extend({useServerGeneratedDefaultsFor:"Category",thumbnail:function(t){var i,r;i=e.Commerce.storefrontSettings.getRatioAsNumber("category_image_ratio");r=this.getFirstImage()||"//"+ASSETS_BASE+"/images/util/blank-category-w{size}.png";t=t||80;return n("entity-list",r,t,i)},initialize:function(){this.on("destroy",this.onDestroy,this)},onDestroy:function(){t.when(this.get("products")).then(function(e){return t.when.apply(t,e.map(function(e){return e.fetch()}))})},getImage:function(e){if(!e){var t=this.getOrderedImages()}else{var t=this.get("images").select(function(t){return t.get("site_category_image_id")==e})}return t.length?t[0]:null},getImageUrl:function(e,t){var i,n;t=t||false;e=e||80;i=this.getImage(t);if(i){e=i.getMaxAvailableWidth(e);n=i.uri()}else{n="//"+ASSETS_BASE+"/images/util/blank-category-w{size}.png"}n=n.replace("{size}",e);return n},getFirstImage:function(){var e=this.getOrderedImages();return e[0]||null},getOrderedImages:function(){var e=this.get("images")||[],t=this.get("image_order")||[],i=[],n=[];e.each(function(e){var r=e.get("site_category_image_id"),o=-1;t.forEach(function(t,s){if(t==r)o=s;if(o==-1){n.push(e)}else{i[o]=e}})});return i.concat(n)},get:function(e){if(e=="products"){return this.getRelated("product_ids","site_product_id",i(74),"preferred_order_product_ids","list")}if(e=="coupons"){throw new Error("Coupons no longer live on monolith editor app.")}return s.get.apply(this,arguments)},getActions:function(){return["delete"]}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(2),i(4),i(134),i(133),i(200),i(24),i(159),i(437),i(434),i(432),i(436),i(433),i(430)],r=function(e,t,n,r,o,s,a,l,c){return l.extend({useServerGeneratedDefaultsFor:"Product",getActions:function(){var e=["copy","delete","add-category","storefront-show","storefront-hide","set-visibility-visible","set-visibility-unavailable","set-visibility-hidden"];if(t.Restrictions.hasAccess("com_tax_settings")){e.push("add-taxable");e.push("remove-taxable")}return e},clone:function(){var e=l.prototype.clone.apply(this,arguments);e.set("site_link",null);return e},initialize:function(){this.on("destroy",this.onDestroy,this)},onDestroy:function(){e.when(this.get("categories"),t.Commerce.RPC.Product.checkSkuCount({entry_point:"jsProductModelDestroy",site_product_id:this.get("site_product_id")})).then(function(t){return e.when.apply(e,t.map(function(e){return e.fetch()}))})},cloneDeep:function(){var e=l.prototype.cloneDeep.apply(this,arguments);e.set("manufacturer",this.get("manufacturer"));this.cloneDeepCollection("options2",e);this.cloneDeepCollection("skus",e);e.set("image_order",[]);return e},thumbnail:function(e,t,i){var n=c.find();var r=n.product_image_ratio||"w4h3";var o;t=t||false;e=e||80;o=i||this.getImage(t);if(!o&&this.isGiftCardProduct()){o="//"+ASSETS_BASE+"/images/commerce/editor/giftcard/giftcard-w{size}.png"}else if(!o){o="//"+ASSETS_BASE+"/images/util/blank-product-w{size}.png"}return a("entity-list",o,e,r)},getImageUrl:function(e,t){var i;var n;t=t||false;e=e||80;i=this.getImage(t);if(i){e=i.getMaxAvailableWidth(e);return i.uri(e)}if(this.isGiftCardProduct()){n="//"+ASSETS_BASE+"/images/commerce/editor/giftcard/giftcard-w{size}.png"}else{n="//"+ASSETS_BASE+"/images/util/blank-product-w{size}.png"}n=n.replace("{size}",e);return n},getFirstImage:function(){var e=this.getOrderedImages();return e[0]||null},getImage:function(e){var t;if(!e){t=this.getOrderedImages()}else{t=this.get("images").select(function(t){return t.get("site_product_image_id")==e})}return t.length?t[0]:null},getPriceRange:function(){var e=this;var i=e.get("price_low");var n=e.get("price_high");var r=e.get("sale_price_low");var a=e.get("sale_price_high");var l;if(i===null&&n===null){return""}if(r!==null){i=r}if(a!==null){n=a}if(e.get("highest_nonsale")!==null&&e.get("all_skus_sale")===false&&e.get("highest_nonsale")>a){n=e.get("highest_nonsale")}if(e.get("lowest_nonsale")!==null&&e.get("all_skus_sale")===false&&e.get("lowest_nonsale")<r){i=e.get("lowest_nonsale")}l=o.formatCurrency(i,s.customerLocale,t.storeCurrency);if(i>=0&&i<n){l+=" - "+o.formatCurrency(n,s.customerLocale,t.storeCurrency)}return l},getCleanImageOrder:function(){var e=this;var t=e.get("images");var i=e.get("image_order")||[];var n=t.map(function(e){return e.get("site_product_image_id")});var r=i.filter(function(e){var t=n.indexOf(e);if(t==-1){return false}n.splice(t,1);return e});r=r.concat(n);return r},getOrderedImages:function(){var t=this;var i=t.get("images");var n=t.get("image_order")||[];var r=[];var o=[];i.each(function(t){var i=t.get("site_product_image_id");var s=-1;e.each(n,function(e,t){if(t==i)s=e});if(s===-1)r[r.length]=t;else o[s]=t});o=o.concat(r);return o},get:function(e){if(e=="categories"){return this.getRelated("category_ids","site_category_id",i(51))}if(e=="coupons"){throw new Error("Coupons no longer live on monolith editor app.")}return l.prototype.get.apply(this,arguments)},commonVariations:function(e){var t=[];var i={};var r=this.get("skus").pluck("optionchoices");var o;r.each(function(n){o=[];i={};n.toJSON().each(function(t){if(t.name!==e){i[t.name]=t.choice}});t.push(JSON.stringify(i))});var s=[],a=n.unique(t).length===t.length;if(!a){var l=n.filter(t,function(e,i){return n.indexOf(t,e)!==i});s=n.map(l,function(e){return JSON.parse(e)})}return s},findSkuByOptionChoices:function(e,t,i){return this.get("skus").filter(function(n){return n.hasOptionchoices(e,t,i)})},getSkuOptionchoices:function(){return this.get("skus").map(function(e){return e.getSkuOptionchoices()})},inventoryTrackingEnabled:function(){return this.get("track_inventory")&&t.Restrictions.hasAccess("com_inventory_tracking")},isGiftCardProduct:function(){return this.get("product_type")==="giftcard"},allowWeight:function(){return this.get("product_type")==="physical"||this.get("product_type")==="food"},allowVariants:function(){return this.get("product_type")!=="digital"}});function u(){return t.Commerce.RPC.Product}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(9),i(116)],r=function(e,t,i,n,r){var o=n.sync;t.extend(n,{sync:function(e,i,r){var s;if(!i.rpc){return o.apply(n,arguments)}switch(e){case"delete":e="destroy";case"create":case"update":case"patch":s=r.attrs||i.toJSON(r);break;case"read":if(i.rpc&&e=="read"){r=t.extend({},t.omit(r,"data"),r.data);s=t.extend({filter:[]},r);var a=i.keydefs||i.model.prototype.keydefs;t.each(a.PRIMARY,function(e){if(i.get(e)!=undefined&&!t.findWhere(s.filter,{property:e})){s.filter.push({property:e,value:i.get(e)})}})}break;default:console.warn(e+" params not defined for this model ",i);s=r.attrs||i.toJSON()}if(i.rpc[e]){var l=i.rpc[e](s);l.done(function(e){return e.success===false?r.error(e):r.success(e)});l.fail(function(e){return r.error(e)});return l}console.warn(e+" not defined for this model ",i)}});i.ns=function(e,t){var t=t||window;var i=e.split(".");i.forEach(function(e){if(typeof e!=="string"){t=e}else{if(!t[e]){t[e]={}}t=t[e]}});return t};i.setup_rpc=function(n){var o=i.ns(n.namespace);var s=new r.JsonRpc(n.url);var a=function(i,n,r,o,a){return function(){var o=e.Deferred();var l=t.toArray(arguments);if(l.length<n){console.error("Wrong number of args for "+i);return}r=!!r;l.unshift(i);l.push({success:o.resolve,failure:o.reject,scope:o,secure:r,standalone:a});s.call.apply(s,l);return o}};t.each(n.actions,function(e,n){var r=i.ns(n,o);t.each(e,function(e){r[e.name]=a(n+"::"+e.name,e.len,e.secure,e.multiple,e.standalone)})})};i.setup_model_rpc=function(e){var n=i.ns(e.rpc_namespace);var r=i.ns(e.model_namespace);var o=i.ns(e.collection_namespace);var s=i.ns(e.bootstrap_namespace);t.extend(r,e.models);t.extend(o,e.collections);t.extend(s,e.bootstrap);t.each(o,function(e,t){if(n[t]){o[t].rpc=n[t]}});t.each(r,function(e,i){if(n[i]){r[i].rpc=n[i];var s=r[i].relations;t.each(s,function(e){if(o[e.relatedModel]){e.collectionType=e.relatedModel+"Collection"}})}})}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){var t=false;e(document).mouseup(function(){t=false});return e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(true===e.data(i.target,t.widgetName+".preventClickEvent")){e.removeData(i.target,t.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(i){if(t){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var n=this,r=i.which===1,o=typeof this.options.cancel==="string"&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:false;if(!r||o||!this._mouseCapture(i)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(i)&&this._mouseDelayMet(i)){this._mouseStarted=this._mouseStart(i)!==false;if(!this._mouseStarted){i.preventDefault();return true}}if(true===e.data(i.target,this.widgetName+".preventClickEvent")){e.removeData(i.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return n._mouseMove(e)};this._mouseUpDelegate=function(e){return n._mouseUp(e)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);i.preventDefault();t=true;return true},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}else if(!t.which){return this._mouseUp(t)}}if(t.which||t.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(i){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(i.target===this._mouseDownEvent.target){e.data(i.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(i)}t=false;return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){var t={};t.promiseTransition=function(t){var i=e.Deferred();t.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(e){i.resolve()});setTimeout(function(){i.resolve()},1e3);return i.promise()};t.promiseTimeout=function(t){var i=e.Deferred();setTimeout(function(){i.resolve()},t);return i.promise()};t.getViewportRect=function(){var t=e(document).scrollLeft();var i=e(document).scrollTop();return{left:t,right:t+e(window).width(),top:i,bottom:i+e(window).height()}};t.getElementRect=function(e){return e[0].getBoundingClientRect()};t.getElDimensions=function(e){var t=e.css("display")==="none";if(t){e.css("display","block")}var i=this.getElementRect(e);var n=e.offset();var r=n.left;var o=n.top;var s=i.width/2;var a=i.height/2;if(t){e.css("display","none")}return{width:i.width,height:i.height,docLeft:r,docRight:r+i.width,docTop:o,docBottom:o+i.height,docCenterX:r+s,docCenterY:o+a,viewportLeft:i.left,viewportRight:i.right,viewportTop:i.top,viewportBottom:i.bottom,viewportCenterX:i.left+s,viewportCenterY:i.top+a}};t.toCamelCase=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};t.getElDataAttributes=function(t,i){if(t instanceof e){t=t.get(0)}if(typeof i==="undefined"){i="data-"}else{if(i.slice(-1)!=="-"){console.warn("Did you mean to leave off the hyphen at the end of the prefix value?")}}var n=this;var r=t.attributes;var o={};e.each(r,function(e,t){if(t.name.indexOf(i)===0){var r=t.name.slice(i.length);r=n.toCamelCase(r);o[r]=t.value||""}});return o};t.detectInputWidth=function t(i,n){i=e(i);if(!i.is("input")){throw new Error("Not an input")}var r=i.val();var o;if(n){o=i.attr("placeholder")||"";r=r.length>o.length?r:o}var s=["font-family","font-size","font-style","font-variant","font-weight","letter-spacing","text-indent","text-rendering","text-transform","word-spacing"];var a=e("<span>");for(var l=0;l<s.length;l++){a.css(s[l],i.css(s[l]))}a.css({position:"absolute",width:"auto",visibility:"hidden",whiteSpace:"pre"}).text(r).appendTo(document.body);width=a[0].getBoundingClientRect().width+1;a.remove();return width};t.unescapeHtmlEntities=function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes.length===0?"":t.childNodes[0].nodeValue};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n;!(n=function(){return window.__bootstrap?window.__bootstrap()||{}:{}}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){var i={filterOptionText:function(e){return e.replace(/<#[A-Za-z0-9]+>$/,"")},saveProductField:function(i,n,r){var o=t("#"+i);var s=o[0].className.match(/price|title|description/);if(s){s=s[0]}if(s==="price"){n=o.text();n=n.replace(/[^\d\.]/g,"")}var a;if(s){a=i.replace(/[^\d]/g,"")}else{a=e.Elements.getCurrentProductID()}var l=o[0].up(".element");var c=l?l.id:"";new window.Ajax.Request(window.ajax,{parameters:{pos:"updateproduct",productID:a,type:s,value:n,ucfid:c,align:r,cookie:document.cookie,token:e.RequestToken},onFailure:window.errFunc})}};window.saveProductField=i.saveProductField;return i}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r;!(n=[i(1),i(5),i(27),i(66)],r=function(e,t,i,n){var r=i;var o=r.prototype;return r.extend({model:n,useServerGeneratedDefaultsFor:"Product",state:{pageSize:10},comparator:function(e){if(this.fetchOptions.searchText||this.fetchOptions.sort){return this.indexOf(e)}return-e.get("created_date")},fetch:function(t){if(this.fetchOptions.sort){t=e.extend({},this.fetchOptions,t)}else{t=e.extend({sort:[{property:"created_date",direction:"DESC"},{property:"site_product_id",direction:"DESC"}]},this.fetchOptions,t)}return o.fetch.call(this,t)},filterByType:function(e){if(!e){var t=this.fetchOptions.filter.indexOf(this.productTypeFilter);if(t>-1){this.fetchOptions.filter.splice(t,1)}this.productTypeFilter=null;if(this.fetchOptions.searchText==="*"){this.fetchOptions.searchText=null}return}if(!this.productTypeFilter){this.productTypeFilter={property:"product_type",value:e};this.fetchOptions.filter.push(this.productTypeFilter);if(!this.fetchOptions.searchText){this.fetchOptions.searchText="*"}return}this.productTypeFilter.value=e},sortByValues:function(e){e.push({property:"created_date",direction:"DESC"});e.push({property:"site_product_id",direction:"DESC"});this.fetchOptions.sort=e;return this.fetch()},remainingProductCount:function(){var e=t.Restrictions.isUnlimited("com_product_limit");if(e){return Infinity}var i=this.state.totalRecords;var n=Number(t.Restrictions.accessValue("com_product_limit"));return n-i}},{remainingProductCount:function(){var i=this;return e.when(t.Restrictions.isUnlimited("com_product_limit")).then(function(e){if(e){return Infinity}return i.count()}).then(function(e){if(e===Infinity){return e}return Number(t.Restrictions.accessValue("com_product_limit"))-e;
})},canAddProduct:function(){return this.remainingProductCount().then(function(e){return e>0})}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(7)],r=function(e,t){"use strict";var i={};var n;t.reqres.setHandlers({"imageeditor:data:sync":function(e){i.setCurrentHeader(e,true)}});i.setData=function(t){var n=i.getCurrentHeader();n.data=e.extend(true,{},t);return i.setCurrentHeader(n)};i.setCurrentHeader=function(i,r){n=i;return r!==true?t.request("imageeditor:data:sync",n):e.Deferred().resolve().promise()};i.getCurrentHeader=function(){return e.extend(true,{},n)};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(69)],r=function(e,t,i){var n=e("body");var r=16;var o={isOpen:false,isModal:false,closeOnEsc:false,closeOnEnter:false,closeOnClickAway:false,allowLeftRight:true,preferTop:false,preferBottom:false,positionRefresh:false,isDraggable:false,draggableSelector:"*",gutter:20,arrowSize:10,arrowGap:0,showPointAtArrow:true,outerClassName:null,wrapClassName:null,hAlignment:null,vAlignment:null,vAlignmentTopClassName:null,vAlignmentCenterClassName:null,$alignmentWrapperEl:null,draggableClassName:"is-draggable",arrowClassName:"popover__arrow",$arrow:null,$modalEl:null,$outerEl:null,escHandler:null,enterHandler:null,closeOnClickHandler:null,clickAwayHandler:null,currentOpenOptions:null,open:function(t){var i=this;if(i.isOpen){return}return e.when(this._trigger("before:open")).then(function(){var n;var r=e(i.queryOptionOverride("parent",t)||"body");var o=r.is("body");i.isOpen=true;i.isModalLight=!o;t=t||false;i._trigger("before:attach");n=i.$outerEl=i.renderOverlay(t,o);r.append(n);i._trigger("attach");i.updateSize(t);i.updatePosition(t);i._trigger("show");i.$el.add(i.$modalEl).addClass("is-transitionable");n[0].offsetWidth;i.currentOpenOptions=t;if(i.queryOptionOverride("follow",t)){i.initializeFollow(t)}var s=i.queryOptionOverride("delay",t);if(s){s=s==="true"?500:parseInt(s);i.delay=setTimeout(function(){i.$el.add(i.$modalEl).addClass("is-in")},s)}else{i.$el.add(i.$modalEl).addClass("is-in")}setTimeout(function(){i.initializeCloseOnEsc();i.initializeCloseOnEnter();i.initializeCloseOnClick(t);i.initializeCloseOnClickAway(t);i.initializeRepositioning(t);i.initializeDragging(t)},200);i.resetFocus();i._trigger("open")})},resetFocus:function(){if(document.activeElement&&t.isElement(document.activeElement)&&document.activeElement!==document.body){document.activeElement.blur()}},renderOverlay:function(t,i){var n=this.queryOptionOverride("isPositionFixed",t);var r=this.queryOptionOverride("zIndex",t);var o=this.queryOptionOverride("isModal",t);var s=this.queryOptionOverride("isModalLight",t);var a=this.queryOptionOverride("outerClassName",t);var l=this.queryOptionOverride("wrapClassName",t);var c;this.render();c=this.$el;this.vAlignment=this.queryOptionOverride("vAlignment",t);this.hAlignment=this.queryOptionOverride("hAlignment",t);if(this.queryOptionOverride("isTop",t)){this.vAlignment="top"}if((this.vAlignment||this.hAlignment)&&!this.queryOptionOverride("pointAt",t)){c=this.$alignmentWrapperEl=e('<div class="alignment-wrapper"></div>').append(c.addClass("alignment-wrapper__subject"))}if(o){c=this.$modalEl=e('<div class="modal" />').toggleClass("modal--light",s).append(c.addClass("modal__subject"))}if(n==null){n=i&&(this.$alignmentWrapperEl||o)}if(n){c.css("position","fixed")}if(r!=null){c.css("z-index",r)}c.addClass(a);if(l){c=e("<div>").addClass(l).append(c)}return c},initializeCloseOnEsc:function(){var t=this;if(this.queryOption("closeOnEsc")){e(document).on("keyup",this.escHandler=function(e){if(e.keyCode===27&&!t.innerOverlay){t.close()}})}},destroyCloseOnEsc:function(){if(this.escHandler){e(document).off("keyup",this.escHandler)}},initializeCloseOnEnter:function(){var t=this;if(this.queryOption("closeOnEnter")){e(document).on("keyup",this.enterHandler=function(e){if(e.keyCode===13){t.close()}})}},destroyCloseOnEnter:function(){if(this.enterHandler){e(document).off("keyup",this.enterHandler)}},initializeCloseOnClick:function(t){var i=this;var n=this.queryOptionOverride("closeOnClick",t);if(n!=null){e(document).on("click",this.closeOnClickHandler=function(t){if(e(t.target).closest(i.el).length){if(!n||typeof n!=="string"||e(ev.target).closest(n).length){i.close()}}})}},destroyCloseOnClick:function(){if(this.closeOnClickHandler){e(document).off("mousedown",this.closeOnClickHandler)}},initializeCloseOnClickAway:function(t){var i=this;if(this.queryOptionOverride("closeOnClickAway",t)){if(this.$modalEl){this.$modalEl.addClass("is-clickable")}e(document).on("mousedown",this.clickAwayHandler=function(t){if(!e(t.target).closest(i.el).length){i.close()}})}},destroyCloseOnClickAway:function(){if(this.clickAwayHandler){e(document).off("mousedown",this.clickAwayHandler)}},initializeDragging:function(t){if(this.queryOptionOverride("isDraggable",t)){var i=this.queryOptionOverride("draggableSelector",t);var n=this;this.$el.on("mousedown",function(t){if(e(t.target).closest(i).length){n.startDragListening(t)}}).addClass(this.draggableClassName)}},startDragListening:function(t){var i=this;var n=10;var r=false;var o=this.$el;var s=o.outerWidth();var a=o.outerHeight();var l=o.offsetParent().offset();var c=-l.top;var u=-l.left;var d=e(document).height()-l.top-a;var f=e(document).width()-l.left-s;var h=o.position();var p=t.pageX;var m=t.pageY;var g,v;var w,b;function y(e){g=e.pageX-p;v=e.pageY-m;if(!r&&g*g+v*v>n*n){r=true;i._trigger("dragStart")}if(r){w=h.top+v;b=h.left+g;w=Math.max(c,Math.min(d,w));b=Math.max(u,Math.min(f,b));o.css({top:w,left:b})}}function _(){e(document).off("mousemove",y);i._trigger("dragEnd")}e(document).on("mousemove",y).on("mouseup",_)},_onDragStart:function(){this.removeArrow()},initializeFollow:function(t){var i=e(this.queryOptionOverride("pointAt",t));i.on("mousemove.follow",this.followMouse.bind(this))},followMouse:function(e){this.$el.css({top:e.pageY+r,left:e.pageX+r})},initializeRepositioning:function(i){var n=this;if(this.queryOptionOverride("positionRefresh",i)){e(window).on("resize scroll",this.repositionHandler=t.debounce(function(){n.updatePosition()},100))}},destroyRepositioning:function(){if(this.repositionHandler){e(window).off("resize scroll",this.repositionHandler)}},updatePosition:function(t){if(t==null){t=this.currentOpenOptions}var i=this.queryOptionOverride("pointAt",t);if(typeof i==="string"||i instanceof e){i=e(i);if(!i.length){i=null}}else if(typeof i==="object"){var n=["docTop","docLeft","width","height"];for(var r=0;r<n.length;r++){if(!(n[r]in i)){throw new Error("Missing property on pointAt object. Required: docTop, docLeft, width, height")}}}if(this.$alignmentWrapperEl){this.$el.toggleClass(this.vAlignmentTopClassName,this.vAlignment==="top");this.$el.toggleClass(this.vAlignmentCenterClassName,this.vAlignment==="center");this.$alignmentWrapperEl.toggleClass("alignment-wrapper--v-center",this.vAlignment==="center")}var o=this.queryOptionOverride("follow",t);if(i&&!o){this._pointAtElement(i,t)}},_pointAtElement:function(t,n){this.$el.css("position","absolute");var r=this.queryOptionOverride("placement",n);var o=parseInt(this.queryOptionOverride("gutter",n),10);var s=this.queryOptionOverride("arrowClassName",n);var a=parseInt(this.queryOptionOverride("arrowSize",n),10);var l=parseInt(this.queryOptionOverride("arrowGap",n),10);var c=this.queryOptionOverride("allowLeftRight",n);var u=this.queryOptionOverride("preferTop",n);var d=this.queryOptionOverride("preferBottom",n);var f=this.queryOptionOverride("showPointAtArrow",n);var h=this.queryOptionOverride("boundingContainer",n);if(h){var p=e(h)}var m=i.getViewportRect();var g=m.bottom-m.top;var v=m.right-m.left;var w=e(window).width();var b=e(window).height();var y=e(window).scrollTop();var _=e(window).scrollLeft();var E=i.getElDimensions(this.$el);var T;if(t instanceof e){T=i.getElDimensions(t)}else{var C=t.width/2;var S=t.height/2;T={width:t.width,height:t.height,docLeft:t.docLeft,docRight:t.docLeft+t.width,docTop:t.docTop,docBottom:t.docTop+t.height,docCenterX:t.docLeft+C,docCenterY:t.docTop+S,viewportLeft:t.docLeft-m.left,viewportRight:t.docLeft-m.left+t.width,viewportTop:t.docTop-m.top,viewportBottom:t.docTop-m.top+t.height,viewportCenterX:t.docLeft-m.left+C,viewportCenterY:t.docTop-m.top+S}}if(r==="auto"||!r){var I=Math.max(0,T.viewportTop);var O=Math.max(0,g-T.viewportBottom);var k=Math.max(0,T.viewportLeft);var x=Math.max(0,v-T.viewportRight);if(u&&I>=E.height){r="top"}else if(d&&O>=E.height){r="bottom"}else{var D=[];var R=0;var P;if(c){D.push(["right",x]);D.push(["left",k])}if(d){D.push(["top",I]);D.push(["bottom",O])}else{D.push(["bottom",O]);D.push(["top",I])}for(P=0;P<D.length;P++){if(D[P][1]>=R){R=D[P][1];r=D[P][0]}}}}var A;var N;this.removeArrow();var M=this.$arrow=e('<span class="'+s+'"></span>');switch(r){case"top":A=T.docTop-E.height-a-l;N=T.docCenterX-E.width/2;M.addClass(s+"--down");break;case"bottom":A=T.docBottom+a+l;N=T.docCenterX-E.width/2;M.addClass(s+"--up");break;case"left":A=T.docCenterY-E.height/2;N=T.docLeft-E.width-a-l;M.addClass(s+"--right");break;case"right":A=T.docCenterY-E.height/2;N=T.docRight+a+l;M.addClass(s+"--left");break}if(p){var L=i.getElDimensions(p);A=Math.max(A,L.docTop+o);A=Math.min(A,L.docBottom-E.height-o);N=Math.max(N,L.docLeft+o);N=Math.min(N,L.docRight-E.width-o)}else{A=Math.max(A,y+o);A=Math.min(A,y+b-E.height-o);N=Math.max(N,_+o);N=Math.min(N,_+w-E.width-o)}if(f){switch(r){case"top":case"bottom":M.css({left:T.docCenterX-N-a});break;case"left":case"right":M.css({top:T.docCenterY-A-a});break}this.$el.append(M)}this.$el.offset({top:A,left:N})},removeArrow:function(){if(this.$arrow){this.$arrow.remove();this.$arrow=null}},close:function(){var e=this;if(e.delay){clearTimeout(e.delay)}if(!e.isOpen){return}return this._trigger("before:close").then(function(){e.executeClose();e._trigger("close");e.isOpen=false})},_onBeforeClose:function(){if(this.internalOverlay){return this.internalOverlay.close()}},executeClose:function(){var e=this;var t=this.$el;var n=this.$modalEl;this.currentOpenOptions=null;this.destroyCloseOnEsc();this.destroyCloseOnEnter();this.destroyCloseOnClick();this.destroyCloseOnClickAway();this.destroyRepositioning();t.removeClass("is-in").add(n||null).addClass("is-out");return i.promiseTransition(t).then(function(){e.destroy();t.removeClass("is-out").removeClass("modal__subject");if(e.$outerEl){e.$outerEl.remove();e.$outerEl=null}})}};return{Mixin:o}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){var e=25;return{isLabelTooLong:function(t){return e<t.length},truncateLabel:function(e){if(!this.isLabelTooLong(e)){return e}return e.slice(0,21)+"..."},formTooltip:function(e,t){if(!t){return""}var i="";if(this.isLabelTooLong(e)){i="<label>"+e+"</label>"}return i+"<p>"+t+"</p>"}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(109),i(302),i(79),i(167),i(17),i(138)],r=function(e,t,i,n,r,o,s){var a={};var l=true;var c={};a.isControlsEnabled=function(){return l};a.init=function(i,a,u){c[i[0].id]=function(){n.hide();Weebly.Elements.unselectElement();var t=u?u():{};if(!t.image){t.image=s.getEditData(a[0]);var l=o.getContentFieldProperty(i[0].id,"<!ATTRIBUTION!>");if(l){var c=l.property_result;if(c){var d=JSON.parse(c);if(e.isArray(d)){d=d[0]}if(d){t.image.creator=d.author;t.image.pageUrl=d.url}}}}var f={mode:"element",imageEditorData:t,element:{ucfid:i[0].id}};r.edit(f).done(function(e){window.updateImageElement(e,f.element.ucfid)})};var d=t.init(i,a,function(){return l});function f(e,t){if(l&&!t){d.show(e)}}function h(e){if(!e){d.hide()}}return{show:f,hide:h,destroy:d.destroy}};a.show=function(e,t){var n=i.get(e.id);if(n){n.showControls(t)}};a.hide=function(e,t){var n=i.get(e.id);if(n){n.hideControls(t)}};a.hideAll=function(e){i.each(function(t){if(t.hideControls){t.hideControls(e)}})};a.disable=function(e){l=false;a.hideAll(e)};a.enable=function(){l=true};a.startImageEditor=function(e){var t=typeof e==="string"?e:e.id;c[t]()};return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){var t={};var i;var n=true;var r=false;t.init=function(t,s,a){t=e(t);r=!!a;var l=false;if(!i){i=e("<div/>",{class:"ext-tooltip",css:{position:"absolute",display:"none"}});e("body").append(i)}var c={"mouseover mousemove":u,mouseout:d};t.on(c);function u(e){if(!n){return}if(!l){o(e);i.html(s).show();l=true}else if(e){o(e)}}function d(){if(l){i.hide();l=false}}function f(){d();t.off(c);i.remove();i=null}return f};t.enable=function(){n=true};t.disable=function(){t.hide();n=false};t.hide=function(){if(i){i.hide()}};function o(e){var t=r?-30:10;i.css({top:e.pageY+t+"px",left:e.pageX+10+"px"})}return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2)],r=function(e,t,i){var n={};var r=null;n.shakeElement=function(e){if(!r){r=t.Deferred()}if(!e.hasClass("shake")){e.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.removeClass("shake");r.resolve();r=null}).addClass("shake")}return r.promise()};n.scrollToElement=function(e,t){return n.scrollTo({height:e.height(),offset:e.offset()},t)};n.scrollTo=function(e,n){var r=t.Deferred();var o=t(window);var s=o.innerHeight();n=i.defaults(n||{},{centerFallback:"top",paddingTop:0,paddingBottom:0,dontScrollWhenFocused:false});var a=e.height+n.paddingTop+n.paddingBottom;var l=e.offset;var c=l.top-n.paddingTop;if(c<0){c=0}var u=c-s/2;if(a<s||!n.centerFallback){u+=a/2}else if(n.centerFallback==="bottom"){u+=a}if(u<0){u=0}if(n.dontScrollWhenFocused){var d=o.scrollTop();var f=c+a>d+s;var h=c<d;if(!f&&!h){r.reject();return r.promise()}}var p=t("body, html");if(u!==false&&!p.is(":animated")){p.animate({scrollTop:u+"px"},n).promise().done(function(){r.resolve()})}else{r.reject()}return r.promise()};n.showUpgradeTrigger=function(t){if(e.Reseller){if(e.upgradeTriggers){return e.Restrictions.maxUpgradableLevel>=e.Restrictions.isUpgradable(t)}else{return e.Restrictions.hasAccess(t)}}else if(!e.Restrictions.hasAccess(t)&&!e.Restrictions.isUpgradable(t)){return false}else{return true}};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(202)],r=function(e,t){t.Renderer.render=function(t,i){if(!t){var n=new Error("Cannot render the template since it's false, null or undefined.");n.name="TemplateNotFoundError";throw n}if(typeof t==="function"){return t(i)}return e.render(t,i)};return t}.apply(t,n),r!==undefined&&(e.exports=r))},,,,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){var t="ui-effects-",i=e;e.effects={effect:{}};(function(e,t){var i="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",n=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},l=o.support={},c=e("<p>")[0],u,d=e.each;c.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=c.style.backgroundColor.indexOf("rgba")>-1;d(s,function(e,t){t.cache="_"+e;t.props.alpha={idx:3,type:"percent",def:1}});function f(e,t,i){var n=a[t.type]||{};if(e==null){return i||!t.def?null:t.def}e=n.floor?~~e:parseFloat(e);if(isNaN(e)){return t.def}if(n.mod){return(e+n.mod)%n.mod}return 0>e?0:n.max<e?n.max:e}function h(t){var i=o(),n=i._rgba=[];t=t.toLowerCase();d(r,function(e,r){var o,a=r.re.exec(t),l=a&&r.parse(a),c=r.space||"rgba";if(l){o=i[c](l);i[s[c].cache]=o[s[c].cache];n=i._rgba=o._rgba;return false}});if(n.length){if(n.join()==="0,0,0,0"){e.extend(n,u.transparent)}return i}return u[t]}o.fn=e.extend(o.prototype,{parse:function(i,n,r,a){if(i===t){this._rgba=[null,null,null,null];return this}if(i.jquery||i.nodeType){i=e(i).css(n);n=t}var l=this,c=e.type(i),p=this._rgba=[];if(n!==t){i=[i,n,r,a];c="array"}if(c==="string"){return this.parse(h(i)||u._default)}if(c==="array"){d(s.rgba.props,function(e,t){p[t.idx]=f(i[t.idx],t)});return this}if(c==="object"){if(i instanceof o){d(s,function(e,t){if(i[t.cache]){l[t.cache]=i[t.cache].slice()}})}else{d(s,function(t,n){var r=n.cache;d(n.props,function(e,t){if(!l[r]&&n.to){if(e==="alpha"||i[e]==null){return}l[r]=n.to(l._rgba)}l[r][t.idx]=f(i[e],t,true)});if(l[r]&&e.inArray(null,l[r].slice(0,3))<0){l[r][3]=1;if(n.from){l._rgba=n.from(l[r])}}})}return this}},is:function(e){var t=o(e),i=true,n=this;d(s,function(e,r){var o,s=t[r.cache];if(s){o=n[r.cache]||r.to&&r.to(n._rgba)||[];d(r.props,function(e,t){if(s[t.idx]!=null){i=s[t.idx]===o[t.idx];return i}})}return i});return i},_space:function(){var e=[],t=this;d(s,function(i,n){if(t[n.cache]){e.push(i)}});return e.pop()},transition:function(e,t){var i=o(e),n=i._space(),r=s[n],l=this.alpha()===0?o("transparent"):this,c=l[r.cache]||r.to(l._rgba),u=c.slice();i=i[r.cache];d(r.props,function(e,n){var r=n.idx,o=c[r],s=i[r],l=a[n.type]||{};if(s===null){return}if(o===null){u[r]=s}else{if(l.mod){if(s-o>l.mod/2){o+=l.mod}else if(o-s>l.mod/2){o-=l.mod}}u[r]=f((s-o)*t+o,n)}});return this[n](u)},blend:function(t){if(this._rgba[3]===1){return this}var i=this._rgba.slice(),n=i.pop(),r=o(t)._rgba;return o(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});if(i[3]===1){i.pop();t="rgb("}return t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){if(e==null){e=t>2?1:0}if(t&&t<3){e=Math.round(e*100)+"%"}return e});if(i[3]===1){i.pop();t="hsl("}return t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();if(t){i.push(~~(n*255))}return"#"+e.map(i,function(e){e=(e||0).toString(16);return e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});o.fn.parse.prototype=o.fn;function p(e,t,i){i=(i+1)%1;if(i*6<1){return e+(t-e)*i*6}if(i*2<1){return t}if(i*3<2){return e+(t-e)*(2/3-i)*6}return e}s.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null){return[null,null,null,e[3]]}var t=e[0]/255,i=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(t,i,n),s=Math.min(t,i,n),a=o-s,l=o+s,c=l*.5,u,d;if(s===o){u=0}else if(t===o){u=60*(i-n)/a+360}else if(i===o){u=60*(n-t)/a+120}else{u=60*(t-i)/a+240}if(a===0){d=0}else if(c<=.5){d=a/l}else{d=a/(2-l)}return[Math.round(u)%360,d,c,r==null?1:r]};s.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null){return[null,null,null,e[3]]}var t=e[0]/360,i=e[1],n=e[2],r=e[3],o=n<=.5?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(p(s,o,t+1/3)*255),Math.round(p(s,o,t)*255),Math.round(p(s,o,t-1/3)*255),r]};d(s,function(i,r){var s=r.props,a=r.cache,l=r.to,c=r.from;o.fn[i]=function(i){if(l&&!this[a]){this[a]=l(this._rgba)}if(i===t){return this[a].slice()}var n,r=e.type(i),u=r==="array"||r==="object"?i:arguments,h=this[a].slice();d(s,function(e,t){var i=u[r==="object"?e:t.idx];if(i==null){i=h[t.idx]}h[t.idx]=f(i,t)});if(c){n=o(c(h));n[a]=h;return n}else{return o(h)}};d(s,function(t,r){if(o.fn[t]){return}o.fn[t]=function(o){var s=e.type(o),a=t==="alpha"?this._hsla?"hsla":"rgba":i,l=this[a](),c=l[r.idx],u;if(s==="undefined"){return c}if(s==="function"){o=o.call(this,c);s=e.type(o)}if(o==null&&r.empty){return this}if(s==="string"){u=n.exec(o);if(u){o=c+parseFloat(u[2])*(u[1]==="+"?1:-1)}}l[r.idx]=o;return this[a](l)}})});o.hook=function(t){var i=t.split(" ");d(i,function(t,i){e.cssHooks[i]={set:function(t,n){var r,s,a="";if(n!=="transparent"&&(e.type(n)!=="string"||(r=h(n)))){n=o(r||n);if(!l.rgba&&n._rgba[3]!==1){s=i==="backgroundColor"?t.parentNode:t;while((a===""||a==="transparent")&&s&&s.style){try{a=e.css(s,"backgroundColor");s=s.parentNode}catch(e){}}n=n.blend(a&&a!=="transparent"?a:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}};e.fx.step[i]=function(t){if(!t.colorInit){t.start=o(t.elem,i);t.end=o(t.end);t.colorInit=true}e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})};o.hook(i);e.cssHooks.borderColor={expand:function(e){var t={};d(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e});return t}};u=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(i);(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr){i.style(e.elem,n,e.end);e.setAttr=true}}});function r(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]]){n=r.length;while(n--){i=r[n];if(typeof r[i]==="string"){o[e.camelCase(i)]=r[i]}}}else{for(i in r){if(typeof r[i]==="string"){o[i]=r[i]}}}return o}function o(t,i){var r={},o,s;for(o in i){s=i[o];if(t[o]!==s){if(!n[o]){if(e.fx.step[o]||!isNaN(parseFloat(s))){r[o]=s}}}}return r}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}e.effects.animateClass=function(i,n,s,a){var l=e.speed(n,s,a);return this.queue(function(){var n=e(this),s=n.attr("class")||"",a,c=l.children?n.find("*").addBack():n;c=c.map(function(){var t=e(this);return{el:t,start:r(this)}});a=function(){e.each(t,function(e,t){if(i[t]){n[t+"Class"](i[t])}})};a();c=c.map(function(){this.end=r(this.el[0]);this.diff=o(this.start,this.end);return this});n.attr("class",s);c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:false,complete:function(){i.resolve(t)}});this.el.animate(this.diff,n);return i.promise()});e.when.apply(e,c.get()).done(function(){a();e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})});l.complete.call(n[0])})})};e.fn.extend({addClass:function(t){return function(i,n,r,o){return n?e.effects.animateClass.call(this,{add:i},n,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,o,s){if(typeof n==="boolean"||n===undefined){if(!r){return t.apply(this,arguments)}else{return e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s)}}else{return e.effects.animateClass.call(this,{toggle:i},n,r,o)}}}(e.fn.toggleClass),switchClass:function(t,i,n,r,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,o)}})})();(function(){e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++){if(i[n]!==null){e.data(t+i[n],e[0].style[i[n]])}}},restore:function(e,i){var n,r;for(r=0;r<i.length;r++){if(i[r]!==null){n=e.data(t+i[r]);if(n===undefined){n=""}e.css(i[r],n)}}},setMode:function(e,t){if(t==="toggle"){t=e.is(":hidden")?"show":"hide"}return t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper")){return t.parent()}var i={width:t.outerWidth(true),height:t.outerHeight(true),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}t.wrap(n);if(t[0]===o||e.contains(t[0],o)){e(o).focus()}n=t.parent();if(t.css("position")==="static"){n.css({position:"relative"});t.css({position:"relative"})}else{e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")});e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n);if(isNaN(parseInt(i[n],10))){i[n]="auto"}});t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}t.css(r);return n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;if(t.parent().is(".ui-effects-wrapper")){t.parent().replaceWith(t);if(t[0]===i||e.contains(t[0],i)){e(i).focus()}}return t},setTransition:function(t,i,n,r){r=r||{};e.each(i,function(e,i){var o=t.cssUnit(i);if(o[0]>0){r[i]=o[0]*n+o[1]}});return r}});function i(t,i,n,r){if(e.isPlainObject(t)){i=t;t=t.effect}t={effect:t};if(i==null){i={}}if(e.isFunction(i)){r=i;n=null;i={}}if(typeof i==="number"||e.fx.speeds[i]){r=n;n=i;i={}}if(e.isFunction(n)){r=n;n=null}if(i){e.extend(t,i)}n=n||i.duration;t.duration=e.fx.off?0:typeof n==="number"?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default;t.complete=r||i.complete;return t}function n(t){if(!t||typeof t==="number"||e.fx.speeds[t]){return true}if(typeof t==="string"&&!e.effects.effect[t]){return true}if(e.isFunction(t)){return true}if(typeof t==="object"&&!t.effect){return true}return false}e.fn.extend({effect:function(){var t=i.apply(this,arguments),n=t.mode,r=t.queue,o=e.effects.effect[t.effect];if(e.fx.off||!o){if(n){return this[n](t.duration,t.complete)}else{return this.each(function(){if(t.complete){t.complete.call(this)}})}}function s(i){var n=e(this),r=t.complete,s=t.mode;function a(){if(e.isFunction(r)){r.call(n[0])}if(e.isFunction(i)){i()}}if(n.is(":hidden")?s==="hide":s==="show"){n[s]();a()}else{o.call(n[0],t,a)}}return r===false?this.each(s):this.queue(r||"fx",s)},show:function(e){return function(t){if(n(t)){return e.apply(this,arguments)}else{var r=i.apply(this,arguments);r.mode="show";return this.effect.call(this,r)}}}(e.fn.show),hide:function(e){return function(t){if(n(t)){return e.apply(this,arguments)}else{var r=i.apply(this,arguments);r.mode="hide";return this.effect.call(this,r)}}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||typeof t==="boolean"){return e.apply(this,arguments)}else{var r=i.apply(this,arguments);r.mode="toggle";return this.effect.call(this,r)}}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];e.each(["em","px","%","pt"],function(e,t){if(i.indexOf(t)>0){n=[parseFloat(i),t]}});return n}})})();(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}});e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,i=4;while(e<((t=Math.pow(2,--i))-1)/11){}return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-e,2)}});e.each(t,function(t,i){e.easing["easeIn"+t]=i;e.easing["easeOut"+t]=function(e){return 1-i(1-e)};e.easing["easeInOut"+t]=function(e){return e<.5?i(e*2)/2:1-i(e*-2+2)/2}})})();return e.effects})},function(e,t,i){var n,r;!(n=[i(1),i(9)],r=function(e,t){var i="form-control form-control--search";var n=t.View.extend({loadingState:false,events:{input:"handleInputEvent"},initialize:function(t){this.$formControl=this.$el.parent();if(!this.$formControl.hasClass(i)){throw new Error('Search Input must be wrapped by a DOM element with the CSS classes: "'+i+'"')}this.$input=this.$formControl.find('input[type="search"]');this.$searchIcon=e('<span class="form-control--search__search-icon icon">search</span>');this.$clearBtn=e('<span class="form-control--search__clear icon">xsmall</span>');this.$loadingIndicator=e('<div class="form-control--search__spinner spinner"> <div class="spinner__bg"></div> </div>');this.on({"inputsearch:loading":this.loading,"inputsearch:loaded":this.loaded});this.render();this.attachEventHandlers()},render:function(){this.$formControl.prepend(this.$searchIcon,this.$clearBtn,this.$loadingIndicator);return this},attachEventHandlers:function(){this.$clearBtn.on("click",this.clearInput.bind(this))},handleInputEvent:function(){this.toggleClearButton()},toggleClearButton:function(){var e=this.$input.val().length>0&&!this.loadingState;this.$clearBtn.toggleClass("is-visible",e)},clearInput:function(){if(!this.loadingState){this.$input.val("").focus().trigger("change").trigger("input").trigger("keyup");this.toggleClearButton();this.trigger("inputsearch:clear")}},loading:function(){this.loadingState=true;this.$loadingIndicator.addClass("is-loading");this.toggleClearButton()},loaded:function(){this.loadingState=false;this.$loadingIndicator.removeClass("is-loading");this.toggleClearButton()}});var r={initialize:function(e){return new n({el:e[0]})}};return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(9),i(2),i(40),i(418)],r=function(e,t,i,n,r){var o=n.extend({className:"panel-switcher",switcher:null,panelsByValue:null,$head:null,$body:null,$modalEl:null,height:200,_initialize:function(){var t=this.queryOption("panels");var i={};var n,o;var a;var l=[];for(n=0;n<t.length;n++){o=t[n];a=o instanceof s?o:new s(o);i[a.value]=a;a.panelSwitcher=this;l.push({value:a.value,text:a.title,textHtml:a.titleHtml,icon:a.icon,iconAfterText:a.iconAfterText,selected:a.selected})}this.panelsByValue=i;this.switcher=new r({items:l});var c=this;this.switcher.on("option:changed",function(e){if(e){c.selectPanel(e)}else{c.unselectPanel()}}).on("open",e.proxy(this.showModal,this)).on("close",e.proxy(this.hideModal,this))},render:function(){var t;this.$el.html('<div class="panel-switcher__head"></div>'+'<div class="panel-switcher__body"></div>');this.$head=this.$el.find(".panel-switcher__head");this.$body=this.$el.find(".panel-switcher__body");this.$modalEl=e('<div class="panel-switcher__modal modal is-transitionable is-hidden" />');this.$modalEl.on("click",e.proxy(this.closeSwitcher,this));this.$body.append(this.$modalEl);this.switcher.render().$el.addClass("panel-switcher__switcher").appendTo(this.$head);this.setHeight(this.queryOption("height"));t=this.switcher.getSelectedOption();if(t){this.selectPanel(t)}else{this.unselectPanel()}return this},destroy:function(){e.each(this.panelsByValue,function(e,t){t.destroy()});this.switcher.destroy();n.prototype.destroy.apply(this,arguments)},setHeight:function(e){this.$el.css("height",e)},closeSwitcher:function(){this.select(this.switcher.getSelectedOption())},select:function(e){this.switcher.select(e);this.switcher.close();this.selectPanel(e)},selectPanel:function(e){this.clearCurrentPanel();this.currentPanel=this.panelsByValue[e];this.currentPanel.render().$el.appendTo(this.$body);this.currentPanel._trigger("enter");this.updateSize();this.hideModal()},unselect:function(){this.unselectPanel();this.switcher.unselect()},unselectPanel:function(){this.clearCurrentPanel();this.updateSize();this.showModal()},clearCurrentPanel:function(){if(this.currentPanel){this.currentPanel._trigger("before:leave");this.currentPanel.destroy({
preventContentViewDestroy:true});this.currentPanel._trigger("leave");this.currentPanel=null}},hideModal:function(){this.$modalEl.addClass("is-out").removeClass("is-in")},showModal:function(){this.$modalEl.addClass("is-in").removeClass("is-hidden is-out")},_onBeforeDetach:function(){if(this.currentPanel){this.currentPanel._trigger("before:leave")}},_onDetach:function(){if(this.currentPanel){this.currentPanel._trigger("leave")}}});var s=o.Panel=n.extend({className:"panel-switcher__panel",selected:false,value:null,title:null,icon:null,height:null,contentHtml:null,contentView:null,hasContentPadding:false,constructor:function(e){if(e instanceof t.View){e={content:e}}e=e||{};var i=e.content;if(i==null){i=this.content}if(i instanceof t.View){this.contentView=i}else if(typeof i==="string"){this.contentHtml=i}n.call(this,e)},_initialize:function(){var e=this.contentView;if(e){this.extendOptions(i.result(e,"switcherOptions",{}));e.panel=this}this.selected=this.queryOption("selected");this.value=this.queryOption("value")||l();this.title=this.queryOption("title");this.icon=this.queryOption("icon")},render:function(){var e=this.contentView;this.$el.toggleClass("panel-switcher__panel--padding",this.queryOption("hasContentPadding"));if(e){e.render();e.delegateEvents();e.$el.appendTo(this.$el)}else if(this.contentHtml){this.$el.html(this.contentHtml)}this.renderContent(this.$el);this.delegateEvents();return this},renderContent:function(e){},destroy:function(e){var t=this.contentView;if(t){if(!e||!e.preventContentViewDestroy){if(t.destroy){t.destroy()}else if(t.close){t.close()}}t.remove();t.el=null;t.$el=null;t._ensureElement()}n.prototype.destroy.call(this)},_trigger:function(t){var i=Array.prototype.slice.call(arguments,1);var r=this.contentView;var o="switcher";return e.when(r&&o?n.triggerOn(r,o+":"+t,i):null,n.prototype._trigger.apply(this,arguments))}});var a=0;function l(){return"_switcher-panel"+a++}return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(651)],r=function(e,t,i,n,r){var o=i.Marionette.ItemView.extend({template:r,events:{"click .btn-cancel":"cancel","click .btn-confirm":"confirm"},templateHelpers:function(){var e=this;return{message:function(){return e.message}}},defaultDialog:{buttons:[{group:"control-buttons pull-right",buttons:[{className:"btn-cancel btn-com"},{className:"btn-confirm btn-com btn-success"}]}]},message:undefined,title:_W.utl("javascript.components.views.ConfirmView_1"),confirmText:_W.utl("javascript.components.views.ConfirmView_2"),cancelText:_W.utl("javascript.components.views.ConfirmView_3"),size:"600x250",modal:true,callback:function(){},initialize:function(e){var i=this,n;n=i.dialog=t.extend({},i.defaultDialog);i.message=e.message||i.message;n.size=e.size||i.size;n.title=e.title||i.title;if(e.dialogClass){n.dialogClass=e.dialogClass}i.className=e.className||i.classname;i.dialog.modal=t.isUndefined(e.modal)?i.modal:e.modal;n.buttons[0].buttons[0].text=e.cancelText||i.cancelText;n.buttons[0].buttons[1].text=e.confirmText||i.confirmText;if(e.cancelClass){i.dialog.buttons[0].buttons[0].className=e.cancelClass+" btn-cancel"}if(e.confirmClass){i.dialog.buttons[0].buttons[1].className=e.confirmClass+" btn-confirm"}i.responseCallback=e.callback||i.callback},confirm:function(){this.trigger("dialog:close");this.responseCallback(true)},cancel:function(){this.trigger("dialog:close");this.responseCallback(false)}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(25),i(110)],r=function(e,t,i,n){return{SECTION_PROPERTIES:{VERSION_KEY:"_version",CURRENT_VERSION:"1.1",BACKGROUND_KEY:"background",BACKGROUND_TYPES_KEY:"type",BACKGROUND_EFFECTS_KEY:"effects",BASE_STYLE_KEY:"base_style",BACKGROUND_TYPES:{VIDEO:"video",IMAGE:"image_editor",COLOR:"color",GRADIENT:"gradient"}},SECTION_BACKGROUND_EFFECTS:[{label:_W.utl("sections.effects.none"),value:"none",available:["videoBackground","imageBackground","colorBackground","gradientBackground"]},{label:_W.utl("sections.effects.parallax"),value:"parallax",available:["imageBackground","gradientBackground"]},{label:_W.utl("sections.effects.reveal"),value:"reveal",available:["videoBackground","imageBackground","colorBackground","gradientBackground"]}],getBackgroundTypeForEffects:function(e){var t=e[this.SECTION_PROPERTIES.BACKGROUND_KEY];var i=t[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY];if(i===null){i="none"}return i},getImageEditorObject:function(){var e={};var t=this.MODEL_TYPE+"-"+this.id;if(this.hasBackgroundImage()){e[t]=this.getBackgroundContent()}else if(this.hasBackgroundVideo()){e[t]=i.generateVideoStillImage(this.getVideoBackgroundSnapshot())}return e},isBackgroundEditable:function(){return true},isBackgroundResizeable:function(){return true},getBackgroundType:function(){if(!this.isBackgroundEditable()){return null}var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];return e&&e[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]},getBackgroundContent:function(e){if(!this.isBackgroundEditable()){return{}}var t=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];e=e||t[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY];return t[e]||{}},hasBackgroundEffects:function(){var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];var t=this.getBackgroundTypeForEffects(this.get("properties"));if(!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]||!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t]){return false}return true},getBackgroundEffects:function(){var e=this.get("properties")[this.SECTION_PROPERTIES.BACKGROUND_KEY];var t=this.getBackgroundTypeForEffects(this.get("properties"));if(!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]||!e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t]){return{}}return e[this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][t]},setBackgroundEffects:function(e){if(!t.isObject(e)){e={value:{}}}var i=JSON.parse(JSON.stringify(this.get("properties")));var n=this.getBackgroundTypeForEffects(i);if(!i[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]){i[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY]={}}i[this.SECTION_PROPERTIES.BACKGROUND_KEY][this.SECTION_PROPERTIES.BACKGROUND_EFFECTS_KEY][n]=e;this.set("properties",i)},isCustomized:function(){if(!this.isBackgroundEditable()){return false}var e=this.get("properties");if(!e||!e.background){return false}var t=e["background"]["type"];if(!t){return false}if(this.isBackgroundWhite()){return false}if(e["background"][t]["is_customized"]===false){return false}return true},isBackgroundWhite:function(){return this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR)["background-color"]==="#fff"},userSelectedBackground:function(){var e=this.get("properties");return e&&e.background&&e.background.user_selected},getSectionStyle:function(){var e="";var i={};if(this.hasBaseStyle()){i=t.extend(i,this.getBaseStyle())}if(this.hasBackgroundColor()){i=t.extend(i,this.getBackgroundContent())}t.each(i,function(t,i){e+=i+": "+t+"; "});if(this.hasBackgroundGradient()){e+=n.generateCSS(this.getBackgroundContent())}return e.trim()},getBaseStyle:function(){if(!this.isBackgroundEditable()){return{}}return this.get("properties")[this.SECTION_PROPERTIES.BASE_STYLE_KEY]||{}},hasBaseStyle:function(){if(!this.isBackgroundEditable()){return false}return t.keys(this.get("properties")[this.SECTION_PROPERTIES.BASE_STYLE_KEY]).length>0},setBaseStyle:function(e,i){var n=JSON.parse(JSON.stringify(this.get("properties")));var r=n[this.SECTION_PROPERTIES.BASE_STYLE_KEY]||{};n[this.SECTION_PROPERTIES.BASE_STYLE_KEY]=t.extend(r,e);this.set("properties",n,i)},resetBaseStyle:function(){var e=JSON.parse(JSON.stringify(this.get("properties")));delete e[this.SECTION_PROPERTIES.BASE_STYLE_KEY];this.set("properties",e)},unsetStyling:function(e,t){var t=t||{};e?this.setBackgroundWhite():this.setEmptyBackground();this.resetBaseStyle();if(t.stringify){this.stringifyProperties()}},stringifyProperties:function(){var e=this.get("properties");if(typeof this.get("properties")!=="string"){this.set("properties",JSON.stringify(e))}},setBackgroundProperties:function(e,t,i){var e=e||null;var n=JSON.parse(JSON.stringify(this.get("properties")));var r=n[this.SECTION_PROPERTIES.BACKGROUND_KEY];i=i||{};if(i.overwrite){n.background={};r=n.background}if(!i.dontSwitchType){r[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]=e}if(t){r[e]=t;r.user_selected=true}else if(e===null){r.user_selected=true}this.set("properties",n,i)},setBackgroundType:function(e,t){var i=JSON.parse(JSON.stringify(this.get("properties")));var n=i[this.SECTION_PROPERTIES.BACKGROUND_KEY];n[this.SECTION_PROPERTIES.BACKGROUND_TYPES_KEY]=e;n.user_selected=true;this.set("properties",i,t)},setBackgroundWhite:function(){this.setBackgroundColor({"background-color":"#fff","background-image":"none"},{overwrite:true})},setTypeToVideo:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO,e)},setTypeToImage:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE,e)},setTypeToColor:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR,e)},setTypeToGradient:function(e){this.setBackgroundType(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT,e)},setBackgroundVideo:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO,e,t)},setBackgroundColor:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR,e,t)},setBackgroundGradient:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT,e,t)},setBackgroundImage:function(e,t){this.setBackgroundProperties(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE,e,t)},setEmptyBackground:function(e){this.setBackgroundProperties(null,null,e)},hasBackgroundVideo:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO},hasBackgroundColor:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR},hasBackgroundGradient:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT},hasBackgroundImage:function(){return this.getBackgroundType()===this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE},hasEmptyBackground:function(){return!this.getBackgroundType()},hadBackgroundVideo:function(){return!this.hasBackgroundVideo()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO))>0},hadBackgroundColor:function(){return!this.hasBackgroundColor()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR))>0},hadBackgroundGradient:function(){return!this.hasBackgroundGradient()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT))>0},hadBackgroundImage:function(){return!this.hasBackgroundImage()&&t.size(this.getBackgroundContent(this.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE))>0},getVideoBackgroundSnapshot:function(){return this.getBackgroundContent().background_url}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o,s){!(n=[i(4)],r=function(e){var t=e.Model.extend({isValid:function(e){if(e===undefined){e=this.get("value")}var t={int:"validateInteger",slider:"validateInteger",string:"validateString",text:"validateString",checkbox:"validateBoolean",toggle:"validateBoolean"};var i=t[this.get("type")];if(i&&this.hasOwnProperty(i)){return this[i](e)}else{return true}},getOptions:function(){var e=this.get("values"),t=[];if(e){o.each(e,function(e,i){var n=s.extend({},e);if(n["actionPaneIndex"]){n["optionActionPaneIndex"]=n["actionPaneIndex"]}if(typeof e=="string"){n={name:_W.utl(e),value:e}}else if(typeof e==="number"){n={name:e,value:e}}else{var r=n["short"],o=n["name"];if(r){n["short"]=_W.utl(r)}n["name"]=_W.utl(o)}t.push(n)})}else{t=null}return t},validateInteger:function(e){var t=this.get("max"),i=this.get("min"),n=this.get("step"),r=true;if(i!=null&&i!=undefined&&e<i){r=false}if(t!=null&&t!=undefined&&e>t){r=false}if(n!=null&&n!=undefined&&e%n!=0){r=false}return r},validateString:function(e){var t=this.get("max"),i=this.get("min"),n=true;if(i!=null&&i!=undefined&&e.length<i){n=false}if(t!=null&&t!=undefined&&e.length>t){n=false}return n},validateBoolean:function(e){return e===true||e===false},validateAsFalse:function(e){return false}});return t}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2),i(1))},,function(e,t,i){var n,r;!(n=[i(1),i(5),i(11),i(7),i(93)],r=function(e,t,i,n,r){var o=15;var s=15;function a(i){i=i||{};var n=t.view.isMobileView;this.container=e(i.container).addClass("weebly-spotlighted").css("position","relative").append(this.cover=e("<div class='wsite-spotlight-cover'>"+"<div class='wsite-spotlight-cover-inner'></div>"+"</div>"));if(i.paddingHeight!==undefined){o=i.paddingHeight}else{o=n?10:15}if(i.paddingWidth!==undefined){s=i.paddingWidth}else{s=n?5:15}this.options=i;if(i.clickEditing!==false){this.cover.css("cursor","pointer").on("click",function(t){e(t.target).parents(".platform-element-contents").each(function(t,i){e(this).children(".platform-element-overlay").addClass("hidden-overlay")});this.open()}.bind(this))}this.spotlight=new r({parentElement:"#_editor-ui-spotlight",element:this.container,paddingHeight:o,paddingWidth:s,roundedCorners:true,zIndex:n?12:11,interval:true,onReposition:this.updateControls.bind(this)});this.isRefresh=false;if(i.uid&&a.current&&a.current.options.uid==i.uid){setTimeout(this.open.bind(this),0)}}a.isOutside=function(i){return t.ElementSpotlight.current&&!e(i).closest(t.ElementSpotlight.current.container).length};a.isCurrentContainer=function(e){return t.ElementSpotlight.current&&t.ElementSpotlight.current.container.is(e)};a.getCurrent=function(){return t.ElementSpotlight.current};a.prototype={open:function(){if(!this.isOpen){var e=a.current;if(e){var t=this.container.closest(e.container).length;this.isRefresh=this.options.uid&&e.options.uid&&this.options.uid==e.options.uid;e.isRefresh=this.isRefresh;e.close();if(t){e.disableCover();this.disabledCoverExpose=e}}this.isOpen=true;this.cover.hide();this.spotlight.show();this.updateControls();a.current=this;if(this.options.onOpen){this.options.onOpen()}var r={id:this.options.element?this.options.element.id:null,name:this.options.area?this.options.area.name:null};i.vent.trigger("editor:spotlight:open",r);n.trigger("editor:spotlight:open",r);this.isRefresh=false;if(this.options.elementsPage){n.execute("elementsPage",this.options.elementsPage)}else{n.execute("setElementsPageType")}n.execute("initDragging")}},resize:function(){this.spotlight.reposition()},updateControls:function(){var i=t.view.isMobileView;var n=e("#_editor-ui-spotlight");if(!this.controls){this.controls=e("<div class='spotlight-controls w-ui'>"+"<div class='spotlight-controls-inner'></div>"+"</div>").appendTo(n)}if(this.isOpen){var r=n.offset();var a=this.container.offset();this.controls.css({top:a.top-r.top+n.scrollTop()-o,left:a.left-r.left+n.scrollLeft()-s,width:this.container.width()+s*2,zIndex:i?13:21}).show()}else{this.controls.hide()}},getControlsInner:function(){return this.controls.find("> *")},close:function(){if(this.isOpen){this.isOpen=false;this.cover.show();this.spotlight.hide();if(this.controls){this.controls.hide()}delete a.current;if(this.disabledCoverExpose){this.disabledCoverExpose.enableCover()}this.container.parents(".platform-element-contents").each(function(t,i){e(this).children(".platform-element-overlay").removeClass("hidden-overlay")});if(this.options.onClose){this.options.onClose()}i.vent.trigger("editor:spotlight:close");n.trigger("editor:spotlight:close");n.execute("setElementsPageType");n.execute("initDragging")}},destroy:function(){if(this.spotlight){this.spotlight.destroy()}if(this.controls){this.controls.remove()}this.cover.remove()},disableCover:function(){this.cover.hide()},enableCover:function(){if(!this.isOpen){this.cover.show()}}};n.commands.setHandlers({closeCurrentSpotlight:function(){if(a.current){a.current.close()}}});t.ElementSpotlight=a;return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5)],r=function(e,t,i){var n;var r=window.Class.create({initialize:function(i){var n=this;i=i||{};n.elements=i.element?[i.element]:i.elements;n.canvasElement=e(document.body);n.parentElement=i.parentElement?e(i.parentElement):e(document.body);n.isShown=false;n.dimElements=[];n.antSets=[];n.cornerSets=[];n.borderSets=[];n.zIndex=i.zIndex;n.opacity=i.opacity||.75;n.paddingHeight=i.paddingHeight||i.padding||0;n.paddingWidth=i.paddingWidth||i.padding||0;n.ants=i.ants;n.roundedCorners=i.roundedCorners;n.interval=i.interval===true?300:i.interval;n.borderWidths=i.borderWidths||"0";n.borderColor=i.borderColor||"black";n.maskColor=i.maskColor||"";n.light=i.light||false;this.onReposition=i.onReposition;n.onResize=t.throttle(n.reposition.bind(n),100)},show:function(){var t=this;if(!t.isShown){if(!t.container){t.container=e("<div class='spotlight'/>").appendTo(t.parentElement)}if(t.zIndex!==undefined){t.container.css("z-index",t.zIndex)}if(t.light==true){t.container.addClass("spotlight-gray")}t.container.show();t.position();if(t.interval){t.intervalID=setInterval(function(){t.reposition()},t.interval)}t.isShown=true;n=t;e(window).on("resize",t.onResize)}},hide:function(){var t=this;if(t.isShown){t.container.hide();t.clearInterval();t.isShown=false;n=undefined;e(window).off("resize",t.onResize)}},setOpacity:function(t){this.opacity=t;e.each(this.dimElements,function(e,i){i.css("opacity",t)})},position:function(){var t=this;var i=t.elements;var n=o(i,t.paddingHeight,t.paddingWidth);if(!n.length){return}var r=t.canvasElement;var a=r.outerWidth();var l=r[0].scrollHeight;var c=s(n,a,l);var u=t.container;var h=t.dimElements;var p=t.antSets;var m=t.cornerSets;var g=t.borderSets;var v=[];var w=t.calcCoordinates();u.css(w);e.each(c,function(i,n){var r=h[i]=h[i]||e("<div class='spotlight-bg'/>").appendTo(u);var o={top:n.y,left:n.x,width:n.width,height:n.height,opacity:t.opacity};if(t.maskColor){o.backgroundColor=t.maskColor}r.css(o).show()});f(h.slice(c.length));if(t.ants){e.each(n,function(t,i){var n=p[t]=p[t]||e("<div class='spotlight-ants-h'/>"+"<div class='spotlight-ants-v'/>"+"<div class='spotlight-ants-h'/>"+"<div class='spotlight-ants-v'/>").appendTo(u);n.eq(0).css({top:i.y,left:i.x,width:i.width});n.eq(1).css({top:i.y,left:i.x+i.width-1,height:i.height});n.eq(2).css({top:i.y+i.height-1,left:i.x,width:i.width});n.eq(3).css({top:i.y,left:i.x,width:1,height:i.height});n.show()});f(p.slice(n.length))}else{f(p)}if(t.borderWidths){v=d(t.borderWidths);borderHtml=v.reduce(function(e,t){return e+(t>0?"<div class='spotlight-border'/>":"")},"");e.each(n,function(i,n){var r;var o=[{top:n.y-v[0],left:n.x,width:n.width,height:v[0],"background-color":t.borderColor},{top:n.y,left:n.x+n.width,width:v[1],height:n.height,"background-color":t.borderColor},{top:n.y+n.height,left:n.x,width:n.width,height:v[2],"background-color":t.borderColor},{top:n.y,left:n.x-v[3],width:v[3],height:n.height,"background-color":t.borderColor}];r=g[i]=g[i]||e(borderHtml).appendTo(u);v.reduce(function(e,t,i){if(t>0){r.eq(e++).css(o[i])}return e},0);r.show()});f(g.slice(n.length))}else{f(g)}if(t.roundedCorners){e.each(n,function(t,i){var n=m[t]=m[t]||e("<div class='spotlight-corner-nw'/>"+"<div class='spotlight-corner-ne'/>"+"<div class='spotlight-corner-se'/>"+"<div class='spotlight-corner-sw'/>").appendTo(u);n.eq(0).css({top:i.y,left:i.x});n.eq(1).css({top:i.y,left:i.x+i.width-5});n.eq(2).css({top:i.y+i.height-5,left:i.x+i.width-5});n.eq(3).css({top:i.y+i.height-5,left:i.x});n.show()});f(m.slice(n.length))}else{f(m)}},reposition:function(){var e=this;if(e.isShown){e.position();if(e.onReposition){e.onReposition()}}},destroy:function(){var e=this;e.hide();if(e.container){e.container.remove()}},calcCoordinates:function(){var e,t,i;e=this.parentElement;if(e.is("body")&&e.css("position")==="static"){i={top:0,left:0}}else{t=e.offset();i={top:0-t.top,left:0-t.left}}return i},clearInterval:function(){var e=this;if(e.intervalID){clearInterval(e.intervalID);delete e.intervalID}},setAnts:function(e){var t=this;t.ants=e;t.reposition()}});r.getCurrent=function(){return n};function o(t,i,n){var r=[];e(t).each(function(){var t=e(this);if(t.is(":hidden")){return}var o=t.offset();var s=t.outerHeight()+i*2;r.push({x:o.left-n,y:o.top-i,width:t.outerWidth()+n*2,height:s===0?50:s})});return r}function s(e,t,i){var n=e.slice();var r=[];function o(e){if(e.width>0&&e.height>0){r.push(e);n.push(e)}}e.forEach(function(e){var r=e.x;var s=e.y;var d=r+e.width;var f=s+e.height;i=Math.max(i,f);var h=a(r,d,s,n);var p=l(d,s,h,n,t);o({x:r,y:h,width:p-r,height:s-h});var m=l(d,s,f,n,t);var g=c(d,m,f,n,i);o({x:d,y:s,width:m-d,height:g-s});var v=c(r,d,f,n,i);var w=u(r,f,v,n);o({x:w,y:f,width:d-w,height:v-f});var b=u(r,s,f,n);var y=a(b,r,s,n);o({x:b,y:y,width:r-b,height:f-y})});return r}function a(e,t,i,n){var r=0;n.forEach(function(n){if(n.y+n.height<=i&&n.x+n.width>=e&&n.x<t){r=Math.max(r,n.y+n.height)}});return r}function l(e,t,i,n,r){var o=r;n.forEach(function(n){if(n.x>e&&n.y+n.height>=t&&n.y<i){o=Math.min(o,n.x)}});return o}function c(e,t,i,n,r){var o=r;n.forEach(function(n){if(n.y>i&&n.x+n.width>=e&&n.x<t){o=Math.min(o,n.y)}});return o}function u(e,t,i,n){var r=0;n.forEach(function(n){if(n.x+n.width<e&&n.y+n.height>=t&&n.y<i){r=Math.max(r,n.x+n.width)}});return r}function d(e){var t=e.split(" ");if(t.length<4){if(!t[1])t[1]=t[0];if(!t[2])t[2]=t[0];if(!t[3])t[3]=t[1]}return t}function f(t){e.each(t,function(e,t){t.hide()})}i.Spotlight=r;return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(5),i(319)],r=function(e,t){function i(t){t=t||{};var i=this;var n;var r;var s;var a;var l=0;var c=true;var u=true;var d=t.hideDelay||100;var f;this.setTargetElement=h;this.setHoverElement=p;this.show=E;this.hide=y;this.position=C;this.destroy=S;this.setHideDelay=b;this.setAutoHide=w;this.setAutoShow=function(e){u=e};this.getElement=function(){return n};this.getInnerElement=function(){return r};this.afterHide=t.afterHide||function(){};this.beforeShow=t.beforeShow||function(){};this.isShowing=T;n=new Element("div",{class:"hover-toolbar hover-toolbar-above"}).setStyle({zIndex:t.zIndex||9998,display:"none"}).update("<div class='hover-toolbar-arrow hover-toolbar-arrow-border'></div>"+"<div class='hover-toolbar-arrow'></div>"+"<div class='hover-toolbar-inner'>"+"<div class='hover-toolbar-inner2'>"+"<div class='hover-toolbar-inner3'></div>"+"</div>"+"</div>");r=n.down(".hover-toolbar-inner3");o(t.parent||document.body).insert(n);n.observe("mouseover",m).observe("mouseout",v);h(t.targetElement);p(t.hoverElement||t.targetElement);function h(e){s=o(e)}function p(e){a=o(e).observe("mouseover",g).observe("mouseout",v)}function m(){l++}function g(){if(u){E();l++}}function v(){var e=++l;f=setTimeout(function(){if(e==l){if(c){y()}}},d)}function w(e){c=e}function b(e){d=e}function y(){clearTimeout(f);if(n&&n.visible()){n.hide();if(t.overflow){_()}i.afterHide()}}function _(){e(n).removeClass("inner-overflow w-massless-scroll").find(".hover-toolbar-inner").css("height","").find(".hover-toolbar-inner2").weeblyScroll("destroy")}function E(){clearTimeout(f);if(n&&s){if(i.beforeShow()!==false){n.show();C()}}}function T(){return n.style.display!="none"}function C(){if(!T()){return}var i=document.viewport.getWidth();var r=Math.max(o(document.body).getHeight(),document.viewport.getHeight(),e(document).height());var a=safeCumulativeOffset(s);var l=s.getWidth();var c=s.getHeight();var u=t.alignElement;var d;var f;var h=n.down(".hover-toolbar-arrow");var p=h.getWidth();var m;var g=n.down(".hover-toolbar-inner");var v=n.getWidth();var w=n.getHeight();var b=n.getOffsetParent();var y=safeCumulativeOffset(b);var E;if(t.forceAbove){E=true}else if(t.forceBelow){E=false}else{if(t.preferAbove){if(a.top-w<0&&a.top+c+w<=r){E=false}else{E=true}}else{if(a.top+c+w>r&&a.top-w>=0){E=true}else{E=false}}}if(E){n.removeClassName("hover-toolbar-below").addClassName("hover-toolbar-above");d=a.top-w}else{n.removeClassName("hover-toolbar-above").addClassName("hover-toolbar-below");d=a.top+c}f=a.left;if(t.align=="left"){}else if(t.align=="right"){f+=l-v}else{f+=l/2-v/2}f=Math.max(f,2);f=Math.min(f,i-v-2);if(u){u=o(u);var C=safeCumulativeOffset(u);var S=u.getWidth();if(f+v/2<i/2){f=Math.min(f,C.left+S-v);f=Math.max(f,C.left)}else{f=Math.max(f,C.left);f=Math.min(f,C.left+S-v)}}d+=t.adjustY||0;f+=t.adjustX||0;if(t.overflow&&!n.hasClassName("inner-overflow")){if(d+w>r-10){e(n).addClass("inner-overflow w-massless-scroll").find(".hover-toolbar-inner").css("height",r-20-d).find(".hover-toolbar-inner2").weeblyScroll()}else{_()}}if(t.centerArrow){m=v/2-p/2}else{m=a.left+l/2-f-p/2}m=Math.max(m,5);m=Math.min(m,v-p-5);d-=y.top;f-=y.left;n.setStyle({top:d+"px",left:f+"px"});e(".hover-toolbar-arrow").css({left:m+"px"})}function S(){n.stopObserving("mouseover",m).stopObserving("mouseout",v);a.stopObserving("mouseover",g).stopObserving("mouseout",v);if(n.parentNode){n.remove()}}}return i}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},,,,,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(68),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._setHandleClassName();this._mouseInit()},_setOption:function(e,t){this._super(e,t);if(e==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;this._blurActiveElement(t);if(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(t);if(!this.handle){return false}this._blockFrames(i.iframeFix===true?"iframe":i.iframeFix);return true},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(t){var i=this.document[0];if(!this.handleElement.is(t.target)){return}try{if(i.activeElement&&i.activeElement.nodeName.toLowerCase()!=="body"){e(i.activeElement).blur()}}catch(e){}},_mouseStart:function(t){var i=this.options;this.helper=this._createHelper(t);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(e.ui.ddmanager){e.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return e(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(t);this.originalPosition=this.position=this._generatePosition(t,false);this.originalPageX=t.pageX;this.originalPageY=t.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",t)===false){this._clear();return false}this._cacheHelperProportions();if(e.ui.ddmanager&&!i.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this._normalizeRightBottom();this._mouseDrag(t,true);if(e.ui.ddmanager){e.ui.ddmanager.dragStart(this,t)}return true},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(t,true);this.positionAbs=this._convertPositionTo("absolute");if(!i){var n=this._uiHash();if(this._trigger("drag",t,n)===false){this._mouseUp({});return false}this.position=n.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}return false},_mouseStop:function(t){var i=this,n=false;if(e.ui.ddmanager&&!this.options.dropBehaviour){n=e.ui.ddmanager.drop(this,t)}if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",t)!==false){i._clear()}})}else{if(this._trigger("stop",t)!==false){this._clear()}}return false},_mouseUp:function(t){this._unblockFrames();if(e.ui.ddmanager){e.ui.ddmanager.dragStop(this,t)}if(this.handleElement.is(t.target)){this.element.focus()}return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!r.parents("body").length){r.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(n&&r[0]===this.element[0]){this._setPositionRelative()}if(r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))){r.css("position","absolute")}return r},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){
return{top:0,left:0}}var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(!t?this.scrollParent.scrollTop():0),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(!t?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options,o=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}if(r.containment==="parent"){r.containment=this.helper[0].parentNode}i=e(r.containment);n=i[0];if(!n){return}t=/(scroll|auto)/.test(i.css("overflow"));this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=i},_convertPositionTo:function(e,t){if(!t){t=this.position}var i=e==="absolute"?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition==="fixed"?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition==="fixed"?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;if(!a||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(t){if(this.containment){if(this.relativeContainer){n=this.relativeContainer.offset();i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]}else{i=this.containment}if(e.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<i[1]){c=i[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>i[3]){c=i[3]+this.offset.click.top}}if(s.grid){r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r;o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o}if(s.axis==="y"){l=this.originalPageX}if(s.axis==="x"){c=this.originalPageY}}return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto")}if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto")}},_trigger:function(t,i,n){n=n||this._uiHash();e.ui.plugin.call(this,t,[i,n,this],true);if(/^(drag|start|stop)/.test(t)){this.positionAbs=this._convertPositionTo("absolute");n.offset=this.positionAbs}return e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[];e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");if(i&&!i.options.disabled){n.sortables.push(i);i.refreshPositions();i._trigger("activate",t,r)}})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=false;e.each(n.sortables,function(){var e=this;if(e.isOver){e.isOver=0;n.cancelHelperRemoval=true;e.cancelHelperRemoval=false;e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")};e._mouseStop(t);e.options.helper=e.options._helper}else{e.cancelHelperRemoval=true;e._trigger("deactivate",t,r)}})},drag:function(t,i,n){e.each(n.sortables,function(){var r=false,o=this;o.positionAbs=n.positionAbs;o.helperProportions=n.helperProportions;o.offset.click=n.offset.click;if(o._intersectsWith(o.containerCache)){r=true;e.each(n.sortables,function(){this.positionAbs=n.positionAbs;this.helperProportions=n.helperProportions;this.offset.click=n.offset.click;if(this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])){r=false}return r})}if(r){if(!o.isOver){o.isOver=1;n._parent=i.helper.parent();o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",true);o.options._helper=o.options.helper;o.options.helper=function(){return i.helper[0]};t.target=o.currentItem[0];o._mouseCapture(t,true);o._mouseStart(t,true,true);o.offset.click.top=n.offset.click.top;o.offset.click.left=n.offset.click.left;o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left;o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top;n._trigger("toSortable",t);n.dropped=o.element;e.each(n.sortables,function(){this.refreshPositions()});n.currentItem=n.element;o.fromOutside=n}if(o.currentItem){o._mouseDrag(t);i.position=o.position}}else{if(o.isOver){o.isOver=0;o.cancelHelperRemoval=true;o.options._revert=o.options.revert;o.options.revert=false;o._trigger("out",t,o._uiHash(o));o._mouseStop(t,true);o.options.revert=o.options._revert;o.options.helper=o.options._helper;if(o.placeholder){o.placeholder.remove()}i.helper.appendTo(n._parent);n._refreshOffsets(t);i.position=n._generatePosition(t,true);n._trigger("fromSortable",t);n.dropped=false;e.each(n.sortables,function(){this.refreshPositions()})}}})}});e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),o=n.options;if(r.css("cursor")){o._cursor=r.css("cursor")}r.css("cursor",o.cursor)},stop:function(t,i,n){var r=n.options;if(r._cursor){e("body").css("cursor",r._cursor)}}});e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),o=n.options;if(r.css("opacity")){o._opacity=r.css("opacity")}r.css("opacity",o.opacity)},stop:function(t,i,n){var r=n.options;if(r._opacity){e(i.helper).css("opacity",r._opacity)}}});e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false)}if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset()}},drag:function(t,i,n){var r=n.options,o=false,s=n.scrollParentNotHidden[0],a=n.document[0];if(s!==a&&s.tagName!=="HTML"){if(!r.axis||r.axis!=="x"){if(n.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity){s.scrollTop=o=s.scrollTop+r.scrollSpeed}else if(t.pageY-n.overflowOffset.top<r.scrollSensitivity){s.scrollTop=o=s.scrollTop-r.scrollSpeed}}if(!r.axis||r.axis!=="y"){if(n.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity){s.scrollLeft=o=s.scrollLeft+r.scrollSpeed}else if(t.pageX-n.overflowOffset.left<r.scrollSensitivity){s.scrollLeft=o=s.scrollLeft-r.scrollSpeed}}}else{if(!r.axis||r.axis!=="x"){if(t.pageY-e(a).scrollTop()<r.scrollSensitivity){o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed)}else if(e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity){o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed)}}if(!r.axis||r.axis!=="y"){if(t.pageX-e(a).scrollLeft()<r.scrollSensitivity){o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed)}else if(e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity){o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)}}}if(o!==false&&e.ui.ddmanager&&!r.dropBehaviour){e.ui.ddmanager.prepareOffsets(n,t)}}});e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[];e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();if(this!==n.element[0]){n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}})},drag:function(t,i,n){var r,o,s,a,l,c,u,d,f,h,p=n.options,m=p.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,w=i.offset.top,b=w+n.helperProportions.height;for(f=n.snapElements.length-1;f>=0;f--){l=n.snapElements[f].left-n.margins.left;c=l+n.snapElements[f].width;u=n.snapElements[f].top-n.margins.top;d=u+n.snapElements[f].height;if(v<l-m||g>c+m||b<u-m||w>d+m||!e.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)){if(n.snapElements[f].snapping){n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[f].item}))}n.snapElements[f].snapping=false;continue}if(p.snapMode!=="inner"){r=Math.abs(u-b)<=m;o=Math.abs(d-w)<=m;s=Math.abs(l-v)<=m;a=Math.abs(c-g)<=m;if(r){i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top}if(o){i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top}if(s){i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left}if(a){i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left}}h=r||o||s||a;if(p.snapMode!=="outer"){r=Math.abs(u-w)<=m;o=Math.abs(d-b)<=m;s=Math.abs(l-g)<=m;a=Math.abs(c-v)<=m;if(r){i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top}if(o){i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top}if(s){i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left}if(a){i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left}}if(!n.snapElements[f].snapping&&(r||o||s||a||h)){n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[f].item}))}n.snapElements[f].snapping=r||o||s||a||h}}});e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,o=n.options,s=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});if(!s.length){return}r=parseInt(e(s[0]).css("zIndex"),10)||0;e(s).each(function(t){e(this).css("zIndex",r+t)});this.css("zIndex",r+s.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),o=n.options;if(r.css("zIndex")){o._zIndex=r.css("zIndex")}r.css("zIndex",o.zIndex)},stop:function(t,i,n){var r=n.options;if(r._zIndex){e(i.helper).css("zIndex",r._zIndex)}}});return e.ui.draggable})},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(40),i(250)],r=function(e,t,i,n){var r=n.extend({contentHtml:null,contentView:null,contentFunc:null,contentViewTriggerPrefix:"",sizeToWidthMap:{small:290,medium:470,large:620},width:null,height:null,minHeight:null,providesOwnHeight:null,windowResizeHandler:null,$headerEl:null,$contentEl:null,$contentInnerEl:null,innerOverlay:null,innerOverlayClassName:"",constructor:function(e){if(e instanceof i.View){e={content:e}}e=e||{};var t=e.content;if(t==null){t=this.content}if(typeof t==="function"){this.contentFunc=t}else if(t instanceof i.View){this.contentView=t}else if(typeof t==="string"){this.contentHtml=t}n.call(this,e)},_initialize:function(){if(this.contentView){this.processContentView(this.contentView)}this.width=this.queryOption("width");this.height=this.queryOption("height");this.minHeight=this.queryOption("minHeight")},processContentView:function(e){},_trigger:function(t){var i=Array.prototype.slice.call(arguments,1);var r=this.contentView;var o=this.contentViewTriggerPrefix;return e.when(r&&o?n.triggerOn(r,o+":"+t,i):null,n.prototype._trigger.apply(this,arguments))},render:function(){this.renderSkeleton();this.$headerEl=this.queryHeaderOuterEl();this.$headerInnerEl=this.queryHeaderInnerEl();this.$contentEl=this.queryContentOuterEl();this.$contentInnerEl=this.queryContentInnerEl();this.renderHeader(this.$headerInnerEl);this.renderContent(this.$contentInnerEl);this.delegateEvents();return this},renderSkeleton:function(){n.prototype.render.call(this)},queryHeaderOuterEl:function(){},queryHeaderInnerEl:function(){},queryContentOuterEl:function(){},queryContentInnerEl:function(){},renderHeader:function(e){},queryScrollEl:function(){},renderContent:function(e){var t=this.contentFunc;var n;var r;var o;if(t){n=t.call(this);if(n instanceof i.View){r=n}else if(typeof n==="string"){o=n}}else{r=this.contentView;o=this.contentHtml}if(r){this.processContentView(r);r.render();r.delegateEvents();r.$el.appendTo(e)}else if(o){e.html(o)}},updateSize:function(){this.updateWidth();this.updateHeight()},setWidth:function(e){this.width=e;this.updateWidth()},updateWidth:function(){this.applyWidth(this.width)},applyWidth:function(e){var t=e==null||e=="auto";this.$el.width(t?"":e).css("max-width",t?"":"none")},setHeight:function(e){this.height=e;this.updateHeight()},setMinHeight:function(e){this.minHeight=e;this.updateHeight()},updateHeight:function(){this.applyHeight(this.height,this.minHeight)},applyHeight:function(e,t){var i=this.$headerEl.outerHeight();var n;if(!i){return}if(this.providesOwnHeight===null){this.providesOwnHeight=this.$el.outerHeight()>i*2}if(e==null&&!this.providesOwnHeight){e=this.computeHeight()}this.$contentEl.css({top:i,height:"calc(100% - "+i+"px)"});this.$el.css({height:e!=null?e:"","min-height":t!=null?t:""});this.applyScrollbar()},computeHeight:function(){return this.$headerEl.outerHeight()+this.queryContentNaturalHeight()},queryContentNaturalHeight:function(){return this.$contentInnerEl.outerHeight()},applyScrollbar:function(){var t=this.queryScrollEl();if(t){e(t).nanoScroller({alwaysVisible:true,preventPageScrolling:true,contentClass:"dialog__scroll",paneClass:"dialog__scrollbar",sliderClass:"dialog__scrollbar-slider"})}},openOverlay:function(t,i){var n=this;if(this.innerOverlay){this.innerOverlay.destroy()}this.innerOverlay=t;t.once("close",function(){n.innerOverlay=null});i=e.extend({parent:this.getContainerEl(),outerClassName:this.innerOverlayClassName},i);return t.open(i)},getContainerEl:function(){return this.$el},_onBeforeAttach:function(){if(this.contentView){this.contentView.trigger("before:attach");if(this.contentView.onBeforeAttach){this.contentView.onBeforeAttach()}}},_onAttach:function(){var i=this;if(this.contentView){this.contentView.trigger("attach");if(this.contentView.onAttach){this.contentView.onAttach()}}if(this.height=="100%"){e(window).on("resize",this.windowResizeHandler=t.debounce(function(){i.updateSize()},100))}},_onDetach:function(){if(this.windowResizeHandler){e(window).off("resize",this.windowResizeHandler)}},_onShow:function(){if(this.contentView){this.contentView.trigger("show");if(this.contentView.onShow){this.contentView.onShow()}}},executeDestroy:function(e){var t=this.contentView;if(t){if(t instanceof n){t.destroy()}else if(!e||!e.preventContentViewDestroy){if(t.destroy){t.destroy()}else if(t.close){t.close()}}if(t.$el){t.$el.remove();t.$el=null;t.el=null;t._ensureElement()}}n.prototype.executeDestroy.call(this);if(this.$headerEl){this.$headerEl.remove();this.$headerEl=null}if(this.$contentEl){this.$contentEl.remove();this.$contentEl=null}}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(7),i(24),i(65),i(51)],r=function(e,t,i,n,r,o){var s=n,a=s.prototype,l;n.vent.on("create:category delete:category",function(){l=false});function c(e,i){var n=e.length;while(n--){var r=e[n];var o=i.model.prototype._getNewId(t.defaults({site_category_id:r.id},i.model.prototype.defaults));var s=r.children;var a=s?s.length:0;if(!i.get(o)){var l=[n,1].concat(s||[]);e.splice.apply(e,l);n+=a}else if(a){c(s,i)}}}function u(e,t){var i=e.get("hierarchy");if(!t||!i){return}if(!t.length){i=[]}c(i,t);e.set("hierarchy",i)}var d=s.extend({defaults:{hierarchy:[]},idAttribute:"site_id",fetch:function(t){var i=this;t=t||{};if(t.force)l=false;if(!l){var n=new o;l=e.when(a.fetch.apply(this,arguments),n.fetch({force:t.force})).then(function(e){return e[0]});l.done(function(){u(i,n);i.createSavepoint()}).fail(function(){l=false})}else{l.done(function(e){i.set("hierarchy",e)})}return l},sync:function(e,t,i){var n,r=window.com_userID||window.userID,o=window.com_currentSite||window.currentSite;switch(e){case"update":case"patch":l=false;n=Weebly.Commerce.RPC.Category.saveHierarchy(r,o,t.get("hierarchy")).done(function(){if(i.success)i.success()});break;case"read":n=Weebly.Commerce.RPC.Category.getHierarchy(r,o).done(function(e){if(i.success)i.success({hierarchy:e})});break}return n},find:function(e){var t=this.get("hierarchy"),i=[t[0]],n;while(i.length){n=i.shift();if(n.id==e)return n;i.push.apply(i,n.children)}return false},addCategory:function(e,t){var i=this.find(t?t.get("site_category_id"):"1");if(!i)return;i.children.push({id:e.get("site_category_id"),children:[]});this.trigger("change:hierarchy");this.trigger("change")},removeCategory:function(e){var i=this.get("hierarchy");var n=function(e,i){e.children=t.reject(e.children,function(e){return e.id==i});t.each(e.children,function(e){n(e,i)})};n(i[0],e.get("site_category_id"));this.trigger("change:hierarchy");this.trigger("change")},getAncestors:function(e){var i,n,r,o,s=[],a=false;t.each(this.get("hierarchy")[0].children,function(e){s.push([e])});while(s.length){n=s.shift();r=t.last(n);if(r.id==e){a=n;break}for(i=0;i<r.children.length;i++){o=t.clone(n);o.push(r.children[i]);s.push(o)}}return a},ancestors:function(i){var n=this.getAncestors(i);var r=e.Deferred(),s=[],a=new o;a.fetch().done(function(){if(n){t.each(n,function(e){var t=a.findWhere({site_category_id:e.id});s.push(t)})}if(s.length){r.resolve(new o(s))}else{r.reject()}});return r.promise()},root:function(){return this.get("hierarchy")[0]}});i.reqres.setHandlers({"editor:commerce:categoryHierarchy:fetch":function(e){var t=d.findOrCreate();return t.fetch(e).then(function(){return t.toJSON()})}});i.commands.setHandlers({"editor:commerce:categoryHierarchy:force":function(){l=false}});return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(2),i(247)],r=function(e,t,i){return t.Marionette.Region.extend({defaults:{title:"Default Title",closeOnEscape:true,draggable:false,modal:true,resizable:false,position:{my:"center",at:"center",of:window}},constructor:function(){i.extend(this,t.Events)},el:"#dialog-region",dialogClass:"popup-modal",onShow:function(e){var t=i.extend({},e.dialog);this.view=e;this.dialogOptions=i.result(e,"dialog");this.$el.dialog(this.getDefaultOptions(this.dialogOptions,e));this.updateDialogCss(e);if(t.titleIcon){this.createTitleIcon(t.titleIcon)}this.namespace=".dialog-"+Math.floor(Math.random()*1e6+1);this.setupBindings(e);i.result(this.view.options,"onShow")},onClose:function(){i.result(this.view.options,"onClose");this.stopListening();e("body").off("keydown"+this.namespace);e("body").off("click"+this.namespace);e(window).off("resize"+this.namespace)},updateDialogCss:function(t){var i=this.$el.find(".dialog-body");if(i.length){var n=i.height();var r=i.parent().height();var o=e(window).height()-170;if(n>r&&o>r){o=r-30}this.$el.addClass("hasBody");i.css({maxHeight:this.$el.outerHeight()-this.$el.find(".dialog-footer").outerHeight()})}else{this.$el.removeClass("hasBody")}if(t&&this.dialogOptions&&this.dialogOptions.size){var s=this.dialogOptions.size.split("x");if(s.length==2){var a=this.$el.parent();var l=s[0]+"px";var c=s[1]+"px";a.css({width:l,minWidth:l,maxWidth:l,height:c,minHeight:c,maxHeight:c,left:(e(window).width()-s[0])/2,top:(e(window).height()-s[1])/2})}}if(t&&this.dialogOptions&&this.dialogOptions.enableScrolling){$dialogContent=e(".ui-dialog-content div:first");$dialogContent.css({"max-height":s[1]-e(".ui-dialog-titlebar").height(),"padding-bottom":0})}},setupBindings:function(t){this.listenTo(t,"render",function(){this.updateView(t);this.updateDialogCss(t)});if(this.previousView){this.listenTo(t,"dialog:close",this.restoreMainView)}else{this.listenTo(t,"dialog:close",this.closeDialog)}this.listenTo(t,"dialog:update:css",this.updateDialogCss);this.$el.dialog("option",{close:i.bind(this.closeDialog,this)});this.listenTo(t,"dialog:update:buttons",this.createFooter);this.listenTo(t,"dialog:update:title",this.updateDialogTitle);this.listenTo(t,"dialog:reposition",this.reposition);e("body").on("keydown"+this.namespace,i.bind(this.handleKeydown,this));e("body").on("click"+this.namespace,".ui-widget-overlay",i.bind(this.handleBackgroundClick,this));var n=i.bind(this.reposition,this);e(window).on("resize"+this.namespace,i.throttle(n,100))},reposition:function(e){var t=this;t.$el.dialog({position:t.defaults.position})},closeDialog:function(){this.close();this.$el.dialog("destroy")},cancelDialog:function(e){if(e){e.preventDefault()}if(typeof this.view.dialogCancel=="function"){this.view.dialogCancel()}else{this.closeDialog();if(this.previousView){this.previousView.close();this.previousView=null}}},handleKeydown:function(e){if(e.which==27&&this.$el.dialog("option","closeOnEscape")){if(e){e.preventDefault()}this.cancelDialog(e)}},handleBackgroundClick:function(){if(this.dialogOptions&&(this.dialogOptions.cancelAll||this.dialogOptions.cancelBg)){this.cancelDialog()}},getDefaultOptions:function(e,t){this.updateView(t);e=e||{};if(e.buttons){this.updateView(t)}e.dialogClass=i.compact(["w-ui",e.dialogClass,this.dialogClass]).join(" ");e=i.defaults(e,this.defaults);e=i.omit(e,"buttons");return e},updateView:function(e){if(e.dialog){var t=i.isFunction(e.dialog)?e.dialog():e.dialog;if(t.cancelX||t.cancelAll){this.createCancelX(e)}if(t.cancelXThin){this.createCancelXThin(e)}if(t.buttons){this.createFooter(t.buttons,e)}e.bindUIElements()}},createCancelX:function(e){if(!e.$el.find("a.close-x").length){e.$el.prepend('<a autofocus href="#"></a>');e.$el.prepend('<a href="#" class="close-x w-icon-delete"></a>');e.events=e.events||{};e.events["click a.close-x"]=i.bind(this.cancelDialog,this);e.delegateEvents()}},createCancelXThin:function(e){if(!e.$el.find("a.close-x").length){e.$el.prepend('<a autofocus href="#"></a>');e.$el.prepend('<a href="#" class="close-x close-x-thin">&times;</a>');e.events=e.events||{};e.events["click a.close-x"]=i.bind(this.cancelDialog,this);e.delegateEvents()}},createFooter:function(t,i){var i=i||this.currentView,n;if(this.$el.find(".dialog-footer").length){n=this.$el.find(".dialog-footer").empty()}else{n=e('<div class="dialog-footer" />')}n=this.createButtonFooter(n,t);n.append(i.$el.find(".footer"));i.$el.append(n)},createButtonFooter:function(e,t){i.each(t,function(t){if(t.group&&t.buttons){e.append(this.createButtonGroup(t))}else if(t.html||t.text){e.append(this.createButton(t))}},this);return e},createButtonGroup:function(t){var n=e('<div class="'+t.group+'"/>');i.each(t.buttons,function(e){n.append(this.createButton(e))},this);return n},createButton:function(t){var i=t.type||"button",n=e(document.createElement(i));if(t.text){n.text(t.text)}else if(t.html){n.html(t.html)}n.addClass(t.className||"");return n},createTitleIcon:function(t){var i=e("<span/>",{class:"icon"}).addClass(t);this.$el.dialog("widget").find(".ui-dialog-title").append(i)},updateDialogTitle:function(e){this.$el.dialog("option","title",e)},showSecondaryDialog:function(e,n){this.ensureEl();var r=this.$el.parent();var o=e.isClosed||i.isUndefined(e.$el);var s=e!==this.currentView;n=n!==null&&typeof n==="object"?n:{};if(s){if(this.$el.find(">div").length==1){var a=["width","minWidth","maxWidth","height","minHeight","maxHeight","left","top"];var l={};i.each(a,function(e){l[e]=r.css(e)});this.previousCss=l;this.previousView=this.currentView;this.$el.find(">div").hide()}else{this.close()}}e.render();if(s||o){this.$el.append(e.el)}this.currentView=e;if(n.silentReplace){return}t.Marionette.triggerMethod.call(this,"show",e);t.Marionette.triggerMethod.call(e,"show")},restoreMainView:function(e){e=e!==null&&typeof e==="object"?e:{};if(this.previousView){this.currentView.close();this.$el.find(">div").show();if(!e.silentReplace){t.Marionette.triggerMethod.call(this,"show",this.previousView);t.Marionette.triggerMethod.call(this.previousView,"reloadDialog");t.Marionette.triggerMethod.call(this.previousView,"show")}this.$el.parent().css(this.previousCss);this.currentView=this.previousView;this.previousView=null}}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(3),i(12),i(11),i(64),i(21),i(10),i(29),i(14),i(758),i(757),i(327),i(759),i(328),i(761),i(760),i(19),i(300),i(25),i(18)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_){var E=window.Class.create(w,b,{initialize:function($super,e,t){$super(e,t);this.template=d;this.isFooter=this.type==="content"&&this.name==="footer";this.isBlogArea=this.context.kind=="blog"&&currentBlog.postId||this.elID&&this.elID.indexOf("sidebar")>-1;if(this.isMain()){this.elID="secondlist"}this.elements=t.loadElements(e.elements);o.vent.on("editor:elements:changed",this.addOrRemoveEmptyMessage,this)},unrender:function(){o.vent.off("editor:elements:changed",this.addOrRemoveEmptyMessage,this)},getHTML:function(){var e=this.getInnerHTML();var t={elID:this.elID,classNames:this.getWrapperClassNames(),innerHtml:e};return n.render(f,t)},getWrapperClassNames:function(){var e=["weebly-area","wsite-elements"];if(this.name=="footer"||this.type=="footer"){e.push("wsite-footer")}else{e.push("wsite-not-footer")}if(this.name=="platform"){e.push("wsite-platform-area")}return e.join(" ")},getInnerHTML:function(){var e={elID:"",classNames:this.getClassNames(),elements:""};var t=this.elements;if(this.elID!=="secondlist"){e.elID=this.innerElID?this.innerElID:this.elID}if(!t.length){e["elements"]=this.insertEmptyMessage()}else{this.elements.each(function(t){e["elements"]+=t.renderHTML(false)+"\n"})}return n.render(d,e)},getClassNames:function(){var e="";if(this.isFooter){e+="weebly-footer-list"}return e},insertEmptyMessage:function(){var t="";if(this.isMain()&&this.context.kind!=="blog"){var o=u.getPage(window.currentPage);if(o&&o.get("layout")!="splash"&&!c.isMobileView&&!r.chromeless){var a={layout_section_id:this.sectionId,content_area:this.name,has_sections:this.hasSections()};var l=(new s).fromBackendData(i.ab_test_data);var d=l.getTestVariable("commerce3.0","showLightMerchandising");if(d){t=n.render(v,a)}else{t=n.render(m,a)}}else{t=n.render(h,{})}}else if(this.context.kind=="store"&&e("#wsite-com-area-product").length){t=n.render(g,{})}else if(this.context.kind=="blog"){t=n.render(p,{})}return t},isEmpty:function(){return this.elements.length===0},addOrRemoveEmptyMessage:function(){if(!this.el){return this}var e=false;if(!this.isEmpty()){e=this.removeEmptyMessage()}else{e=this.addEmptyMessage()}if(e){o.vent.trigger("editor:elements:changed")}return this},getListElement:function(){if(!this.el){return e()}var t=e(this.el);if(!t.is("ul")){t=t.find("ul")}return t},getEmptyMessage:function(){var e=this.getListElement();return e.find("#empty-message, .empty-element-message").eq(0)},removeEmptyMessage:function(){var e=this.getEmptyMessage();if(e.length){e.remove();return true}return false},addEmptyMessage:function(){var e=this.getListElement();var t=this.getEmptyMessage();if(e.length&&!t.length){var i=this.insertEmptyMessage();if(i){e.append(i);var n=e.closest(".wsite-section");y.resizeEmptyMessage(n);return true}}return false},relocateElement:function(t,i){var n,r;var o=e("#inside_"+t.id);this.elements.splice(i,0,t);n=this.el.nodeName==="UL"?e(this.el):e(this.el).find("> ul, div > ul").first();n.find("#empty-message, .empty-element-message").eq(0).remove();r=n.children("li").eq(i);if(!r.length){n.append(o)}else{r.before(o)}},addElement:function(t,i){this.spliceExistingElements([t]);var n=this.context.loadElement(t);this.elements.splice(i,0,n);if(a.inEditorContext()){return}var r;if(n.li){r=n.li}else{r=n.renderHTML(false)}var o;var s;o=this.el.nodeName==="UL"?e(this.el):e(this.el).find("> ul, div > ul").first();o.find("#empty-message, .empty-element-message").eq(0).remove();s=o.children("li").eq(i);var l;var c=e(r);var u=c.find("script.element-script");if(u.length){u.data("evaluated",true)}if(!s.length){o.append(c);l=o.children().last()}else{s.before(c);l=s.prev()}this.removeEmptyColumns();if(!n.li&&n.afterAdd){n.afterAdd(l[0])}if(this.afterAddElement){this.afterAddElement()}},removeEmptyColumns:function(){var t=this;e("#"+this.elID+" .wsite-multicol-li").each(function(){var t=e(this);var i=t.prop("id").replace("inside_","");var n=window.getElementObject(i);n.removeEmptyColumns()})},removeElement:function(e){var t=this.context.deleteElement(e);this.spliceElement(t.id);this.afterRemoveElement()},removeAllElements:function(){this.elements.forEach(function(e){this.context.deleteElement(e.id)}.bind(this));this.elements.length=0;if(a.inEditorContext()){return}this.addOrRemoveEmptyMessage()},spliceExistingElements:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.columns){for(var n=0;n<i.columns.length;n++){var r=i.columns[n];this.spliceExistingElements(r)}}this.spliceElement(i.id,true)}},replaceElement:function(e,t){t=[].concat(t);var i=this.findElement(this.elements,e.id);if(i){var n=i.list;var r=i.index;n.splice.apply(n,[r,1].concat(t))}},spliceElement:function(e,t){var i=this.findElement(this.elements,e,t);if(i){return i.list.splice(i.index,1)[0]}else{return null}},findElement:function(e,i,n){var r;t.any(e,function(e,t,o){if(e.id==i){r={element:e,index:t,list:o};return true}if(n){return false}var s;if(e.columns){for(var a=0;a<e.columns.length;a++){var l=e.columns[a];s=this.findElement(l,i);if(s){r=s;return true}}}if(e.children){s=this.findElement(e.children,i);if(s){r=s;return true}}}.bind(this));return r||null},afterRemoveElement:function(){this.removeEmptyColumns();if(this.elements.length==0){var t=e(this.el).parent().find(".weebly-content-area");var i=t.find("#secondlist-blog").first();var n=t.find(".columnlist-blog");if(i.length!==0){i.html(this.insertEmptyMessage())}else if(n.length!==0){n.html(this.insertEmptyMessage())}else{t.html(this.insertEmptyMessage())}}},moveBelow:function(t,i){var n=e("#inside_"+i.id);var r=e("#inside_"+t);r.after(n);if(r.parent().hasClass("columnlist")){this.moveToColumn(i,t)}else if(r.parent().hasClass("formlist")){this.moveWithinForm(i,t,false)}else{var o=0;
for(var s=0;s<this.elements.length;s++){if(this.elements[s].id==t){o=s;break}}this.elements.splice(o+1,0,i)}this.removeEmptyColumns()},moveAbove:function(t,i){var n=e("#inside_"+i.id);var r=e("#inside_"+t);r.before(n);if(r.parent().hasClass("columnlist")){this.moveToColumn(i,t,true)}else if(r.parent().hasClass("formlist")){this.moveWithinForm(i,t,true)}else{var o=0;for(var s=0;s<this.elements.length;s++){if(this.elements[s].id==t){o=s;break}}this.elements.splice(o,0,i)}this.removeEmptyColumns()},moveWithinForm:function(t,i,n){var r=n?0:1;var o=e("#inside_"+i);var s=o.closest(".weebly-form-container");var a=s.closest("li");var l=a.attr("id").replace("inside_","");var c=this.findElement(this.elements,l).element;for(var u=0;u<c.children.length;u++){if(c.children[u].id==i){c.children.splice(u+r,0,t);break}}},moveToColumn:function(t,i,n){var r=n?0:1;var o=e("#inside_"+i).closest(".wsite-multicol-li");var s=o.attr("id").replace("inside_","");var a=this.findElement(this.elements,s).element;a.columns.each(function(e){for(var n=0;n<e.length;n++){if(e[n].id==i){e.splice(n+r,0,t);break}}})},moveToArea:function(e){this.relocateElement(e,0)},afterRender:function($super){this.el=e("#"+this.elID);this.innerEl=this.el.children("#"+this.elID)[0];this.el=this.el[0];$super();t.each(this.elements,function(t){var i=e("#inside_"+t.id)[0];if(!i){return}t.afterRender(i)})},isMain:function(){var e=!this.type||this.type==="content",t=this.context.kind=="blog"&&currentBlog.postId||this.elID&&this.elID.indexOf("sidebar")>-1,i=this.name||this.context.kind=="store";return(e||t)&&!i},getElements:function(){return this.elements},hasSections:function(){var e=window.getPageType(currentPage,currentThemeData,i.view.isMobileView),t=_.currentThemeData.page_type_templates[e];return y.pageHasSectionsMarkup(t)&&this.isMain()}});i.ElementArea=E;w.register(function(e){return e.type==="content"&&e.elements&&e.name!=="footer"&&e.name!==l.HEADER_SECTION_TAG_NAME&&!e.is_blog},E);return E}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(7),i(163),i(345),i(21),i(22)],r=function(e,t,i,n,r,o,s){var a={};var l=function(r){var a={rpc:["Weebly.Editor.RPC.ThemeOption.getSavedThemeOptions","Weebly.Section.RPC.HeaderSection.getConnectedHeaderBackgroundPages","Weebly.Section.RPC.HeaderSection.setConnectedHeaderBackgroundPages","Weebly.Editor.RPC.Site.saveSiteTitle","Weebly.Editor.RPC.Elements.saveProperties","Weebly.Editor.RPC.Elements.removeImageTextImage","Weebly.Editor.RPC.Elements.combineImageTextElements","Weebly.Editor.RPC.Elements.combineTextImageElements","Weebly.Editor.RPC.Elements.moveImageTextElementImage","Weebly.Editor.RPC.Elements.moveElement","Weebly.Editor.RPC.Elements.splitImageTextElement","Weebly.Editor.RPC.Elements.removeElement","Weebly.Editor.RPC.Elements.removeEmptyColumns","Weebly.Editor.RPC.Elements.getElementDefinition","Weebly.Editor.RPC.PlatformElementInstance.getEditorSettings","Weebly.Editor.RPC.PlatformElementInstance.updateSettings","Weebly.Editor.RPC.PlatformElementInstance.getSettingsJWT","Weebly.Editor.RPC.PlatformElementInstance.completeTutorial","Weebly.Editor.RPC.Linker.getFiles","Weebly.Editor.RPC.Blog.getBlogPosts","Weebly.Section.RPC.Section.copyToPage","Weebly.Section.RPC.Section.moveToPage","Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory","Weebly.Editor.RPC.ImageEditor.resizeImageArea","Weebly.Editor.RPC.ImageEditor.resizeImageElement","Weebly.Editor.RPC.ImageEditor.resetHeaderImage","Weebly.Commerce.RPC.Product.read","Weebly.Commerce.RPC.Product.update","Weebly.Commerce.RPC.Category.read","Weebly.Commerce.RPC.Category.update","Weebly.Commerce.RPC.Category.saveHierarchy","Weebly.Commerce.RPC.Category.getHierarchy","Weebly.Commerce.RPC.Category.generateProductList","Weebly.Commerce.RPC.Overview.getUsedCommerceFeatures"],ajax:["blogdeletecomment","gettheme","getmobiletheme","saveproperties","content","sitetitle","savearea","getareas","savecustomhtml","saveadsense","checkpageupdates","flickergetid","redrawproduct","setuserpreference","updateproduct"]};function l(e,i){var n=a[e];return t.indexOf(n,i)!==-1}var u={getWhitelist:function(){return e.extend(true,{},a)},rpc:function(i){var n=e.Deferred(),r=Array.prototype.slice.call(arguments,1),o;if(!i||!l("rpc",i)){if(window.W_DEBUG){console.error("RPC request `"+i+"` not allowed!")}n.reject();return n.promise()}if(t.has(r[0]||{},"filter")){t.each(r[0].filter,function(e){if(e.property==="owner_id"){e.value=window.userID}else if(e.property==="site_id"){e.value=window.currentSite}})}var s,a=i.split("."),c=a.shift(),u=a.shift(),d=a.shift();if(!d||d!=="RPC"){if(window.W_DEBUG){console.error("Prototcol `"+d+"` is invalid!")}n.reject();return n.promise()}s=Weebly[u]?Weebly[u].RPC:{};a.every(function(e,t){return s=s[e]});if(t.isUndefined(s)){if(window.W_DEBUG){console.error("The RPC method is not defined: "+i)}n.reject();o=n.promise()}else{o=s.apply(this,r)}return o},ajax:function(i){var n=e.Deferred(),r={},s;if(typeof i.parameters=="string"){i.parameters=c(i.parameters)}s=t.result(i.parameters,"pos");if(!s||!l("ajax",s)){if(window.W_DEBUG){console.error("Ajax request `"+s+"` not allowed!")}n.reject();return n.promise()}if(t.has(i.parameters,"cookie")){i.parameters.cookie=document.cookie}if(t.has(i.parameters,"token")){i.parameters.token=Weebly.RequestToken}if(!t.isUndefined(i.asynchronous)){r.asynchronous=i.asynchronous}if(!t.isUndefined(i.bgRequest)){r.bgRequest=i.bgRequest}r.parameters=i.parameters;r.onSuccess=function(e){n.resolve(new o(e))};r.onFailure=function(e){if(e&&e.request&&e.request.isRetriable()){return}n.reject(new o(e))};r.onComplete=function(){};new window.Ajax.Request(window.ajax,r);return n.promise()}};r.on("start",function(){i.reqres.setHandlers({"ajax:whitelist":u.getWhitelist});n.reqres.setHandlers({"ajax:rpc":u.rpc,"ajax:request":u.ajax});n.commands.setHandlers({"ajax:showError":function(e,t,i){window.showError(e,t,i)},"ajax:showRetriableError":function(e,t,i){window.showRetriableError(e,t,i)}})});r.on("stop",function(){i.reqres.removeHandlers(["ajax:whitelist"]);n.reqres.removeHandlers(["ajax:rpc","ajax:request"]);n.commands.removeHandlers(["ajax:showError","ajax:showRetriableError"])});if(s.inEditorContext()){window.startWait=r.startWait=function(){i.loading.start("AjaxUtilsStub::startWait")};window.endWait=r.endWait=function(){i.loading.stop("AjaxUtilsStub::startWait")}}};function c(e){var i={};e=decodeURI(e);e=e.replace(/"/g,'\\"');e=e.replace(/'/g,"\\");e=e.split("&");t.each(e,function(e){e=e.split(/=(.+)/);i[e[0]]=e[1]});return i}a=i.module("Ajax",{moduleClass:r,define:l});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(7),i(70),i(11),i(5),i(229),i(104),i(137)],r=function(e,t,i,n,r,o,s,a,l){if(t.isUndefined(Weebly.DesignOptions)){Weebly.DesignOptions={}}var c={};var u=s.DESIGN_OPTIONS_SELECTORS;c.applyDesignOptions=function(){var e=d();i.execute("applyDesignStyle",e.styles);i.execute("loadFont",e.fontsToLoad)};c.siteApplyDesignOptions=function(){var e=d();r.vent.trigger("applyDesignStyle",e.styles);t.each(e.fontsToLoad,function(e){l.loadFont(e)})};function d(){var e=[];var i={globalStyle:u.global+" {",globalColorStyle:u.globalColor+" {",footerGlobalStyle:u.footerGlobal+" {",headerStyle:u.header+" {",headerColorStyle:u.headerColor+" {",footerHeaderStyle:u.footerHeader+" {",siteTitleStyle:u.siteTitle+" {",linkStyle:"",hoverStyle:"",navMenuStyle:u.navMenu+" {",flyoutMenuStyle:u.flyoutMenu+" {",imageCaptionsStyle:u.imageCaptions+" {",galleryCaptionsStyle:u.galleryCaptions+" {",lightboxGalleryCaptionsStyle:u.lightboxGalleryCaptions+" {",slideshowCaptionsStyle:u.slideshowCaptions+" {",phoneStyle:u.phone+" {",headlineStyle:u.headline+" {",subHeadlineStyle:u.subHeadline+" {",buttonStyle:u.button+" {",blockquoteStyle:u.blockquote+" {",footerBlockquoteStyle:u.footerBlockquote+" {",blogPostTitleStyle:u.blogPostTitle+" {",productTitleStyle:u.productTitle+" {",productPriceStyle:u.productPrice+" {"};var n=t.clone(i);var r=[];var o=[];t.each(Weebly.DesignOptions,function(t,s){var a;var l;var c=false;if(t){if(s=="globalColor"){i.globalColorStyle+="color:"+t+" !important;";r.push("globalColorStyle");return}if(s=="headerColor"){i.headerColorStyle+="color:"+t+" !important;";r.push("headerColorStyle");return}if(s=="aLink"){i.linkStyle+=".wsite-not-footer h2.wsite-content-title a, .wsite-not-footer .paragraph a, .wsite-not-footer blockquote a, .wsite-not-footer .blog-sidebar a, .wsite-not-footer .blog-comments a, .wsite-not-footer .blog-comments-bottom a, #wsite-com-store a, #wsite-com-product-gen a {color:"+t+" !important;}\n";r.push("linkStyle");return}if(s=="aHover"){i.hoverStyle+=".wsite-not-footer h2.wsite-content-title a:hover, .wsite-not-footer .paragraph a:hover, .wsite-not-footer blockquote a:hover, .wsite-not-footer .blog-sidebar a:hover, .wsite-not-footer .blog-comments a:hover, .wsite-not-footer .blog-comments-bottom a:hover, #wsite-com-store a:hover, #wsite-com-product-gen a:hover {color:"+t+" !important;}\n";r.push("hoverStyle");return}if(s=="footerALink"){i.linkStyle+=".wsite-footer h2 a, .wsite-footer .paragraph a, .wsite-footer blockquote a {color:"+t+" !important;}\n";r.push("linkStyle");return}if(s=="footerAHover"){i.hoverStyle+=".wsite-footer h2 a:hover, .wsite-footer .paragraph a:hover, .wsite-footer blockquote a:hover {color:"+t+" !important;}\n";r.push("hoverStyle");return}if(s=="buttonSize"){i.hoverStyle+=".wsite-button-large .wsite-button-inner {font-size:"+t+" !important;}\n";r.push("hoverStyle");return}if(s=="smallButtonSize"){i.hoverStyle+=".wsite-button-small .wsite-button-inner {font-size:"+t+" !important;}\n";r.push("hoverStyle");return}if(s=="blogPostTitleHover"){i.hoverStyle+=".blog-header h2 a:hover {color:"+t+" !important;}\n";r.push("hoverStyle");return}if(l=/(.*)Font$/.exec(s)){t=t.replace(/'|"/g,"");a='font-family:"'+t+'" !important;';e.push(t)}else if(l=/(.*)Size$/.exec(s)){c=true;a="font-size:"+t+" !important;"}else if(l=/(.*)Weight$/.exec(s)){a="font-weight:"+t+" !important;"}else if(l=/(.*)Color$/.exec(s)){a="color:"+t+" !important;"}else if(l=/(.*)LineHeight$/.exec(s)){c=true;a="line-height:"+t+" !important;"}else if(l=/(.*)Style$/.exec(s)){switch(t){case"normal":case"italic":a="font-style:"+t+" !important;";break;case"bold":a="font-weight: bold !important;";break;case"italicBold":a="font-weight: bold !important; font-style: italic !important;";break;case"underline":a="text-decoration: underline !important;";break}}else if(l=/(.*)UpperCase$/.exec(s)){if(t==="true"){a="text-transform:  uppercase !important;"}else{a="text-transform:  none !important;"}}else if(l=/(.*)LetterSpacing$/.exec(s)){a="letter-spacing:"+t+" !important;"}if(a&&l&&i[l[1]+"Style"]){var u=l[1]+"Style";if(c){n[u]+=a;o.push(u)}else{i[u]+=a;r.push(u)}}}});if(Weebly.DesignOptions&&"pageHeaderImage"in Weebly.DesignOptions){headerImage.setCurrentHeaderImage(Weebly.DesignOptions.pageHeaderImage)}i=t.pick(i,r);n=t.pick(n,o);return{styles:f(i,n),fontsToLoad:e}}function f(e,i){var n="";t.each(e,function(e,t){if(!e){return}if(!/}\s*$/.test(e)){e+="}\n"}if(t!="hoverStyle"){n+=e}});n+=e.hoverStyle||"";n+="@media screen and (min-width: 767px) {";t.each(i,function(e,t){if(!e){return}if(!/}\s*$/.test(e)){e+="}\n"}n+=e});n+="}";return n}c.stripFontName=function(e){return e.replace(/(^['"\s]*|['"\s]*$)/g,"")};c.saveDesignOption=function(e,t){c.setDesignOption(e,t);var r=window.currentTheme+"|"+e;o.Editor.RPC.ThemeOption.saveDesignOption(r,t).done(function(){i.execute("analytics:track:event",{type:"standard",location:"website.editor",object_category:"site",action:"change",object_instance:n.site&&n.site.site_id,property:"design_setting",value:e,version:"legacy"})})};c.setDesignOption=function(e,t){Weebly.DesignOptions[e]=t};c.getCurrentStyles=function(t){var i=false;var n=null;var r=null;var o={};var s;switch(t){case"site-title":n=e(u.siteTitle).eq(0);if(!n.length){n=e("<div/>",{id:"wsite-title"});i=true}break;case"paragraph-title":n=e(u.header).eq(0);if(!n.length){n=e("<h2/>");i=true}break;case"footer-paragraph-title":n=e(u.footerHeader).eq(0);if(!n.length){n=e("<h2/>");i=true}break;case"paragraph-text":n=e(u.global).eq(0);if(!n.length){n=e("<div/>",{class:"paragraph"});i=true}break;case"footer-paragraph-text":n=e(u.footerGlobal).eq(0);if(!n.length){n=e("<div/>",{class:"paragraph"});i=true}break;case"links":s=e("<a/>",{href:"http://www.test.com"});e("#secondlist").append(s);o.link=s.css("color");s.remove();if(Weebly.DesignOptions&&Weebly.DesignOptions.aHover){o.hover=Weebly.DesignOptions.aHover}else{o.hover=o.link}return o;case"footer-links":s=e("<a/>",{href:"http://www.test.com"});e(".wsite-footer").eq(0).append(s);o.link=s.css("color");s.remove();if(Weebly.DesignOptions&&Weebly.DesignOptions.footerAHover){o.hover=Weebly.DesignOptions.footerAHover}else{o.hover=o.link}return o;case"image-captions":n=e(u.imageCaptions).eq(0);if(!n.length){n=e("<div/>");r=n.wrap('<div class="wsite-image"/>');i=true}break;case"photo-gallery-captions":n=e(u.galleryCaptions).eq(0);if(!n.length){n=e("<div/>",{class:"galleryCaptionInnerText"});r=n.wrap('<div class="imageGallery"/>');i=true}break;case"lightbox-gallery-captions":n=e(u.lightboxGalleryCaptions).eq(0);if(!n.length){n=e('<div class="fancybox-title"/>');i=true}break;case"slideshow-captions":n=e(u.slideshowCaptions).eq(0);if(!n.length){n=e('<div class="wslide"/>');i=true}break;case"navigation-menu-text":n=e(u.navMenu).eq(0);if(!n.length){n=e("<a/>");r=n.wrap('<li id="active" class="w-menu-item"/>');i=true}break;case"flyout-menu-text":n=e(u.flyoutMenu).eq(0);if(!n.length){n=e("<a/>");r=n.wrap("<li/>").wrap('<ul class="wsite-menu"/>');i=true}break;case"phone-number-field":n=e(u.phone).eq(0);if(!n.length){n=e("<span/>",{class:"wsite-text"});r=n.wrap('<span class="phone-number"/>').wrap('<div id="header-right"/>');i=true}break;case"landing-page-headline":n=e(u.headline).eq(0);if(!n.length){n=e("<span/>",{class:"wsite-headline"});r=n.wrap("<h2/>");i=true}break;case"landing-page-sub-headline":n=e(u.subHeadline).eq(0);if(!n.length){n=e("<span/>",{class:"wsite-headline-paragraph"});r=n.wrap("<p/>");i=true}break;case"button":n=e(u.button).eq(0);if(!n.length){n=e("<span/>",{class:"wsite-button-inner"});r=n.wrap('<span class="wsite-button-large wsite-button-normal"/>');i=true}break;case"small-button":n=e(u.smallButton).eq(0);if(!n.length){n=e("<span/>",{class:"wsite-button-inner"});r=n.wrap('<span class="wsite-button-small wsite-button-normal"/>');i=true}break;case"blockquote":n=e(u.blockquote).eq(0);if(!n.length){n=e("<blockquote/>");i=true}break;case"footer-blockquote":n=e(u.footerBlockquote).eq(0);if(!n.length){n=e("<blockquote/>");i=true}break;case"blog-post-title":s=e(u.blogPostTitle).eq(0);if(!s){s=e("<a/>",{class:"blog-title-link"});r=s.wrap('<h2 class="blog-title"/>');r=r.wrap('<div class="blog-header"/>');e("#secondlist").append(r);i=true}o=h(s,i);if(Weebly.DesignOptions&&Weebly.DesignOptions.blogPostTitleHover){o.hover=Weebly.DesignOptions.blogPostTitleHover}else{o.hover=o.color}if(i){r.remove()}return o;case"product-title":n=e(u.productTitle).eq(0);if(!n.length){n=e("<h2/>",{class:"wsite-product-title"});i=true}break;case"product-price":n=e(u.productPrice).eq(0);if(!n.length){n=e("<a/>");r=n.wrap('<div class="wsite-product-price"/>');i=true}break}if(i){var a=/^footer/.test(t)?e(".wsite-footer").eq(0):e("#secondlist");a.append(r?r:n)}o=h(n,i);if(i){if(r){r.remove()}else{n.remove()}}return o};function h(e,t){var i={};var n="MozAppearance"in document.documentElement.style;var r=n&&t;i.font=e.css("fontFamily").replace(/"/g,"'").split(",")[0].toLowerCase();i.font=r?"":i.font;i.size=r?"":e.css("fontSize");if(!/px$/.test(i.size)){i.size="auto"}i.weight=r?"":e.css("fontWeight");if(isNaN(i.weight)){i.weight=i.weight.toUpperCase();if(i.weight=="BOLD"){i.weight=700}if(i.weight=="NORMAL"){i.weight=400}if(i.weight=="LIGHTER"){i.weight=300}}i.color=r?"":e.css("color");i.height=r?"":e.css("lineHeight");if(!/px$/.test(i.height)){i.height="auto"}return i}c.setDesignOptions=function(e){Weebly.DesignOptions=e};window.applyDesignOptions=c.applyDesignOptions;window.stripFontName=c.stripFontName;window.saveDesignOption=c.saveDesignOption;window.setDesignOption=c.setDesignOption;window.getCurrentStyles=c.getCurrentStyles;return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(12),i(120),i(14),i(51)],r=function(e,t,i,n,r,o){var s={};s.isCommerceCategoryPageID=function(e){if(e.indexOf("/")>0){return e.search(/store\/c[0-9]+\/.+/)!==-1}else{var i=t.result(r.getPage(e),"toJSON");return i&&i.page_kind==="category"}};s.getCategoryPromise=function(t){var n=e.Deferred(),r;if(!i.chromeless&&s.isCommerceCategoryPageID(t)){r=new o;r.fetch().done(function(e){n.resolve(r)})}else{n.resolve()}return n.promise()};s.getPageTypePromise=function(e,i,n){var o,a;return s.getCategoryPromise(e).then(function(l){o=s.getPageType(e.replace(/\/.*/,""),i,n);if(l){if(e.indexOf("/")>0){a=l.find(function(t){return e.indexOf(t.get("site_link"))!==-1});o=a&&a.get("page_layout")?a.get("page_layout"):o}else{var c=t.result(r.getPage(e),"toJSON");if(c){a=l.findWhere({site_category_id:c.store_page_kind_id});o=a&&a.get("page_layout")?a.get("page_layout"):o}}}return o})};s.getPageType=function(e,i,o){var a=t.result(r.getPage(e),"toJSON");var l="no-header";if(Weebly.view.isNativeApp&&Weebly.view.isAdaptiveView){return"no-header"}if(a){l=o&&a.mobile_layout?a.mobile_layout:a.layout}if(o&&a&&!a.mobile_layout&&n.isHeaderDisabled()){l="no-header"}if(n.isMobileEditor()&&!o&&a){if(a.mobile_layout=="header"){if(a.layout=="tall-header"||a.layout=="short-header"){l=a.layout}else{l="tall-header"}}else if(a.mobile_layout=="landing"){l="landing"}}if(a&&a.page_kind==="category"&&!a.layout){return"no-header"}var c=t.keys(i.page_type_templates);if(t.contains(c,l)){return l}else if(l=="tall-header"||l=="short-header"){if(t.contains(c,"header")){return"header"}}else if(l=="title"){if(t.contains(c,"header")){return"header"}else if(t.contains(c,"no-header")){return"no-header"}}return s.getDefaultPageType(i,o)};window.getPageType=s.getPageType;s.getDefaultPageType=function(e,t){return s.getOrderedPageTypes(e.page_type_templates,t)[0]};window.getDefaultPageType=s.getDefaultPageType;var a=["index","homepage","header","tall-header","short-header","no-header","landing","splash"];var l=["index","no-header","header","tall-header","short-header","homepage","landing","splash"];s.getOrderedPageTypes=function(e,i){var n=t.keys(e);var r=[];var o=[];var s=i?l:a;t.each(s,function(e){if(n.indexOf(e)!=-1){r.push(e)}});t.each(n,function(e){if(s.indexOf(e)==-1){o.push(e)}});o.sort();return r.concat(o)};window.getOrderedPageTypes=s.getOrderedPageTypes;s.getTopLevelSummary=function(){var i=[];var n=r.toJSON();t.each(n,function(t){if(t.hidden)return;var n={id:t.id,title:t.title,onclick:function(){if(config.chromeless){if(e(event.target.parentNode).data("hasChildren")){e(event.target.parentNode).trigger("mouseover")}else{External.navClicked(t.id)}}else if(!t.extlink&&!t.nonclickable){if(notBeenDragged()){noJump=1;goUpdateList(t.id,1)}}return false}};if(t.extlink){n.onmouseover=function(e){s.onExternalLinkHover(t,e||window.event)};n.onmouseout=function(){s.hideNavTooltip()}}i.push(n)});if(i.length===0&&window._W.Commerce&&window._W.Commerce.hasCart){i.push({isCart:true})}return i};window.getTopLevelSummary=s.getTopLevelSummary;s.onExternalLinkHover=function(t,i){var n=window._W.utl("javascript.editor.pages.utils_2")+" "+t.extlink;if(!s.tooltip){s.tooltip=e("<div/>",{class:"ext-tooltip"});e(document.body).append(s.tooltip)}s.tooltip.css({top:i.pageY+10+"px",left:i.pageX+10+"px"}).text(n).show()};s.hideNavTooltip=function(){if(s.tooltip){s.tooltip.hide()}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(7)],r=function(e,t){var i={};var n={};i.getDimensions=function(t,i){var r={};var o=i;if(!(o instanceof e)){o=e(i)}if(!t){console.warn("Namespace not specified:",t);return false}if(!o.length){console.warn("Target not found:",i);return false}var s=o.map(function(t,i){var n=e(i);var r=n.offset();var o=n.outerHeight();var s=n.outerWidth();return{top:r.top,left:r.left,height:o,width:s}}).get();n[t]={$el:o,target:i};return s};i.show=function(n,r,o){var s=i.getDimensions(n,r);if(!s){return e.Deferred().reject()}else{return t.request("beacon:show",n,s,o)}};i.close=function(e,n){return t.request("beacon:close",e,n).done(function(){i.remove(e)})};i.refresh=function(t){var r=n[t]||{};var o=e.Deferred();var s=r.$el;var a;if(!Object.keys(r).length){o.reject()}else if(e.contains(document,s)){a=i.getDimensions(t,s);o.resolve(a)}else if((s=e(r.target)).length){n[t].$el=s;a=i.getDimensions(t,r.target);o.resolve(a)}else{o.reject()}return o.promise()};i.find=function(t){var n=e.Deferred();var r=i.getDimensions(t,t);r?n.resolve(t,r):n.reject();return n.promise()};i.remove=function(e){var t=n[e];if(t){delete t[e]}};t.reqres.setHandlers({"beacon:refresh":i.refresh,"beacon:remove":i.remove,"beacon:find":i.find});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(11),i(79),i(55),i(124),i(7),i(17),i(35),i(147)],r=function(e,t,i,n,r,o,s,a){var l={resizing:false};var c=true;var u;var d=100;l.init=function(r,a,p){var g={show:S,hide:I,destroy:O};var w=false;var b=0;var y;var _={mouseover:k,mouseout:x};r.on(_);if(!E()){return g}function E(){var t=a.attr("src");if(!a.length||a.data("ui-resizable")||a.width()<=0||a.height()<=0||!a[0].complete||!t.match(/^http:\/\/[^\.]+\.weebly\.com\/uploads\//)&&!t.match(/\/uploads\//)||a.hasClass("product-image")&&e(r).down(".product-old").length===1){return false}var n=a.closest(".element");if(f(n)){n.css("width","auto")}a.resizable({handles:"se",aspectRatio:true,minWidth:30,minHeight:30,maxWidth:1e3,maxHeight:2e3,start:m,stop:T,resize:C}).css({margin:"0","max-width":"100%"}).attr("style",h).closest(".ui-wrapper").css({display:"inline-block",overflow:"visible","vertical-align":a.css("vertical-align")});l.updateElementWidth(a);y=a.siblings(".ui-resizable-handle").addClass("imageresizer").hide();i.init(y,window._W.utl("javascript.editor.build.images.resizing_1"));return true}function T(e,n){e.originalEvent.originalEvent.stopImmediatePropagation();i.enable();var c=r[0].id;var u=s.getContentFieldProperty(c,"<!DATA!>");var d=JSON.parse(u.property_result);var f=Math.round(n.size.width-a.outerWidth(true)+a.width());var h=Math.round(n.size.height-a.outerHeight(true)+a.height());o.execute("loading:start","SiteEditorUiImagesResizing::imageResize");Weebly.Editor.RPC.ImageEditor.resizeImageElement(c,d,f,h).done(function(e){var i=l.updateElementWidth(a);if(i!==null){f=i}s.setContentFieldProperty(c,"<!SRC!>",e.image.publishedUrl);s.setContentFieldProperty(c,"<!DATA!>",JSON.stringify(e));s.setContentFieldProperty(c,"<!WIDTH!>",f);s.setContentFieldProperty(c,"<!MAXWIDTH!>","100%");Weebly.Elements.unselectElement();window.updateImageElement(e,c);o.execute("loading:stop","SiteEditorUiImagesResizing::imageResize");t.vent.trigger("imageResizeStopped");t.vent.trigger("editor:elements:changed");l.resizing=false;Weebly.Elements.disableElementOptions=false})}function C(){t.vent.trigger("editor:element:resize");l.updateElementWidth(a)}function S(){if(!a.data("ui-resizable")){E();return}if(!w&&y&&c&&!n.isInitialImage(a[0])&&p()){v();y.show();w=true;u=I}}function I(){if(w&&y){y.hide();w=false}}function O(){l.destroy(a);I();r.off(_)}function k(){b++;S()}function x(){if(!a.data("ui-resizable")){return}var e=b;setTimeout(function(){if(e===b&&!r.is(Weebly.Elements.currentElement)){I()}},d)}return g};function f(e){var t=e.attr("style");if(!t||t.match(/(^|[^\w-])width:/)===null){return false}return true}l.updateElementWidth=function(e){var t=e.closest(".element");if(!f(t)){return null}if(e.data("ui-resizable")){e=e.closest(".ui-wrapper")}var i=e.outerWidth(true)+"px";t.css("width",i);return i};l.destroy=function(e){if(!e.data("ui-resizable")){return}e.attr("style",p).css("margin",e.parent().css("margin")).resizable("destroy").css({width:"",height:""})};function h(e,t){return t.replace(/margin:([^;!]+)(!important)?(;|$)/,"margin:$1 !important$3")}function p(e,t){return t.replace(/margin:([^;!]+)(!important)?(;|$)/,"margin:$1$3")}function m(e,t){Weebly.Elements.disableElementOptions=true;if(a.isElementSettingsOpen()){Weebly.Elements.hideElementSettings()}Weebly.Elements.selectElement(t.element.closest(".element")[0]);l.resizing=true;i.disable();g(t.originalElement,t.element)}function g(e,t){var i=t.parentsUntil("div").last().parent().width();var n=e.outerWidth(true)-e.width()+(t.outerWidth(true)-t.width());var r=i-n;e.resizable("option","maxWidth",r);return r}function v(){if(u){u();u=null}}l.disable=function(){v();c=false};l.enable=function(){c=true};l.unsetDimensions=function(t){if(!(t instanceof e)){t=e("body")}return t.find(".ui-wrapper").children("img").each(w)};function w(){var t=e(this);if(!t.data("ui-resizable")){return}var i=g(t,t.parent());var n={width:"",height:""};t.css(n).css("max-width",i+"px").closest(".ui-wrapper").css(n)}return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t={getGradient:function(e){if(e===null||typeof e!=="object"){return""}var t=e.colors;var i=this.getColorString(t);return e.type+"-gradient("+e.angle+"deg, "+i+")"},generateCSS:function(e){if(e===null||typeof e!=="object"){return""}var t="";var i=e.colors;if(i&&i[0]){t+="background: "+i[0].color+";"}var n=this.getColorString(i);var r=e.type+"-gradient("+e.angle+"deg, "+n+");";t+="background: "+r;return t},getColorString:function(t){var i=e.map(t,function(e){return e.color+" "+e.position+"%"});return i.join(", ")}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,function(e,t,i){(function(t){window.jsonrpc={};jsonrpc.CallStack=function(e,t,i,n){this._counter=0;this._enterFn=e;this._exitFn=i;this._enterScope=t;this._exitScope=n};jsonrpc.CallStack.prototype={enter:function(){this._counter=this._counter<0?1:this._counter+1;if(this._counter===1){this._enterFn.apply(this._enterScope,arguments)}},exit:function(e){this._counter-=1;if(this._counter===0){this._exitFn.apply(this._exitScope,arguments)}}};jsonrpc.DelayedTask=function(e,t,i){this._fn=e||function(){};this._scope=t||undefined;this._args=i||[];this._id=null};jsonrpc.Observable=function(){this._listeners=[]};jsonrpc.Observable.prototype={bind:function(e,t){var i={fn:e,scope:t||this};this._listeners.push(i);return i},unbind:function(e){var t=this._listeners.indexOf(e);if(t!==-1){this._listeners.splice(t,1)}},trigger:function(){var e;for(e=0;e<this._listeners.length;e+=1){this._listeners[e].fn.apply(this._listeners[e].scope,arguments)}}};jsonrpc.DelayedTask.prototype={delay:function(e,t,i,n){var r=this;this._fn=t||this._fn;this._scope=i||this._scope;this._args=n||this._args;this.cancel();this._id=window.setInterval(function(){window.clearInterval(r._id);r._id=null;r._fn.apply(r._scope,r._args)},e)},cancel:function(){if(this._id){window.clearInterval(this._id);this._id=null}}};jsonrpc.JsonRpc=function(e){var t=e.split("/");this._url=e;this._end=t[t.length-2];this.loading=new jsonrpc.Observable;this.loaded=new jsonrpc.Observable;this.unhandledFailure=new jsonrpc.Observable;this._loadingState=new jsonrpc.CallStack(this.loading.trigger,this.loading,this.loaded.trigger,this.loaded);this._requests=[];this._batchingMilliseconds=10;this._delayedTask=new jsonrpc.DelayedTask};jsonrpc.JsonRpc.prototype={setBatchingMilliseconds:function(e){this._batchingMilliseconds=e},call:function(){var e=this._getParams.apply(this,arguments);this._loadingState.enter();if(e.standalone){this._sendRequests([e])}else{this._requests.push(e);if(this._batchingMilliseconds){this._delayedTask.delay(this._batchingMilliseconds,this._sendRequests,this)}else{this._sendRequests()}}},_sendRequests:function(e){var t=this,i=[],n=[],r,o=[],s=[],a=true,l;if(typeof e==="undefined"){e=t._requests;t._requests=[]}for(r=0;r<e.length;r+=1){e[r].request.id=r;if(e[r].secure){s.push(e[r].request.method);n.push(e[r].request)}else{o.push(e[r].request.method);i.push(e[r].request)}}if(i.length>0){if(i.length===1){i=i[0]}l=t._url+(a?"?"+this._end+"["+o.join()+"]":"");t._doJsonPost(l,i,c)}if(n.length>0){if(n.length===1){n=n[0]}l=t._url+(a?"?"+this._end+"["+s.join()+"]":"");t._doJsonpGet(l,n,c)}function c(i,n,o){var s;if(i){s=t._isArray(n)?n:[n]}else{s=[];for(r=0;r<e.length;r+=1){s[r]={id:r,error:{message:n}}}}t._handleResponses(e,s,o)}},_handleResponses:function(e,t,i){var n,r,o;for(n=0;n<t.length;n+=1){r=t[n];o=e[r.id];this._handleResponse(o,r,i)}},_handleResponse:function(e,t,i){var n=!t.error,r=n?t.result:t.error.message;this._loadingState.exit();if(n){e.success.call(e.scope,r,i)}else{e.failure.call(e.scope,r,i)}e.callback.call(e.scope,n,r,i)},_getParams:function(){var e=this,t=Array.prototype.slice.call(arguments),i={request:{jsonrpc:"2.0",method:t.shift()}};i.request.params=[];while(t.length>1&&!this._isFunction(t[0])){i.request.params.push(t.shift())}if(this._isFunction(t[0])){i.success=t[0];i.scope=t[1]}else{i.success=t[0].success;i.failure=t[0].failure;i.callback=t[0].callback;i.scope=t[0].scope;i.secure=!!t[0].secure;i.standalone=!!t[0].standalone}i.success=i.success||function(){return};i.failure=i.failure||function(){e.unhandledFailure.trigger.apply(e.unhandledFailure,arguments)};i.callback=i.callback||function(){return};return i},_isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},_isFunction:function(e){return Object.prototype.toString.apply(e)==="[object Function]"},_beforeSend:function(e){},_doJsonPost:function(e,n,r){var o=t||i(1),s=o.ajax({type:"POST",url:e,cache:false,contentType:"application/json; charset=UTF-8",dataType:"json",beforeSend:this._beforeSend,data:JSON.stringify(n),headers:{"x-wtok":Weebly.RequestToken}}).done(function(e){var t=s.getResponseHeader("Content-Type");if(s.status!==200){r(false,'Expected HTTP response "200 OK", found "'+s.status+" "+s.statusText+'"',s)}else if(t.indexOf("application/json")!==0){r(false,'Expected JSON encoded response, found "'+t+'"',s)}else{r(true,e,s)}}).fail(function(){r(false,"HTTP request failed",s)})},_doJsonpGet:function(e,n,r){e="https://"+_W.securePrefix+e;var o=t||i(1),s=o.ajax({type:"GET",url:e,cache:false,jsonpCallback:"WJsonp",dataType:"jsonp",beforeSend:this._beforeSend,data:n,headers:{"x-wtok":Weebly.RequestToken}}).done(function(e){r(true,e,s)}).fail(function(){r(false,"HTTP request failed",s)})}};e.exports=jsonrpc}).call(t,i(1))},function(e,t,i){var n;var n;(function(t){if(true){e.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof global!=="undefined"){i=global}else if(typeof self!=="undefined"){i=self}else{i=this}i.Raven=t()}})(function(){var e,t,i;return function e(t,i,r){function o(a,l){if(!i[a]){if(!t[a]){var c=typeof n=="function"&&n;if(!l&&c)return n(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return o(i?i:e)},d,d.exports,e,t,i,r)}return i[a].exports}var s=typeof n=="function"&&n;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,i){i=t.exports=n;i.getSerialize=r;function n(e,t,i,n){return JSON.stringify(e,r(t,n),i)}function r(e,t){var i=[],n=[];if(t==null)t=function(e,t){if(i[0]===t)return"[Circular ~]";return"[Circular ~."+n.slice(0,i.indexOf(t)).join(".")+"]"};return function(r,o){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this);~s?n.splice(s,Infinity,r):n.push(r);if(~i.indexOf(o))o=t.call(this,r,o)}else i.push(o);return e==null?o:e.call(this,r,o)}}},{}],2:[function(e,t,i){"use strict";function n(e){this.name="RavenConfigError";this.message=e}n.prototype=new Error;n.prototype.constructor=n;t.exports=n},{}],3:[function(e,t,i){"use strict";var n=function(e,t,i){var n=e[t];var r=e;if(!(t in e)){return}var o=t==="warn"?"warning":t;e[t]=function(){var e=[].slice.call(arguments);
var t=""+e.join(" ");var s={level:o,logger:"console",extra:{arguments:e}};i&&i(t,s);if(n){Function.prototype.apply.call(n,r,e)}}};t.exports={wrapMethod:n}},{}],4:[function(e,t,i){"use strict";var n=e(6);var r=e(2);var o=e(1);var s=e(3).wrapMethod;var a="source protocol user pass host port path".split(" "),l=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function c(){return+new Date}var u=typeof window!=="undefined"?window:undefined;var d=u&&u.document;function f(){this._hasJSON=!!(typeof JSON==="object"&&JSON.stringify);this._hasDocument=!p(d);this._lastCapturedException=null;this._lastEventId=null;this._globalServer=null;this._globalKey=null;this._globalProject=null;this._globalContext={};this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:true,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:true};this._ignoreOnError=0;this._isRavenInstalled=false;this._originalErrorStackTraceLimit=Error.stackTraceLimit;this._originalConsole=u.console||{};this._originalConsoleMethods={};this._plugins=[];this._startTime=c();this._wrappedBuiltIns=[];this._breadcrumbs=[];this._lastCapturedEvent=null;this._keypressTimeout;this._location=u.location;this._lastHref=this._location&&this._location.href;for(var e in this._originalConsole){this._originalConsoleMethods[e]=this._originalConsole[e]}}f.prototype={VERSION:"3.8.0",debug:false,TraceKit:n,config:function(e,t){var i=this;if(i._globalServer){this._logDebug("error","Error: Raven has already been configured");return i}if(!e)return i;var r=i._globalOptions;if(t){y(t,function(e,t){if(e==="tags"||e==="extra"){i._globalContext[e]=t}else{r[e]=t}})}i.setDSN(e);r.ignoreErrors.push(/^Script error\.?$/);r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/);r.ignoreErrors=C(r.ignoreErrors);r.ignoreUrls=r.ignoreUrls.length?C(r.ignoreUrls):false;r.whitelistUrls=r.whitelistUrls.length?C(r.whitelistUrls):false;r.includePaths=C(r.includePaths);r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:true,console:true,dom:true,location:true};var s=r.autoBreadcrumbs;if({}.toString.call(s)==="[object Object]"){s=_(o,s)}else if(s!==false){s=o}r.autoBreadcrumbs=s;n.collectWindowErrors=!!r.collectWindowErrors;return i},install:function(){var e=this;if(e.isSetup()&&!e._isRavenInstalled){n.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)});e._instrumentTryCatch();if(e._globalOptions.autoBreadcrumbs)e._instrumentBreadcrumbs();e._drainPlugins();e._isRavenInstalled=true}Error.stackTraceLimit=e._globalOptions.stackTraceLimit;return this},setDSN:function(e){var t=this,i=t._parseDSN(e),n=i.path.lastIndexOf("/"),r=i.path.substr(1,n);t._dsn=e;t._globalKey=i.user;t._globalSecret=i.pass&&i.pass.substr(1);t._globalProject=i.path.substr(n+1);t._globalServer=t._getGlobalServer(i);t._globalEndpoint=t._globalServer+"/"+r+"api/"+t._globalProject+"/store/"},context:function(e,t,i){if(m(e)){i=t||[];t=e;e=undefined}return this.wrap(e,t).apply(this,i)},wrap:function(e,t,i){var n=this;if(p(t)&&!m(e)){return e}if(m(e)){t=e;e=undefined}if(!m(t)){return t}try{if(t.__raven__){return t}if(t.__raven_wrapper__){return t.__raven_wrapper__}}catch(e){return t}function r(){var r=[],o=arguments.length,s=!e||e&&e.deep!==false;if(i&&m(i)){i.apply(this,arguments)}while(o--)r[o]=s?n.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,r)}catch(t){n._ignoreNextOnError();n.captureException(t,e);throw t}}for(var o in t){if(T(t,o)){r[o]=t[o]}}r.prototype=t.prototype;t.__raven_wrapper__=r;r.__raven__=true;r.__inner__=t;return r},uninstall:function(){n.report.uninstall();this._restoreBuiltIns();Error.stackTraceLimit=this._originalErrorStackTraceLimit;this._isRavenInstalled=false;return this},captureException:function(e,t){if(!b(e)){return this.captureMessage(e,_({trimHeadFrames:1,stacktrace:true},t))}this._lastCapturedException=e;try{var i=n.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t){throw t}}return this},captureMessage:function(e,t){if(!!this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(e)){return}var i=_({message:e+""},t);if(t&&t.stacktrace){var r;try{throw new Error(e)}catch(e){r=e}r.name=null;t=_({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var o=n.computeStackTrace(r);var s=this._prepareFrames(o,t);i.stacktrace={frames:s.reverse()}}this._send(i);return this},captureBreadcrumb:function(e){var t=_({timestamp:c()/1e3},e);this._breadcrumbs.push(t);if(this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs){this._breadcrumbs.shift()}return this},addPlugin:function(e){var t=[].slice.call(arguments,1);this._plugins.push([e,t]);if(this._isRavenInstalled){this._drainPlugins()}return this},setUserContext:function(e){this._globalContext.user=e;return this},setExtraContext:function(e){this._mergeContext("extra",e);return this},setTagsContext:function(e){this._mergeContext("tags",e);return this},clearContext:function(){this._globalContext={};return this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){this._globalOptions.environment=e;return this},setRelease:function(e){this._globalOptions.release=e;return this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;this._globalOptions.dataCallback=m(e)?function(i){return e(i,t)}:e;return this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;this._globalOptions.shouldSendCallback=m(e)?function(i){return e(i,t)}:e;return this},setTransport:function(e){this._globalOptions.transport=e;return this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){if(!this._hasJSON)return false;if(!this._globalServer){if(!this.ravenNotConfiguredError){this.ravenNotConfiguredError=true;this._logDebug("error","Error: Raven has not been configured.")}return false}return true},afterLoad:function(){var e=u.RavenConfig;if(e){this.config(e.dsn,e.config).install()}},showReportDialog:function(e){if(!d)return;e=e||{};var t=e.eventId||this.lastEventId();if(!t){throw new r("Missing eventId")}var i=e.dsn||this._dsn;if(!i){throw new r("Missing DSN")}var n=encodeURIComponent;var o="";o+="?eventId="+n(t);o+="&dsn="+n(i);var s=e.user||this._globalContext.user;if(s){if(s.name)o+="&name="+n(s.name);if(s.email)o+="&email="+n(s.email)}var a=this._getGlobalServer(this._parseDSN(i));var l=d.createElement("script");l.async=true;l.src=a+"/api/embed/error-page/"+o;(d.head||d.body).appendChild(l)},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1;setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var i,n;if(!this._hasDocument)return;t=t||{};e="raven"+e.substr(0,1).toUpperCase()+e.substr(1);if(d.createEvent){i=d.createEvent("HTMLEvents");i.initEvent(e,true,true)}else{i=d.createEventObject();i.eventType=e}for(n in t)if(T(t,n)){i[n]=t[n]}if(d.createEvent){d.dispatchEvent(i)}else{try{d.fireEvent("on"+i.eventType.toLowerCase(),i)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(i){t._keypressTimeout=null;if(t._lastCapturedEvent===i)return;t._lastCapturedEvent=i;var n=i.target;var r;try{r=k(n)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}},_keypressEventHandler:function(){var e=this,t=1e3;return function(i){var n=i.target,r=n&&n.tagName;if(!r||r!=="INPUT"&&r!=="TEXTAREA"&&!n.isContentEditable)return;var o=e._keypressTimeout;if(!o){e._breadcrumbEventHandler("input")(i)}clearTimeout(o);e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},t)}},_captureUrlChange:function(e,t){var i=I(this._location.href);var n=I(t);var r=I(e);this._lastHref=t;if(i.protocol===n.protocol&&i.host===n.host)t=n.relative;if(i.protocol===r.protocol&&i.host===r.host)e=r.relative;this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_instrumentTryCatch:function(){var e=this;var t=e._wrappedBuiltIns;function i(t){return function(i,n){var r=new Array(arguments.length);for(var o=0;o<r.length;++o){r[o]=arguments[o]}var s=r[0];if(m(s)){r[0]=e.wrap(s)}if(t.apply){return t.apply(this,r)}else{return t(r[0],r[1])}}}var n=this._globalOptions.autoBreadcrumbs;function r(i){var r=u[i]&&u[i].prototype;if(r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")){D(r,"addEventListener",function(t){return function(r,o,s,a){try{if(o&&o.handleEvent){o.handleEvent=e.wrap(o.handleEvent)}}catch(e){}var l;if(n&&n.dom&&(i==="EventTarget"||i==="Node")){if(r==="click"){l=e._breadcrumbEventHandler(r)}else if(r==="keypress"){l=e._keypressEventHandler()}}return t.call(this,r,e.wrap(o,undefined,l),s,a)}},t);D(r,"removeEventListener",function(e){return function(t,i,n,r){try{i=i&&(i.__raven_wrapper__?i.__raven_wrapper__:i)}catch(e){}return e.call(this,t,i,n,r)}},t)}}D(u,"setTimeout",i,t);D(u,"setInterval",i,t);if(u.requestAnimationFrame){D(u,"requestAnimationFrame",function(t){return function(i){return t(e.wrap(i))}},t)}var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(var s=0;s<o.length;s++){r(o[s])}var a=u.jQuery||u.$;if(a&&a.fn&&a.fn.ready){D(a.fn,"ready",function(t){return function(i){return t.call(this,e.wrap(i))}},t)}},_instrumentBreadcrumbs:function(){var e=this;var t=this._globalOptions.autoBreadcrumbs;var i=e._wrappedBuiltIns;function n(t,i){if(t in i&&m(i[t])){D(i,t,function(t){return e.wrap(t)})}}if(t.xhr&&"XMLHttpRequest"in u){var r=XMLHttpRequest.prototype;D(r,"open",function(t){return function(i,n){if(g(n)&&n.indexOf(e._globalKey)===-1){this.__raven_xhr={method:i,url:n,status_code:null}}return t.apply(this,arguments)}},i);D(r,"send",function(t){return function(i){var r=this;function o(){if(r.__raven_xhr&&(r.readyState===1||r.readyState===4)){try{r.__raven_xhr.status_code=r.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}var s=["onload","onerror","onprogress"];for(var a=0;a<s.length;a++){n(s[a],r)}if("onreadystatechange"in r&&m(r.onreadystatechange)){D(r,"onreadystatechange",function(t){return e.wrap(t,undefined,o)})}else{r.onreadystatechange=o}return t.apply(this,arguments)}},i)}if(t.xhr&&"fetch"in u){D(u,"fetch",function(t){return function(i,n){var r=new Array(arguments.length);for(var o=0;o<r.length;++o){r[o]=arguments[o]}var s="GET";if(r[1]&&r[1].method){s=r[1].method}var a={method:s,url:r[0],status_code:null};e.captureBreadcrumb({type:"http",category:"fetch",data:a});return t.apply(this,r).then(function(e){a.status_code=e.status;return e})}},i)}if(t.dom&&this._hasDocument){if(d.addEventListener){d.addEventListener("click",e._breadcrumbEventHandler("click"),false);d.addEventListener("keypress",e._keypressEventHandler(),false)}else{d.attachEvent("onclick",e._breadcrumbEventHandler("click"));d.attachEvent("onkeypress",e._keypressEventHandler())}}var o=u.chrome;var a=o&&o.app&&o.app.runtime;var l=!a&&u.history&&history.pushState;if(t.location&&l){var c=u.onpopstate;u.onpopstate=function(){var t=e._location.href;e._captureUrlChange(e._lastHref,t);if(c){return c.apply(this,arguments)}};D(history,"pushState",function(t){return function(){var i=arguments.length>2?arguments[2]:undefined;if(i){e._captureUrlChange(e._lastHref,i+"")}return t.apply(this,arguments)}},i)}if(t.console&&"console"in u&&console.log){var f=function(t,i){e.captureBreadcrumb({message:t,level:i.level,category:"console"})};y(["debug","info","warn","error","log"],function(e,t){s(console,t,f)})}},_restoreBuiltIns:function(){var e;while(this._wrappedBuiltIns.length){e=this._wrappedBuiltIns.shift();var t=e[0],i=e[1],n=e[2];t[i]=n}},_drainPlugins:function(){var e=this;y(this._plugins,function(t,i){var n=i[0];var r=i[1];n.apply(e,[e].concat(r))})},_parseDSN:function(e){var t=l.exec(e),i={},n=7;try{while(n--)i[a[n]]=t[n]||""}catch(t){throw new r("Invalid DSN: "+e)}if(i.pass&&!this._globalOptions.allowSecretKey){throw new r("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key")}return i},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");if(e.protocol){t=e.protocol+":"+t}return t},_handleOnErrorStackInfo:function(){if(!this._ignoreOnError){this._handleStackInfo.apply(this,arguments)}},_handleStackInfo:function(e,t){var i=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t});this._processException(e.name,e.message,e.url,e.lineno,i,t)},_prepareFrames:function(e,t){var i=this;var n=[];if(e.stack&&e.stack.length){y(e.stack,function(e,t){var r=i._normalizeFrame(t);if(r){n.push(r)}});if(t&&t.trimHeadFrames){for(var r=0;r<t.trimHeadFrames&&r<n.length;r++){n[r].in_app=false}}}n=n.slice(0,this._globalOptions.stackTraceLimit);return n},_normalizeFrame:function(e){if(!e.url)return;var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};t.in_app=!(!!this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)?js$/.test(t.filename));return t},_processException:function(e,t,i,n,r,o){var s;if(!!this._globalOptions.ignoreErrors.test&&this._globalOptions.ignoreErrors.test(t))return;t+="";if(r&&r.length){i=r[0].filename||i;r.reverse();s={frames:r}}else if(i){s={frames:[{filename:i,lineno:n,in_app:true}]}}if(!!this._globalOptions.ignoreUrls.test&&this._globalOptions.ignoreUrls.test(i))return;if(!!this._globalOptions.whitelistUrls.test&&!this._globalOptions.whitelistUrls.test(i))return;var a=_({exception:{values:[{type:e,value:t,stacktrace:s}]},culprit:i},o);this._send(a)},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message){e.message=E(e.message,t)}if(e.exception){var i=e.exception.values[0];i.value=E(i.value,t)}return e},_getHttpData:function(){if(!this._hasDocument||!d.location||!d.location.href){return}var e={headers:{"User-Agent":navigator.userAgent}};e.url=d.location.href;if(d.referrer){e.headers.Referer=d.referrer}return e},_send:function(e){var t=this._globalOptions;var i={project:this._globalProject,logger:t.logger,platform:"javascript"},n=this._getHttpData();if(n){i.request=n}if(e.trimHeadFrames)delete e.trimHeadFrames;e=_(i,e);e.tags=_(_({},this._globalContext.tags),e.tags);e.extra=_(_({},this._globalContext.extra),e.extra);e.extra["session:duration"]=c()-this._startTime;if(this._breadcrumbs&&this._breadcrumbs.length>0){e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}}if(w(e.tags))delete e.tags;if(this._globalContext.user){e.user=this._globalContext.user}if(t.environment)e.environment=t.environment;if(t.release)e.release=t.release;if(t.serverName)e.server_name=t.serverName;if(m(t.dataCallback)){e=t.dataCallback(e)||e}if(!e||w(e)){return}if(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)){return}this._sendProcessedPayload(e)},_getUuid:function(){return O()},_sendProcessedPayload:function(e,t){var i=this;var n=this._globalOptions;this._lastEventId=e.event_id||(e.event_id=this._getUuid());e=this._trimPacket(e);this._logDebug("debug","Raven about to send:",e);if(!this.isSetup())return;var r={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};if(this._globalSecret){r.sentry_secret=this._globalSecret}var o=e.exception&&e.exception.values[0];this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var s=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:s,auth:r,data:e,options:n,onSuccess:function n(){i._triggerEvent("success",{data:e,src:s});t&&t()},onError:function n(r){i._triggerEvent("failure",{data:e,src:s});r=r||new Error("Raven send failed (no additional details provided)");t&&t(r)}})},_makeRequest:function(e){var t=new XMLHttpRequest;var i="withCredentials"in t||typeof XDomainRequest!=="undefined";if(!i)return;var n=e.url;function r(){if(t.status===200){if(e.onSuccess){e.onSuccess()}}else if(e.onError){e.onError(new Error("Sentry error code: "+t.status))}}if("withCredentials"in t){t.onreadystatechange=function(){if(t.readyState!==4){return}r()}}else{t=new XDomainRequest;n=n.replace(/^https?:/,"");t.onload=r}t.open("POST",n+"?"+S(e.auth));t.send(o(e.data))},_logDebug:function(e){if(this._originalConsoleMethods[e]&&this.debug){Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))}},_mergeContext:function(e,t){if(p(t)){delete this._globalContext[e]}else{this._globalContext[e]=_(this._globalContext[e]||{},t)}}};var h=Object.prototype;function p(e){return e===void 0}function m(e){return typeof e==="function"}function g(e){return h.toString.call(e)==="[object String]"}function v(e){return typeof e==="object"&&e!==null}function w(e){for(var t in e)return false;return true}function b(e){var t=h.toString.call(e);return v(e)&&t==="[object Error]"||t==="[object Exception]"||e instanceof Error}function y(e,t){var i,n;if(p(e.length)){for(i in e){if(T(e,i)){t.call(null,i,e[i])}}}else{n=e.length;if(n){for(i=0;i<n;i++){t.call(null,i,e[i])}}}}function _(e,t){if(!t){return e}y(t,function(t,i){e[t]=i});return e}function E(e,t){return!t||e.length<=t?e:e.substr(0,t)+"…"}function T(e,t){return h.hasOwnProperty.call(e,t)}function C(e){var t=[],i=0,n=e.length,r;for(;i<n;i++){r=e[i];if(g(r)){t.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else if(r&&r.source){t.push(r.source)}}return new RegExp(t.join("|"),"i")}function S(e){var t=[];y(e,function(e,i){t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))});return t.join("&")}function I(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var i=t[6]||"";var n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+i+n}}function O(){var e=window.crypto||window.msCrypto;if(!p(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t);t[3]=t[3]&4095|16384;t[4]=t[4]&16383|32768;var i=function(e){var t=e.toString(16);while(t.length<4){t="0"+t}return t};return i(t[0])+i(t[1])+i(t[2])+i(t[3])+i(t[4])+i(t[5])+i(t[6])+i(t[7])}else{return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e==="x"?t:t&3|8;return i.toString(16)})}}function k(e){var t=5,i=80,n=[],r=0,o=0,s=" > ",a=s.length,l;while(e&&r++<t){l=x(e);if(l==="html"||r>1&&o+n.length*a+l.length>=i){break}n.push(l);o+=l.length;e=e.parentNode}return n.reverse().join(s)}function x(e){var t=[],i,n,r,o,s;if(!e||!e.tagName){return""}t.push(e.tagName.toLowerCase());if(e.id){t.push("#"+e.id)}i=e.className;if(i&&g(i)){n=i.split(" ");for(s=0;s<n.length;s++){t.push("."+n[s])}}var a=["type","name","title","alt"];for(s=0;s<a.length;s++){r=a[s];o=e.getAttribute(r);if(o){t.push("["+r+'="'+o+'"]')}}return t.join("")}function D(e,t,i,n){var r=e[t];e[t]=i(r);if(n){n.push([e,t,r])}}if(typeof __DEV__!=="undefined"&&__DEV__){f.utils={isUndefined:p,isFunction:m,isString:g,isObject:v,isEmptyObject:w,isError:b,each:y,objectMerge:_,truncate:E,hasKey:T,joinRegExp:C,urlencode:S,uuid4:O,htmlTreeAsString:k,htmlElementAsString:x,parseUrl:I,fill:D}}f.prototype.setUser=f.prototype.setUserContext;f.prototype.setReleaseContext=f.prototype.setRelease;t.exports=f},{1:1,2:2,3:3,6:6}],5:[function(e,t,i){"use strict";var n=e(4);var r=window.Raven;var o=new n;o.noConflict=function(){window.Raven=r;return o};o.afterLoad();t.exports=o},{4:4}],6:[function(e,t,i){"use strict";var n={collectWindowErrors:true,debug:false};var r=[].slice;var o="?";var s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function a(){if(typeof document==="undefined")return"";return document.location.href}n.report=function e(){var t=[],i=null,l=null,c=null;function u(e){v();t.push(e)}function d(e){for(var i=t.length-1;i>=0;--i){if(t[i]===e){t.splice(i,1)}}}function f(){w();t=[]}function h(e,i){var o=null;if(i&&!n.collectWindowErrors){return}for(var s in t){if(t.hasOwnProperty(s)){try{t[s].apply(null,[e].concat(r.call(arguments,2)))}catch(e){o=e}}}if(o){throw o}}var p,m;function g(e,t,i,r,l){var u=null;if(c){n.computeStackTrace.augmentStackTraceWithInitialElement(c,t,i,e);b()}else if(l){u=n.computeStackTrace(l);h(u,true)}else{var d={url:t,line:i,column:r};var f=undefined;var m=e;var g;if({}.toString.call(e)==="[object String]"){var g=e.match(s);if(g){f=g[1];m=g[2]}}d.func=o;u={name:f,message:m,url:a(),stack:[d]};h(u,true)}if(p){return p.apply(this,arguments)}return false}function v(){if(m){return}p=window.onerror;window.onerror=g;m=true}function w(){if(!m){return}window.onerror=p;m=false;p=undefined}function b(){var e=c,t=i;i=null;c=null;l=null;h.apply(null,[e,false].concat(t))}function y(e,t){var o=r.call(arguments,1);if(c){if(l===e){return}else{b()}}var s=n.computeStackTrace(e);c=s;l=e;i=o;setTimeout(function(){if(l===e){b()}},s.incomplete?2e3:0);if(t!==false){throw e}}y.subscribe=u;y.unsubscribe=d;y.uninstall=f;return y}();n.computeStackTrace=function e(){function t(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function i(e){return t(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function r(e){if(typeof e.stack==="undefined"||!e.stack)return;var t=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,n=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,r=e.stack.split("\n"),s=[],l,c,u=/^(.*) is undefined$/.exec(e.message);for(var d=0,f=r.length;d<f;++d){if(l=t.exec(r[d])){var h=l[2]&&l[2].indexOf("native")!==-1;c={url:!h?l[2]:null,func:l[1]||o,args:h?[l[2]]:[],line:l[3]?+l[3]:null,column:l[4]?+l[4]:null}}else if(l=n.exec(r[d])){c={url:l[2],func:l[1]||o,args:[],line:+l[3],column:l[4]?+l[4]:null}}else if(l=i.exec(r[d])){c={url:l[3],func:l[1]||o,args:l[2]?l[2].split(","):[],line:l[4]?+l[4]:null,column:l[5]?+l[5]:null}}else{continue}if(!c.func&&c.line){c.func=o}s.push(c)}if(!s.length){return null}if(!s[0].column&&typeof e.columnNumber!=="undefined"){s[0].column=e.columnNumber+1}return{name:e.name,message:e.message,url:a(),stack:s}}function s(e,t,i,n){var r={url:t,line:i};if(r.url&&r.line){e.incomplete=false;if(!r.func){r.func=o}if(e.stack.length>0){if(e.stack[0].url===r.url){if(e.stack[0].line===r.line){return false}else if(!e.stack[0].line&&e.stack[0].func===r.func){e.stack[0].line=r.line;return false}}}e.stack.unshift(r);e.partial=true;return true}else{e.incomplete=true}return false}function l(e,t){var i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,r=[],u={},d=false,f,h,p;for(var m=l.caller;m&&!d;m=m.caller){if(m===c||m===n.report){continue}h={url:null,func:o,line:null,column:null};if(m.name){h.func=m.name}else if(f=i.exec(m.toString())){h.func=f[1]}if(typeof h.func==="undefined"){try{h.func=f.input.substring(0,f.input.indexOf("{"))}catch(e){}}if(u[""+m]){d=true}else{u[""+m]=true}r.push(h)}if(t){r.splice(0,t)}var g={name:e.name,message:e.message,url:a(),stack:r};s(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description);return g}function c(e,t){var i=null;t=t==null?0:+t;try{i=r(e);if(i){return i}}catch(e){if(n.debug){throw e}}try{i=l(e,t+1);if(i){return i}}catch(e){if(n.debug){throw e}}return{name:e.name,message:e.message,url:a()}}c.augmentStackTraceWithInitialElement=s;c.computeStackTraceFromStackProp=r;return c}();t.exports=n},{}]},{},[5])(5)})},function(e,t,i){var n,r;!(n=[i(1),i(5),i(4),i(6),i(141)],r=function(e,t,i,n,r){var o={"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)",transform:"translateZ(0)"};var s={"-webkit-transform":"","-moz-transform":"","-ms-transform":"",transform:""};var a={opened_panels:[],registered_panels:{},selectedTab:false,isOpening:false,speed:0,init:function(){var r=this;r.resize();e(window).resize(r.resize.bind(r));e("#w-editor-top").on("click",".tabs li",function(){var o=e(this);if(t.Commerce)i.preventClose(s);else s();function s(){if(r.selectedTab){if(o.attr("id")==r.selectedTab){r.hideAllPanels();if(o.attr("id")=="weebly_tab_pages"){n.execute("page-manager:open")}}}}});e("#w-editor-top .js-back").on("click",function(e){if(r.opened_panels.length>0){e.preventDefault();e.stopPropagation();r.hideAllPanels()}})},register:function(e,t){t=t||{};this.registered_panels[e]=t},resize:function(){var t=e(document.body).width();var i=e(window).width();var n=t;if(i<=1024){this.getPanels().addClass("narrow");this.initTooltips()}else{this.getPanels().removeClass("narrow");this.destroyTooltips()}this.getPanels().css({width:n+"px"})},initTooltips:function(){e(".w-sliding-panel").each(function(){var t=e(this);var i=t.attr("id");e("#"+i+' .sliding-panel-menu-inner li i[class^="w-icon-"]').tooltip({placement:"right",container:t})})},destroyTooltips:function(){e('.sliding-panel-menu-inner li i[class^="w-icon-"]').tooltip("destroy")},show:function(t){if(!this.registered_panels[t]){return}var i=e("#"+t);if(!this.isOpened(t)){this.isOpening=true;this.hideAllPanels();this.setOpened(t);this.showBlackout();i.show().css(o);i.clearQueue().animate({top:"0%"},this.speed,function(){if(this.registered_panels[t].afterSlideOut){this.registered_panels[t].afterSlideOut()}i.css(s);this.isOpening=false}.bind(this));if(this.registered_panels[t].onOpen){this.registered_panels[t].onOpen()}if(this.registered_panels[t].tab_id){if(!this.selectedTab){this.selectedTab=e("#w-editor-top .tabs .selected").attr("id")}window.activeTab(this.registered_panels[t].tab_id)}}},hide:function(t){if(!this.registered_panels[t]){return}var i=e("#"+t);if(this.isOpened(t)){this.setClosed(t);this.hideBlackout();i.css(o);if(this.registered_panels[t].beforeClose){this.registered_panels[t].beforeClose()}i.clearQueue().animate({top:"100%"},this.speed,function(){i.hide().css(s);if(this.registered_panels[t].afterSlideIn){this.registered_panels[t].afterSlideIn()}if(this.registered_panels[t].afterClose){this.registered_panels[t].afterClose()}}.bind(this));if(this.registered_panels[t].onClose){this.registered_panels[t].onClose()}if(this.selectedTab){var n=window.getCurrentSelectedTab();var r=n.attr("id");if(r==this.registered_panels[t].tab_id){if(r!==this.selectedTab&&this.selectedTab==="weebly_tab_commerce_editor"){Pages.go("store",null)}else{window.highlightSelectedTab(this.selectedTab)}}this.selectedTab=false}}},hideAllPanels:function(){this.opened_panels.forEach(function(e){this.hide(e)}.bind(this))},toggle:function(e){if(!this.registered_panels[e]){return}if(this.isOpened(e)){this.hide(e)}else{this.show(e)}if(this.opened_panels.length==0){setTimeout(function(){r.showEvent("x-elements")},600)}},getPanels:function(){return e(".w-sliding-panel")},isOpened:function(t){return e.inArray(t,this.opened_panels)!==-1},setOpened:function(t){if(e.inArray(t,this.opened_panels)===-1){this.opened_panels.push(t)}},setClosed:function(t){var i=e.inArray(t,this.opened_panels);if(i!==-1){this.opened_panels.splice(i,1)}},showBlackout:function(){this.hideBlackout();var t=document.body.offsetHeight;var i=e(window).height();t=i>t?i:t;var n=e('<div class="weebly-blackout sliding-panel-blackout"></div>');n.css({height:t+"px",zIndex:"12"}).appendTo(document.body);n.click(this.hideAllPanels.bind(this))},hideBlackout:function(){e(".sliding-panel-blackout").remove()}};t.SlidingPanel=a;return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(6),i(10)],r=function(e,t,i){var n=t.module("build.frame.element");var r;var o;n.on("start",function(){r=e("#"+i.EDITOR_FRAME_ID);o=r[0].contentWindow});n.on("stop",function(){r=null;o=null});n.getElement=function(){return r};n.getWindow=function(){return o};n.hideElement=function(){r.css("opacity",0)};n.showElement=function(){r.css("opacity",1)};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){var t={};var i={};t.getHeaderPlaceholder=function(e){var t="";if(e=="short-header"){t=i.mobile_header_placeholder_short||""}else if(e=="tall-header"){t=i.mobile_header_placeholder_tall||""}else if(e=="landing"){t=i.mobile_header_placeholder_landing||""}if(!t){t=i.mobile_header_placeholder||""}return t};t.isThemeNoHeader=function(e){for(var t in e){if(e[t].body.indexOf("wsite-header")!=-1){return false}}return true};t.isHeaderDisabled=function(){if(i.mobile_headers_disabled){return true}return t.isThemeNoHeader(currentThemeData.page_type_templates)};t.setSiteSetting=function(e,t){i[e]=t};t.getSiteSetting=function(e){return i[e]};t.setSiteSettings=function(t){e.extend(i,t)};t.getSiteSettings=function(){return i};t.clearSettingsCache=function(){i={}};t.serializeSiteSettings=function(){var e="";for(var t in i){if(t=="mobile_themes"){continue}var n=i[t]?i[t]:0;e+=t+String.fromCharCode(3)+n+String.fromCharCode(2)}return e};var n=false;t.isMobileEditor=function(e){n=typeof e!=="undefined"?e:n;return n};if(!window.Weebly.mobile){window.Weebly.mobile={}}window.Weebly.mobile.isMobileEditor=t.isMobileEditor;return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(284)],r=function(e,t){var i={deferHtml:null,win:null,instance:function(){return this.win},open:function(e,t){if(this.win){if(this.win.constructor===e)return i;this.win.close({skipGoMain:true})}var i=this.create(e,t);i.events.addListener("close",function(){this.win=null}.bind(this));i.loading();this.win=i;return this.win},close:function(){if(this.win){this.win.close({skipGoMain:true});if(window.editorApp){editorApp.vent.trigger("publish:dialog:close")}}return},success:function(){if(!this.win)return;this.win.success.apply(this.win,arguments);if(window.editorApp){editorApp.vent.trigger("publish:success")}if(this.callback){this.callback();this.callback=undefined}},defer:function(e){this.deferHtml=e},resolve:function(){if(!this.deferHtml)return;var e=this.deferHtml;this.deferHtml=null;this.success(e)},create:function(e,i){return new(e||t)(i)}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1)],r=function(e){var t;function i(i){var n=t;if(!n){var r=e(".__bootstrapdata__");if(r.length===0){throw new Error("Bootstrap data not found on page")}if(r.length>1){throw new Error("Multiple bootstrap data found on page")}n=r.html()}var o;try{o=JSON.parse(n)}catch(e){throw new Error("Could not parse bootstrap data.")}t=n;return o[i]}return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(11),i(7),i(21),i(163),i(22)],r=function(e,t,i,n,r,o){"use strict";var s={};var a=function(o){var s;var a=function(e){t.each(e,function(e){u(window,e)})};var l=function(e){return n.RPC.apply(n,arguments)};var c=function(e,i){try{var n=Array.prototype.slice.call(arguments,2);if(t.isFunction(e[i])){e[i].apply(this,n)}}catch(i){if(t.isFunction(e.onException)){e.onException.apply(this,n)}else{var r=t.some(Ajax.Responders.responders,function(e){if(t.isFunction(e.onException)){e.onException.apply(this,n);return true}return false});if(!r){throw i}}}};var u=function(e,i){var n=i.split("."),r=n[0];for(var o=0,s=n.length-1;o<s;o++){if(!e[r]){e[r]={}}e=e[r];r=n[o+1]}e[r]=t.partial(l,i)};var d=function(){s=window.Ajax.Request;window.Ajax.Request=function(e,i){n.ajax({parameters:i.parameters,asynchronous:i.asynchronous,bgRequest:i.bgRequest}).done(t.partial(c,i,"onSuccess")).fail(t.partial(c,i,"onFailure")).always(t.partial(c,i,"onComplete"))}};var f=function(){window.Ajax.Request=s};var h=function(e){var e=e||{};d();a(e.rpc)};o.on("start",function(){o.listenTo(i.vent,{"site:initialized":h});if(W_DEBUG){e(document).ajaxError(function(e,t,i,n){if(t.status===404&&i.url.match(/^\/api\/JsonRPC\//)){
var r=JSON.parse(i.data);console.warn("You may need to whitelist: `"+r.method+"`")}})}});o.on("stop",function(){f()});o.Request=function(){return window.Ajax.Request.apply(this,arguments)};if(r.inSiteContext()){window.showError=function(e,t,i){n.execute("ajax:showError",e,t,i)};window.showRetriableError=function(e,t,i){n.execute("ajax:showRetriableError",e,t,i)};window.startWait=o.startWait=function(){n.execute("loading:start","AjaxUtilsStub::startWait")};window.endWait=o.endWait=function(){n.execute("loading:stop","AjaxUtilsStub::startWait")}}};s=i.module("Ajax",{moduleClass:o,define:a});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(11),i(7),i(159)],r=function(e,t,i,n,r){"use strict";var o=i.module("commerce");function s(){t("#secondlist").find(".wsite-com-link").each(function(){this.title=""})}o.on("start",function(){var a={};if(e&&e.Commerce&&e.Commerce.BackboneBootstrap&&e.Commerce.BackboneBootstrap.StorefrontSettings){a=e.Commerce.BackboneBootstrap.StorefrontSettings}o.storefrontSettings=new r(a);t(document).on("click.commerce","[href^=commerce-url]",function(e){e.preventDefault();if(this.pathname){n.request("page:navigate:commerce",this.pathname)}else{var t=this.href.split(":");n.request("page:navigate:commerce",t[t.length-1])}});o.listenTo(i.vent,{pageRendered:s});s();n.commands.setHandlers({"commerce:set:store_mode":function(e){o.storefrontSettings.set("store_mode",e);n.request("page:navigate")}})});o.on("stop",function(){t(document).off("click.commerce");n.commands.removeHandlers(["commerce:set:store_mode"])});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r,o;(function(s,a){if(true){!(r=[t,i(9),i(2)],n=a,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof t!=="undefined"){a(t,require("backbone"),require("underscore"))}else{a(s,s.Backbone,s._)}})(this,function(e,t,i){"use strict";t.Relational={showWarnings:true};t.Semaphore={_class:"Backbone.Semaphore",_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable){throw new Error("Max permits acquired")}else{this._permitsUsed++}},release:function(){if(this._permitsUsed===0){throw new Error("All permits released")}else{this._permitsUsed--}},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(e){if(this._permitsUsed>e){throw new Error("Available permits cannot be less than used permits")}this._permitsAvailable=e}};t.BlockingQueue=function(){this._queue=[]};i.extend(t.BlockingQueue.prototype,t.Semaphore,{_class:"Backbone.BlockingQueue",_queue:null,add:function(e){if(this.isBlocked()){this._queue.push(e)}else{e()}},process:function(){var e=this._queue;this._queue=[];while(e&&e.length){e.shift()()}},block:function(){this.acquire()},unblock:function(){this.release();if(!this.isBlocked()){this.process()}},isBlocked:function(){return this.isLocked()}});t.Relational.eventQueue=new t.BlockingQueue;t.Store=function(){this._collections=[];this._reverseRelations=[];this._orphanRelations=[];this._subModels=[];this._modelScopes=[e]};i.extend(t.Store.prototype,t.Events,{_class:"Backbone.Store",initializeRelation:function(e,n,r){var o=!i.isString(n.type)?n.type:t[n.type]||this.getObjectByName(n.type);if(o&&o.prototype instanceof t.Relation){new o(e,n,r)}else{t.Relational.showWarnings&&typeof console!=="undefined"&&console.warn("Relation=%o; missing or invalid relation type!",n)}},addModelScope:function(e){this._modelScopes.push(e)},removeModelScope:function(e){this._modelScopes=i.without(this._modelScopes,e)},addSubModels:function(e,t){this._subModels.push({superModelType:t,subModels:e})},setupSuperModel:function(e){i.find(this._subModels,function(t){return i.each(t.subModels||[],function(i,n){var r=this.getObjectByName(i);if(e===r){t.superModelType._subModels[n]=e;e._superModel=t.superModelType;e._subModelTypeValue=n;e._subModelTypeAttribute=t.superModelType.prototype.subModelTypeAttribute;return true}},this)},this)},addReverseRelation:function(e){var t=i.any(this._reverseRelations,function(t){return i.all(e||[],function(e,i){return e===t[i]})});if(!t&&e.model&&e.type){this._reverseRelations.push(e);this._addRelation(e.model,e);this.retroFitRelation(e)}},addOrphanRelation:function(e){var t=i.any(this._orphanRelations,function(t){return i.all(e||[],function(e,i){return e===t[i]})});if(!t&&e.model&&e.type){this._orphanRelations.push(e)}},processOrphanRelations:function(){i.each(this._orphanRelations.slice(0),function(e){var n=t.Relational.store.getObjectByName(e.relatedModel);if(n){this.initializeRelation(null,e);this._orphanRelations=i.without(this._orphanRelations,e)}},this)},_addRelation:function(e,t){if(!e.prototype.relations){e.prototype.relations=[]}e.prototype.relations.push(t);i.each(e._subModels||[],function(e){this._addRelation(e,t)},this)},retroFitRelation:function(e){var t=this.getCollection(e.model,false);t&&t.each(function(t){if(!(t instanceof e.model)){return}new e.type(t,e)},this)},getCollection:function(e,n){if(e instanceof t.RelationalModel){e=e.constructor}var r=e;while(r._superModel){r=r._superModel}var o=i.find(this._collections,function(e){return e.model===r});if(!o&&n!==false){o=this._createCollection(r)}return o},getObjectByName:function(e){var t=e.split("."),n=null;i.find(this._modelScopes,function(e){n=i.reduce(t||[],function(e,t){return e?e[t]:undefined},e);if(n&&n!==e){return true}},this);return n},_createCollection:function(e){var i;if(e instanceof t.RelationalModel){e=e.constructor}if(e.prototype instanceof t.RelationalModel){i=new t.Collection;i.model=e;this._collections.push(i)}return i},resolveIdForItem:function(e,n){var r=i.isString(n)||i.isNumber(n)?n:null;if(r===null){if(n instanceof t.RelationalModel){r=n.id}else if(i.isObject(n)){r=e.prototype._getNewId(n)}}if(!r&&r!==0){r=null}return r},find:function(e,t){var i=this.resolveIdForItem(e,t),n=this.getCollection(e);if(n){var r=n.get(i);if(r instanceof e){return r}}return null},register:function(e){var t=this.getCollection(e);if(t){var i=e.collection;t.add(e);e.collection=i}},checkId:function(e,i){var n=this.getCollection(e),r=n&&n.get(i);if(r&&e!==r){if(t.Relational.showWarnings&&typeof console!=="undefined"){console.warn("Duplicate id! Old RelationalModel=%o, new RelationalModel=%o",r,e)}throw new Error("Cannot instantiate more than one Backbone.RelationalModel with the same id per type!")}},update:function(e){var t=this.getCollection(e);if(!t.contains(e)){this.register(e)}t._onModelEvent("change:"+e.idAttribute,e,t);e.trigger("relational:change:id",e,t)},unregister:function(e){var n,r;if(e instanceof t.Model){n=this.getCollection(e);r=[e]}else if(e instanceof t.Collection){n=this.getCollection(e.model);r=i.clone(e.models)}else{n=this.getCollection(e);r=i.clone(n.models)}i.each(r,function(e){this.stopListening(e);i.invoke(e.getRelations(),"stopListening")},this);if(i.contains(this._collections,e)){n.reset([])}else{i.each(r,function(e){if(n.get(e)){n.remove(e)}else{n.trigger("relational:remove",e,n)}},this)}},reset:function(){this.stopListening();i.each(this._collections,function(e){this.unregister(e)},this);this._collections=[];this._subModels=[];this._modelScopes=[e]}});t.Relational.store=new t.Store;t.Relation=function(e,n,r){this.instance=e;n=i.isObject(n)?n:{};this.reverseRelation=i.defaults(n.reverseRelation||{},this.options.reverseRelation);this.options=i.defaults(n,this.options,t.Relation.prototype.options);this.reverseRelation.type=!i.isString(this.reverseRelation.type)?this.reverseRelation.type:t[this.reverseRelation.type]||t.Relational.store.getObjectByName(this.reverseRelation.type);this.key=this.options.key;this.keySource=this.options.keySource||this.key;this.keyDestination=this.options.keyDestination||this.keySource||this.key;this.model=this.options.model||this.instance.constructor;this.relatedModel=this.options.relatedModel;if(i.isFunction(this.relatedModel)&&!(this.relatedModel.prototype instanceof t.RelationalModel)){this.relatedModel=i.result(this,"relatedModel")}if(i.isString(this.relatedModel)){this.relatedModel=t.Relational.store.getObjectByName(this.relatedModel)}if(!this.checkPreconditions()){return}if(!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key){t.Relational.store.addReverseRelation(i.defaults({isAutoRelation:true,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation))}if(e){var o=this.keySource;if(o!==this.key&&typeof this.instance.get(this.key)==="object"){o=this.key}this.setKeyContents(this.instance.get(o));this.relatedCollection=t.Relational.store.getCollection(this.relatedModel);if(this.keySource!==this.key){delete this.instance.attributes[this.keySource]}this.instance._relations[this.key]=this;this.initialize(r);if(this.options.autoFetch){this.instance.fetchRelated(this.key,i.isObject(this.options.autoFetch)?this.options.autoFetch:{})}this.listenTo(this.instance,"destroy",this.destroy).listenTo(this.relatedCollection,"relational:add relational:change:id",this.tryAddRelated).listenTo(this.relatedCollection,"relational:remove",this.removeRelated)}};t.Relation.extend=t.Model.extend;i.extend(t.Relation.prototype,t.Events,t.Semaphore,{_class:"Backbone.Relation",options:{createModels:true,includeInJSON:true,isAutoRelation:false,autoFetch:false,parse:false},instance:null,key:null,keyContents:null,relatedModel:null,relatedCollection:null,reverseRelation:null,related:null,checkPreconditions:function(){var e=this.instance,n=this.key,r=this.model,o=this.relatedModel,s=t.Relational.showWarnings&&typeof console!=="undefined";if(!r||!n||!o){s&&console.warn("Relation=%o: missing model, key or relatedModel (%o, %o, %o).",this,r,n,o);return false}if(!(r.prototype instanceof t.RelationalModel)){s&&console.warn("Relation=%o: model does not inherit from Backbone.RelationalModel (%o).",this,e);return false}if(!(o.prototype instanceof t.RelationalModel)){s&&console.warn("Relation=%o: relatedModel does not inherit from Backbone.RelationalModel (%o).",this,o);return false}if(this instanceof t.HasMany&&this.reverseRelation.type===t.HasMany){s&&console.warn("Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.",this);return false}if(e&&i.keys(e._relations).length){var a=i.find(e._relations,function(e){return e.key===n},this);if(a){s&&console.warn("Cannot create relation=%o on %o for model=%o: already taken by relation=%o.",this,n,e,a);return false}}return true},setRelated:function(e){this.related=e;this.instance.attributes[this.key]=e},_isReverseRelation:function(e){return e.instance instanceof this.relatedModel&&this.reverseRelation.key===e.key&&this.key===e.reverseRelation.key},getReverseRelations:function(e){var t=[];var n=!i.isUndefined(e)?[e]:this.related&&(this.related.models||[this.related]);i.each(n||[],function(e){i.each(e.getRelations()||[],function(e){if(this._isReverseRelation(e)){t.push(e)}},this)},this);return t},destroy:function(){this.stopListening();if(this instanceof t.HasOne){this.setRelated(null)}else if(this instanceof t.HasMany){this.setRelated(this._prepareCollection())}i.each(this.getReverseRelations(),function(e){e.removeRelated(this.instance)},this)}});t.HasOne=t.Relation.extend({_class:"Backbone.HasOne",options:{reverseRelation:{type:"HasMany"}},initialize:function(e){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);var t=this.findRelated(e);this.setRelated(t);i.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,e)},this)},findRelated:function(e){var t=null;e=i.defaults({parse:this.options.parse},e);if(this.keyContents instanceof this.relatedModel){t=this.keyContents}else if(this.keyContents||this.keyContents===0){var n=i.defaults({create:this.options.createModels},e);t=this.relatedModel.findOrCreate(this.keyContents,n)}if(t){this.keyId=null}return t},setKeyContents:function(e){this.keyContents=e;this.keyId=t.Relational.store.resolveIdForItem(this.relatedModel,this.keyContents)},onChange:function(e,n,r){if(this.isLocked()){return}this.acquire();r=r?i.clone(r):{};var o=i.isUndefined(r.__related),s=o?this.related:r.__related;if(o){this.setKeyContents(n);var a=this.findRelated(r);this.setRelated(a)}if(s&&this.related!==s){i.each(this.getReverseRelations(s),function(e){e.removeRelated(this.instance,null,r)},this)}i.each(this.getReverseRelations(),function(e){e.addRelated(this.instance,r)},this);if(!r.silent&&this.related!==s){var l=this;this.changed=true;t.Relational.eventQueue.add(function(){l.instance.trigger("change:"+l.key,l.instance,l.related,r,true);l.changed=false})}this.release()},tryAddRelated:function(e,t,i){if((this.keyId||this.keyId===0)&&e.id===this.keyId){this.addRelated(e,i);this.keyId=null}},addRelated:function(e,t){var n=this;e.queue(function(){if(e!==n.related){var r=n.related||null;n.setRelated(e);n.onChange(n.instance,e,i.defaults({__related:r},t))}})},removeRelated:function(e,t,n){if(!this.related){return}if(e===this.related){var r=this.related||null;this.setRelated(null);this.onChange(this.instance,e,i.defaults({__related:r},n))}}});t.HasMany=t.Relation.extend({_class:"Backbone.HasMany",collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:t.Collection,collectionKey:true,collectionOptions:{}},initialize:function(e){this.listenTo(this.instance,"relational:change:"+this.key,this.onChange);this.collectionType=this.options.collectionType;if(i.isFunction(this.collectionType)&&this.collectionType!==t.Collection&&!(this.collectionType.prototype instanceof t.Collection)){this.collectionType=i.result(this,"collectionType")}if(i.isString(this.collectionType)){var n=this.collectionType;this.collectionType=t.Relational.store.getObjectByName(this.collectionType)}if(!this.collectionType){if(n&&t.Relational.showWarnings&&typeof console!=="undefined"){console.warn("`collectionType` of "+n+" not found, using Backbone.Collection in its place.")}this.collectionType=t.Collection}if(this.collectionType!==t.Collection&&!(this.collectionType.prototype instanceof t.Collection)){throw new Error("`collectionType` must inherit from Backbone.Collection")}var r=this.findRelated(e);this.setRelated(r)},_prepareCollection:function(e){if(this.related){this.stopListening(this.related)}if(!e||!(e instanceof t.Collection)){var n=i.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions;e=new this.collectionType(null,n)}e.model=this.relatedModel;if(this.options.collectionKey){var r=this.options.collectionKey===true?this.options.reverseRelation.key:this.options.collectionKey;if(e[r]&&e[r]!==this.instance){if(t.Relational.showWarnings&&typeof console!=="undefined"){console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,r,this.options.collectionKey)}}else if(r){e[r]=this.instance}}this.listenTo(e,"relational:add",this.handleAddition).listenTo(e,"relational:remove",this.handleRemoval).listenTo(e,"relational:reset",this.handleReset);return e},findRelated:function(e){var n=null;e=i.defaults({parse:this.options.parse},e);if(this.keyContents instanceof t.Collection){this._prepareCollection(this.keyContents);n=this.keyContents}else{var r=[];i.each(this.keyContents,function(t){if(t instanceof this.relatedModel){var n=t}else{n=this.relatedModel.findOrCreate(t,i.extend({merge:true},e,{create:this.options.createModels}))}n&&r.push(n)},this);if(this.related instanceof t.Collection){n=this.related}else{n=this._prepareCollection()}n.set(r,i.defaults({merge:false,parse:false},e))}this.keyIds=i.difference(this.keyIds,i.pluck(n.models,"id"));return n},setKeyContents:function(e){this.keyContents=e instanceof t.Collection?e:null;this.keyIds=[];if(!this.keyContents&&(e||e===0)){this.keyContents=i.isArray(e)?e:[e];i.each(this.keyContents,function(e){var i=t.Relational.store.resolveIdForItem(this.relatedModel,e);if(i||i===0){this.keyIds.push(i)}},this)}},onChange:function(e,n,r){r=r?i.clone(r):{};this.setKeyContents(n);this.changed=false;var o=this.findRelated(r);this.setRelated(o);if(!r.silent){var s=this;t.Relational.eventQueue.add(function(){if(s.changed){s.instance.trigger("change:"+s.key,s.instance,s.related,r,true);s.changed=false}})}},handleAddition:function(e,n,r){r=r?i.clone(r):{};this.changed=true;i.each(this.getReverseRelations(e),function(e){e.addRelated(this.instance,r)},this);var o=this;!r.silent&&t.Relational.eventQueue.add(function(){o.instance.trigger("add:"+o.key,e,o.related,r)})},handleRemoval:function(e,n,r){r=r?i.clone(r):{};this.changed=true;i.each(this.getReverseRelations(e),function(e){e.removeRelated(this.instance,null,r)},this);var o=this;!r.silent&&t.Relational.eventQueue.add(function(){o.instance.trigger("remove:"+o.key,e,o.related,r)})},handleReset:function(e,n){var r=this;n=n?i.clone(n):{};!n.silent&&t.Relational.eventQueue.add(function(){r.instance.trigger("reset:"+r.key,r.related,n)})},tryAddRelated:function(e,t,n){var r=i.contains(this.keyIds,e.id);if(r){this.addRelated(e,n);this.keyIds=i.without(this.keyIds,e.id)}},addRelated:function(e,t){var n=this;e.queue(function(){if(n.related&&!n.related.get(e)){n.related.add(e,i.defaults({parse:false},t))}})},removeRelated:function(e,t,i){if(this.related.get(e)){this.related.remove(e,i)}}});t.RelationalModel=t.Model.extend({_class:"Backbone.RelationalModel",relations:null,_relations:null,_isInitialized:false,_deferProcessing:false,_queue:null,_attributeChangeFired:false,subModelTypeAttribute:"type",subModelTypes:null,keydefs:{},compoundKeyDelim:"-",constructor:function(e,n){if(n&&n.collection){var r=this,o=this.collection=n.collection;delete n.collection;this._deferProcessing=true;var s=function(e){if(e===r){r._deferProcessing=false;r.processQueue();o.off("relational:add",s)}};o.on("relational:add",s);i.defer(function(){s(r)})}t.Relational.store.processOrphanRelations();t.Relational.store.listenTo(this,"relational:unregister",t.Relational.store.unregister);this._queue=new t.BlockingQueue;this._queue.block();t.Relational.eventQueue.block();try{t.Model.apply(this,arguments)}finally{t.Relational.eventQueue.unblock()}this.createSavepoint();this.on("sync",this.createSavepoint,this)},createSavepoint:function(){this.savepoint=JSON.parse(JSON.stringify(this));return this},rollback:function(e){e=e||{};this.set(this.savepoint);this.changed=[];if(!e.silent)this.trigger("rollback",this,e)},commit:function(e){e=e||{};var n=this,r=n.isNew(),o=[],s=[];if(r||n.hasChangedDeepSinceSavepoint()){if(!r){i.each(n.relations,function(t){if(t.includeInJSON){o.push(t);t.includeInJSON=false;if(!t.isAutoRelation){var i=n.get(t.key);s.push(i.commit(e))}}})}s.push(n.save(null,e));i.each(o,function(e){e.includeInJSON=true});if(!e.silent)n.trigger("commit",n,e)}return t.$.when.apply(t.$,s)},hasChangedDeepSinceSavepoint:function(){return!i.isEqual(this.toJSON(),this.savepoint)},trigger:function(e){if(e.length>5&&e.indexOf("change")===0){var i=this,n=arguments;t.Relational.eventQueue.add(function(){if(!i._isInitialized){return}var r=true;if(e==="change"){r=i.hasChanged()||i._attributeChangeFired;i._attributeChangeFired=false}else{var o=e.slice(7),s=i.getRelation(o);if(s){r=n[4]===true;if(r){i.changed[o]=n[2]}else if(!s.changed){delete i.changed[o]}}else if(r){i._attributeChangeFired=true}}r&&t.Model.prototype.trigger.apply(i,n)})}else if(e==="destroy"){t.Model.prototype.trigger.apply(this,arguments);t.Relational.store.unregister(this)}else{t.Model.prototype.trigger.apply(this,arguments)}return this},initializeRelations:function(e){this.acquire();this._relations={};i.each(this.relations||[],function(i){t.Relational.store.initializeRelation(this,i,e)},this);this._isInitialized=true;this.release();this.processQueue()},updateRelations:function(e,t){if(this._isInitialized&&!this.isLocked()){i.each(this._relations,function(i){if(!e||(i.keySource in e||i.key in e)){var n=this.attributes[i.keySource]||this.attributes[i.key],r=e&&(e[i.keySource]||e[i.key]);if(i.related!==n||n===null&&r===null){this.trigger("relational:change:"+i.key,this,n,t||{})}}if(i.keySource!==i.key){delete this.attributes[i.keySource]}},this)}},queue:function(e){this._queue.add(e)},processQueue:function(){if(this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()){this._queue.unblock()}},getRelation:function(e){return this._relations[e]},getRelations:function(){return i.values(this._relations)},fetchRelated:function(e,n,r){n=i.extend({update:true,remove:false},n);var o,s,a=[],l=this.getRelation(e),c=l&&(l.keyIds&&l.keyIds.slice(0)||(l.keyId||l.keyId===0?[l.keyId]:[]));if(r){o=l.related instanceof t.Collection?l.related.models:[l.related];i.each(o,function(e){if(e.id||e.id===0){c.push(e.id)}})}if(c&&c.length){var u=[];o=i.map(c,function(e){var t=l.relatedModel.findModel(e);if(!t){var i={};i[l.relatedModel.prototype.idAttribute]=e;t=l.relatedModel.findOrCreate(i,n);u.push(t)}return t},this);if(l.related instanceof t.Collection&&i.isFunction(l.related.url)){s=l.related.url(o)}if(s&&s!==l.related.url()){var d=i.defaults({error:function(){var e=arguments;i.each(u,function(t){t.trigger("destroy",t,t.collection,n);n.error&&n.error.apply(t,e)})},url:s},n);a=[l.related.fetch(d)]}else{a=i.map(o,function(e){var t=i.defaults({error:function(){if(i.contains(u,e)){e.trigger("destroy",e,e.collection,n);n.error&&n.error.apply(e,arguments)}}},n);return e.fetch(t)},this)}}return a},get:function(e){var n=t.Model.prototype.get.call(this,e);if(!this.dotNotation||e.indexOf(".")===-1){return n}var r=e.split(".");var o=i.reduce(r,function(e,n){if(i.isNull(e)||i.isUndefined(e)){return undefined}else if(e instanceof t.Model){return t.Model.prototype.get.call(e,n)}else if(e instanceof t.Collection){return t.Collection.prototype.at.call(e,n)}else{throw new Error("Attribute must be an instanceof Backbone.Model or Backbone.Collection. Is: "+e+", currentSplit: "+n)}},this);if(n!==undefined&&o!==undefined){throw new Error("Ambiguous result for '"+e+"'. direct result: "+n+", dotNotation: "+o)}return n||o},_getNewId:function(e){var t=this,i=null,n="",r=false,o,s=t.keydefs.PRIMARY;if(s){s.forEach(function(i,s){o=e[i]||t.attributes&&t.attributes[i];if(o||o===0){n+=(n?t.compoundKeyDelim:"")+(e[i]||t.attributes&&t.attributes[i])}else{r=true}});if(!r)i=n}if(!i){i=e&&t.idAttribute in e&&e[t.idAttribute]}return i},set:function(e,n,r){t.Relational.eventQueue.block();var o;if(i.isObject(e)||e==null){o=e;r=n}else{o={};o[e]=n}try{var s=this.id,a=this._getNewId(o);t.Relational.store.checkId(this,a);var l=t.Model.prototype.set.apply(this,arguments);if(a){this.id=a}if(!this._isInitialized&&!this.isLocked()){this.constructor.initializeModelHierarchy();if(a||a===0){t.Relational.store.register(this)}this.initializeRelations(r)}else if(a&&a!==s){t.Relational.store.update(this)}if(o){this.updateRelations(o,r)}}finally{t.Relational.eventQueue.unblock()}return l},clone:function(){var e=i.clone(this.attributes);if(!i.isUndefined(e[this.idAttribute])){e[this.idAttribute]=null}i.each(this.getRelations(),function(t){delete e[t.key]});return new this.constructor(e)},toJSON:function(e){if(this.isLocked()){return this.id}this.acquire();var n=t.Model.prototype.toJSON.call(this,e);if(this.constructor._superModel&&!(this.constructor._subModelTypeAttribute in n)){n[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue}i.each(this._relations,function(r){var o=n[r.key],s=r.options.includeInJSON,a=null;if(s===true){if(o&&i.isFunction(o.toJSON)){a=o.toJSON(e)}}else if(i.isString(s)){if(o instanceof t.Collection){a=o.pluck(s)}else if(o instanceof t.Model){a=o.get(s)}if(s===r.relatedModel.prototype.idAttribute){if(r instanceof t.HasMany){a=a.concat(r.keyIds)}else if(r instanceof t.HasOne){a=a||r.keyId;if(!a&&!i.isObject(r.keyContents)){a=r.keyContents||null}}}}else if(i.isArray(s)){if(o instanceof t.Collection){a=[];o.each(function(e){var t={};i.each(s,function(i){t[i]=e.get(i)});a.push(t)})}else if(o instanceof t.Model){a={};i.each(s,function(e){a[e]=o.get(e)})}}else{delete n[r.key]}if(s){n[r.keyDestination]=a}if(r.keyDestination!==r.key){delete n[r.key]}});this.release();return n}},{setup:function(e){this.prototype.relations=(this.prototype.relations||[]).slice(0);this._subModels={};this._superModel=null;if(this.prototype.hasOwnProperty("subModelTypes")){t.Relational.store.addSubModels(this.prototype.subModelTypes,this)}else{this.prototype.subModelTypes=null}i.each(this.prototype.relations||[],function(e){if(!e.model){e.model=this}if(e.reverseRelation&&e.model===this){var n=true;if(i.isString(e.relatedModel)){var r=t.Relational.store.getObjectByName(e.relatedModel);n=r&&r.prototype instanceof t.RelationalModel}if(n){t.Relational.store.initializeRelation(null,e)}else if(i.isString(e.relatedModel)){t.Relational.store.addOrphanRelation(e)}}},this);return this},build:function(e,t){this.initializeModelHierarchy();var i=this._findSubModelType(this,e)||this;return new i(e,t)},_findSubModelType:function(e,t){if(e._subModels&&e.prototype.subModelTypeAttribute in t){var i=t[e.prototype.subModelTypeAttribute];var n=e._subModels[i];if(n){return n}else{for(i in e._subModels){n=this._findSubModelType(e._subModels[i],t);if(n){return n}}}}return null},initializeModelHierarchy:function(){this.inheritRelations();if(this.prototype.subModelTypes){var e=i.keys(this._subModels);var n=i.omit(this.prototype.subModelTypes,e);i.each(n,function(e){var i=t.Relational.store.getObjectByName(e);i&&i.initializeModelHierarchy()})}},inheritRelations:function(){if(!i.isUndefined(this._superModel)&&!i.isNull(this._superModel)){return}t.Relational.store.setupSuperModel(this);if(this._superModel){this._superModel.inheritRelations();if(this._superModel.prototype.relations){var e=i.filter(this._superModel.prototype.relations||[],function(e){return!i.any(this.prototype.relations||[],function(t){return e.relatedModel===t.relatedModel&&e.key===t.key},this)},this);this.prototype.relations=e.concat(this.prototype.relations)}}else{this._superModel=false}},findOrCreate:function(e,t){t||(t={});var n=i.isObject(e)&&t.parse&&this.prototype.parse?this.prototype.parse(i.clone(e)):e;var r=this.findModel(n);if(i.isObject(e)){if(r&&t.merge!==false){delete t.collection;delete t.url;r.set(n,t)}else if(!r&&t.create!==false){r=this.build(e,t)}}return r},find:function(e,t){t||(t={});t.create=false;return this.findOrCreate(e,t)},findModel:function(e){return t.Relational.store.find(this,e)}});i.extend(t.RelationalModel.prototype,t.Semaphore);var n=t.Collection.prototype.__initialize=t.Collection.prototype.initialize;t.Collection.prototype.initialize=function(e,t){n.apply(this,arguments);this.createSavepoint();this.on("sync",this.createSavepoint,this)};t.Collection.prototype.createSavepoint=function(){this._added=[];this._removed=[];return this;i.each(this.models,function(e){e.createSavepoint()})};t.Collection.prototype.rollback=function(e){e=e||{};this.add(this._removed,{silent:true});i.each(this.models,function(e){e.rollback()});this.remove(this._added,{silent:true});this.createSavepoint();if(!e.silent)this.trigger("rollback",this,e);return this};t.Collection.prototype.hasChangedDeepSinceSavepoint=function(){if(this._removed.length||this._added.length){return true}return!!i.find(this.models,function(e){return e.hasChangedDeepSinceSavepoint()})};t.Collection.prototype.commit=function(e){var n=[];if(this.hasChangedDeepSinceSavepoint()){e=e||{};i.each(this._removed,function(e){n.push(e.destroy())});i.each(this.models,function(e){n.push(e.commit())});this.createSavepoint();if(!e.silent)this.trigger("commit",this,e)}return t.$.when.apply(t.$,n)};t.Collection.prototype._class="Backbone.Collection";t.Collection.prototype.__prepareModel=t.Collection.prototype._prepareModel;t.Collection.prototype._prepareModel=function(e,n){var r;if(e instanceof t.Model){if(!e.collection){e.collection=this}r=e}else{n=n?i.clone(n):{};n.collection=this;if(typeof this.model.findOrCreate!=="undefined"){r=this.model.findOrCreate(e,n)}else{r=new this.model(e,n)}if(r&&r.validationError){this.trigger("invalid",this,e,n);r=false}}return r};var r=t.Collection.prototype.__set=t.Collection.prototype.set;t.Collection.prototype.set=function(e,n){if(!(this.model.prototype instanceof t.RelationalModel)){return r.apply(this,arguments)}if(n&&n.parse){e=this.parse(e,n)}var o=!i.isArray(e),s=[],a=[];e=o?e?[e]:[]:i.clone(e);i.each(e,function(e){if(!(e instanceof t.Model)){e=t.Collection.prototype._prepareModel.call(this,e,n)}if(e){a.push(e);if(!(this.get(e)||this.get(e.cid))){s.push(e)}else if(e.id!=null){this._byId[e.id]=e}}},this);a=o?a.length?a[0]:null:a;var l=r.call(this,a,i.defaults({parse:false},n));i.each(s,function(e){if(this.get(e)||this.get(e.cid)){this.trigger("relational:add",e,this,n)}},this);return l};var o=t.Collection.prototype.__get=t.Collection.prototype.get;t.Collection.prototype.get=function(e){if(!(this.model.prototype instanceof t.RelationalModel)){return o.apply(this,arguments)}if(e==null)return void 0;var i=t.Relational.store.resolveIdForItem(this.model,e);return this._byId[i!=null?i:e.cid||e]};var s=t.Collection.prototype.__add=t.Collection.prototype.add;t.Collection.prototype.add=function(e,n){if(!(this.model.prototype instanceof t.RelationalModel)){return s.apply(this,arguments)}var r=s.call(this,e,i.defaults(n||{},{add:true,merge:false,remove:false}));this._added=this._added.concat(r);return r};var a=t.Collection.prototype.__remove=t.Collection.prototype.remove;t.Collection.prototype.remove=function(e,n){if(!(this.model.prototype instanceof t.RelationalModel)){this._removed=this._removed.concat(e);return a.apply(this,arguments)}var r=!i.isArray(e),o=[];e=r?e?[e]:[]:i.clone(e);n||(n={});i.each(e,function(e){e=this.get(e)||e&&this.get(e.cid);e&&o.push(e)},this);var s=a.call(this,r?o.length?o[0]:null:o,n);i.each(o,function(e){this.trigger("relational:remove",e,this,n)},this);this._removed=this._removed.concat(o);return s};var l=t.Collection.prototype.__reset=t.Collection.prototype.reset;t.Collection.prototype.reset=function(e,n){n=i.extend({merge:true},n);var r=l.call(this,e,n);this._added=[];this._removed=[];if(this.model.prototype instanceof t.RelationalModel){this.trigger("relational:reset",this,n)}this.createSavepoint();return r};var c=t.Collection.prototype.__sort=t.Collection.prototype.sort;t.Collection.prototype.sort=function(e){var i=c.call(this,e);if(this.model.prototype instanceof t.RelationalModel){this.trigger("relational:reset",this,e)}return i};var u=t.Collection.prototype.__trigger=t.Collection.prototype.trigger;t.Collection.prototype.trigger=function(e){if(!(this.model.prototype instanceof t.RelationalModel)){return u.apply(this,arguments)}if(e==="add"||e==="remove"||e==="reset"||e==="sort"){var n=this,r=arguments;if(i.isObject(r[3])){r=i.toArray(r);r[3]=i.clone(r[3])}t.Relational.eventQueue.add(function(){u.apply(n,r)})}else{u.apply(this,arguments)}return this};t.RelationalModel.extend=function(e,i){var n=t.Model.extend.apply(this,arguments);n.setup(this);return n}})},,,,,function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){function i(e,i){var n=function(){};n.prototype=new e;n.prototype.constructor=n;n.prototype.parent=e.prototype;n.prototype=t.extend(n.prototype,i);return n}var n=i(Object,{element:null,id:null,value:null,delta:0,valid:true,name:null,selectionMessage:null,minSelected:0,maxSelected:0,initialize:function(e){this.element=t(e);this.id=this.element.data("modifier-id");this.name=this.element.data("modifier-name");this.minSelected=this.element.data("min-selected");this.maxSelected=this.element.data("max-selected");this.resetSelectionMessage()},onChange:function(e){this.element.on("modifier:changed",e)},getPriceDelta:function(){return this.delta},getSelection:function(){return null},isValid:function(){return this.valid},getSelectionMessage:function(){return this.selectionMessage},isValueEmpty:function(){return this.value==null||this.value===""},resetSelectionMessage:function(){this.selectionMessage=this.element.data("modifier-selection-message")||e.stl("product_modifiers.validation.generic",this.name);
}});n.extend=function(e){return i(n,e)};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){function t(t,i){var n=function(){};n.prototype=new t;n.prototype.constructor=n;n.prototype.parent=t.prototype;n.prototype=e.extend(n.prototype,i);return n}var i=t(Object,{initialize:function(t){this.el=t.el;this.$el=e(this.el);this.onChange=typeof t.onChange==="function"?t.onChange:function(){};this.initializeEvents();this.render()},initializeEvents:function(){},render:function(){}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5)],r=function(e){var t={customerLocale:e.customerLocale,storeCurrency:e.storeCurrency,setCustomerLocale:function(e){this.customerLocale=e},setStoreCurrency:function(e){this.storeCurrency=e}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){var e={formatCurrency:function(e,t,i){e=parseFloat(e);if(t){t=t.replace("_","-")}else{t=navigator.language||"en-US"}return e.toLocaleString(t,{style:"currency",currency:i})},formatTaxRate:function(e){return(e*100).toLocaleString(undefined,{maximumFractionDigits:this.DEFAULT_TAX_RATE_DECIMALS})},DEFAULT_TAX_RATE_DECIMALS:3};return e}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(650)],r=function(e,t,i){var n=e.Marionette.ItemView.extend({template:i,templateHelpers:function(){var e=this.options.loadingText||_W.utl("javascript.components.views.EmptyLoadingView_1");return{loadingText:e}}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(12),i(508)],r=function(e,t,i,n){var r=function(){this.definitions={};this.rawDefinitions={};return this};r.prototype={fetchDefinition:function(r,o,s){if(e.has(this.definitions,r)){o(this.definitions[r],this.rawDefinitions[r]);return}if(i.chromeless){console.log("Invalid ajax get element definition");return}t.Editor.RPC.Elements.getElementDefinition([r]).done(function(t){e.each(t,function(e){var t=new n(e.eid,e);this.rawDefinitions[e.eid]=e;this.definitions[e.eid]=t;o(t,e)},this)}.bind(this))},registerDefinition:function(e,t){this.definitions[e]=new n(e,t);this.rawDefinitions[e]=t},getDefinition:function(e){return this.definitions[e]},getRawDefinitions:function(){return this.rawDefinitions}};return new r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(12)],r=function(e,t,i){var n={};function r(e,t){this.family=e;this._variants=t}r.prototype.hasRegular=function(){return this._variants&1};r.prototype.hasBold=function(){return this._variants&2};r.prototype.hasItalic=function(){return this._variants&4};r.prototype.hasBoldItalic=function(){return this._variants&8};r.prototype.hasLight=function(){return this._variants&16};r.prototype.hasLightItalic=function(){return this._variants&32};r.prototype.hasUltraLight=function(){return this._variants&64};r.prototype.hasUltraLightItalic=function(){return this._variants&128};r.prototype.getLinkTag=function(){if(this.systemFamily){return}var e="";if(r.data.familyCSSBaseURL){e=r.data.familyCSSBaseURL+escape(this.family)}else if(i.chromeless&&window.currentSite!=0){e="x-com-weebly-font-css:///"+window.currentSite+"/"+escape(this.family)}else if(this.source=="google"){var t=[];this.hasRegular()&&t.push("400");this.hasLight()&&t.push("300");this.hasLightItalic()&&t.push("300italic");this.hasUltraLight()&&t.push("200");this.hasUltraLightItalic()&&t.push("200italic");this.hasBold()&&t.push("700");this.hasItalic()&&t.push("400italic");this.hasBoldItalic()&&t.push("700italic");var n="";if(t.length>1||t[0]!="400"){n=":"+t.join(",")}e="https://fonts.googleapis.com/css?family="+escape(this.family)+n}else{e="//"+ASSETS_BASE+"/fonts/"+this.family.replace(/ /g,"_")+"/font.css?2"}return"<link href='"+e+"' rel='stylesheet' type='text/css' />"};r.prototype.load=function(){if(n[this.family]){return}n[this.family]=true;var e=this.getLinkTag();if(e){var t=new Element("div").update(e);$$("head")[0].insert(t.down())}};function o(e){var t=s(e);if(t){t.load()}}function s(e){var t=r.data?a(e,r.data.google_fonts):null;if(t){t.source="google"}else{var t=r.data?a(e,r.data.standalone_fonts):null;if(t){var i=r.data?r.data.system_families[t.family]:null;if(i){t.systemFamily=i}}}return t}function a(e,t){e=e.replace(/(^['"\s]*|['"\s]*$)/g,"");if(e==="Comic Sans MS"){e="Comic Sans"}var i;var n=t[e];if(n){i=e}else{e=e.toLowerCase();for(var o in t){if(typeof o=="string"&&o.toLowerCase()==e){i=o;n=t[o]}}}if(i){return new r(i,n)}}r.loadFont=o;r.getFont=s;t.Font=e.extend(r,t.Font);return t.Font}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(47)],r=function(e,t){"use strict";var i={};var n={jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",gif:"image/png"};i.urlToMimeType=function(e){var t=e.lastIndexOf(".")+1;var i=e.lastIndexOf("?");i=i===-1?e.length:i;var r=e.substring(t,i);return n[r.toLowerCase()]};i.getBackgroundSprite=function(e){var t=(e.css("background-image")||"").match(/url\(['"]?(.+?)['"]?\)/);if(t){var i=r(t[1]);return{originalUrl:i}}return null};function r(e){var t=e.match(/^\w+:\/\/[^\/]+(\/.*)$/);if(t){return t[1]}return e}function o(e){e=s(e);e=e.replace(/_orig(\.[^\.]*)$/,"$1");return e.replace(/\.([^\.]+)$/,"_orig.$1")}function s(e){return e.replace(/\?[^\?]+$/,"")}i.getEditData=function(e){var t=e.getAttribute("src");var i=o(t);if(i!==s(t)){t=i}return{originalUrl:t}};i.sanitizeOperations=function(i){i=i.filter(function(e){return!(a(e)||l(e)||c(e)||u(e)||d(e))});i.forEach(function(i){t.mapObjectValues(i,function(t){if(e.isNumber(t)&&!e.isNaN(t)){return p(t)}return t})});return i};function a(e){return e.type==="filter"&&(e.options.name==="identity"||!e.options.intensity||p(e.options.intensity)===0)}function l(e){return e.type==="crop"&&(!e.options.rotation||p(e.options.rotation)===0)&&(!e.options.scale||p(e.options.scale)===1)&&(!e.options.start||(!e.options.start.x||p(e.options.start.x)===0)&&(!e.options.start.y||p(e.options.start.y)===0))&&(!e.options.end||(!e.options.end.x||p(e.options.end.x)===1)&&(!e.options.end.y||p(e.options.end.y)===1))}function c(e){return e.type==="orientation"&&!e.options.flipVertically&&!e.options.flipHorizontally&&(!e.options.rotation||p(e.options.rotation)===0)}function u(e){return e.type==="adjustments"&&(!e.options.saturation||p(e.options.saturation)===0)&&(!e.options.contrast||p(e.options.contrast)===0)&&(!e.options.brightness||p(e.options.brightness)===0)}function d(e){return e.type==="focus"&&(f(e.options)||h(e.options))}function f(e){return e.type==="linear"&&(!e.options.blurRadius||p(e.options.blurRadius)===0)}function h(e){return e.type==="radial"&&(!e.options.blurRadius||p(e.options.blurRadius)===0)}function p(e){return t.roundNumber(e,4)}return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(182)],r=function(e){var t=new e;return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(274)],r=function(e){var t=Class.create(e,{WINDOW_WIDTH:650,WINDOW_HEIGHT:325,CALLBACK_PREFIX:"weebly_fb_auth_cb_",POPUP_URL:"/editor/fb_auth.php?cb={callback}&{params}"});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(7),i(199),i(22)],r=function(e,t,i,n){var r={};var o={first_tip:"x-elements",selectTheme:"x-pages",tab_pages:"x-pages",secondPage:"x-pages-subpages",updatePages:"x-publish",addElement:"x-design"};var s={};e.each(o,function(e,t){s[e]=t});r.hasDoneUserEvent=function(t){if(typeof t==="string"){return!!(window.isClientSite&&!window.isMaster||window.userEvents[t]||o[t]&&window.userEvents[o[t]]||s[t]&&window.userEvents[s[t]])}else if(typeof t==="object"){return e.every(t,function(e,t){return e?r.hasDoneUserEvent(t):!r.hasDoneUserEvent(t)})}};r.showEvent=function(e){if(r.hasDoneUserEvent(e)){return}n.show(e);window.userEvents[e]=1;r.markUserEventDone(e)};r.markUserEventDone=function(e){if(!r.hasDoneUserEvent(e)){a(e)}window.userEvents[e]=1};function a(e){t.Editor.RPC.User.doEvent(e);window.fireTrackingEvent("Event",e)}i.reqres.setHandlers({"userEvent:hasDoneUserEvent":r.hasDoneUserEvent});i.commands.setHandlers({"userEvent:showEvent":r.showEvent});window.showEvent=r.showEvent;window.hasDoneUserEvent=r.hasDoneUserEvent;window.markUserEventDone=r.markUserEventDone;return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(4),i(1),i(3),i(34),i(35),i(10),i(723)],r=function(e,t,i,n,r,s,a){var l=n.extend({template:i.compile(a),events:{"click .js-item":"clickHandler"},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("hovertip"),n=e.model.get("description");return{checked:function(){if(e.model.get("special")==="buttonDropdown"){if(e.model.get("cfpid")){var t=e.model.get("value")||e.model.get("default");return this.value.toString()===t.toString()}var i=Weebly.Elements.uproperty.properties["62923320"].property_result,n=Weebly.Elements.uproperty.properties["23060085"].property_result;return this.name===i+" "+n}else{var t=e.model.get("value")||e.model.get("default");return t?this.value.toString()===t.toString():false}},options:function(){return e.model.getOptions()},isButtonDropdown:e.model.get("special")==="buttonDropdown",label:_W.utl(t),hovertip:i?_W.utl(i):false,description:n?_W.utl(n):false}},onRender:function(){var e=n.prototype.onRender.call(this);if(e)return;var t=this.model.get("special");if(t==="buttonDropdown"){this.populateButtonDropdown()}},getValue:function(){var e=this.$el.find(":checked");return e.val()},clickHandler:function(e){var i=this,n=t(e.currentTarget).find("input[type=radio]");i.$el.find(":checked").prop("checked",false);i.$el.find('[value= "'+n.val()+'"]').prop("checked",true);if(i.model.get("special")==="resetLink"&&n.val()==="text"){Weebly.Elements.uproperty.properties[s.FORM_CONFIRMATION_LINK_CFPID].property_result="<a>";Weebly.Elements.saveProperties()}else if(i.model.get("special")==="buttonDropdown"){if(i.model.get("cfpid")){i.saveValue();return}var r=n.val().indexOf("wsite-button-small")>-1?"small":"large",o=n.val().indexOf("wsite-button-normal")>-1?"normal":"highlight";window.setContentFieldProperty(Weebly.Elements.ucfid,"<!SIZE!>",r);window.setContentFieldProperty(Weebly.Elements.ucfid,"<!COLOR!>",o);Weebly.Elements.continueOnChange()}else{i.saveValue()}},populateButtonDropdown:function(){var e=this,i=e.$el.find(".wsite-button"),n=["border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-color","border-right-color","border-bottom-color","border-left-color","background-color","background-image","background-position","background-repeat","color","padding-top","padding-right","padding-bottom","padding-left","border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","text-decoration","font-family","font-size","font-weight","text-shadow","box-shadow","line-height"],r=t(Weebly.Elements.currentElement);o.each(i,function(e){e=t(e);var i=t(e.clone()),s,a;r.append(i);s=t(e).find(".wsite-button-inner");a=i.find(".wsite-button-inner");o.each(n,function(t){s.css(t,a.css(t));e.css(t,i.css(t))});i.remove()})}});return l}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},,function(e,t,i){var n,r;!(n=[i(1),i(2),i(9)],r=function(e,t,i){var n=i.Model.extend({defaults:{video_type:null,video_url:"",video_id:null,loop:1,autoplay:1,mute:1,background_url:""},initialize:function(e,i){var n=t.result(e,"video_url","");if(!this.has("video_type")){var r=n.match(/youtube/)||n.match(/vimeo/);this.set("video_type",t.first(r));this.setIdAndBackground()}if(this.get("video_type")==="upload"){this.set("encoding_done",t.result(e,"encoding_done")!==false)}},reset:function(){this.set(this.defaults);return this},setIdAndBackground:function(){var e=this.get("video_type");switch(e){case"youtube":this.set("video_id",this.getYoutubeVideoId());this.set("background_url","https://img.youtube.com/vi/"+this.get("video_id")+"/0.jpg");break;case"vimeo":this.set("video_id",this.getVimeoVideoId());this.fetchVimeoBackground();break}},fetchVimeoBackground:function(){var t=this;var i="https://vimeo.com/api/v2/video/"+t.get("video_id")+".json";e.getJSON(i,function(e){t.set("background_url",e[0].thumbnail_large)})},getYoutubeVideoId:function(){var e=this.get("video_url");var t=e.match(/v=([a-zA-Z0-9_\-]+)/);return t?t[1]:null},getVimeoVideoId:function(){var e=this.get("video_url");var t=e.match(/\/([0-9]+)$/);return t?t[1]:null}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(87),i(576),i(762)],r=function(e,t,i,n){var r=t.Panel.extend({initialize:function(e){this.section=this.options.section},newLabelTpl:function(){return e.render(n)},renderOptions:function(){this.dialog=this.panelSwitcher.dialog.comboDialog;var e=new i({panelType:this.value,dialog:this.dialog,section:this.section,showAlignment:this.options.showAlignment,fallbackAlignment:this.options.fallbackAlignment,baseSetting:this.options.baseSetting,showSaveToPages:this.options.showSaveToPages});this.$(".bgpanel__body").append(e.render().$el)},renderContent:function(e){e.html('<div class="bgpanel__body"></div>');this.renderOptions()},hideNewLabels:function(){this.trigger("section:switcher:panel:labels:hide")}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(7),i(75),i(106),i(18),i(120),i(29),i(367),i(301),i(12),i(25),i(167),i(50),i(60)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p={};var m=t();p.reportHeaderElement=function(e){m=t(e)};p.getCurrentHeaderElement=function(){return m[0]};function g(){return getComputedStyle(p.getCurrentHeaderElement())}p.getHeaderImageUrl=function(){var e=m.css("background-image").match(/url\(['"]?([^'"]*)['"]?\)/);var t=e?e[1]:"";return w(t)};function v(){var e=g();var t=e["max-height"];if(!t||t==="none"){t=e["height"]}t=t.length&&t.indexOf("%")===-1?parseInt(t,10):void 0;var i=e["max-width"];if(!i||i==="none"){i=e["width"]}i=i.length&&i.indexOf("%")===-1?parseInt(i,10):void 0;return{height:t,width:i}}function w(e){if(e.indexOf("http")===0){e="/"+e.split("/").slice(3).join("/")}return e}function b(e){var t=e.data;if(!t){return null}if(t.type){return t.image&&t.image.editorUrl}if(t.is_slideshow){return null}return e.url}function y(e){if(e.type){return e.type==="slideshow"}return e.is_slideshow}p.setCurrentHeaderImage=function(i,l){var u=a.isMobileView;var d;c.clearHeaderSlideshow();if(!i){i={}}if(!i.data){i.data={}}var f=i.data;if(f.type&&f.type==="image"&&!f.image){f.image={}}var h=f.image;var p=b(i);if(u){if(!p){d=o.getCurrentThemeData(u).done(function(e){var t=r.getPageType(currentPage,e);p=s.getHeaderPlaceholder(t);if(f.type){h.editorUrl=p}else{i.url=p}})}m.css({height:""})}return t.when(d).done(function(){if(y(f)){c.updateHeaderSlideshow(f.slideshow)}else if(p){if(u){m.css({height:"auto","min-height":"0",background:"none"});m.html('<img src="'+p+'" style="width:100%;height:auto;display:block;">')}else{m.css({backgroundImage:"url("+p+")",backgroundPosition:i.id?"0 0":""})}}else{m.css({background:"",backgroundImage:"",backgroundPosition:"",height:""});m.empty()}n.setCurrentHeader(i);if(e.Permissions.allow_header_editing){E(u)}if(!l){updateFooterAttribution()}})};var _;function E(){if(u.chromeless){return}if(_){_.destroy()}if(m.length){o.getCurrentThemeData(a.isMobileView).done(function(r){var o=n.getCurrentHeader();var s=v();var u=false;_=new l({currentHeader:o,targetElement:m,appendToElement:t("#_editor-ui"),allowPageTypes:!a.isMobileView&&!d.themeSupportsSections(r),allowSlideshow:!a.isMobileView,allowNewImage:true,allowReset:true,position:"topright",height:s.height,width:s.width,editCallback:function(t){t=t||{};if(t.forceSlideshow&&!e.Restrictions.hasAccess("slideshow_header")){i.request("billing:upgrade:prompt",{restrictionID:"slideshow_header",restrictionType:"feature",refer:"main"});return}if(o.data.type==="image"){if(!o.data.image.originalUrl){o.data.image.originalUrl=p.getHeaderImageUrl()}if(!o.data.image.editedUrl){o.data.image.editedUrl=o.data.image.originalUrl}if(!o.data.image.editorUrl){o.data.image.editorUrl=o.data.image.editedUrl}if(!o.data.image.publishedUrl){o.data.image.publishedUrl=o.data.image.editorUrl}}t.mode="header";t.header={data:o,element:m[0]};t.imageEditorData=t.imageEditorData||o.data;u=true;f.edit(t).always(function(){u=false;if(t.forceSlideshow){c.reset()}}).done(function(e){p.setCurrentHeaderImage(e)})},getIsEditing:function(){return u}}).on({"click:reset":function(){var i=t("#wsite-com-area-category").attr("data-id");this.hide();h.confirm({parent:"#_editor-ui ._editor-ui__framework",outerClassName:"modal--transparent",isModalLight:false,message:e.utl("javascript.editor.slideshow-editor.header_reset_message"),proceedButton:{text:e.utl("javascript.editor.slideshow-editor.header_reset_ok"),className:"btn--destructive"},cancelButton:{text:e.utl("html.weebly.slideshow-editor.js.he_11")},isModal:true,isPositionFixed:true}).then(e.Editor.RPC.ImageEditor.resetHeaderImage.bind(e.Editor.RPC.ImageEditor,window.currentTheme,window.currentPage,o.id||"",i,false)).done(function(e){p.setCurrentHeaderImage(e)})}});_.render()})}}return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(174)],r=function(e){e.widget("ui.resizable",e.ui.resizable,{_mouseCapture:function(t){var i,n=false;for(i in this.handles){this.handles[i].each(function(i,r){if(r===t.target||e.contains(r,t.target)){n=true}})}return!this.options.disabled&&n}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){(function(t){if(true){e.exports=t(i(2),i(9))}else if(typeof define=="function"&&define.amd){define(["underscore","backbone"],t)}else if(typeof _!=="undefined"&&typeof Backbone!=="undefined"){var n=Backbone.PageableCollection;var r=t(_,Backbone);Backbone.PageableCollection.noConflict=function(){Backbone.PageableCollection=n;return r}}})(function(e,t){"use strict";var i=e.extend;var n=e.omit;var r=e.clone;var o=e.each;var s=e.pick;var a=e.contains;var l=e.isEmpty;var c=e.pairs;var u=e.invert;var d=e.isArray;var f=e.isFunction;var h=e.isObject;var p=e.keys;var m=e.isUndefined;var g=e.result;var v=Math.ceil;var w=Math.floor;var b=Math.max;var y=t.Collection.prototype;function _(t,i){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t){throw new TypeError("`"+i+"` must be a finite integer")}return t}function E(e){var t,i,n,r,o={},s=decodeURIComponent;var a=e.split("&");for(var l=0,c=a.length;l<c;l++){var u=a[l];t=u.split("="),i=t[0],n=t[1]||true;i=s(i),n=s(n),r=o[i];if(d(r))r.push(n);else if(r)o[i]=[r,n];else o[i]=n}return o}function T(e,t,i){var n=e._events[t];if(n&&n.length){var r=n[n.length-1];var o=r.callback;r.callback=function(){try{o.apply(this,arguments);i()}catch(e){throw e}finally{r.callback=o}}}else i()}var C=/[\s'"]/g;var S=/[<>\s'"]/g;var I=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){y.constructor.apply(this,arguments);t=t||{};var n=this.mode=t.mode||this.mode||O.mode;var o=i({},O.queryParams,this.queryParams,t.queryParams||{});o.directions=i({},O.queryParams.directions,this.queryParams.directions,o.directions||{});this.queryParams=o;var s=this.state=i({},O.state,this.state,t.state||{});s.currentPage=s.currentPage==null?s.firstPage:s.currentPage;if(!d(e))e=e?[e]:[];if(n!="server"&&s.totalRecords==null&&!l(e)){s.totalRecords=e.length}this.switchMode(n,i({fetch:false,resetState:false,models:e},t));var a=t.comparator;if(s.sortKey&&!a){this.setSorting(s.sortKey,s.order,t)}if(n!="server"){var c=this.fullCollection;if(a&&t.full){this.comparator=null;c.comparator=a}if(t.full)c.sort();if(e&&!l(e)){this.reset([].slice.call(e),i({silent:true},t));this.getPage(s.currentPage);e.splice.apply(e,[0,e.length].concat(this.models))}}this._initState=r(this.state)},_makeFullCollection:function(e,i){var n=["url","model","sync","comparator"];var r=this.constructor.prototype;var o,s,a;var l={};for(o=0,s=n.length;o<s;o++){a=n[o];if(!m(r[a])){l[a]=r[a]}}var c=new(t.Collection.extend(l))(e,i);for(o=0,s=n.length;o<s;o++){a=n[o];if(this[a]!==r[a]){c[a]=this[a]}}return c},_makeCollectionEventHandler:function(e,t){return function n(s,a,l,c){var u=e._handlers;o(p(u),function(i){var n=u[i];e.off(i,n);t.off(i,n)});var d=r(e.state);var f=d.firstPage;var h=f===0?d.currentPage:d.currentPage-1;var g=d.pageSize;var w=h*g,b=w+g;if(s=="add"){var y,_,E,C,c=c||{};if(l==t){_=t.indexOf(a);if(_>=w&&_<b){C=e;y=E=_-w}}else{y=e.indexOf(a);_=w+y;C=t;var E=!m(c.at)?c.at+w:_}if(!c.onRemove){++d.totalRecords;delete c.onRemove}e.state=e._checkState(d);if(C){C.add(a,i({},c||{},{at:E}));var S=y>=g?a:!m(c.at)&&E<b&&e.length>g?e.at(g):null;if(S){T(l,s,function(){e.remove(S,{onAdd:true})})}}}if(s=="remove"){if(!c.onAdd){if(!--d.totalRecords){d.totalRecords=null;d.totalPages=null}else{var I=d.totalPages=v(d.totalRecords/g);d.lastPage=f===0?I-1:I||f;if(d.currentPage>I)d.currentPage=d.lastPage}e.state=e._checkState(d);var O,k=c.index;if(l==e){if(O=t.at(b)){T(e,s,function(){e.push(O,{onRemove:true})})}t.remove(a)}else if(k>=w&&k<b){if(O=t.at(b-1)){T(e,s,function(){e.push(O,{onRemove:true})})}e.remove(a)}}else delete c.onAdd}if(s=="reset"){c=l;l=a;if(l==e&&c.from==null&&c.to==null){var x=t.models.slice(0,w);var D=t.models.slice(w+e.models.length);t.reset(x.concat(e.models).concat(D),c)}else if(l==t){if(!(d.totalRecords=t.models.length)){d.totalRecords=null;d.totalPages=null}if(e.mode=="client"){d.lastPage=d.currentPage=d.firstPage}e.state=e._checkState(d);e.reset(t.models.slice(w,b),i({},c,{parse:false}))}}if(s=="sort"){c=l;l=a;if(l===t){e.reset(t.models.slice(w,b),i({},c,{parse:false}))}}o(p(u),function(i){var n=u[i];o([e,t],function(e){e.on(i,n);var t=e._events[i]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode;var i=this.links;var n=e.totalRecords;var r=e.pageSize;var o=e.currentPage;var s=e.firstPage;var a=e.totalPages;if(n!=null&&r!=null&&o!=null&&s!=null&&(t=="infinite"?i:true)){n=_(n,"totalRecords");r=_(r,"pageSize");o=_(o,"currentPage");s=_(s,"firstPage");if(r<1){throw new RangeError("`pageSize` must be >= 1")}a=e.totalPages=v(n/r);if(s<0||s>1){throw new RangeError("`firstPage must be 0 or 1`")}e.lastPage=s===0?b(0,a-1):a||s;if(t=="infinite"){if(!i[o+""]){throw new RangeError("No link found for page "+o)}}else if(o<s||a>0&&(s?o>a:o>=a)){throw new RangeError("`currentPage` must be firstPage <= currentPage "+(s?">":">=")+" totalPages if "+s+"-based. Got "+o+".")}}return e},setPageSize:function(e,t){e=_(e,"pageSize");t=t||{first:false};var r=this.state;var o=v(r.totalRecords/e);var s=o?b(r.firstPage,w(o*(r.firstPage?r.currentPage:r.currentPage+1)/r.totalPages)):r.firstPage;r=this.state=this._checkState(i({},r,{pageSize:e,currentPage:t.first?r.firstPage:s,totalPages:o}));return this.getPage(r.currentPage,n(t,["first"]))},switchMode:function(t,s){if(!a(["server","client","infinite"],t)){throw new TypeError('`mode` must be one of "server", "client" or "infinite"')}s=s||{fetch:true,resetState:true};var l=this.state=s.resetState?r(this._initState):this._checkState(i({},this.state));this.mode=t;var c=this;var u=this.fullCollection;var d=this._handlers=this._handlers||{},f;if(t!="server"&&!u){u=this._makeFullCollection(s.models||[],s);u.pageableCollection=this;this.fullCollection=u;var h=this._makeCollectionEventHandler(this,u);o(["add","remove","reset","sort"],function(t){d[t]=f=e.bind(h,{},t);c.on(t,f);u.on(t,f)});u.comparator=this._fullComparator}else if(t=="server"&&u){o(p(d),function(e){f=d[e];c.off(e,f);u.off(e,f)});delete this._handlers;this._fullComparator=u.comparator;delete this.fullCollection}if(t=="infinite"){var m=this.links={};var g=l.firstPage;var w=v(l.totalRecords/l.pageSize);var y=g===0?b(0,w-1):w||g;for(var _=l.firstPage;_<=y;_++){m[_]=this.url}}else if(this.links)delete this.links;return s.fetch?this.fetch(n(s,"fetch","resetState")):this},hasPrevious:function(){var e=this.state;var t=e.currentPage;if(this.mode!="infinite")return t>e.firstPage;return!!this.links[t-1]},hasNext:function(){var e=this.state;var t=this.state.currentPage;if(this.mode!="infinite")return t<e.lastPage;return!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var r=this.mode,o=this.fullCollection;t=t||{fetch:false};var s=this.state,a=s.firstPage,c=s.currentPage,u=s.lastPage,d=s.pageSize;var f=e;switch(e){case"first":f=a;break;case"prev":f=c-1;break;case"next":f=c+1;break;case"last":f=u;break;default:f=_(e,"index")}this.state=this._checkState(i({},s,{currentPage:f}));t.from=c,t.to=f;var h=(a===0?f:f-1)*d;var p=o&&o.length?o.models.slice(h,h+d):[];if((r=="client"||r=="infinite"&&!l(p))&&!t.fetch){this.reset(p,n(t,"fetch"));return this}if(r=="infinite")t.url=this.links[f];return this.fetch(n(t,"fetch"))},getPageByOffset:function(e,t){if(e<0){throw new RangeError("`offset must be > 0`")}e=_(e);var i=w(e/this.state.pageSize);if(this.state.firstPage!==0)i++;if(i>this.state.lastPage)i=this.state.lastPage;return this.getPage(i,t)},sync:function(e,n,r){var o=this;if(o.mode=="infinite"){var s=r.success;var a=o.state.currentPage;r.success=function(e,t,n){var l=o.links;var c=o.parseLinks(e,i({xhr:n},r));if(c.first)l[o.state.firstPage]=c.first;if(c.prev)l[a-1]=c.prev;if(c.next)l[a+1]=c.next;if(s)s(e,t,n)}}return(y.sync||t.sync).call(o,e,n,r)},parseLinks:function(e,t){var i={};var n=t.xhr.getResponseHeader("Link");if(n){var r=["first","prev","next"];o(n.split(","),function(e){var t=e.split(";");var n=t[0].replace(S,"");var s=t.slice(1);o(s,function(e){var t=e.split("=");var o=t[0].replace(C,"");var s=t[1].replace(C,"");if(o=="rel"&&a(r,s))i[s]=n})})}return i},parse:function(e,t){var n=this.parseState(e,r(this.queryParams),r(this.state),t);if(n)this.state=this._checkState(i({},this.state,n));return this.parseRecords(e,t)},parseState:function(t,i,s,a){if(t&&t.length===2&&h(t[0])&&d(t[1])){var l=r(s);var f=t[0];o(c(n(i,"directions")),function(t){var i=t[0],n=t[1];var r=f[n];if(!m(r)&&!e.isNull(r))l[i]=f[n]});if(f.order){l.order=u(i.directions)[f.order]*1}return l}},parseRecords:function(e,t){if(e&&e.length===2&&h(e[0])&&d(e[1])){return e[1]}return e},fetch:function(e){e=e||{};var t=this._checkState(this.state);var o=this.mode;if(o=="infinite"&&!e.url){e.url=this.links[t.currentPage]}var a=e.data||{};var l=g(e,"url")||g(this,"url")||"";var u=l.indexOf("?");if(u!=-1){i(a,E(l.slice(u+1)));l=l.slice(0,u)}e.url=l;e.data=a;var d=this.mode=="client"?s(this.queryParams,"sortKey","order"):n(s(this.queryParams,p(O.queryParams)),"directions");var h,v,w,b,_=c(d),T=r(this);for(h=0;h<_.length;h++){v=_[h],w=v[0],b=v[1];b=f(b)?b.call(T):b;if(t[w]!=null&&b!=null){a[b]=t[w]}}if(t.sortKey&&t.order){a[d.order]=this.queryParams.directions[t.order+""]}else if(!t.sortKey)delete a[d.order];var C=c(n(this.queryParams,p(O.queryParams)));for(h=0;h<C.length;h++){v=C[h];b=v[1];b=f(b)?b.call(T):b;if(b!=null)a[v[0]]=b}if(o!="server"){var S=this,I=this.fullCollection;var k=e.success;e.success=function(t,n,r){r=r||{};if(m(e.silent))delete r.silent;else r.silent=e.silent;var s=t.models;if(o=="client")I.reset(s,r);else{I.add(s,i({at:I.length},i(r,{parse:false})));S.trigger("reset",S,r)}if(k)k(t,n,r)};return y.fetch.call(this,i({},e,{silent:true}))}return y.fetch.call(this,e)},_makeComparator:function(e,t,i){var n=this.state;e=e||n.sortKey;t=t||n.order;if(!e||!t)return;if(!i)i=function(e,t){return e.get(t)};return function(n,r){var o=i(n,e),s=i(r,e),a;if(t===1)a=o,o=s,s=a;if(o===s)return 0;else if(o<s)return-1;return 1}},setSorting:function(t,n,r){var o=this.state;o.sortKey=t;o.order=n=n||o.order;var s=this.fullCollection;var a=false,l=false;if(!t)a=l=true;var c=this.mode;r=i({side:c=="client"?c:"server",full:true},r);var u=this._makeComparator(t,n,r.sortValue);var d=r.full,f=r.side;if(f=="client"){if(d){if(s)s.comparator=u;a=true}else{this.comparator=u;l=true}}else if(f=="server"&&!d){this.comparator=u}if(a)this.comparator=null;if(l&&s)s.comparator=null;this.fetchOptions=e.extend({},this.fetchOptions,{sort:[{property:t,direction:n>0?"ASC":"DESC"}]});return this}});var O=I.prototype;return I})},function(e,t,i){(function(t){if(true){e.exports=t(i(9),i(2))}else if(typeof define==="function"&&define.amd){define(["backbone","underscore"],t)}})(function(e,t){e.Validation=function(t){"use strict";var i={forceUpdate:false,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype};var n={formatLabel:function(e,t){return c[i.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,i){return typeof e[i]!=="undefined"?e[i]:t})}};var r=function(i,n,o){n=n||{};o=o||"";t.each(i,function(t,s){if(i.hasOwnProperty(s)){if(t&&typeof t==="object"&&!(t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e.Model||t instanceof e.Collection)){r(t,n,o+s+".")}else{n[o+s]=t}}});return n};var o=function(){var e=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(e,t){e[t]=void 0;return e},{})};var o=function(e,i){var n=e.validation?t.result(e,"validation")[i]||{}:{};if(t.isFunction(n)||t.isString(n)){n={fn:n}}if(!t.isArray(n)){n=[n]}return t.reduce(n,function(e,i){t.each(t.without(t.keys(i),"msg"),function(t){e.push({fn:u[t],val:i[t],msg:i.msg})});return e},[])};var a=function(e,i,r,s){return t.reduce(o(e,i),function(o,a){var l=t.extend({},n,u),c=a.fn.call(l,r,i,a.val,e,s);if(c===false||o===false){return false}if(c&&!o){return t.result(a,"msg")||c}return o},"")};var l=function(e,i){var n,o={},s=true,l=t.clone(i),c=r(i);t.each(c,function(t,i){n=a(e,i,t,l);if(n){o[i]=n;s=false}});return{invalidAttrs:o,isValid:s}};var c=function(i,n){return{preValidate:function(e,i){var n=this,r={},o;if(t.isObject(e)){t.each(e,function(e,t){o=n.preValidate(t,e);if(o){r[t]=o}});return t.isEmpty(r)?undefined:r}else{return a(this,e,i,t.extend({},this.attributes))}},isValid:function(e){var i=r(this.attributes);if(t.isString(e)){return!a(this,e,i[e],t.extend({},this.attributes))}if(t.isArray(e)){return t.reduce(e,function(e,n){return e&&!a(this,n,i[n],t.extend({},this.attributes))},true,this)}if(e===true){this.validate()}return this.validation?this._isValid:true},validate:function(o,s){var a=this,c=!o,u=t.extend({},n,s),d=e(a),f=t.extend({},d,a.attributes,o),h=r(o||f),p=l(a,f);a._isValid=p.isValid;t.each(d,function(e,t){var n=p.invalidAttrs.hasOwnProperty(t);if(!n){u.valid(i,t,u.selector)}});t.each(d,function(e,t){var n=p.invalidAttrs.hasOwnProperty(t),r=h.hasOwnProperty(t);if(n&&(r||c)){u.invalid(i,t,p.invalidAttrs[t],u.selector)}});t.defer(function(){a.trigger("validated",a._isValid,a,p.invalidAttrs);a.trigger("validated:"+(a._isValid?"valid":"invalid"),a,p.invalidAttrs)});if(!u.forceUpdate&&t.intersection(t.keys(p.invalidAttrs),t.keys(h)).length>0){return p.invalidAttrs}}}};var d=function(e,i,n){t.extend(i,c(e,n))};var f=function(e){delete e.validate;delete e.preValidate;delete e.isValid};var h=function(e){d(this.view,e,this.options)};var p=function(e){f(e)};return{version:"0.9.1",configure:function(e){t.extend(i,e)},bind:function(e,n){n=t.extend({},i,s,n);var r=n.model||e.model,o=n.collection||e.collection;if(typeof r==="undefined"&&typeof o==="undefined"){throw"Before you execute the binding your view must have a model or a collection.\n"+"See http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information."}if(r){d(e,r,n)}else if(o){o.each(function(t){d(e,t,n)});o.bind("add",h,{view:e,options:n});o.bind("remove",p);
}},unbind:function(e,i){i=t.extend({},i);var n=i.model||e.model,r=i.collection||e.collection;if(n){f(n)}else if(r){r.each(function(e){f(e)});r.unbind("add",h);r.unbind("remove",p)}},mixin:c(null,i)}}();var s=o.callbacks={valid:function(e,t,i){e.$("["+i+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,i,n){e.$("["+n+'~="'+t+'"]').addClass("invalid").attr("data-error",i)}};var a=o.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,domain:/^(?:[a-zA-Z0-9]+(?:\-*[a-zA-Z0-9])*\.)+[a-zA-Z]{2,6}$/};var l=o.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",int:"{0} must be a whole number",email:"{0} must be a valid email",url:"{0} must be a valid url",domain:"{0} must be a valid domain",inlinePattern:"{0} is invalid"};var c=o.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return t===0?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||c.sentenceCase(e,t)}};var u=o.validators=function(){var e=String.prototype.trim?function(e){return e===null?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,i=/\s+$/;return e===null?"":e.toString().replace(t,"").replace(i,"")};var i=function(e){return t.isNumber(e)||t.isString(e)&&e.match(a.number)};var n=function(i){return!(t.isNull(i)||t.isUndefined(i)||t.isString(i)&&e(i)===""||t.isArray(i)&&t.isEmpty(i))};return{fn:function(e,i,n,r,o){if(t.isString(n)){n=r[n]}return n.call(r,e,i,o)},required:function(e,i,r,o,s){var a=t.isFunction(r)?r.call(o,e,i,s):r;if(!a&&!n(e)){return false}if(a&&!n(e)){return this.format(l.required,this.formatLabel(i,o))}},acceptance:function(e,i,n,r){if(e!=="true"&&(!t.isBoolean(e)||e===false)){return this.format(l.acceptance,this.formatLabel(i,r))}},min:function(e,t,n,r){if(!i(e)||e<n){return this.format(l.min,this.formatLabel(t,r),n)}},max:function(e,t,n,r){if(!i(e)||e>n){return this.format(l.max,this.formatLabel(t,r),n)}},range:function(e,t,n,r){if(!i(e)||e<n[0]||e>n[1]){return this.format(l.range,this.formatLabel(t,r),n[0],n[1])}},length:function(e,i,n,r){if(!t.isString(e)||e.length!==n){return this.format(l.length,this.formatLabel(i,r),n)}},minLength:function(e,i,n,r){if(!t.isString(e)||e.length<n){return this.format(l.minLength,this.formatLabel(i,r),n)}},maxLength:function(e,i,n,r){if(!t.isString(e)||e.length>n){return this.format(l.maxLength,this.formatLabel(i,r),n)}},rangeLength:function(e,i,n,r){if(!t.isString(e)||e.length<n[0]||e.length>n[1]){return this.format(l.rangeLength,this.formatLabel(i,r),n[0],n[1])}},oneOf:function(e,i,n,r){if(!t.include(n,e)){return this.format(l.oneOf,this.formatLabel(i,r),n.join(", "))}},equalTo:function(e,t,i,n,r){if(e!==r[i]){return this.format(l.equalTo,this.formatLabel(t,n),this.formatLabel(i,n))}},pattern:function(e,t,i,r){if(!n(e)||!e.toString().match(a[i]||i)){return this.format(l[i]||l.inlinePattern,this.formatLabel(t,r),i)}},url:function(e,t,i,n){if(!a.url.test(e)){return this.format(l.url,this.formatLabel(t,n))}},domain:function(e,t,i,n){if(!a.domain.test(e)){return this.format(l.domain,this.formatLabel(t,n))}},email:function(e,t,i,n){if(!a.email.test(e)){return this.format(l.email,this.formatLabel(t,n))}},number:function(e,t,i,n){if(isNaN(parseFloat(e))||!isFinite(e)){return this.format(l.number,this.formatLabel(t,n))}},int:function(e,t,i,n){if(e%1!==0){return this.format(l.int,this.formatLabel(t,n))}}}}();t.each(u,function(e,i){u[i]=t.bind(u[i],t.extend({},n,u))});return o}(t);return e.Validation})},,,,function(e,t,i){(function(t,n){true?e.exports=n(i(2),i(9)):typeof define==="function"&&define.amd?define(["underscore","backbone"],n):(t.Backbone=t.Backbone||{},t.Backbone.Radio=n(t._,t.Backbone))})(this,function(e,t){"use strict";e="default"in e?e["default"]:e;t="default"in t?t["default"]:t;var i={};i.typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol?"symbol":typeof e};i;var n=t.Radio;var r=t.Radio={};r.VERSION="1.0.4";r.noConflict=function(){t.Radio=n;return this};r.DEBUG=false;r._debugText=function(e,t,i){return e+(i?" on the "+i+" channel":"")+': "'+t+'"'};r.debugLog=function(e,t,i){if(r.DEBUG&&console&&console.warn){console.warn(r._debugText(e,t,i))}};var o=/\s+/;r._eventsApi=function(t,n,r,s){if(!r){return false}var a={};if((typeof r==="undefined"?"undefined":i.typeof(r))==="object"){for(var l in r){var c=t[n].apply(t,[l,r[l]].concat(s));o.test(l)?e.extend(a,c):a[l]=c}return a}if(o.test(r)){var u=r.split(o);for(var d=0,f=u.length;d<f;d++){a[u[d]]=t[n].apply(t,[u[d]].concat(s))}return a}return false};r._callHandler=function(e,t,i){var n=i[0],r=i[1],o=i[2];switch(i.length){case 0:return e.call(t);case 1:return e.call(t,n);case 2:return e.call(t,n,r);case 3:return e.call(t,n,r,o);default:return e.apply(t,i)}};function s(e,t,i,n){var r=e[t];if((!i||i===r.callback||i===r.callback._callback)&&(!n||n===r.context)){delete e[t];return true}}function a(t,i,n,r){t||(t={});var o=i?[i]:e.keys(t);var a=false;for(var l=0,c=o.length;l<c;l++){i=o[l];if(!t[i]){continue}if(s(t,i,n,r)){a=true}}return a}var l={};function c(t){return l[t]||(l[t]=e.bind(r.log,r,t))}e.extend(r,{log:function t(i,n){if(typeof console==="undefined"){return}var r=e.toArray(arguments).slice(2);console.log("["+i+'] "'+n+'"',r)},tuneIn:function e(t){var i=r.channel(t);i._tunedIn=true;i.on("all",c(t));return this},tuneOut:function e(t){var i=r.channel(t);i._tunedIn=false;i.off("all",c(t));delete l[t];return this}});function u(t){return e.isFunction(t)?t:function(){return t}}r.Requests={request:function t(i){var n=e.toArray(arguments).slice(1);var o=r._eventsApi(this,"request",i,n);if(o){return o}var s=this.channelName;var a=this._requests;if(s&&this._tunedIn){r.log.apply(this,[s,i].concat(n))}if(a&&(a[i]||a["default"])){var l=a[i]||a["default"];n=a[i]?n:arguments;return r._callHandler(l.callback,l.context,n)}else{r.debugLog("An unhandled request was fired",i,s)}},reply:function e(t,i,n){if(r._eventsApi(this,"reply",t,[i,n])){return this}this._requests||(this._requests={});if(this._requests[t]){r.debugLog("A request was overwritten",t,this.channelName)}this._requests[t]={callback:u(i),context:n||this};return this},replyOnce:function t(i,n,o){if(r._eventsApi(this,"replyOnce",i,[n,o])){return this}var s=this;var a=e.once(function(){s.stopReplying(i);return u(n).apply(this,arguments)});return this.reply(i,a,o)},stopReplying:function e(t,i,n){if(r._eventsApi(this,"stopReplying",t)){return this}if(!t&&!i&&!n){delete this._requests}else if(!a(this._requests,t,i,n)){r.debugLog("Attempted to remove the unregistered request",t,this.channelName)}return this}};r._channels={};r.channel=function(e){if(!e){throw new Error("You must provide a name for the channel.")}if(r._channels[e]){return r._channels[e]}else{return r._channels[e]=new r.Channel(e)}};r.Channel=function(e){this.channelName=e};e.extend(r.Channel.prototype,t.Events,r.Requests,{reset:function e(){this.off();this.stopListening();this.stopReplying();return this}});var d;var f;var h=[t.Events,r.Requests];e.each(h,function(t){e.each(t,function(t,i){r[i]=function(t){f=e.toArray(arguments).slice(1);d=this.channel(t);return d[i].apply(d,f)}})});r.reset=function(t){var i=!t?this._channels:[this._channels[t]];e.each(i,function(e){e.reset()})};return r})},,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){(function(){e.ui=e.ui||{};var t,i,n=Math.max,r=Math.abs,o=Math.round,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=e.fn.position;function f(e,t,i){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?i/100:1)]}function h(t,i){return parseInt(e.css(t,i),10)||0}function p(t){var i=t[0];if(i.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(e.isWindow(i)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(i.preventDefault){return{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(t!==undefined){return t}var i,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];e("body").append(r);i=o.offsetWidth;r.css("overflow","scroll");n=o.offsetWidth;if(i===n){n=r[0].clientWidth}r.remove();return t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,o=n==="scroll"||n==="auto"&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of){return d.apply(this,arguments)}t=e.extend({},t);var u,m,g,v,w,b,y=e(t.of),_=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(_),T=(t.collision||"flip").split(" "),C={};b=p(y);if(y[0].preventDefault){t.at="left top"}m=b.width;g=b.height;v=b.offset;w=e.extend({},v);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),i,n;if(e.length===1){e=s.test(e[0])?e.concat(["center"]):a.test(e[0])?["center"].concat(e):["center","center"]}e[0]=s.test(e[0])?e[0]:"center";e[1]=a.test(e[1])?e[1]:"center";i=l.exec(e[0]);n=l.exec(e[1]);C[this]=[i?i[0]:0,n?n[0]:0];t[this]=[c.exec(e[0])[0],c.exec(e[1])[0]]});if(T.length===1){T[1]=T[0]}if(t.at[0]==="right"){w.left+=m}else if(t.at[0]==="center"){w.left+=m/2}if(t.at[1]==="bottom"){w.top+=g}else if(t.at[1]==="center"){w.top+=g/2}u=f(C.at,m,g);w.left+=u[0];w.top+=u[1];return this.each(function(){var s,a,l=e(this),c=l.outerWidth(),d=l.outerHeight(),p=h(this,"marginLeft"),b=h(this,"marginTop"),S=c+p+h(this,"marginRight")+E.width,I=d+b+h(this,"marginBottom")+E.height,O=e.extend({},w),k=f(C.my,l.outerWidth(),l.outerHeight());if(t.my[0]==="right"){O.left-=c}else if(t.my[0]==="center"){O.left-=c/2}if(t.my[1]==="bottom"){O.top-=d}else if(t.my[1]==="center"){O.top-=d/2}O.left+=k[0];O.top+=k[1];if(!i){O.left=o(O.left);O.top=o(O.top)}s={marginLeft:p,marginTop:b};e.each(["left","top"],function(i,n){if(e.ui.position[T[i]]){e.ui.position[T[i]][n](O,{targetWidth:m,targetHeight:g,elemWidth:c,elemHeight:d,collisionPosition:s,collisionWidth:S,collisionHeight:I,offset:[u[0]+k[0],u[1]+k[1]],my:t.my,at:t.at,within:_,elem:l})}});if(t.using){a=function(e){var i=v.left-O.left,o=i+m-c,s=v.top-O.top,a=s+g-d,u={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:l,left:O.left,top:O.top,width:c,height:d},horizontal:o<0?"left":i>0?"right":"center",vertical:a<0?"top":s>0?"bottom":"middle"};if(m<c&&r(i+o)<m){u.horizontal="center"}if(g<d&&r(s+a)<g){u.vertical="middle"}if(n(r(i),r(o))>n(r(s),r(a))){u.important="horizontal"}else{u.important="vertical"}t.using.call(this,e,u)}}l.offset(e.extend(O,{using:a}))})};e.ui.position={fit:{left:function(e,t){var i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,a=r-s,l=s+t.collisionWidth-o-r,c;if(t.collisionWidth>o){if(a>0&&l<=0){c=e.left+a+t.collisionWidth-o-r;e.left+=a-c}else if(l>0&&a<=0){e.left=r}else{if(a>l){e.left=r+o-t.collisionWidth}else{e.left=r}}}else if(a>0){e.left+=a}else if(l>0){e.left-=l}else{e.left=n(e.left-s,e.left)}},top:function(e,t){var i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,a=r-s,l=s+t.collisionHeight-o-r,c;if(t.collisionHeight>o){if(a>0&&l<=0){c=e.top+a+t.collisionHeight-o-r;e.top+=a-c}else if(l>0&&a<=0){e.top=r}else{if(a>l){e.top=r+o-t.collisionHeight}else{e.top=r}}}else if(a>0){e.top+=a}else if(l>0){e.top-=l}else{e.top=n(e.top-s,e.top)}}},flip:{left:function(e,t){var i=t.within,n=i.offset.left+i.scrollLeft,o=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,a=e.left-t.collisionPosition.marginLeft,l=a-s,c=a+t.collisionWidth-o-s,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,d=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,f=-2*t.offset[0],h,p;if(l<0){h=e.left+u+d+f+t.collisionWidth-o-n;if(h<0||h<r(l)){e.left+=u+d+f}}else if(c>0){p=e.left-t.collisionPosition.marginLeft+u+d+f-s;if(p>0||r(p)<c){e.left+=u+d+f}}},top:function(e,t){var i=t.within,n=i.offset.top+i.scrollTop,o=i.height,s=i.isWindow?i.scrollTop:i.offset.top,a=e.top-t.collisionPosition.marginTop,l=a-s,c=a+t.collisionHeight-o-s,u=t.my[1]==="top",d=u?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,h=-2*t.offset[1],p,m;if(l<0){m=e.top+d+f+h+t.collisionHeight-o-n;if(m<0||m<r(l)){e.top+=d+f+h}}else if(c>0){p=e.top-t.collisionPosition.marginTop+d+f+h-s;if(p>0||r(p)<c){e.top+=d+f+h}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,n,r,o,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(a){e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"})}for(s in r){t.style[s]=r[s]}t.appendChild(l);n=a||document.documentElement;n.insertBefore(t,n.firstChild);l.style.cssText="position: absolute; left: 10.7432222px;";o=e(l).offset().left;i=o>10&&o<11;t.innerHTML="";n.removeChild(t)})()})();return e.ui.position})},function(e,t,i){var n,r;!(n=[i(1),i(40),i(76),i(100)],r=function(e,t,i,n,r){var o=t.extend(e.extend({},i.Mixin,{className:"alert",template:"<div class='alert__content'>\n"+"\t{{#title}}\n"+"\t\t<h2 class='alert__title'>\n"+"\t\t\t{{title}}\n"+"\t\t</h2>\n"+"\t{{/title}}\n"+"\t{{#message}}\n"+"\t    <div class='alert__paragraph {{#messageAlignment}}alert__paragraph--text-{{messageAlignment}}{{/messageAlignment}}'>\n"+"\t\t    {{message}}\n"+"\t    </div>\n"+"\t{{/message}}\n"+"\t{{#messageHtml}}\n"+"\t\t<div class='alert__paragraph {{#messageAlignment}}alert__paragraph--text-{{messageAlignment}}{{/messageAlignment}}'>\n"+"\t\t\t{{{messageHtml}}}\n"+"\t\t</div>\n"+"\t{{/messageHtml}}\n"+"</div>\n"+"<div class='alert__footer'>\n"+"\t{{{proceedButtonHtml}}}\n"+"\t{{{cancelButtonHtml}}}\n"+"</div>",zIndex:9999,isModal:true,hAlignment:"center",vAlignment:"center",messageAlignment:"center",vAlignmentTopClassName:"alert--v-top",vAlignmentCenterClassName:"alert--v-center",proceedText:"OK",isProceedEnabled:true,isCancelEnabled:true,buttonEvents:{"click .js-proceed-btn":"proceed","click .js-cancel-btn":"cancel"},getRenderData:function(){return{title:this.queryOption("title"),message:this.queryOption("message"),messageHtml:this.queryOption("messageHtml"),messageAlignment:this.queryOption("messageAlignment"),proceedButtonHtml:this.renderProceedButtonHtml(),cancelButtonHtml:this.queryOption("cancelButton")||this.queryOption("cancelText")?this.renderCancelButtonHtml():""}},render:function(){t.prototype.render.call(this);this.delegateEvents(e.extend({},this.buttonEvents,this.events));this.$contentEl=this.$(".alert__content");this.$footerEl=this.$(".alert__footer");this.$proceedEl=this.$(".js-proceed-btn");this.$cancelEl=this.$(".js-cancel-btn");this.renderContent(this.$contentEl);this.renderFooter(this.$footerEl)},renderContent:function(e){},renderFooter:function(e){},setProceedButtonEnabled:function(e){this.isProceedEnabled=e;this.$proceedEl.toggleClass("is-inactive",!e);if(!e){this.$proceedEl.blur()}},setCancelButtonEnabled:function(e){this.isCancelEnabled=e;this.$cancelEl.toggleClass("is-inactive",!e);if(!e){this.$cancelEl.blur()}},resetFocus:function(){this.$proceedEl.focus()},proceed:function(){var e=this;if(this.isProceedEnabled){return this._trigger("before:proceed").then(function(){return e.close()}).then(function(){e._trigger("proceed")})}},cancel:function(){var e=this;if(this.isCancelEnabled){return this._trigger("before:cancel").then(function(){return e.close()}).then(function(){e._trigger("cancel")})}},promise:function(){var t=e.Deferred();this.once("proceed",function(){t.resolve()});this.once("cancel",function(){t.reject()});return t.promise()}}));o.alert=function(e){var t=e instanceof o?e:new o(e);t.open();return t.promise()};n.prototype.alert=function(e){var t=e instanceof o?e:new o(e);this.openOverlay(t,{vAlignment:"top"});return t.promise()};return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(12)],r=function(e,t,i){var n="SLIDE_RIGHT",r="SLIDE_DOWN",o="SLIDE_STATIC",s=60;var a=false,l=false,c=false,u=null,d=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false,f="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,h=0,p=o,m,g,v;var w=function(e,t,i,n){if(!i){i=500}e.css({webkitTransitionDuration:i+"ms",webkitTransitionProperty:t,webkitTransitionTimingFunction:"linear"});var r=function(){e.off("webkitTransitionEnd",r);e.css({webkitTransitionDuration:"",webkitTransitionProperty:"",webkitTransitionTimingFunction:""});n()};e.on("webkitTransitionEnd",r)};var b=function(e,t,i,n,r){if(!n){n=500}if(f){e.css({webkitTransitionDuration:"0ms"});e.css(t);setTimeout(function(){w(e,"all",n,r);var t={};for(var o in i){if(!i.hasOwnProperty(o)){continue}t[o]=i[o]}e.css(t)},0)}else{i.avoidCSSTransitions=true;e.animate(i,{duration:n,complete:r})}};var y=function(){var e=m.outerHeight(),i,o,u,g;if(l){return}a=!a;l=true;if(a){v.addClass("menu-open")}var w=function(){l=false;if(!a){v.removeClass("menu-open")}};if(p===r){if(!a){i=0;o=-e-10}else{i=-e-10;o=0}u={"-webkit-transform":"translate3d( 0px, "+i+"px, 0)"};g={"-webkit-transform":"translate3d( 0px, "+o+"px, 0)"};if(!f){u={top:h+i+"px"};g={top:h+o+"px"}}b(m,u,g,300,w)}else if(p===n){var y=t("#wsite-page-wrapper");w=function(){l=false;if(!a){v.removeClass("menu-open");m.hide();v.css("overflow-x","visible");t("#wsite-viewport").css({overflow:"visible",height:""});y.css({background:"none",height:""})}else{y.one("click",R)}C();if(!a){t(".wsite-background").show()}};var _=0;if(!a){i="80%";o="0%"}else{i="0%";o="80%";var E=t(".wsite-background");if(E.length===0){E=v}var S=d?s:0;var I=t(window);y.css({"background-color":E.css("background-color")||"white","background-image":E.css("background-image"),"background-position":E.css("background-position"),"background-size":E.css("background-size"),"background-repeat":E.css("background-repeat"),"background-clip":E.css("background-clip"),height:Math.max(E.height(),I.height()+S)+"px"});if(E.css("background-image").length>0&&f&&c){_=260}if(E!==v){E.hide()}v.css({"overflow-x":"hidden"});setTimeout(function(){m.show()},_)}u={"-webkit-transform":"translate3d("+i+", 0px, 0)"};g={"-webkit-transform":"translate3d("+o+", 0px, 0)"};if(!f){u={left:i};g={left:o}}setTimeout(function(){b(y,u,g,300,w)},_)}T()};var _=function(e,i,n){var r=t(".wsite-animation-wrap",g),o=n?1:-1;if(l){return}l=true;var s=Math.max(i.outerHeight(),e.outerHeight());g.css({height:s+"px"});C();var a=g.width();var c=-o*a+"px";var u={"-webkit-transform":"translate3d( 0, 0px, 0)"};var d={"-webkit-transform":"translate3d("+c+", 0px, 0)"};if(f){i.css({"-webkit-transform":"translate3d("+o*a+"px, 0px, 0)"})}else{i.css({left:o*a+"px"});u={left:0};d={left:c}}i.show();var h=function(){e.hide();var t=i.outerHeight();g.css({height:t+"px"});r.css(u);i.css(u);l=false;C()};b(r,u,d,300,h)};var E=function(e,i){e.on("touchstart",i,function(){t(this).addClass("active")});e.on("touchend",i,function(){t(this).removeClass("active")})};var T=function(){var i=d?s:0;var r=t(window);if(p==n&&a){m.height("auto");var o=Math.max(r.height()+i,m.outerHeight());t("#wsite-viewport").css({height:o+"px"});t("#wsite-viewport").css({overflow:"visible"});setTimeout(function(){t("#wsite-viewport").css({overflow:"hidden"})},150);if(m.height()<o){m.css("height",o+"px")}t("#wsite-page-wrapper").css("height",o+"px")}if(!e.EDITOR){var l=r.height()+i;t(".wsite-background").css({height:l+"px"})}};var C=function(){var e=t(window).height();if(d){e+=s}var i=t(".wsite-mobile-footer");S();T();i.css({top:"0px"});var n=i.position();if(!n){return}e-=n.top;e-=i.outerHeight(true);if(e>0){i.css({position:"relative",top:e+"px"})}};var S=function(){if(!g){return}var e=g.find(".wsite-menu-slide:visible").outerHeight();if(e>0){g.css({height:e+"px"})}if(p===r){var t=m.outerHeight();var i;if(!a){i=-t-10}else{i=0}if(f){m.css({"-webkit-transform":"translate3d( 0px, "+i+"px, 0)","-webkit-backface-visibility":"hidden"})}else{m.css({top:h+i+"px"})}}};var I=function(){var e=window.DocumentTouch;v=t("body");if("ontouchstart"in window||e&&document instanceof e){v.removeClass("no-touch");v.addClass("touch");c=true}};var O=function(){var e=t(".wsite-menu-default");if(e.closest(".wsite-mobile-menu").length){return}var n=t(".wsite-menu-wrap");var r=t(".wsite-menu-button");e.wrap('<div class="wsite-mobile-menu" />');g=e.closest(".wsite-mobile-menu");m=e.closest(".wsite-menu-wrapper");m=m.length>0?m:g;a=false;l=false;if(!i.chromeless){r.on("click",y)}var o={position:"absolute",top:"0",left:"0",width:"100%"};e.addClass("wsite-menu-slide").css(o);n.addClass("wsite-menu-slide").css(o);e.css({left:"0"});if(f){e.css({"-webkit-transform":"translate3d( 0, 0px, 0)"})}g.append('<div class="wsite-animation-wrap"></div>');var s=t(".wsite-animation-wrap",g);s.css({position:"relative"});if(f){s.css({"-webkit-backface-visibility":"hidden"})}s.append(e);n.each(function(){var e=t(this),i=e.prev(),n=e.children("ul"),r=e.parents(".wsite-menu-slide");var o=t('<li class="wsite-menu-back-item">'+'<a><span class="wsite-menu-mobile-arrow"></span><span class="wsite-menu-back">Back</span></a>'+"</li>");o.on("click",function(){_(e,r,false)});var a=i.clone(true);var l=t('<li class="wsite-menu-master-item"></li>').html(a);n.prepend(l);n.prepend(o);i.removeAttr("href").removeAttr("onclick");i.append('<span class="wsite-menu-mobile-arrow"></span>');i.off("click").on("click",function(){_(r,e,true)});e.css({left:"0"});if(f){e.css({"-webkit-transform":"translate3d( 0, 0px, 0)"})}s.append(e)});g.css({display:"block"});m.css({display:"block"});if(v.hasClass("wsite-menu-dropdown")){x()}else if(v.hasClass("wsite-menu-slideright")){k()}S();if(c){E(t(".wsite-home-link"));E(r);E(g,"a")}};var k=function(){p=n;var e=v.contents();v.prepend('<div id="wsite-viewport" ><div id="wsite-page-wrapper" /></div>');var i=t("#wsite-page-wrapper");for(var r=0;r<e.length;r++){var o=e[r];i[0].appendChild(o)}i.css({position:"relative",background:"none","z-index":"3",left:"0",top:"0"});if(f){i.css({"-webkit-backface-visibility":"hidden","-webkit-transform":"translate3d( 0, 0, 0)"})}m.css({top:"0",left:"0","min-height":"100%",width:"80%",position:"absolute"});m.hide();v.find("#wsite-viewport").css({height:"",width:"100%"}).append(m)};var x=function(){p=r;m.css({position:"absolute",width:"100%","z-index":6});var e=m.position();h=e?e.top:0;var t=-m.outerHeight()-10;if(f){m.css({"-webkit-transform":"translate3d( 0px, "+t+"px, 0)","-webkit-backface-visibility":"hidden"})}else{m.css({top:h+t+"px"})}};var D=function(){var e=t(".wmap-container");e.find("iframe").css({height:u+"px"});u=null};var R=function(){if(a){y(null)}return false};var P=function(){v=t("body");if(!v.hasClass("wsite-render3d")){f=false}O()};if(!e.EDITOR){t(window).on("message",function(e){if(!e.origin||e.origin.indexOf("weebly.com")===-1){return}u=e.data;if(document.loaded){D()}});t(function(){I();P();if(window.FastClick){window.FastClick.attach(t(".wsite-menu-button")[0]);window.FastClick.attach(t(".wsite-mobile-menu")[0])}if(u!==null){D()}t(window).on("resize",C);C();window.scroll(0,1);t(window).load(C)})}if(!window.Weebly){window.Weebly={}}var A={init:P,resizeScreen:C,resizeMenu:S,menuTap:y,closeMenu:R};e.mobile_navigation=A;return A}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(16),i(2),i(12),i(3),i(9),i(11),i(6),i(7),i(163),i(75),i(193),i(123),i(64),i(146),i(31)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p){var m={};var g=_W.utl("html.weebly.libraries.weebly_footer_1");var v=_W.utl("html.weebly.libraries.weebly_footer_2");var w;var b=false;var y;var _;var E;m.updateFooter=function(){if(_===undefined){_=Weebly.initialFooterText;E=Weebly.initialFooterTextShown}else if(Weebly.Restrictions.hasAccess("edit_footer")){E=false}T();m.updateFooterText(_);m.updateFooterTextShown(E);m.updateFooterAttribution();if(!x("edit_footer")){e("#footer, .footer").hide()}e(".wsite-version-web").on("click",function(e){window.Pages.go("webView")})};m.updateFooterText=function(i){var o;_=i;if(!Weebly.Restrictions.hasAccess("edit_footer")||!_){if(!Weebly.Restrictions.isClientSite){_=g}if(w){if(Weebly.view.isMobileView){w.style.display="block"}else{w.style.display="inline"}}}if(w){if(_==g){if(!Weebly.view.isMobileView&&!n.chromeless){var s="";if(window.Weebly&&window.Weebly.Reseller&&window.Weebly.Reseller.isResellerUser){switch(window.Weebly.Reseller.brandPreference){case"weebly":s=_W.utl("html.weebly.libraries.weebly_footer_8")+"<div class='w-ui' style='display: inline-block; margin-left: 15px;'>"+"<button class='btn-flat btn-flat-outline btn-flat-light' style='color: #2990ea;'>"+_W.utl("html.weebly.libraries.weebly_footer_13")+"</button>"+"</div>";break;case"cobranded":var a=_W.utl("html.weebly.libraries.weebly_footer_9");a=a.replace("{{brand_name}}",Weebly.Reseller.resellerName);s=a+"<div class='w-ui' style='display: inline-block; margin-left: 15px;'>"+"<button class='btn-flat btn-flat-outline btn-flat-light' style='color: #2990ea;'>"+_W.utl("html.weebly.libraries.weebly_footer_14")+"</button>"+"</div>";break;case"whitelabeled":default:s=_W.utl("html.weebly.libraries.weebly_footer_10");break}}else{e("#footer-wrap,.footer-wrap,#footer,.footer").hide()}w.innerHTML=r.render('<div id="weebly-empty-footer" class="wsite-footer" style="position: relative;">'+'<span class="weebly-empty-footer-message empty-element-message">'+s+"</span>"+'<div class="wsite-spotlight-cover" style="cursor: pointer;">'+'<div class="wsite-spotlight-cover-inner"></div>'+"</div></div>")}else{if(n.chromeless){w.innerHTML=r.render("<div id='weebly-empty-footer' class='wsite-footer' style='position: relative;'>"+"<span class='weebly-empty-footer-message empty-element-message'>"+_W.utl("html.weebly.libraries.weebly_footer_12")+"</span>"+"</div>")}else{w.innerHTML=v}}}else{w.innerHTML=_}if(Weebly.Restrictions.hasAccess("show_footer_removebutton")){var c=function(e){m.updateFooterTextShown(false);k();e.stopPropagation();if(Weebly.view.isMobileView){Weebly.mobile_navigation.resizeScreen()}};var u=function(e){window.alertProFeatures("Please sign-up for a pro account to remove the Weebly footer link","main");e.stopPropagation()};if(Weebly.Restrictions.hasAccess("edit_footer")){w.insert(new Element("a",{href:"#",class:"wsite-remove-footer-button"}).update(_W.utl("html.weebly.libraries.weebly_footer_4")).observe("click",function(e){m.updateFooterTextShown(false);k();e.stop()}))}else{o=t("weebly-empty-footer");if(o){o.observe("click",function(e){l.execute("editor:show:dialog",{element_id:"edit_footer",restrictionType:"feature"});e.stop()})}else{w.insert(new Element("a",{href:"#",class:"wsite-edit-footer-button"}).update(_W.utl("html.weebly.libraries.weebly_footer_5")).observe("click",function(e){l.execute("editor:show:dialog",{element_id:"edit_footer",restrictionType:"feature"});e.stop()}))}}}}};m.updateFooterTextShown=function(t){E=t;if(!Weebly.Restrictions.hasAccess("edit_footer")){E=true}if(w){var i=e(w);if(Weebly.view.isMobileView&&E){i.find(".wmobile-footer-custom").show();i.find(".wmobile-app-callout").show()}else if(Weebly.view.isMobileView&&!E){i.find(".wmobile-footer-custom").hide();i.find(".wmobile-app-callout").hide()}else if(E){if(Weebly.view.isMobileView){w.style.display="block"}else{w.style.display="inline"}}else{w.style.display="none"}}};m.updateFooterAttribution=function(){var e=[],t=u.getCurrentHeader(),i=p.getCurrentHeaderElement();if(t&&i&&window.currentPageType!="no-header"){e=e.concat(C(t))}if(Weebly.pageContext.attribution){e=e.concat(S(Weebly.pageContext.attribution))}if(Weebly.siteContext.attribution){e=e.concat(S(Weebly.siteContext.attribution))}};m.setContentFieldAttribution=function(e,t){if(e in Weebly.pageContext.contentFieldsByID){Weebly.pageContext.attribution[e]=t}else if(e in Weebly.siteContext.contentFieldsByID){Weebly.siteContext.attribution[e]=t}};function T(){w=t("weeblyfootertext");y=t("weeblyfooterattribution")}function C(e){var t=[];if(!e||!e.data){return t}var i;if(e.data.type==="slideshow"){i=e.data.slideshow.slides}else{i=[e.data.image]}if(i){i.forEach(function(e){if(e&&e.pageUrl&&e.creator){t.push("<a href='"+e.pageUrl+"' target='_blank'>"+e.creator+"</a>")}})}}function S(e){var t=[];$H(e).each(function(e){var i=e[1];if(i){var n=Object.isArray(i)?i:[i];for(var r=0;r<n.length;r++){var o=n[r];if(o&&o.url&&o.author){t.push("<a href='"+o.url+"' target='_blank'>"+o.author+"</a>")}}}});return t}function I(e){var t=[];i.each(e,function(e){if(e){if(e instanceof o.Model){e=e.toJSON()}var i=e.origImage||e.image;if(i){var n=i.attributionUrl;var r=i.attributionAuthor;if(n&&r){t.push("<a href='"+n+"' target='_blank'>"+r+"</a>")}}}});return t}function O(e){e=e.uniq();if(e.length){return(e.length==1?_W.utl("html.weebly.libraries.weebly_footer_6"):_W.utl("html.weebly.libraries.weebly_footer_7"))+" "+e.join(", ")}return""}function k(){new window.Ajax.Request(c.ajax,{parameters:{pos:"hidefooter",siteid:window.currentSite,cookie:document.cookie},onFailure:c.errFunc,bgRequest:true})}function x(e){if(_W.Reseller){if(_W.upgradeTriggers){return _W.Restrictions.maxUpgradableLevel>=_W.Restrictions.isUpgradable(e)}else{return _W.Restrictions.hasAccess(e);
}}else if(!_W.Restrictions.hasAccess(e)&&!_W.Restrictions.isUpgradable(e)){return false}else{return true}}window.updateFooter=m.updateFooter;window.updateFooterText=m.updateFooterText;window.updateFooterTextShown=m.updateFooterTextShown;window.updateFooterAttribution=m.updateFooterAttribution;window.setContentFieldAttribution=m.setContentFieldAttribution;return m}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(4),i(2),i(1),i(24)],r=function(e,t,i,n,r){return r.extend({useServerGeneratedDefaultsFor:"StorefrontSettings",getRatioAsNumber:function(e){return this._convertRatioSettingToNumber(this.get(e))},getRatioAsPercent:function(e){return this._convertRatioSettingToPercent(this.get(e))},changeAbandonedCartsDelay:function(t){var i=e.Commerce.RPC.StorefrontSettings.changeAbandonedCartsDelay(t);var n=this;i.done(function(e){if(e.success&&e.data){n.set(e.data)}});return i},uiAccessible:function(e){if(this._shouldIgnoreUiAccessibleCheck(e)){return true}return this.get("ux_preferences").restrictions[e]},showUpgradeTrigger:function(t){if(e.Reseller){if(e.Reseller.upgradesAllowed==1){return e.Restrictions.maxUpgradableLevel>=e.Restrictions.isUpgradable(t)}else{return e.Restrictions.hasAccess(t)}}else if(!e.Restrictions.hasAccess(t)&&!e.Restrictions.isUpgradable(t)){return false}else{return true}},isSquareSyncUser:function(){return!!this.get("square_sync_user_id")},uiPreference:function(e){var t=this.get("ux_preferences");var i=t&&t.preferences&&t.preferences[e];return i?i:this._uiPreferenceDefault(e)},_uiPreferenceDefault:function(e){var t={"products:sort":null};return t[e]},_shouldIgnoreUiAccessibleCheck:function(e){return!this._hasUiAccessiblePreferences()||this._uiAccessiblePreferenceKeyNotDefined(e)},_hasUiAccessiblePreferences:function(){return!!this.get("ux_preferences")&&!!this.get("ux_preferences").restrictions},_uiAccessiblePreferenceKeyNotDefined:function(e){return this.get("ux_preferences").restrictions[e]===void 0},_convertRatioSettingToNumber:function(e){var t;switch(e){case"w2h3":t=2/3;break;case"w3h2":t=3/2;break;case"w3h4":t=3/4;break;case"w4h3":t=4/3;break;default:t=1}return Math.round(t*100)/100},_convertRatioSettingToPercent:function(e){return Math.round(100/this._convertRatioSettingToNumber(e))}},{canUseStorefront:undefined,canUseStorefrontFetch:function(){var t=this;return e.Commerce.RPC.StorefrontSettings.canUseStorefront().done(function(e){t.canUseStorefront=e.data})}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(148),i(126)],r=function(e,t,i,n){var r=window,o=n,s=o.prototype,a={};i.Relational.store.addModelScope(a);var l=o.extend({_class:this.className,initialize:function(i,n){n=e.extend({view:"list"},n);var r=this.fetchOptions=t.pick(n,"filter","sort","searchText","view");this.constructor.addSiteFilter(r);return s.initialize.apply(this,arguments)},fetch:function(t){t=e.extend({},this.fetchOptions,t);return s.fetch.call(this,t)},setSearchText:function(e){this.fetchOptions.searchText=e||null},getSearchText:function(){return this.fetchOptions.searchText},state:{pageSize:25},queryParams:{pageSize:"limit",totalRecords:"total"},parseState:function(e){return{totalRecords:e.total}},parseRecords:function(e){return e.data},parseLinks:function(e){var t=this.state,i=t.currentPage,n=t.pageSize*i;return{first:"#1",prev:i>1?"#"+(i-1):false,next:n<e.total?"#"+(i+1):false}}},{addSiteFilter:function(e){if(!e.filter)e.filter=[];if(this.prototype.userKey&&!t.findWhere(e.filter,{property:this.prototype.userKey})){e.filter.push({property:this.prototype.userKey,value:e[this.prototype.userKey]||this.prototype.userValue||r[this.prototype.userKey]})}if(this.prototype.siteKey&&!t.findWhere(e.filter,{property:this.prototype.siteKey})){e.filter.push({property:this.prototype.siteKey,value:r.com_currentSite})}},count:function(t){t=e.extend({},t);this.addSiteFilter(t);var i=this.prototype.useServerGeneratedDefaultsFor;return this.prototype.rpc.count(t)}});l.extendBase=function(e){return o.extend.call(this,e)};l.extend=function(e,i,n){var r=o.extend.call(this,t.extend(e,n?n[e.useServerGeneratedDefaultsFor]:{}),i);var s=e._class;if(s){s=s.split(".");s=s[s.length-1];a[s+"Collection"]=r}return r};return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(117),i(47)],r=function(e,t,i,n){"use strict";var r;try{r=true;window.postMessage({toString:function(){r=false}},"*")}catch(e){}var o=function(e){this.targetOrigin=e};o.prototype.outgoingQueue=[];o.prototype.outgoingWindow=null;o.prototype.outgoingChannel=null;o.prototype.outgoingDeferreds={};o.prototype.incomingChannel=null;var s=1;o.prototype.runOutgoingQueue=function(){var e=this.outgoingQueue.length;var t;for(var i=0;i<e;i++){t=this.outgoingQueue.shift();this.postMessage.apply(this,t)}};o.prototype.setReqResState=function(e,t){var i=this.outgoingDeferreds[t.uid];if(!i){return}i[e].apply(i,t.value);delete this.outgoingDeferreds[t.uid]};o.prototype.postMessage=function(e,i,n,o){var l={messenger:e,name:i,args:t.map(n,a),uid:s++};if(!this.outgoingWindow.postMessage||!this.outgoingReady){this.outgoingQueue.push(t.toArray(arguments));return}if(o){this.outgoingDeferreds[l.uid]=o}if(!r){l=JSON.stringify(l)}this.outgoingWindow.postMessage(l,this.targetOrigin)};o.prototype.listener=function(n){var o=this;if(n.origin!==o.targetOrigin){return}if(n.source!==o.outgoingWindow){return}var s=n.data;if(!r){s=JSON.parse(s)}var a=s.messenger;var l=s.name;var c=s.args;var u=s.uid;if(!a||!l){return}var d;switch(a){case"vent":d=o.incomingChannel.vent.trigger;break;case"commands":d=o.incomingChannel.commands.execute;break;case"reqres":d=o.incomingChannel.reqres.request;break;default:return}if(!c){c=[]}c.unshift(l);try{var f=d.apply(o.incomingChannel[a],c);if(a==="reqres"){e.when(f).done(function(){var e=t.toArray(arguments);o.outgoingChannel.commands.execute("reqres:resolve",{value:e,uid:u})}).fail(function(){var e=t.toArray(arguments);o.outgoingChannel.commands.execute("reqres:reject",{value:e,uid:u})})}}catch(e){i.captureException(e);console.error(e.stack);if(a==="reqres"){o.outgoingChannel.commands.execute("reqres:reject",{value:[e.message],uid:u})}}};o.prototype.readyPing=null;o.prototype.outgoingReady=false;o.prototype.numPings=0;o.prototype.maxPings=120;o.prototype.pingInterval=500;o.prototype.setup=function(n,o,s){var a=this;var l=e.Deferred();a.incomingChannel=n;a.incomingChannel.commands.setHandlers({"reqres:resolve":t.partial(a.setReqResState.bind(a),"resolve"),"reqres:reject":t.partial(a.setReqResState.bind(a),"reject")});a.incomingChannel.vent.once("ready",function(){a.outgoingReady=true});a.boundListener=a.listener.bind(a);window.addEventListener("message",a.boundListener);a.outgoingWindow=o;a.outgoingChannel=s;a.outgoingChannel.vent.trigger=function(){var e=t.toArray(arguments);var i=e.shift();a.postMessage("vent",i,e);return a.outgoingChannel.vent};a.outgoingChannel.commands.execute=function(){var e=t.toArray(arguments);var i=e.shift();a.postMessage("commands",i,e)};a.outgoingChannel.reqres.request=function(){var i=t.toArray(arguments);var n=i.shift();var r=e.Deferred();a.postMessage("reqres",n,i,r);return r.promise()};var c={messenger:"vent",name:"ready"};if(!r){c=JSON.stringify(c)}a.readyPing=setInterval(function(){if(++a.numPings>a.maxPings){clearInterval(a.readyPing);a.readyPing=null;l.reject()}if(a.outgoingReady){clearInterval(a.readyPing);a.readyPing=null;a.runOutgoingQueue();l.resolve()}try{a.outgoingWindow.postMessage(c,a.targetOrigin)}catch(e){i.captureMessage("Exception during handshake: "+e.message,{level:"info"})}},a.pingInterval);return l.promise()};o.prototype.destroy=function(){clearInterval(this.readyPing);window.removeEventListener("message",this.boundListener)};function a(i){switch(typeof i){case"boolean":case"undefined":case"number":case"string":case"PixelArray":case"ImageData":case"Blob":case"File":return i;case"function":if(window.W_DEBUG){console.warn("Removed function from postMessage message:",i)}return null}if(t.isNull(i)){return i}if(t.isArray(i)){return t.map(i,a)}if(e.isPlainObject(i)){if(i.overrideMimeType&&i.readyState&&i.status){return null}if(window.W_DEBUG&&n.isCyclic(i)){console.warn("Tried to clone cyclic object in postMessage",i)}return t.chain(i).clone().each(l).value()}if(window.W_DEBUG){console.warn("Removed the following object from postMessage message:",i)}return null}function l(e,t,i){i[t]=a(e)}return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(4)],r=function(e,t){"use strict";var i=function(){var i=this.incoming={vent:new t.Wreqr.EventAggregator,reqres:new t.Wreqr.RequestResponse,commands:new t.Wreqr.Commands};var n=this.outgoing={vent:new t.Wreqr.EventAggregator,reqres:new t.Wreqr.RequestResponse,commands:new t.Wreqr.Commands};this.on=e.bind(i.vent.on,i.vent);this.off=e.bind(i.vent.off,i.vent);this.once=e.bind(i.vent.once,i.vent);this.reqres={request:this.request,setHandler:e.bind(i.reqres.setHandler,i.reqres),setHandlers:e.bind(i.reqres.setHandlers,i.reqres),removeHandler:e.bind(i.reqres.removeHandler,i.reqres),removeHandlers:e.bind(i.reqres.removeHandlers,i.reqres),removeAllHandlers:e.bind(i.reqres.removeAllHandlers,i.reqres)};this.commands={execute:this.execute,setHandler:e.bind(i.commands.setHandler,i.commands),setHandlers:e.bind(i.commands.setHandlers,i.commands),removeHandler:e.bind(i.commands.removeHandler,i.commands),removeHandlers:e.bind(i.commands.removeHandlers,i.commands),removeAllHandlers:e.bind(i.commands.removeAllHandlers,i.commands)}};i.prototype.trigger=function(){return this.outgoing.vent.trigger.apply(this.outgoing.vent,arguments)};i.prototype.request=function(){return this.outgoing.reqres.request.apply(this.outgoing.reqres,arguments)};i.prototype.execute=function(){return this.outgoing.commands.execute.apply(this.outgoing.commands,arguments)};i.prototype.ajax=function(){Array.prototype.unshift.call(arguments,"ajax:request");return this.request.apply(this,arguments)};i.prototype.RPC=function(){Array.prototype.unshift.call(arguments,"ajax:rpc");return this.request.apply(this,arguments)};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(643)],r=function(e){var t=e.Marionette.Module.extend({ajax:window.ajax,errFunc:window.errFunc,exceptionFunc:window.exceptionFunc,startWait:window.startWait,endWait:window.endWait});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(11),i(7),i(17),i(36),i(23),i(124),i(22)],r=function(e,t,i,n,r,o,s,a,l){var c={scriptSrc:[],scriptId:[],runIncludedScripts:function(i){if(i){t.each(i,function(e,t){c.scriptId.push(t);c.scriptSrc.push(e)})}if(!c.scriptId.length||!c.scriptSrc.length){return}var n=c.scriptId.pop();var r=c.scriptSrc.pop();var o=n.replace(/scriptInclude/,"");var s=document.getElementById(n).contentWindow.document;var a="";var l;if(r.indexOf("<%HEAD%>")>-1){l=[];l=r.split("<%HEAD%>");r=l[1];a=l[0]}var u="";if(r.indexOf("<%BODY%>")>-1){l=[];l=r.split("<%BODY%>");r=l[1];u=l[0]}var d="<html><head> "+a+" </head>"+"<body"+' style=" margin: 0px; padding: 0px; background-color: transparent;"'+' onload="parent.resizeMe();'+u+'"'+" onClick=\"parent.clickHandler(event, '"+o+"');\"> "+r+'<script type="text/javascript">'+'parent.resizeMe("'+n+'");'+"parent.setInterval(\"resizeMe('"+n+"');\", 250);"+"</script>"+"</body></html>";s.write(d);if(!e("#"+n+"-coverbox").length){var f=e("#"+n);e("<div/>",{id:n+"-coverbox"}).css({position:"absolute",overflow:"hidden",background:"transparent",top:"17px",left:"0px",height:f.css("height"),width:f.css("width")}).appendTo(f.parent())}c.runIncludedScripts()},resizeMe:function(t){var i=e("#"+t);if(i.length){var r=i[0].contentWindow.document;var o,s=e(r.body).find("iframe");if(s.length>0){o=s.first().height()}else{o=r.body.offsetHeight}if(o!=i.css("height").replace(/px/,"")){i.css("height",o+"px");var a=e("#"+t+"-coverbox");if(a.length){a.css("height",o+"px")}n.vent.trigger("scriptFrameResized")}}},deleteWeeblyElement:function(t,i,n){t=e(t);if(!t.length){return}if(h(t)&&!p(t)&&!d(t)&&!f(t)){if(t.hasClass("wsite-multicol-li")){window.showWarning(window._W.utl("javascript.editor.build.elements.utils_1"),{okButton:true});t.removeClass("inside-inactive")}else{window.showWarning(window._W.utl("javascript.editor.build.elements.utils_2"),{okButton:true})}}else{if(i){u(t)}else{window.showConfirm({title:window._W.utl("javascript.editor.build.elements.utils_3"),message:n||window._W.utl("javascript.editor.build.elements.utils_4"),okText:window._W.utl("javascript.editor.build.elements.utils_5"),onConfirm:function(){u(t)},onCancel:function(){t.removeClass("inside-inactive")}})}}},moveElementObject:function(e,i,n,r,a,l,c){var u=o.getElementObject(e);var d;var f;var h=u.elData;var p=h.area;var m=h.parentString;var g;if(h.parent){g=o.getElementObject(h.parent.id)}else if(h.parentColumn){g=o.getElementObject(h.parentColumn.el.id)}var v=s.getAreaInstanceFromParent(p.is_site_wide,p.type,p.name,p.parentString);var w=s.getAreaInstanceFromParent(n.is_site_wide,n.type,n.name,n.parentString);var b;if(v.sections){b=v.getSectionFromElementId(e).get("section_id")}var y;if(m&&g){y=o.getElementSiblings(m,g)}else{y=v.getElements(b)}var _=y.indexOf(u);y.splice(_,1);var E;if(i&&l){l=o.getElementObject(l);E=o.getElementSiblings(i,l)}else{E=w.getElements(c)}if(r){d=o.getElementObject(r);f=E.indexOf(d);f+=a==="after"?1:0}else{f=0}E.splice(f,0,u);var T=v.context;var C=w.context;if(T!==C){delete T.elementsByID[u.id];C.elementsByID[u.id]=u;t.each(u.content_fields,function(e,t){delete T.contentFieldsByID[t];C.contentFieldsByID[t]=e})}}};function u(t){var o=t[0].id.replace("inside_","");i.vent.trigger("editor:saving");Weebly.Editor.RPC.Elements.removeElement(o).done(function(){i.vent.trigger("editor:saved").trigger("editor:element:delete:after");n.vent.trigger("editor:element:delete:after");r.trigger("editor:element:delete:after",o)}).fail(function(t){e(".inside-inactive").removeClass("inside-inactive");window.showError(t)})}function d(t){return t.find(".wsite-multicol-col[id$=lhs], .weebly-splitpane-2, .wsite-multicol-col").filter(function(){return e(this).closest("li.inside").is(t)}).length>0}function f(e){return e.find(".platform-element-child").length>0}function h(e){if(e.find("li.inside").length){return true}return false}function p(e){var t=e.find(".formlist").eq(0);if(t.length){var i=e.find(".columnlist").eq(0);if(!i.length){return true}else{return t.parents().length<i.parents().length}}return false}window.resizeMe=c.resizeMe;return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(23),i(21),i(78),i(273),i(10),i(7),i(308)],r=function(e,t,i,n,r,o,s,a,l){var c={isDraggingElement:false};window.isDraggingElement=c.isDraggingElement;var u;var d;var f;var h=null;var p=null;var m=null;var g=50;var v=null;var w=null;var b;var y;var _;var E;function T(){if(!b){b=e(document)}return b}function C(){if(!y){y=e("body")}return y}function S(){if(p){return p}p=r.getScrollContainer();return p}function I(){if(S()[0]===window){return C()}return p}var O=e.fn.scrollParent;e.fn.scrollParent=function(){if(this.is(u)){var e=S();if(e[0]===window){e=T()}return e}return O.apply(this,arguments)};function k(i,r){window.isDraggingElement=true;v=this;o.disable();e(this).trigger("dragstart:before",r);d=r.originalPosition.top;f=r.originalPosition.left;I().addClass("no-hovering");var c=r.elementObject;if(c&&c.startDrag){c.startDrag(i,r)}var u=false;t.each(Weebly.pageContext.elementsByID,function(e){if(e.eid==a.CONTENT_AREA_ELEMENT_ID){u=true}});t.each(Weebly.siteContext.elementsByID,function(e){if(e.eid==a.CONTENT_AREA_ELEMENT_ID){u=true}});if(u){n.clearPageDataCache();s.buildDroppableEdges()}var h=c?c.id||c.eid:null;l.trigger("dragstart",h);_.vent.trigger("dragstart",h)}c.start=k;function x(){var t={helper:this};e(this).trigger("draghelper",t);u=t.helper;return u}var D={left:0,top:0};var R={left:0,top:0};i.vent.on("setScroll",function(e,t){if(S()[0]===window){return}R.left=e;R.top=t});function P(e){if(!e.x&&!e.y){return}m=setInterval(function(){_.vent.trigger("scrollBy",e.x,e.y,D);l.trigger("scrollBy",e.x,e.y,D)},10)}function A(){clearInterval(m);m=null}function N(t,i){var n=this;var r=I().offset();var o=r.top;var l=r.left;var c=l+p.outerWidth();var u=o+p.outerHeight();var d={left:T().scrollLeft(),top:T().scrollTop()};A();var f={x:0,y:0};var h=t.pageX-d.left;var m=t.pageY-d.top;var v=0;if(e("#_editor-ui").length){v=e("#_editor-ui").offset().top}if(h<l+g){f.x=h-l-g}if(m<o+g){f.y=m-o-g}if(h>c-g){f.x=h-c+g}if(m+v>u-g){f.y=m+v-u+g}P(f);e(this).trigger("drag:drag",[i,D]);if(t.pageX>l+d.left&&t.pageY>o+d.top&&t.pageX<c+d.left&&t.pageY<u+d.top){t.pageX-=l;t.pageY-=o;t.pageX+=R.left;t.pageY+=R.top;var w;if(i.elementObject.eid===a.SECTION_ELEMENT){w=s.findClosestDroppableSectionEdge(t)}else{w=s.findClosestDroppableEdge(t)}w.done(function(e){M.call(n,t,e,i)})}else{M.call(n,t,null,i)}}c.drag=N;function M(i,n,r){var o=t.clone(r.originalPosition);r.originalPosition.top=r.originalPosition.left=Number.MAX_VALUE;var s=r.elementObject;if(s&&s.onDrag){n=s.onDrag(i,r,n)}var a=I().offset();r.originalPosition.left+=a.left;r.originalPosition.top+=a.top;if(!n){h=null;if(r.originalPosition.left===Number.MAX_VALUE&&r.originalPosition.top===Number.MAX_VALUE){r.originalPosition.left=f;r.originalPosition.top=d}E.execute("removeMarker");e(this).trigger("drag:edge:removed",r);return}if(n!==h){h=n;if(n.el){var l=n.column_id?n.column_id:n.el.id}var c={elementId:l,position:n.position,x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2};E.execute("createMarkerFromEdge",c);var u=R.left+r.helper.outerWidth()/2;var p=R.top+r.helper.outerHeight()/2;if(r.helper.css("position")==="absolute"){var m=r.helper.offsetParent().offset();u+=m.left;p+=m.top}else{u+=r.offset.left-r.position.left;p+=r.offset.top-r.position.top}r.originalPosition.left=a.left;r.originalPosition.top=a.top;r.originalPosition.left+=(n.x1+n.x2)/2-u;r.originalPosition.top+=(n.y1+n.y2)/2-p;e(this).trigger("drag:edge:changed",[n,r])}else{r.originalPosition.left=o.left;r.originalPosition.top=o.top}}function L(t,i){window.isDraggingElement=false;A();I().removeClass("no-hovering");p=null;D.left=0;D.top=0;u=null;o.enable();E.execute("removeMarker");e(this).trigger("dragstop:before",i);var n=i.elementObject;if(n&&n.stopDrag){n.stopDrag(t,i,h)}e(this).trigger("dragstop:after",i);var r;if(!i.noDrop&&h){e(this).trigger("dragstop:drop",[i,h]);_.vent.trigger("element:dropped",i,h);if(i.clearDOM===false){r=false}}l.trigger("dragstop");_.vent.trigger("dragstop");v=null;return r}c.stop=L;c.cancelDrag=function(){if(!window.isDraggingElement){return}var t=document.createEvent("MouseEvents");var i=-5e4;t.initMouseEvent("mousemove",true,false,window,1,i,i,i,i,false,false,false,false,0,null);document.dispatchEvent(t);var n=e(":data(ui-draggable)").filter(function(){var t=e(this);return e(".ui-draggable-dragging").is(t.add((t.data("ui-draggable")||{}).helper))});var r=n.draggable("option","revertDuration");var o=n.draggable("option","revert");n.draggable("option",{revert:true,revertDuration:0}).trigger("mouseup").draggable("option",{revert:o,revertDuration:r})};i.vent.on("editor:updateList",c.cancelDrag);function B(e){t.defer(K.bind(e))}function K(){var t=e(this.delegateTarget).draggable("instance").iframeBlocks;if(t===undefined||!t.length){return}var i=I();var n=parseInt(i.css("z-index"),10)+1;w=e(this.currentTarget).data("element-id");t.insertAfter(i);var r=t.offsetParent().eq(0);var o=r.offset();t.css({left:"-="+o.left+"px",top:"-="+o.top+"px","z-index":n});_.vent.trigger("element:mousedown",w)}function F(t){_.vent.trigger("element:mouseup",w);if(!v){_.vent.trigger("element:clicked",w);w=null;return}var i=e(v).data("ui-draggable");var n=null;if(h){n={left:(h.x1+h.x2)/2,top:(h.y1+h.y2)/2}}l.trigger("dragmouseup",{originalPosition:n,revert:i.options.revert,revertDuration:i.options.revertDuration});_.vent.trigger("element:partialdrag",w);w=null}e.fn.wDraggable=function(e){if(e==="destroy"){T().off("mouseup",F);var i=this.draggable("option","handle");return this.draggable(e).off("mousedown",i||"",B)}_=e.app;s.init(_);n.init(_);E=r.inEditorContext()?l:_;e=t.extend(e||{},{addClasses:false,scroll:false,helper:x,start:k,drag:N,stop:L,revert:true,iframeFix:true});T().on("mouseup",F);return this.draggable(e).on("mousedown",e.handle||"",B)};return c}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(11),i(301),i(7),i(565)],r=function(e,t,i,n,r){"use strict";var o=t.module("imageEditor");function s(e){e=e||o.current.header.element;return e?new r(e):null}o.current={};o.edit=function(t){o.current=t;t.categoryId=e("#wsite-com-area-category").attr("data-id");var r="imageeditor:start";if(t.mode==="header"||t.mode==="slide"){var a;if(t.mode==="header"){a=e(t.header.element)}if(!t.forceSlideshow||t.forceImage){t.imageEditorData=t.imageEditorData||t.header.data.data;if(!t.imageEditorData){t.imageEditorData={}}if(!t.imageEditorData.image){t.imageEditorData.image=s(a)}}else{r="slideshoweditor:start";t.header.dimensions=s(a);var l=i.edit({element:o.current.header.element});if(!l){return e.Deferred.reject().promise()}}}return n.request.call(n,r,t).always(function(){o.current={}})};o.on("start",function(){n.reqres.setHandlers({"imageeditor:element":s})});o.on("stop",function(){n.reqres.removeHandlers(["imageeditor:element"])});return o}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,function(e,t,i){var n=i(6);var r=i(14);var o=i(141);var s=i(350);var a=i(121);var l=i(233);var c=i(232);var u=i(22);var d=i(640);var f=i(139);var h=i(42);var p=i(318);var m=i(33);var g=i(60);var v=i(31);var w=i(304);var b=i(179);var y=i(118);var _=i(606);var E=i(55);var T=i(61);var C=i(12);var S=i(7);var I=i(46);var O=i(317);var k=i(11);var x=i(16);window.previousPages=0;window.currentSite=0;window.siteType=null;window.currentPage=0;window.currentPagePublished=null;window.obtainedPage=0;window.currentElement=0;window.currentThemesPage=0;window.imageUploadSize=0;window.userID=0;window.userIDLocation="";window.publishingWindow=0;window.publishingAnim=0;window.publishingLoc="left";window.uploadUpdater=new Object;window.oldSecondList="";window.oldPages="";window.externalSites=0;window.scriptType=[];window.originalPages="";window.documentWriteElement="body";window.currentThemesPerPage=8;window.currentThemesCategory="";window.validateChangeFunction=function(){};window.headerSelected=null;window.headerDimensions=Array();window.uploadId=null;window.currentHeader=null;window.resetScrollTop=null;window.adsenseID=0;window.currentImageNum=Math.floor(Math.random()*10000000001);window.newSitePassword="";window.currentSiteLocation="";window.userEvents={};window.xhrUploading=null;window.optionsBoxSelectingText=false;var S=i(7);var I=i(46);var a=i(121);var l=i(233);window.Prototype.Browser.IE6=window.Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6;window.inEditor=function(){return true};window.Prototype.Browser.IE6=window.Prototype.Browser.IE&&parseInt(navigator.userAgent.substring(navigator.userAgent.indexOf("MSIE")+5))==6;window.calledAdsenseSetup=false;window.calledExternalSetup=false;window.submitExternal=function(e){x(e+"ErrorDiv").style.display="none";x("externalSubmitBtn").style.opacity=.5;x("externalSubmitBtn").style.filter="alpha(opacity=50)";x("externalSubmitBtn").style.display="inline-block";var t=window.Form.serialize(e+"_form",true);t.pos="externalaccount";t.type=e;t.cookie=document.cookie;t.token=window.Weebly.RequestToken;new window.Ajax.Request(window.ajax,{parameters:t,onSuccess:function(t){window.handlerSubmitExternal(t,e)},onFailure:window.errFunc,bgRequest:true})};window.handlerSubmitExternal=function(e,t){if(e.responseText.match("SUCCESS")){var i=e.responseText.replace("SUCCESS:","");window.remoteAccounts[t]={remoteSite:t,remoteId:i};S.execute("remoteAccount:update",t,i);window.updateList();window.Pages.go("main");window.Weebly.AllDialogs[t].close();x(t+"ErrorDiv").style.display="none";x("externalSubmitBtn").style.opacity=1;x("externalSubmitBtn").style.filter="alpha(opacity=100)";x("externalSubmitBtn").style.display="none"}else{if(!e.responseText.match("ERROR")){e.responseText=window._W.utl("html.weebly.libraries.weebly_main_1")}x(t+"ErrorDiv").innerHTML=e.responseText;x(t+"ErrorDiv").style.display="block";x(t+"ErrorDiv").setStyle({color:"#FF0000"});x("externalSubmitBtn").style.opacity=1;x("externalSubmitBtn").style.filter="alpha(opacity=100)";x("externalSubmitBtn").style.display="none"}};window.safeCumulativeOffset=function(e){return window.jQuery(e).offset()};window.handlerDragEndSplitpane=function(e,t,i,n){var r=e.serialize();var o=r.split(/&/);var s=new Array;for(var a=0;a<o.length;a++){var l=o[a].split(/=/);s[l[0]]=l[1]}var c=i.split(/-/);var u=new Array;for(var a=0;a<c.length;a++){u.push(c[a]+"-"+s["div"+(a+1)+"_width"])}var d=u.join(":");if(window.Weebly.Slideshow.updateSize()){x(n).select(".columnlist").each(window.MultiColumnElement.resizeColumns)}new window.Ajax.Request(window.ajax,{parameters:{pos:"savecolumn",elementid:n,width:d,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerFuncDragEndSplitpane,onFailure:window.errFunc,bgRequest:true})};window.handlerFuncDragEndSplitpane=function(e){};window.flashMouseUpHandler=function(e,t){if(document.createEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("mouseup",true,false,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null);t.parentNode.dispatchEvent(i)}};window.clickHandler=function(e,t){window.hideAllTips(true);if(window.Weebly.ImageGallery.isSorting){return}var i;if(t){i=x(t+"")}else{if(!e)var e=window.event;if(e.target)i=e.target;else if(e.srcElement)i=e.srcElement;if(i.nodeType==3)i=i.parentNode}if(i&&i.id==="weebly_image_extras_helper"){return}if(i&&typeof i.id=="string"){if(i.id.match(/coverbox/)){i=i.up(".element")}if(window.jQuery(i).closest("#form-cover, #link-info-box, .weebly-dialog, #image-chooser, .w-element-controls").length){return}var n=window.jQuery(i).closest(".editable-text")}if(n.is("h2, p, div")&&!n.hasClass("wsite-button-inner")){var r=n.get(0);if(r&&r.ondblclick){r.ondblclick()}window.Weebly.Elements.unselectElement()}else if(n.attr("id")&&n.attr("id").match(/[0-9]Edit/)){}else if(i!==document.body&&!window.isAParent("editMenu",i)&&!window.isAParent("commerce_editor_product_short_description_controls",i)&&!window.isAParent("createLink",i)&&!window.isAParent("editmenu-color-chooser",i)&&!window.isAParentMatch(/menuBar(Advanced)?Div/,i)&&!window.isAParent("notifications",i)&&!window.isAParentByClass("customhtml_textarea",i)&&!window.isAParent("flashContainer",i)&&!window.isInitialImage(i)&&!window.isInitialImage(i.previous(".galleryImage"))&&!window.isPageLayoutImage(i)&&!window.isInitialVideo(i)&&!window.isAPlatformElement(i)&&!window.isAParentByClass("product-pagination",i)&&!window.isAParentByClass("js-single-row-controls",i)&&window.isAParent(document,i)){if(window.editBoxSelectingText||window.optionsBoxSelectingText){window.optionsBoxSelectingText=false;return}var o=i.up("li");if(o&&o.hasClassName("wsite-multicol-li")){window.Weebly.Elements.unselectElement();return}if(window.isAParentByClass("element",i)){var s=x(window.jQuery(i).closest(".element")[0]);window.Weebly.Elements.selectElement(s)}else if(window.isAParentByClass("wsite-header",i)){window.Weebly.Elements.unselectElement()}else if(window.jQuery("#elementSettingsWrapper").find(e.target).length===0&&window.jQuery("#orbitDialogContainer").find(e.target).length===0&&window.jQuery("#element-ui-container").find(e.target).length===0){window.Weebly.Elements.unselectElement()}}else if(typeof i.id=="string"&&i.id=="colorSwatch"){window.myColorPicker.toggle(e)}window.editBoxSelectingText=false};Event.observe(document,"mouseup",window.clickHandler);if(window.Prototype.Browser.Gecko&&window.navigator.userAgent.match(/Macintosh/)){Event.observe(document,"click",function(e){var t=Event.element(e);if(t.tagName=="EMBED"){window.clickHandler(e)}})}window.saveProperties=function(e,t,i){if(window.uploadInProgress>0){window.showError(window._W.utl("html.weebly.libraries.weebly_main_2"))}else{Element.setStyle("errorProperties",{display:"none"});var r="";var o="";var s=x("propertiesBasic").getElementsByTagName("td");var a=s.length;var l=false;for(var c=0;c<a;c++){var u=s[c].getElementsByTagName("form");for(var d=0;d<u.length;d++){var f=u[d].childNodes[0];var h=f.name;var p;if(f.type=="checkbox"){p=u[d].childNodes[0].checked?1:0}else{p=u[d].childNodes[0].value}o+=h+String.fromCharCode(3)+p+String.fromCharCode(2);if(h=="enable_nav_more"){window.DISABLE_NAV_MORE=!p;S.execute("theme:DISABLE_NAV_MORE",window.DISABLE_NAV_MORE,false)}if(h=="site_title"){window.currentSiteTitle=u[d].childNodes[0].value;var m=x("wsite-title");if(m){m.innerHTML=window.currentSiteTitle}}if(h=="hide_title"){window.hideTitle=u[d].childNodes[0].value=="1"}if(h=="copyright_show"){if(!l&&parseInt(u[d].childNodes[0].value)){window.updateFooterTextShown(true)}else{window.updateFooterTextShown(false)}}if(h=="copyright_text"){window.updateFooterText(u[d].childNodes[0].value);if(!u[d].childNodes[0].value){l=true}}if(h=="site_password"&&window.Weebly.Restrictions.hasAccess("editable_site_password")){window.newSitePassword=u[d].childNodes[0].value;n.request("site-password:set",window.newSitePassword)}}}var g=x("propertiesAdvanced").getElementsByTagName("td");var v=g.length;for(var c=0;c<v;c++){var u=g[c].getElementsByTagName("form");for(var d=0;d<u.length;d++){r+=u[d].childNodes[0].name+String.fromCharCode(3)+u[d].childNodes[0].value+String.fromCharCode(2)}}new window.Ajax.Request(window.ajax,{parameters:{pos:e,reqid:t,keys:o+r,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.handlerFuncSaveProperties(e,i)},onFailure:window.errFunc,bgRequest:true})}};window.handlerFuncSaveProperties=function(e,t){if(e.responseText.isJSON()==true){var i=e.responseText.evalJSON();if(i.result==false){window.showDeniedAction(i.error)}}if(e.responseText.indexOf("RELOAD")>=0){window.location.reload()}if(e.responseText.indexOf("the following problems")>0){x("errorProperties").innerHTML=e.responseText;window.Effect.Appear("errorProperties",{duration:.5})}else{window.updateList();if(!t){window.Pages.go("main")}}};window.isAPlatformElement=function(e){return window.jQuery(e).closest(".platform-element-settings").length>0};window.goBlogPage=function(e){window.resetScrollTop=1;e=e.startsWith("/")?e:"/"+e;var t=window.currentPage.replace(/^(\d+).*$/,"$1")+e;window.Pages.go("updateList",t)};window.goCommercePage=function(e){if(C.chromeless){S.trigger(I.EVENTS.NAV_CLICKED,e);return}window.resetScrollTop=1;e=e.startsWith("/")?e:"/"+e;var t="0"+e;window.Pages.pageConstructor.editMenu.go();if(t===window.currentPage){window.updateList(t)}else{window.Pages.go("updateList",t)}clearTimeout(window.Weebly.Commerce.Editor.shouldUpdateListTimer)};window.goNewBlogPost=function(){window.currentBlog.saving=0;window.Pages.go("goBlogPost",1)};window.goBlogPost=function(e,t){window.Pages.go("goBlogPost",e)};window.goPublishPost=function(e){if(window.settingQuickExport==0&&!window.isClientSite&&window.currentPagePublished){window.Weebly.BlogEditor.allowSwitch=true;window._W.domainMenuLocation="repeat-use";window.Pages.go("domainMenu","blogpostpublish",window.jQuery.extend(true,{},window.currentBlog));window.Weebly.BlogEditor.allowSwitch=false;return}if(window.currentBlog.publishingPost==1)return;window.currentBlog.publishingPost=1;if(window.currentBlog.postId==1){window.currentBlog.saving=1}window.Weebly.BlogEditor.updateCurrentBlog();new window.Ajax.Request(window.ajax,{bgRequest:true,parameters:{pos:"blogpublish",pageid:e,title:window.currentBlog.title,categories:"",comments:"",date:window.currentBlog.date,shares:window.currentBlog.shares,cookie:document.cookie,token:window.Weebly.RequestToken},onComplete:function(){window.currentBlog.publishingPost=0;
},onFailure:window.errFunc,onException:window.exceptionFunc,onCreate:function(){if(window.currentPagePublished){a.open(l)}},onSuccess:function(e){var t=e.responseText.evalJSON(true);if(!t)return;if(window.currentPagePublished){a.defer(t.html);window.Weebly.BlogEditor.allowSwitch=true;window.Pages.go("blogPostPublishSuccess");window.Weebly.BlogEditor.allowSwitch=false}else{window.Pages.go("updateList",window.currentPage)}}})};window.goDeleteComment=function(e,t){t=t?"1":"0";var i="data-blog-comment-parent-id";var n=x(e),r=n.readAttribute(i),o=window.$$("div["+i+"="+r+"]");var s=function(e){var t=[];window.$$("div["+i+"="+e+"]").each(function(e){t.push(e);t=t.concat(s(e.readAttribute("id")))});return t};var a=function(t){var i=t.responseText.evalJSON(true);if(!i)return;window.updateCommentCount(-1);if(i.action=="deleted"){if(r&&o.length==1){var a=x(r).select("span.delete-replies")[0];if(a){var l=a.select("input")[0];l.writeAttribute("checked");a.hide()}}if(i.deletedReplies){s(e).each(Element.remove)}new window.Effect.Fade(n,{afterFinish:Element.remove.curry(n)})}else if(i.action=="hidden"){var c=n.select(".blogCommentText p")[0];c.update("<em>"+i.hiddenText+"</em>");var u=n.select(".delete-replies input[type=checkbox]")[0];u.writeAttribute("checked");u.writeAttribute("disabled")}};new window.Ajax.Request(window.ajax,{parameters:{pos:"blogdeletecomment",commentid:e,deleteReplies:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc,onException:window.exceptionFunc,onSuccess:a})};window.updateCommentCount=function(e){var t=document.getElementsByClassName("blog-comments")[0].children[0];var i=document.getElementsByClassName("blog-comments-bottom")[0].children[0];var n=Number(t.innerHTML.split(" ")[0])+e;var r=window.formatCommentCount(n);t.innerHTML=r;i.innerHTML=r};window.formatCommentCount=function(e){if(e==1){return window._W.utl("html.weebly.libraries.weebly_main_32")}else{var t=window._W.utl("html.weebly.libraries.weebly_main_33","plural or 0");return t.replace("{{numberOfComments}}",e)}};window.resetBlogGlobals=function(){window.currentBlog.postId=0;window.currentBlog.title="";window.currentBlog.date="";window.currentBlog.shares=""};window.handlerTrackback=function(e){x("trackback-url").value="";if(e.responseText.match("%%SUCCESS%")){x("trackback-status").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_3")}else{x("trackback-status").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_4")}};window.calendarCallback=function(e,t){var i=x("blogTable").select(".blog-date span.date-text")[0];i.innerHTML=t;var n=x("blog-date-field");n.value=t;if(n.hidden_change)n.hidden_change()};window.handlerDisplayPageProperties=function(e){x("saveProperties").innerHTML="<div style='height: 50px; margin-top: 20px;'><a href='#' style='float: left;' onClick=\"saveProperties('editpage', '"+window.currentPage+"'); return false;\"><img src='https://"+window.editorStatic+window._W.tli("/weebly/images/savebtn.jpg")+"' border='0'/></a><div style='margin: 23px 0 0 5px; font-size: 14px; float: left;'> "+window._W.utl("html.weebly.libraries.weebly_main_5")+"&nbsp;<a href='#' onClick=\"Pages.go('main'); return false;\" style='position: absolute; font-weight: bold; font-size: 14px; color: #CE2424; text-decoration: underline;'>cancel</a></div></div>";x("propertiesTitle").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_6");var t=x("propertiesBasic");t.innerHTML="<br/><p>"+window._W.utl("html.weebly.libraries.weebly_main_7")+"</p><br/>"+e.responseText;Element.hide("propertiesBasicHeader");Element.hide("textEditBox");x("textEditorBox").value="";Element.hide("propertiesAdvancedHeader");Element.hide("propertiesAdvanced");x("propertiesAdvanced").innerHTML="";window.showProperties(45);Element.show("propertiesBasic")};window.displayUserSettings=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"usersettings",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerDisplayUserSettings,onFailure:window.errFunc,onException:window.exceptionFunc})};window.handlerDisplayUserSettings=function(e){x("saveProperties").innerHTML="<div style='height: 50px; margin-top: 20px;'><a href='#' style='float: left;' onClick=\"saveProperties('usersettings', ''); return false;\"><img src='https://"+window.editorStatic+window._W.tli("/weebly/images/savebtn.jpg")+"' border='0'/></a><div style='margin: 23px 0 0 5px; font-size: 14px; float: left;'> "+window._W.utl("html.weebly.libraries.weebly_main_8")+"&nbsp;<a href='#' onClick=\"Pages.go('main'); return false;\" style='position: absolute; font-weight: bold; font-size: 14px; color: #CE2424; text-decoration: underline;'>"+window._W.utl("html.weebly.libraries.weebly_main_9")+"</a></div></div>";x("propertiesTitle").innerHTML=window._W.utl("html.weebly.libraries.weebly_main_10");var t=x("propertiesBasic");t.innerHTML=e.responseText;Element.hide("propertiesBasicHeader");Element.hide("textEditBox");x("textEditorBox").value="";Element.hide("propertiesAdvancedHeader");Element.hide("propertiesAdvanced");x("propertiesAdvanced").innerHTML="";window.showProperties();Element.show("propertiesBasic")};window.displaySiteSettings=function(e){window.Weebly.SlidingPanel.show("site-settings-container")};window.handlerFunctionHttps=function(e){if(e.match(/%%SUCCESS%%/)){var t=e.split("|");t=t[1];window.completeDomainPurchase(t)}else{if(x("purchaseDomainLoading")&&x("purchaseDomainLoading").parentNode){x("purchaseDomainLoading").parentNode.removeChild(x("purchaseDomainLoading"))}x("purchaseDomain").style.display="block";x("domainError").innerHTML=e}};window.doClick=function(e){var t;var i=document.getElementById(e);if(document.createEvent){t=document.createEvent("MouseEvents");if(t.initMouseEvent){t.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null)}else{t=false}}t?i.dispatchEvent(t):i.click&&i.click()};window.exportSite=function(){if(window._W.Reseller&&window._W.Reseller.resellerType==="phoenix"&&!(window._W.Permissions&&window._W.Permissions.isContributor)){window.Pages.go("phoenixPublish");return}if(window.settingQuickExport==0&&!window.isDeveloperSite){window._W.domainMenuLocation="pre-publish";window.Pages.go("domainMenu","publish")}else{window.Pages.go("doExport")}};window.doExport=function(e){e=e||{};var t=0;if(window.publishingAnim===0){window.showPublishingAnimation()}function i(){new window.Ajax.Request(window.ajax,{parameters:Object.extend({pos:"exportsite",cookie:document.cookie,token:window.Weebly.RequestToken},e),onSuccess:function(e){var t;if(e.responseJSON){t=e.responseJSON}else{t=false}if(t&&t.blocked){window.Weebly.AllDialogs["publishing-status"].close();n.bootstrap.publishBlockers=t.blockers;n.vent.trigger("editor:publishBlockers:updated");n.vent.trigger("editor:publishBlockers:display",t.blockers)}else{window._W.Commerce.RPC.Overview.getUsedCommerceFeatures().done(function(t){t.data=t.data||{};a.success(e.responseText,t.data)})}},onFailure:window.errFunc,bgRequest:true})}if(t){setTimeout(i,350)}else{i()}};window.openVerifyWindow=function(e){var t=window.open("https://www.weebly.com/weebly/verify.php","Verify","height=600,width=910,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes,dependent=yes");window.pollMemberVerify(undefined,undefined,e)};window.pollMemberVerify=function(e,t,i){if(typeof e=="undefined"){e=x("memberId").innerHTML;t=x("memberVerifyToken").innerHTML}var n;n="action=checkVerify";n+="&token="+t;n+="&memberId="+e;new window.Ajax.Request("apps/verifyJSON.php",{parameters:n,evalJSON:true,bgRequest:true,onSuccess:function(n){if(n.responseJSON.verified==true){if(i){window.exportSite()}clearTimeout(window.verifyPoller)}if(n.responseJSON.verified==false){window.verifyPoller=setTimeout(function(){window.pollMemberVerify(e,t,i)},3e3)}}})};window.submitPublishCaptcha=function(e,t){var i;i="action=verifyResponse"+"&token="+window.Weebly.RequestToken+"&recaptcha_challenge_field="+e+"&recaptcha_response_field="+t+"&location=sitePublish";new window.Ajax.Request("apps/captchaJSON.php",{parameters:i,evalJSON:true,bgRequest:true,onSuccess:function(e){if(e.responseJSON.verified==true){window.showPublishingAnimation();window.doExport()}if(e.responseJSON.verified==false){window.Recaptcha.reload();x("publish-captcha-error").show()}}})};window.submitPublishRecaptcha=function(e){var t;var i=window.jQuery("#recaptcha-button");if(i.hasClass("disabled")){return}i.addClass("disabled");t="action=verifyResponse"+"&token="+window.Weebly.RequestToken+"&g_recaptcha_response="+e+"&location=sitePublish";new window.Ajax.Request("/spam/captcha/verify",{parameters:t,evalJSON:true,bgRequest:true,onSuccess:function(e){i.removeClass("disabled");if(e.responseJSON.verified==true){window.showPublishingAnimation();window.doExport()}if(e.responseJSON.verified==false){var t=window.jQuery(".g-recaptcha").attr("id");window.grecaptcha.reset(t);x("publish-captcha-error").show()}},onFailure:window.errFunc})};window.handlerPreviewSite=function(e){if(e.responseText){window.open("https://"+window.configSiteName+"/weebly/previewSite.php?req_id="+e.responseText)}};window.exportSiteZip=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"exportsitezip",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerExportSiteZip,onFailure:window.errFunc})};window.handlerExportSiteZip=function(e){if(e.responseText.match("error")){window.showError(e.responseText)}else{window.open("https://"+window.configSiteName+"/weebly/exports/"+window.userID+"/"+e.responseText+".zip")}};window.shortcut.add("Ctrl+B",function(){window.runCommand(window.currentBox,"Bold",null)});window.shortcut.add("Ctrl+U",function(){window.runCommand(window.currentBox,"Underline",null)});window.shortcut.add("Ctrl+I",function(){window.runCommand(window.currentBox,"Italic",null)});window.showAbout=function(){window.showTip("Thanks for using Weebly!",x("weebly_tab_edit"),"y","101");setTimeout("hideTip('tip101'); showTip('Weebly was created by David Rusenko, Dan Veltri, and Chris Fanini.', $('weebly_tab_themes'), 'y', '102');",4e3);setTimeout("hideTip('tip102'); showTip('We are!', $('weebly_tab_pages'), 'y', '103');",8e3);setTimeout("hideTip('tip103'); showTip('Penn State!<br/><br/><img src=\"https://rusenko.weebly.com/drusenko/pennstate.jpg\" width=\"300\" height=\"220\"/>', $('weebly_tab_settings'), 'w', '104');",14e3);setTimeout("hideTip('tip104');",2e4)};window.showPublishingAnimation=function(){window.publishingAnim=1;x("publishing-status-title").update(window._W.utl("html.weebly.libraries.weebly_main_11"));if(window.Weebly.Restrictions.hasAccess("ftp_publish")){x("exportText").innerHTML='<div style="text-align: center;"><img src="https://'+window.editorStatic+'/weebly/images/ajax-loader.gif"/><br/><br/>'+window._W.utl("html.weebly.libraries.weebly_main_12")+"</div><br/><br/>"}else{x("exportText").innerHTML='<div style="text-align: center;"><img src="https://'+window.editorStatic+'/weebly/images/ajax-loader.gif"/><br/><br/>'+window._W.utl("html.weebly.libraries.weebly_main_13")+"</div><br/><br/>"}};window.expandAdvanced=function(){x("propertiesAdvancedHeader").innerHTML='<br/><h3><a href="#" onClick="collapseAdvanced();" style="color: black;"><img border="0" src="https://'+window.editorStatic+'/weebly/images/arrow_down.gif"/> '+window._W.utl("html.weebly.libraries.weebly_main_14")+"</a></h3>";Element.setStyle("propertiesAdvanced",{display:"block"})};window.collapseAdvanced=function(){Element.setStyle("propertiesAdvanced",{display:"none"});x("propertiesAdvancedHeader").innerHTML='<br/><h3><a href="#" onClick="expandAdvanced();" style="color: black;"><img border="0" src="https://'+window.editorStatic+'/weebly/images/arrow_right.gif"/> '+window._W.utl("html.weebly.libraries.weebly_main_15")+"</a></h3>"};window.showProperties=function(e){e=e?e:145;x("textEditor").style.top=e+"px";Element.show("scroll_container_properties");if(window.settingAnimations==1){window.setTimeout("Effect.Appear('textEditor')",1e3)}else{Element.show("textEditor")}};window.fadeProperties=function(){n.execute("linker:close");Element.hide("scroll_container_properties")};window.fadeMain=function(){Element.setStyle("grayedOut",{height:window.getInnerHeight()-35+"px"});if(window.settingAnimations==1){window.Effect.Appear("grayedOut")}else{Element.show("grayedOut")}};window.showMain=function(){if(window.settingAnimations==1){setTimeout("Effect.Fade('grayedOut')",1e3);Element.setStyle("grayedOut",{visibility:"visible"})}else{Element.hide("grayedOut")}};window.displayThemes=function(){Element.setStyle("themes",{top:window.Position.realOffset(window)[1]+30+"px"});if(window.settingAnimations==1){window.Effect.Appear("themes");window.Effect.Appear("themeChoices",{duration:.5})}else{Element.show("themes");Element.show("themeChoices")}window.currentThemesPage=1};window.fadeThemes=function(){if(window.settingAnimations==1){window.setTimeout("Effect.Fade('themes')",1e3)}else{Element.hide("themes")}Element.setStyle("nextThemes",{display:"block"});Element.setStyle("previousThemes",{display:"none"});window.currentThemesPage=0};window.refreshAllCustomHtml=function(){window.$$("iframe.custom-html-frame").each(function(e){if(e.src){e.src=e.src+"&w="+(new Date).getTime()}})};window.hideElement=function(e){Element.hide(e)};window.showElement=function(e){Element.setStyle(e,{display:"block",visibility:"visible"})};window.validateNoGo=function(e){};window.contentDecode=function(e){e=e.replace(new RegExp("\\+","g")," ");return unescape(e)};window.contentEncode=function(e){e=escape(e);e=e.replace(new RegExp("\\+","g"),"%2B");return e.replace(new RegExp("%20","g"),"+")};window.showUploader=function(e){Element.hide("uploadSize");Element.show("imageUploader");window.imageUploadSize=e};window.getScrollTop=function(){var e;if(self.pageYOffset){e=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){e=document.documentElement.scrollTop}else if(document.body){e=document.body.scrollTop}return e};window.setProperty=function(e,t,i){if(typeof t=="string"){document.getElementsByClassName(t).each(function(t){x(t).style[e]=i})}else if(typeof t=="object"){for(var n=0;n<t.length;n++){window.setProperty(e,t[n],i)}}};window.makePremium=function(e,t){if(window.Weebly.Restrictions.level==e.level){return}window.Weebly.Restrictions.addService(t);window.Weebly.Restrictions.level=e.level;window.Weebly.Restrictions.is_trial=false;window.Weebly.Restrictions.days_left=-1;window.initPlanDropdown();window.hideUpgradePrompts();window.hideAllTips();window.showTip(window._W.utl("html.weebly.libraries.weebly_main_28").replace("{{plan_name}}",e.noun),window.jQuery("#w-editor-top .plan-dropdown-toggle")[0],"y");n.build.syncRestrictions();if(window.Weebly.SiteSettings){window.Weebly.SiteSettings.updatePremium(e.level)}n.vent.trigger("plan:upgraded")};window.hideUpgradePrompts=function(){window.jQuery(".upgrade_prompt").hide()};window.saveSiteTitle=function(){window.currentSiteTitle=x("newSiteTitle").value;new window.Ajax.Request(window.ajax,{parameters:{pos:"sitetitle",newtitle:window.currentSiteTitle,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerSaveSiteTitle,onFailure:window.errFunc});var e=x("wsite-title");if(e){e.innerHTML=window.currentSiteTitle}};window.handlerSaveSiteTitle=function(e){if(!window.settingQuickExport&&!window.isClientSite&&window.source!="edstudent"){window._W.domainMenuLocation="repeat-use";window.Pages.go("domainMenu")}else{window.Pages.go("main")}};window.load_twitter=function(){x("twitterMessage").value="I just updated my "+window.Weebly.PROPERTY_NAME+" website, check it out: "+window.currentSiteLocation;x("twitter-publish").style.display="block"};window.tweet=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"tweet",username:x("twitterUser").value,password:x("twitterPass").value,message:x("twitterMessage").value,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:window.handlerTweet,onFailure:window.errFunc})};window.handlerTweet=function(e){x("twitter-publish").style.display="none"};window.load_email=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"doevent",event:"tellFriendsPublish",cookie:document.cookie,token:window.Weebly.RequestToken}});var e="I just updated my website, "+window.currentSiteTitle+", and thought you'd like to check it out. You can get to the site by visiting: \n\n"+window.currentSiteLocation+"\n\n"+window.Weebly.EMAIL_FOOTER;window.abookwin=window.open("/weebly/apps/abook.php?type=update&message="+encodeURIComponent(e),"abook","toolbar=0,status=0,width=700,height=526");setTimeout("abookwin.focus()",300)};window.faviconUploading=false;window.uploadFaviconStart=function(){if(!window.faviconUploading&&x("favicon-path").value.length>0){var e=new Element("iframe",{id:"favicon-iframe",name:"favicon-iframe",src:"about:blank"}).setStyle({display:"none"});e.observe("load",window.uploadFaviconFinish);x("body").insert({bottom:e});x("favicon-loading").show();window.faviconUploading=true;return true}return false};window.uploadFaviconFinish=function(){var e=x("favicon-iframe").contentWindow.document.body.innerHTML;var t=e.evalJSON();if(t.status==="success"){x("current-favicon").show().setAttribute("src",t.imagePath+"?"+Math.floor(Math.random()*10000000001));x("remove-favicon").show();x("upload-favicon-link").update(window._W.utl("html.weebly.libraries.weebly_main_18"));x("favicon-upload-area").hide()}else{alert(t.message)}x("favicon-iframe").remove();x("favicon-loading").hide();window.faviconUploading=false};window.updateProductButton=function(e,t){var i=x(""+e).down(".product-button");var n=i.src.match(/small|big/);var r="buy_now";if(t==="add_to_cart"){r="add_to_cart"}i.src="https://"+window.editorStatic+"/weebly/images/"+r+"_"+n+".gif"};window.makeProductEditable=function(e){window.jQuery("#"+e+" .product-image").off("mouseover",window.initialImageMouseover).on("mouseover",window.initialImageMouseover);var t=x(""+e).down(".product-title");if(t){t.onclick=function(){window.showEditBox(t.id,null,{saveCallback:window.saveProductField,redrawOptions:true,showOptions:true})};t.addClassName("editable-text").writeAttribute("contentEditable","true")}var i=x(""+e).down(".product-price");if(i){i.onclick=function(e){window.showEditBox(i.id,null,{saveCallback:window.saveProductField,redrawOptions:true,showOptions:false})};i.addClassName("editable-text").writeAttribute("contentEditable","true")}var n=x(""+e).down(".product-description");if(n){n.onclick=function(e){window.showEditBox(n.id,null,{saveCallback:window.saveProductField,redrawOptions:true,showOptions:true})};n.addClassName("editable-text").writeAttribute("contentEditable","true")}var r=x(""+e).down("form");if(r){r.onsubmit=function(){return false}}};window.setUserPreference=function(e,t){new window.Ajax.Request(window.ajax,{parameters:{pos:"setuserpreference",key:e,value:t,cookie:document.cookie,token:window.Weebly.RequestToken},onFailure:window.errFunc})};window.loadExternalLibraries=function(){window.externalLibariesLoaded=true;window.checkContentEditable();if(window.Weebly.Permissions&&window.Weebly.Permissions.hasContributors){var e;document.observe("mousemove",window._.throttle(function(){if(!e||e.state()!=="pending"){var t=(new Date).getTime();var i=window.Weebly.lastMouseMove||t;if(t-i>1e3*60*5){e=window.checkForPageUpdate()}window.Weebly.lastMouseMove=t}},1e3))}};window.showMerchantSettingsOption=function(){if(x("site_settings_merchantaccount")){x("site_settings_paypal").hide();switch(window.$F("site_settings_merchantaccount")){case"paypal":x("site_settings_paypal").show();x("site_settings_curr_warning").hide();x("site_settings_currency").enable();break}}};window.editPollDaddy=function(e,t,i){S.execute("polldaddy:edit",t,i)};window.checkClientDomain=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"checkclientdomain",domain:x("client-domain").value,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){x("purchaseClientSiteTitlePreview").hide();x("purchaseClientSiteTitleSetup").show();x("purchaseClientSiteBodyPreview").hide();if(e.responseText=="%%SUCCESS%%"){x("purchaseClientSiteBodySuccess").show();x("purchaseClientSiteBodyInstructions").hide()}else{x("purchaseClientSiteBodySuccess").hide();x("purchaseClientSiteBodyInstructions").show()}window.$$(".client-chosen-domain").invoke("update",x("client-domain").value)}})};window.saveClientDomain=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"savedomain",domain:x("client-domain").value,type:"domain",continue_not_configured:"1",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){if(e.responseText.length<2||e.responseText.match("%%notconfigured%%")){window.clientPreviewDialog.close();window.Pages.go("exportSite")}else{x("client-domain-error").update(e.responseText)}},onError:window.errFunc,onException:window.errFunc})};window.loadClientPreview=function(){x("purchaseClientSiteTitlePreview").show();x("purchaseClientSiteTitleSetup").hide();x("purchaseClientSiteBodyPreview").show();x("purchaseClientSiteBodySuccess").hide();x("purchaseClientSiteBodyInstructions").hide();new window.Ajax.Request(window.ajax,{parameters:{pos:"getclientpreviewaddress",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){var t='<a href="'+e.responseText+'" target="_blank">'+e.responseText+"</a>";x("previewAddress").update(t)}});window.clientPreviewDialog=new window.Weebly.Dialog(x("purchaseClientSite"),{modal:true});window.clientPreviewDialog.open()};window.isInitialVideo=function(e){return window.isInitialVideoSrc(e.src||"")};window.isInitialVideoSrc=function(e){return e.match(/video_click_to_upload\.jpg/)&&!e.match(/uploading=1/)};window.updateContributorsList=function(e){window.Weebly.Contributors=window.$H(e.evalJSON());if(!e.match(/^\[\]/)&&window.Weebly.Contributors.size()>0){var t="";window.Weebly.Contributors.each(function(e){var i=e.value;var n="<tr>";n+='<td class="email-cell">'+i.email+"</td>";n+='<td class="role-cell">'+i.display_role+' <a href="#" onclick="editContributor(\''+e.key+"', "+!i.user_id+')" class="btn edit-contributor"><span class="bi">Edit</span></a></td>';n+='<td class="login-cell">'+(i.last_login||'Emailed. <a href="http://www.weebly.com/weebly/contributors.php?user='+window.userID+"&pc="+e.key+'" target="_blank" class="invitation-link">Invitation</a> not accepted yet.')+"</td>";n+='<td class="remove-column"><a href="#" onclick="deleteContributor(\''+e.key+"', "+!i.user_id+')" class="btn remove-contributor"><span class="bi">Remove Access</span></a></td>';n+="</tr>";t+=n});x("contributor-table-body").update(t);x("empty-contributor-list").hide()}else{x("contributor-table-body").update("");x("empty-contributor-list").show()}};window.openEditContributors=function(){new window.Weebly.Dialog("edit-contributors",{modal:true}).open();x("author-pages-selector").update(window.getPagePermissionHtml(r.toJSON(),""));window.resetEditContributors()};window.resetEditContributors=function(){x("contributor-emails").show();x("editors-emails").update("").value="";x("editors-invitation").update("").value="";x("edit-contributors-title").update(window._W.utl("html.weebly.libraries.weebly_main_19"));x("contributors-customize-email").show();x("edit-contributor-user-id").value="";x("edit-contributor-pc-id").value="";x("edit-contributors-button").update("Add Editors");window.roleSelect("admin",true);window.$$(".multiple-choice-box-selected").invoke("removeClassName","multiple-choice-box-selected");var e=x("role-admin").select(".multiple-choice-box-inner-left input")[0];e.checked=true;e.checked=false;x("edit-contributors-form")["disable_select_pages"][0].checked=true;x("author-page-chooser").hide();x("edit-contributors-form")["disable_stats"].checked=false;x("edit-contributors-form")["disable_form"].checked=false;x("edit-contributors-form")["disable_comments"].checked=false;x("edit-contributors-error").update("")};window.editContributor=function(e,t){window.openEditContributors();x("contributor-emails").hide();x("contributors-customize-email").hide();if(t){x("edit-contributor-pc-id").value=e}else{x("edit-contributor-user-id").value=e}x("edit-contributors-button").update("Save Settings");var i=window.Weebly.Contributors.get(e);x("edit-contributors-title").update("Edit: "+i.email.truncate(20));switch(i.role){case"admin":window.roleSelect("admin");break;case"author":window.roleSelect("author");if(i.restrict_pages||i.allowed_pages){x("edit-contributors-form")["disable_select_pages"][1].checked=true;x("author-page-chooser").show();x("author-page-chooser").select("input").each(function(e){if(i.allowed_pages.include(e.value)){e.checked=true}else{e.checked=false}})}else{x("author-page-chooser").hide();x("edit-contributors-form")["disable_select_pages"].checked=false}x("edit-contributors-form")["disable_publish"].checked=!!i.disable_publishing;break;case"dashboard":window.roleSelect("dashboard");if(!i.view_stats){x("edit-contributors-form")["disable_stats"].checked=true}if(!i.manage_form_entries){x("edit-contributors-form")["disable_form"].checked=true}if(!i.moderate_comments){x("edit-contributors-form")["disable_comments"].checked=true}break}window.Weebly.AllDialogs["edit-contributors"].positionDialog()};window.resizeContributorInput=function(e){e=x(e);var t=Math.min(Math.floor(e.textLength/70)*30+30,90);e.setStyle({height:t+"px"})};window.roleSelect=function(e,t){if(window.Weebly.Restrictions.hasAccess("allow_"+e+"_contributors")){window.$$(".contributors-role-detail").invoke("hide");var i=x("role-"+e);var r=i.select(".contributors-role-detail");r=r&&r[0]?r[0]:null;if(r){r.show()}window.$$(".multiple-choice-box-selected").invoke("removeClassName","multiple-choice-box-selected");i.addClassName("multiple-choice-box-selected");if(!t){setTimeout(function(){i.select(".multiple-choice-box-inner-left input")[0].checked=true},10)}window.resizeRoleBoxes(i)}else{n.vent.trigger("billing:upgrade:window",{restrictionID:"allow_"+e+"_contributors",restrictionType:"feature",refer:"contributors"})}};window.resizeRoleBoxes=function(e){window.$$(".multiple-choice-box-inner-left").invoke("setStyle",{height:"auto"});var t=e.select(".multiple-choice-box-inner-left")[0];var i=e.select(".multiple-choice-box-inner-right")[0];t.setStyle({height:i.getHeight()-48+"px"});window.Weebly.AllDialogs["edit-contributors"].positionDialog()};window.submitContributors=function(){var e=x("edit-contributors-form");var t=e.serialize(true);var i=window.Weebly.Contributors["_object"];var n=t["emails"].replace(/\s/g,"").split(",");var r=x("contributor-emails").style["display"];if(t["emails"]===""&&r!=="none"){x("edit-contributors-error").update("Please enter at least one email address.");return}if(!t["contributor-role"]){x("edit-contributors-error").update(window._W.utl("html.weebly.libraries.weebly_main_20"));return}for(window.id in i){for(var o=0;o<n.length;o++){if(n[o]===i[window.id].email){x("edit-contributors-error").update(window._W.utl("html.weebly.libraries.weebly_main_21")+" "+i[window.id].email);return}}}new window.Ajax.Request(window.ajax,{parameters:Object.extend({pos:"savecontributors",cookie:document.cookie,token:window.Weebly.RequestToken},t),onSuccess:function(e){if(e.responseText){if(e.responseText.isJSON()){window.updateContributorsList(e.responseText);window.Weebly.AllDialogs["edit-contributors"].close()}else{x("edit-contributors-error").update(e.responseText)}}else{window.Weebly.AllDialogs["edit-contributors"].close()}}})};window.deleteContributor=function(e,t){var i=window.Weebly.Contributors.get(e);if(confirm("Are you sure you want to remove access for "+i.email+"?")){new window.Ajax.Request(window.ajax,{parameters:{pos:"deletecontributor",contributor_user_id:!t?e:null,pc_id:t?e:null,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.updateContributorsList(e.responseText)}})}};window.getPageChooser=function(e){var t='<div class="page-chooser">';t+=window._getPageChooserHelper(r.toJSON(),e,"",0);return t+"</div>"};window.alt=false;window._getPageChooserHelper=function(e,t,i,n){var r=0;switch(n){case 0:break;case 1:r=30;break;default:r=30+25*(n-1);break}e.each(function(e){window.alt=!window.alt;var o=window.pageIsLocked(e.id,t);var s=window.canGoToPage(e.id,t);var a='<span class="page-chooser-icon page-chooser-stop"></span>';var l=window._W.utl("html.weebly.libraries.weebly_main_29");if(o){var c=t[e.id];a='<span class="page-chooser-icon page-locked page-chooser-locked"></span>';l=window._W.utl("html.weebly.libraries.weebly_main_30",c.email)}else if(s){a='<span class="page-chooser-icon page-chooser-editable"></span>';l=window._W.utl("html.weebly.libraries.weebly_main_31")}i+='<div title="'+l+'" class="page-chooser-page '+(s?"page-chooser-allowed-page":"page-chooser-denied-page")+" "+(window.alt?"page-chooser-alt-row":"")+'" onclick="'+(s?"hideWarning(); goUpdateList('"+e.id+"', 1); return false;":"return false;")+'"><div class="page-chooser-page-inner '+(n>0?"page-chooser-subpage":"")+'" style="margin-left:'+r+'px">'+a+e.title+"</div></div>\n";if(e.children.size()>0){i=window._getPageChooserHelper(e.children,t,i,n+1)}});return i};window.canGoToPage=function(e,t){var i=window.pageIsLocked(e,t);return!i&&window.isAllowedPage(e)};window.isAllowedPage=function(e){return!window.Weebly.Permissions.allowed_pages||window.Weebly.Permissions.allowed_pages.size()==0||window.Weebly.Permissions.allowed_pages.include(e)};window.hasAllowedPages=function(){return window.Weebly.Permissions.allowed_pages&&window.Weebly.Permissions.allowed_pages.size()>0};window.pageIsLocked=function(e,t){var i=t[e];return i&&i.user_id!=window.Weebly.Permissions.true_user_id};window.reloadAllowedPages=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"getallowedpages",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){window.Weebly.Permissions.allowed_pages=e.responseText.evalJSON()},asynchronous:false})};window.checkForPageUpdate=function(){return S.request("pages:get",window.currentPage).done(function(e){if(e&&!e.blog&&!window.jQuery("#contributor-page-updated").length){new window.Ajax.Request(window.ajax,{parameters:{pos:"checkpageupdates",page_id:window.currentPage,cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){var t=e.responseText.evalJSON();if(t.last_updated_by&&t.last_updated_by!=window.Weebly.Permissions.true_user_id){S.execute("dialog:open","contributor-page-updated")}}})}})};window.showPageChooser=function(e,t,i){i=Object.extend({page_locked:false,page_locks:{},load_page_locks:false,initial_load:false},i);if(i.load_page_locks){new window.Ajax.Request(window.ajax,{parameters:{pos:"getpagelocks",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(n){window._finishShowPageChooser(e,t,Object.extend(i,{page_locks:n.responseText.evalJSON()}))}})}else{window._finishShowPageChooser(e,t,i)}};window._finishShowPageChooser=function(e,t,i){var n={title:e,message:'<div class="page-chooser-text">'+t+"</div>"+window.getPageChooser(i.page_locks)};window.showWarning(n,{width:"613px",titleFontSize:"26px",showClose:true,closeFunction:function(){if(!window.obtainedPage&&i.initial_load){window.location.href="/weebly/userHome.php"}else{window.goUpdateList(window.currentPage,1)}window.hideWarning()}})};window.checkForPageChanges=function(){new window.Ajax.Request(window.ajax,{parameters:{pos:"checkpagedata",cookie:document.cookie,token:window.Weebly.RequestToken},onSuccess:function(e){if(!e.responseText.match(/%%CHANGED%%/)){window.addNotification('The number of pages has been chaged by another editor. <a style="display:inline;" href="#" onclick="window.location.reload(); return false;">Click here</a> to reload Weebly and view the updated pages.<br /><br /><a href="#" onclick="$(this).up(\'li\').remove(); return false;">Close Message</a>')}}})};window.addNotification=function(e){var t=new Element("li").update(e);x("notifications").appendChild(t);
};window.openPlanningInfo=function(){var e=new window.Weebly.Dialog("planning-info",{modal:true,blackoutOpacity:.4,outerClass:"chromeless chromeless-outer-close w-ui",onClose:function(e){window.jQuery("#planning-info").remove();if(e){if(!window.Weebly.SlidingPanel.isOpened("site-store-container")){setTimeout(function(){window.showEvent("x-elements")},100)}}}});e.open();var t=window.jQuery("#planning-info iframe");t[0].src=t.data("src");window.jQuery("#planning-info .planning-info-close").on("click",function(){e.close();if(!window.Weebly.SlidingPanel.isOpened("site-store-container")){setTimeout(function(){window.showEvent("x-elements")},100)}});if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/welcome-video?location=onboarding",title:"Welcome Video"})}};window.chooseMobileColor=function(){var e=x("mobile_color_chooser");var t=window.jQuery(e);if(!t.is(":hidden")){t.hide()}else{e.update().show();t.show();var i=new _(e,{closeOnClick:false,onUpdate:function(e){x("mobile_color_square").style.background=e;x("mobile_color").value=e;t.hide()}});i.draw();e.select("table")[0].style.width="auto"}};window.showNoEditablePagesWarning=function(){window.showWarning({title:window._W.utl("html.weebly.libraries.weebly_main_25"),message:window._W.utl("html.weebly.libraries.weebly_main_26")},{closeFunction:window.Weebly.goHome})}},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(68),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if(e(t).css("overflow")==="hidden"){return false}var n=i&&i==="left"?"scrollLeft":"scrollTop",r=false;if(t[n]>0){return true}t[n]=1;r=t[n]>0;t[n]=0;return r},_create:function(){var t,i,n,r,o,s=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=e();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}t=this.handles.split(",");this.handles={};for(i=0;i<t.length;i++){n=e.trim(t[i]);o="ui-resizable-"+n;r=e("<div class='ui-resizable-handle "+o+"'></div>");r.css({zIndex:a.zIndex});if("se"===n){r.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[n]=".ui-resizable-"+n;this.element.append(r)}}this._renderAxis=function(t){var i,n,r,o;t=t||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show()}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=e(this.handles[i]);this._on(this.handles[i],{mousedown:s._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=e(this.handles[i],this.element);o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth();r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");t.css(r,o);this._proportionallyResize()}this._handles=this._handles.add(this.handles[i])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){if(!s.resizing){if(this.className){r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}s.axis=r&&r[1]?r[1]:"se"}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(a.disabled){return}e(this).removeClass("ui-resizable-autohide");s._handles.show()}).mouseleave(function(){if(a.disabled){return}if(!s.resizing){e(this).addClass("ui-resizable-autohide");s._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){i(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);i(this.originalElement);return this},_mouseCapture:function(t){var i,n,r=false;for(i in this.handles){n=e(this.handles[i])[0];if(n===t.target||e.contains(n,t.target)){r=true}}return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,o=this.options,s=this.element;this.resizing=true;this._renderProxy();i=this._num(this.helper.css("left"));n=this._num(this.helper.css("top"));if(o.containment){i+=e(o.containment).scrollLeft()||0;n+=e(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:i,top:n};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()};this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()};this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()};this.originalPosition={left:i,top:n};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",r==="auto"?this.axis+"-resize":r);s.addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];this._updatePrevProperties();if(!l){return false}i=l.apply(this,[t,s,a]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){i=this._updateRatio(i,t)}i=this._respectSize(i,t);this._updateCache(i);this._propagate("resize",t);n=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!e.isEmptyObject(n)){this._updatePrevProperties();this._trigger("resize",t,this.ui());this._applyChanges()}return false},_mouseStop:function(t){this.resizing=false;var i,n,r,o,s,a,l,c=this.options,u=this;if(this._helper){i=this._proportionallyResizeElements;n=i.length&&/textarea/i.test(i[0].nodeName);r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height;o=n?0:u.sizeDiff.width;s={width:u.helper.width()-o,height:u.helper.height()-r};a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null;l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null;if(!c.animate){this.element.css(e.extend(s,{top:l,left:a}))}u.helper.height(u.size.height);u.helper.width(u.size.width);if(this._helper&&!c.animate){this._proportionallyResize()}}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};if(this.position.top!==this.prevPosition.top){e.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){e.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){e.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){e.height=this.size.height+"px"}this.helper.css(e);return e},_updateVirtualBoundaries:function(e){var t,i,n,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity};if(this._aspectRatio||e){t=o.minHeight*this.aspectRatio;n=o.minWidth/this.aspectRatio;i=o.maxHeight*this.aspectRatio;r=o.maxWidth/this.aspectRatio;if(t>o.minWidth){o.minWidth=t}if(n>o.minHeight){o.minHeight=n}if(i<o.maxWidth){o.maxWidth=i}if(r<o.maxHeight){o.maxHeight=r}}this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset();if(this._isNumber(e.left)){this.position.left=e.left}if(this._isNumber(e.top)){this.position.top=e.top}if(this._isNumber(e.height)){this.size.height=e.height}if(this._isNumber(e.width)){this.size.width=e.width}},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;if(this._isNumber(e.height)){e.width=e.height*this.aspectRatio}else if(this._isNumber(e.width)){e.height=e.width/this.aspectRatio}if(n==="sw"){e.left=t.left+(i.width-e.width);e.top=null}if(n==="nw"){e.top=t.top+(i.height-e.height);e.left=t.left+(i.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);if(o){e.width=t.minWidth}if(s){e.height=t.minHeight}if(n){e.width=t.maxWidth}if(r){e.height=t.maxHeight}if(o&&c){e.left=a-t.minWidth}if(n&&c){e.left=a-t.maxWidth}if(s&&u){e.top=l-t.minHeight}if(r&&u){e.top=l-t.maxHeight}if(!e.width&&!e.height&&!e.left&&e.top){e.top=null}else if(!e.width&&!e.height&&!e.top&&e.left){e.left=null}return e},_getPaddingPlusBorderDimensions:function(e){var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++){i[t]=parseInt(n[t],10)||0;i[t]+=parseInt(r[t],10)||0}return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var e,t=0,i=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){e=this._proportionallyResizeElements[t];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(e)}e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]);t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};if(r&&r.length){e(r[0]).css({width:n.width,height:n.height})}i._updateCache(n);i._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,o,s,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,f=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;if(!f){return}l.containerElement=e(f);if(/document/.test(d)||d===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(f);i=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))});l.containerOffset=t.offset();l.containerPosition=t.position();l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]};n=l.containerOffset;r=l.containerSize.height;o=l.containerSize.width;s=l._hasScroll(f,"left")?f.scrollWidth:o;a=l._hasScroll(f)?f.scrollHeight:r;l.parentData={element:f,left:n.left,top:n.top,width:s,height:a}}},resize:function(t){var i,n,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},f=s.containerElement,h=true;if(f[0]!==document&&/static/.test(f.css("position"))){d=l}if(c.left<(s._helper?l.left:0)){s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left);if(u){s.size.height=s.size.width/s.aspectRatio;h=false}s.position.left=a.helper?l.left:0}if(c.top<(s._helper?l.top:0)){s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top);if(u){s.size.width=s.size.height*s.aspectRatio;h=false}s.position.top=s._helper?l.top:0}r=s.containerElement.get(0)===s.element.parent().get(0);o=/relative|absolute/.test(s.containerElement.css("position"));if(r&&o){s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top}else{s.offset.left=s.element.offset().left;s.offset.top=s.element.offset().top}i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left));n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top));if(i+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-i;if(u){s.size.height=s.size.width/s.aspectRatio;h=false}}if(n+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-n;if(u){s.size.width=s.size.height*s.aspectRatio;h=false}}if(!h){s.position.left=s.prevPosition.left;s.position.top=s.prevPosition.top;s.size.width=s.prevSize.width;s.size.height=s.prevSize.height}},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;if(t._helper&&!i.animate&&/relative/.test(o.css("position"))){e(this).css({left:a.left-r.left-n.left,width:l,height:c})}if(t._helper&&!i.animate&&/static/.test(o.css("position"))){e(this).css({left:a.left-r.left-n.left,width:l,height:c})}}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var i=(n[t]||0)+(a[t]||0);if(i&&i>=0){r[t]=i||null}});t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost==="string"?i.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=e(this).resizable("instance");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,f=Math.round((r.height-o.height)/u)*u,h=o.width+d,p=o.height+f,m=n.maxWidth&&n.maxWidth<h,g=n.maxHeight&&n.maxHeight<p,v=n.minWidth&&n.minWidth>h,w=n.minHeight&&n.minHeight>p;n.grid=l;if(v){h+=c}if(w){p+=u}if(m){h-=c}if(g){p-=u}if(/^(se|s|e)$/.test(a)){i.size.width=h;i.size.height=p}else if(/^(ne)$/.test(a)){i.size.width=h;i.size.height=p;i.position.top=s.top-f}else if(/^(sw)$/.test(a)){i.size.width=h;i.size.height=p;i.position.left=s.left-d}else{if(p-u<=0||h-c<=0){t=i._getPaddingPlusBorderDimensions(this)}if(p-u>0){i.size.height=p;i.position.top=s.top-f}else{p=u-t.height;i.size.height=p;i.position.top=s.top+o.height-p}if(h-c>0){i.size.width=h;i.position.left=s.left-d}else{h=c-t.width;i.size.width=h;i.position.left=s.left+o.width-h}}}});return e.ui.resizable})},function(e,t,i){var n,r,o;(function i(s,a){if(typeof t==="object"&&t&&typeof t.nodeName!=="string"){a(t)}else if(true){!(r=[t],n=a,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s.Mustache={};a(Mustache)}})(this,function e(t){var i=Object.prototype.toString;var n=Array.isArray||function e(t){return i.call(t)==="[object Array]"};function r(e){return typeof e==="function"}function o(e){return n(e)?"array":typeof e}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return e!=null&&typeof e==="object"&&t in e}var l=RegExp.prototype.test;function c(e,t){return l.call(e,t)}var u=/\S/;function d(e){return!c(u,e)}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function h(e){return String(e).replace(/[&<>"'\/]/g,function e(t){return f[t]})}var p=/\s*/;var m=/\s+/;var g=/\s*=/;var v=/\s*\}/;var w=/#|\^|\/|>|\{|&|=|!/;function b(e,i){if(!e)return[];var r=[];var o=[];var a=[];var l=false;var c=false;function u(){if(l&&!c){while(a.length)delete o[a.pop()]}else{a=[]}l=false;c=false}var f,h,b;function T(e){if(typeof e==="string")e=e.split(m,2);if(!n(e)||e.length!==2)throw new Error("Invalid tags: "+e);f=new RegExp(s(e[0])+"\\s*");h=new RegExp("\\s*"+s(e[1]));b=new RegExp("\\s*"+s("}"+e[1]))}T(i||t.tags);var C=new E(e);var S,I,O,k,x,D;while(!C.eos()){S=C.pos;O=C.scanUntil(f);if(O){for(var R=0,P=O.length;R<P;++R){k=O.charAt(R);if(d(k)){a.push(o.length)}else{c=true}o.push(["text",k,S,S+1]);S+=1;if(k==="\n")u()}}if(!C.scan(f))break;l=true;I=C.scan(w)||"name";C.scan(p);if(I==="="){O=C.scanUntil(g);C.scan(g);C.scanUntil(h)}else if(I==="{"){O=C.scanUntil(b);C.scan(v);C.scanUntil(h);I="&"}else{O=C.scanUntil(h)}if(!C.scan(h))throw new Error("Unclosed tag at "+C.pos);x=[I,O,S,C.pos];o.push(x);if(I==="#"||I==="^"){r.push(x)}else if(I==="/"){D=r.pop();if(!D)throw new Error('Unopened section "'+O+'" at '+S);if(D[1]!==O)throw new Error('Unclosed section "'+D[1]+'" at '+S)}else if(I==="name"||I==="{"||I==="&"){c=true}else if(I==="="){T(O)}}D=r.pop();if(D)throw new Error('Unclosed section "'+D[1]+'" at '+C.pos);return _(y(o))}function y(e){var t=[];var i,n;for(var r=0,o=e.length;r<o;++r){i=e[r];if(i){if(i[0]==="text"&&n&&n[0]==="text"){n[1]+=i[1];n[3]=i[3]}else{t.push(i);n=i}}}return t}function _(e){var t=[];var i=t;var n=[];var r,o;for(var s=0,a=e.length;s<a;++s){r=e[s];switch(r[0]){case"#":case"^":i.push(r);n.push(r);i=r[4]=[];break;case"/":o=n.pop();o[5]=r[2];i=n.length>0?n[n.length-1][4]:t;break;default:i.push(r)}}return t}function E(e){this.string=e;this.tail=e;this.pos=0}E.prototype.eos=function e(){return this.tail===""};E.prototype.scan=function e(t){var i=this.tail.match(t);if(!i||i.index!==0)return"";var n=i[0];this.tail=this.tail.substring(n.length);this.pos+=n.length;return n};E.prototype.scanUntil=function e(t){var i=this.tail.search(t),n;switch(i){case-1:n=this.tail;this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,i);this.tail=this.tail.substring(i)}this.pos+=n.length;return n};function T(e,t){this.view=e;this.cache={".":this.view};this.parent=t}T.prototype.push=function e(t){return new T(t,this)};T.prototype.lookup=function e(t){var i=this.cache;var n;if(i.hasOwnProperty(t)){n=i[t]}else{var o=this,s,l,c=false;while(o){if(t.indexOf(".")>0){n=o.view;s=t.split(".");l=0;while(n!=null&&l<s.length){if(l===s.length-1)c=a(n,s[l]);n=n[s[l++]]}}else{n=o.view[t];c=a(o.view,t)}if(c)break;o=o.parent}i[t]=n}if(r(n))n=n.call(this.view);return n};function C(){this.cache={}}C.prototype.clearCache=function e(){this.cache={}};C.prototype.parse=function e(t,i){var n=this.cache;var r=n[t];if(r==null)r=n[t]=b(t,i);return r};C.prototype.render=function e(t,i,n){var r=this.parse(t);var o=i instanceof T?i:new T(i);return this.renderTokens(r,o,n,t)};C.prototype.renderTokens=function e(t,i,n,r){var o="";var s,a,l;for(var c=0,u=t.length;c<u;++c){l=undefined;s=t[c];a=s[0];if(a==="#")l=this.renderSection(s,i,n,r);else if(a==="^")l=this.renderInverted(s,i,n,r);else if(a===">")l=this.renderPartial(s,i,n,r);else if(a==="&")l=this.unescapedValue(s,i);else if(a==="name")l=this.escapedValue(s,i);else if(a==="text")l=this.rawValue(s);if(l!==undefined)o+=l}return o};C.prototype.renderSection=function e(t,i,o,s){var a=this;var l="";var c=i.lookup(t[1]);function u(e){return a.render(e,i,o)}if(!c)return;if(n(c)){for(var d=0,f=c.length;d<f;++d){l+=this.renderTokens(t[4],i.push(c[d]),o,s)}}else if(typeof c==="object"||typeof c==="string"||typeof c==="number"){l+=this.renderTokens(t[4],i.push(c),o,s)}else if(r(c)){if(typeof s!=="string")throw new Error("Cannot use higher-order sections without the original template");c=c.call(i.view,s.slice(t[3],t[5]),u);if(c!=null)l+=c}else{l+=this.renderTokens(t[4],i,o,s)}return l};C.prototype.renderInverted=function e(t,i,r,o){var s=i.lookup(t[1]);if(!s||n(s)&&s.length===0)return this.renderTokens(t[4],i,r,o)};C.prototype.renderPartial=function e(t,i,n){if(!n)return;var o=r(n)?n(t[1]):n[t[1]];if(o!=null)return this.renderTokens(this.parse(o),i,n,o)};C.prototype.unescapedValue=function e(t,i){var n=i.lookup(t[1]);if(n!=null)return n};C.prototype.escapedValue=function e(i,n){var r=n.lookup(i[1]);if(r!=null)return t.escape(r)};C.prototype.rawValue=function e(t){return t[1]};t.name="mustache.js";t.version="2.1.3";t.tags=["{{","}}"];var S=new C;t.clearCache=function e(){return S.clearCache()};t.parse=function e(t,i){return S.parse(t,i)};t.render=function e(t,i,n){if(typeof t!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+o(t)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return S.render(t,i,n)};t.to_html=function e(i,n,o,s){var a=t.render(i,n,o);if(r(s)){s(a)}else{return a}};t.escape=h;t.Scanner=E;t.Context=T;t.Writer=C})},function(e,t,i){var n,r;!(n=[i(1),i(2),i(40)],r=function(e,t,i){var n=i.extend({className:"topbar",template:'{{#hasContainer}}<div class="topbar__container">{{/hasContainer}}\n'+'\t<h1 class="topbar__title">{{title}}</h1>\n'+"\t{{#backLink}}\n"+'\t\t<div class="topbar__left">\n'+'\t\t\t<a class="{{backClassNames}}">\n'+"\t\t\t\t{{#html}}\n"+"\t\t\t\t\t{{{html}}}\n"+"\t\t\t\t{{/html}}\n"+"\t\t\t\t{{^html}}\n"+"\t\t\t\t\t{{#isClose}}\n"+'\t\t\t\t\t\t<span class="icon">xlarge</span>\n'+"\t\t\t\t\t{{/isClose}}\n"+"\t\t\t\t\t{{#isDirectional}}\n"+'\t\t\t\t\t\t<span class="icon">leftarrowlarge</span>\n'+"\t\t\t\t\t{{/isDirectional}}\n"+"\t\t\t\t\t{{#icon}}\n"+'\t\t\t\t\t\t<span class="icon">{{icon}}</span>\n'+"\t\t\t\t\t{{/icon}}\n"+"\t\t\t\t\t{{#text}}\n"+"\t\t\t\t\t\t{{text}}\n"+"\t\t\t\t\t{{/text}}\n"+"\t\t\t\t{{/html}}\n"+"\t\t\t</a>\n"+"\t\t</div>\n"+"\t{{/backLink}}\n"+"\t{{#forwardLink}}\n"+'\t\t<div class="topbar__right">\n'+'\t\t\t<a class="{{forwardClassNames}}">\n'+"\t\t\t\t{{#html}}\n"+"\t\t\t\t\t{{{html}}}\n"+"\t\t\t\t{{/html}}\n"+"\t\t\t\t{{^html}}\n"+"\t\t\t\t\t{{#text}}\n"+"\t\t\t\t\t\t{{text}}\n"+"\t\t\t\t\t{{/text}}\n"+"\t\t\t\t\t{{#icon}}\n"+'\t\t\t\t\t\t<span class="icon">{{icon}}</span>\n'+"\t\t\t\t\t{{/icon}}\n"+"\t\t\t\t\t{{#isDirectional}}\n"+'\t\t\t\t\t\t<span class="icon">rightarrowlarge</span>\n'+"\t\t\t\t\t{{/isDirectional}}\n"+"\t\t\t\t{{/html}}\n"+"\t\t\t</a>\n"+"\t\t</div>\n"+"\t{{/forwardLink}}\n"+"{{#hasContainer}}</div>{{/hasContainer}}",title:"Topbar",isDark:false,isEditMode:false,hasContainer:false,hasTopbarBorder:true,backLink:null,forwardLink:null,isBackEnabled:true,isForwardEnabled:true,events:{"click .topbar__close":"onBackClick","click .topbar__back":"onBackClick","click .topbar__forward":"onForwardClick"},_initialize:function(){this.title=this.queryOption("title");this.isEditMode=this.queryOption("isEditMode");this.setBackLink(this.queryOption("backLink"));this.setForwardLink(this.queryOption("forwardLink"))},getRenderData:function(){var e=[this.backLink.isClose?"topbar__close":"topbar__action topbar__back",this.isBackEnabled?"":"is-inactive",this.backLink.className||""].join(" ");var t=["topbar__action topbar__forward",this.isForwardEnabled?"":"is-inactive",this.forwardLink.className||""].join(" ");if(this.backLink.isClose&&this.backLink.icon==="xlarge"){this.backLink.icon=null}return{title:this.title,backLink:this.backLink,forwardLink:this.forwardLink,backClassNames:e,forwardClassNames:t,hasContainer:this.queryOption("hasContainer")}},render:function(){this.$el.toggleClass("topbar--dark",this.queryOption("isDark")).toggleClass("topbar--editmode",this.queryOption("isEditMode")).toggleClass("dialog__topbar--borderless",!this.queryOption("hasTopbarBorder"));return i.prototype.render.call(this)},onBackClick:function(){if(this.isBackEnabled){this._trigger("back")}},onForwardClick:function(){if(this.isForwardEnabled){this._trigger("forward")}},setTitle:function(e){this.title=e;this.rerender()},setBackLink:function(e){this.backLink=this.getNormalizedLink(e);this.extendEvents(e);if(this.backLink.isEnabled!==undefined){this.isBackEnabled=this.backLink.isEnabled;delete this.backLink.isEnabled}this.rerender()},setForwardLink:function(e){this.forwardLink=this.getNormalizedLink(e);this.extendEvents(e);if(this.forwardLink.isEnabled!==undefined){this.isForwardEnabled=this.forwardLink.isEnabled;delete this.forwardLink.isEnabled}this.rerender()},setBackEnabled:function(e){if(e!=this.isBackEnabled){this.isBackEnabled=e;this.rerender()}},setForwardEnabled:function(e){if(e!=this.isForwardEnabled){this.isForwardEnabled=e;this.rerender()}},rerender:function(){if(this.getIsRendered()){this.render()}},getIsRendered:function(){return Boolean(this.$el&&this.$el.find(".topbar__title").length)},getNormalizedLink:function(e){if(typeof e==="string"){return{text:e}}return e||false}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(){var i=this;var o=i._;var s=Array.prototype,a=Object.prototype,l=Function.prototype;var c=s.push,u=s.slice,d=a.toString,f=a.hasOwnProperty;var h=Array.isArray,p=Object.keys,m=l.bind,g=Object.create;var v=function(){};var w=function(e){if(e instanceof w)return e;if(!(this instanceof w))return new w(e);this._wrapped=e};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=w}t._=w}else{i._=w}w.VERSION="1.8.3";var b=function(e,t,i){if(t===void 0)return e;switch(i==null?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,o){return e.call(t,i,n,r,o)}}return function(){return e.apply(t,arguments)}};var y=function(e,t,i){if(e==null)return w.identity;if(w.isFunction(e))return b(e,t,i);if(w.isObject(e))return w.matcher(e);return w.property(e)};w.iteratee=function(e,t){return y(e,t,Infinity)};var _=function(e,t){return function(i){var n=arguments.length;if(n<2||i==null)return i;for(var r=1;r<n;r++){var o=arguments[r],s=e(o),a=s.length;for(var l=0;l<a;l++){var c=s[l];if(!t||i[c]===void 0)i[c]=o[c]}}return i}};var E=function(e){if(!w.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;v.prototype=null;return t};var T=function(e){return function(t){return t==null?void 0:t[e]}};var C=Math.pow(2,53)-1;var S=T("length");var I=function(e){var t=S(e);return typeof t=="number"&&t>=0&&t<=C};w.each=w.forEach=function(e,t,i){t=b(t,i);var n,r;if(I(e)){for(n=0,r=e.length;n<r;n++){t(e[n],n,e)}}else{var o=w.keys(e);for(n=0,r=o.length;n<r;n++){t(e[o[n]],o[n],e)}}return e};w.map=w.collect=function(e,t,i){t=y(t,i);var n=!I(e)&&w.keys(e),r=(n||e).length,o=Array(r);for(var s=0;s<r;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o};function O(e){function t(t,i,n,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;n=i(n,t[a],a,t)}return n}return function(i,n,r,o){n=b(n,o,4);var s=!I(i)&&w.keys(i),a=(s||i).length,l=e>0?0:a-1;if(arguments.length<3){r=i[s?s[l]:l];l+=e}return t(i,n,r,s,l,a)}}w.reduce=w.foldl=w.inject=O(1);w.reduceRight=w.foldr=O(-1);w.find=w.detect=function(e,t,i){var n;if(I(e)){n=w.findIndex(e,t,i)}else{n=w.findKey(e,t,i)}if(n!==void 0&&n!==-1)return e[n]};w.filter=w.select=function(e,t,i){var n=[];t=y(t,i);w.each(e,function(e,i,r){if(t(e,i,r))n.push(e)});return n;
};w.reject=function(e,t,i){return w.filter(e,w.negate(y(t)),i)};w.every=w.all=function(e,t,i){t=y(t,i);var n=!I(e)&&w.keys(e),r=(n||e).length;for(var o=0;o<r;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return false}return true};w.some=w.any=function(e,t,i){t=y(t,i);var n=!I(e)&&w.keys(e),r=(n||e).length;for(var o=0;o<r;o++){var s=n?n[o]:o;if(t(e[s],s,e))return true}return false};w.contains=w.includes=w.include=function(e,t,i,n){if(!I(e))e=w.values(e);if(typeof i!="number"||n)i=0;return w.indexOf(e,t,i)>=0};w.invoke=function(e,t){var i=u.call(arguments,2);var n=w.isFunction(t);return w.map(e,function(e){var r=n?t:e[t];return r==null?r:r.apply(e,i)})};w.pluck=function(e,t){return w.map(e,w.property(t))};w.where=function(e,t){return w.filter(e,w.matcher(t))};w.findWhere=function(e,t){return w.find(e,w.matcher(t))};w.max=function(e,t,i){var n=-Infinity,r=-Infinity,o,s;if(t==null&&e!=null){e=I(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++){o=e[a];if(o>n){n=o}}}else{t=y(t,i);w.each(e,function(e,i,o){s=t(e,i,o);if(s>r||s===-Infinity&&n===-Infinity){n=e;r=s}})}return n};w.min=function(e,t,i){var n=Infinity,r=Infinity,o,s;if(t==null&&e!=null){e=I(e)?e:w.values(e);for(var a=0,l=e.length;a<l;a++){o=e[a];if(o<n){n=o}}}else{t=y(t,i);w.each(e,function(e,i,o){s=t(e,i,o);if(s<r||s===Infinity&&n===Infinity){n=e;r=s}})}return n};w.shuffle=function(e){var t=I(e)?e:w.values(e);var i=t.length;var n=Array(i);for(var r=0,o;r<i;r++){o=w.random(0,r);if(o!==r)n[r]=n[o];n[o]=t[r]}return n};w.sample=function(e,t,i){if(t==null||i){if(!I(e))e=w.values(e);return e[w.random(e.length-1)]}return w.shuffle(e).slice(0,Math.max(0,t))};w.sortBy=function(e,t,i){t=y(t,i);return w.pluck(w.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria;var n=t.criteria;if(i!==n){if(i>n||i===void 0)return 1;if(i<n||n===void 0)return-1}return e.index-t.index}),"value")};var k=function(e){return function(t,i,n){var r={};i=y(i,n);w.each(t,function(n,o){var s=i(n,o,t);e(r,n,s)});return r}};w.groupBy=k(function(e,t,i){if(w.has(e,i))e[i].push(t);else e[i]=[t]});w.indexBy=k(function(e,t,i){e[i]=t});w.countBy=k(function(e,t,i){if(w.has(e,i))e[i]++;else e[i]=1});w.toArray=function(e){if(!e)return[];if(w.isArray(e))return u.call(e);if(I(e))return w.map(e,w.identity);return w.values(e)};w.size=function(e){if(e==null)return 0;return I(e)?e.length:w.keys(e).length};w.partition=function(e,t,i){t=y(t,i);var n=[],r=[];w.each(e,function(e,i,o){(t(e,i,o)?n:r).push(e)});return[n,r]};w.first=w.head=w.take=function(e,t,i){if(e==null)return void 0;if(t==null||i)return e[0];return w.initial(e,e.length-t)};w.initial=function(e,t,i){return u.call(e,0,Math.max(0,e.length-(t==null||i?1:t)))};w.last=function(e,t,i){if(e==null)return void 0;if(t==null||i)return e[e.length-1];return w.rest(e,Math.max(0,e.length-t))};w.rest=w.tail=w.drop=function(e,t,i){return u.call(e,t==null||i?1:t)};w.compact=function(e){return w.filter(e,w.identity)};var x=function(e,t,i,n){var r=[],o=0;for(var s=n||0,a=S(e);s<a;s++){var l=e[s];if(I(l)&&(w.isArray(l)||w.isArguments(l))){if(!t)l=x(l,t,i);var c=0,u=l.length;r.length+=u;while(c<u){r[o++]=l[c++]}}else if(!i){r[o++]=l}}return r};w.flatten=function(e,t){return x(e,t,false)};w.without=function(e){return w.difference(e,u.call(arguments,1))};w.uniq=w.unique=function(e,t,i,n){if(!w.isBoolean(t)){n=i;i=t;t=false}if(i!=null)i=y(i,n);var r=[];var o=[];for(var s=0,a=S(e);s<a;s++){var l=e[s],c=i?i(l,s,e):l;if(t){if(!s||o!==c)r.push(l);o=c}else if(i){if(!w.contains(o,c)){o.push(c);r.push(l)}}else if(!w.contains(r,l)){r.push(l)}}return r};w.union=function(){return w.uniq(x(arguments,true,true))};w.intersection=function(e){var t=[];var i=arguments.length;for(var n=0,r=S(e);n<r;n++){var o=e[n];if(w.contains(t,o))continue;for(var s=1;s<i;s++){if(!w.contains(arguments[s],o))break}if(s===i)t.push(o)}return t};w.difference=function(e){var t=x(arguments,true,true,1);return w.filter(e,function(e){return!w.contains(t,e)})};w.zip=function(){return w.unzip(arguments)};w.unzip=function(e){var t=e&&w.max(e,S).length||0;var i=Array(t);for(var n=0;n<t;n++){i[n]=w.pluck(e,n)}return i};w.object=function(e,t){var i={};for(var n=0,r=S(e);n<r;n++){if(t){i[e[n]]=t[n]}else{i[e[n][0]]=e[n][1]}}return i};function D(e){return function(t,i,n){i=y(i,n);var r=S(t);var o=e>0?0:r-1;for(;o>=0&&o<r;o+=e){if(i(t[o],o,t))return o}return-1}}w.findIndex=D(1);w.findLastIndex=D(-1);w.sortedIndex=function(e,t,i,n){i=y(i,n,1);var r=i(t);var o=0,s=S(e);while(o<s){var a=Math.floor((o+s)/2);if(i(e[a])<r)o=a+1;else s=a}return o};function R(e,t,i){return function(n,r,o){var s=0,a=S(n);if(typeof o=="number"){if(e>0){s=o>=0?o:Math.max(o+a,s)}else{a=o>=0?Math.min(o+1,a):o+a+1}}else if(i&&o&&a){o=i(n,r);return n[o]===r?o:-1}if(r!==r){o=t(u.call(n,s,a),w.isNaN);return o>=0?o+s:-1}for(o=e>0?s:a-1;o>=0&&o<a;o+=e){if(n[o]===r)return o}return-1}}w.indexOf=R(1,w.findIndex,w.sortedIndex);w.lastIndexOf=R(-1,w.findLastIndex);w.range=function(e,t,i){if(t==null){t=e||0;e=0}i=i||1;var n=Math.max(Math.ceil((t-e)/i),0);var r=Array(n);for(var o=0;o<n;o++,e+=i){r[o]=e}return r};var P=function(e,t,i,n,r){if(!(n instanceof t))return e.apply(i,r);var o=E(e.prototype);var s=e.apply(o,r);if(w.isObject(s))return s;return o};w.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,u.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var i=u.call(arguments,2);var n=function(){return P(e,n,t,this,i.concat(u.call(arguments)))};return n};w.partial=function(e){var t=u.call(arguments,1);var i=function(){var n=0,r=t.length;var o=Array(r);for(var s=0;s<r;s++){o[s]=t[s]===w?arguments[n++]:t[s]}while(n<arguments.length)o.push(arguments[n++]);return P(e,i,this,this,o)};return i};w.bindAll=function(e){var t,i=arguments.length,n;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++){n=arguments[t];e[n]=w.bind(e[n],e)}return e};w.memoize=function(e,t){var i=function(n){var r=i.cache;var o=""+(t?t.apply(this,arguments):n);if(!w.has(r,o))r[o]=e.apply(this,arguments);return r[o]};i.cache={};return i};w.delay=function(e,t){var i=u.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)};w.defer=w.partial(w.delay,w,1);w.throttle=function(e,t,i){var n,r,o;var s=null;var a=0;if(!i)i={};var l=function(){a=i.leading===false?0:w.now();s=null;o=e.apply(n,r);if(!s)n=r=null};return function(){var c=w.now();if(!a&&i.leading===false)a=c;var u=t-(c-a);n=this;r=arguments;if(u<=0||u>t){if(s){clearTimeout(s);s=null}a=c;o=e.apply(n,r);if(!s)n=r=null}else if(!s&&i.trailing!==false){s=setTimeout(l,u)}return o}};w.debounce=function(e,t,i){var n,r,o,s,a;var l=function(){var c=w.now()-s;if(c<t&&c>=0){n=setTimeout(l,t-c)}else{n=null;if(!i){a=e.apply(o,r);if(!n)o=r=null}}};return function(){o=this;r=arguments;s=w.now();var c=i&&!n;if(!n)n=setTimeout(l,t);if(c){a=e.apply(o,r);o=r=null}return a}};w.wrap=function(e,t){return w.partial(t,e)};w.negate=function(e){return function(){return!e.apply(this,arguments)}};w.compose=function(){var e=arguments;var t=e.length-1;return function(){var i=t;var n=e[t].apply(this,arguments);while(i--)n=e[i].call(this,n);return n}};w.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};w.before=function(e,t){var i;return function(){if(--e>0){i=t.apply(this,arguments)}if(e<=1)t=null;return i}};w.once=w.partial(w.before,2);var A=!{toString:null}.propertyIsEnumerable("toString");var N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function M(e,t){var i=N.length;var n=e.constructor;var r=w.isFunction(n)&&n.prototype||a;var o="constructor";if(w.has(e,o)&&!w.contains(t,o))t.push(o);while(i--){o=N[i];if(o in e&&e[o]!==r[o]&&!w.contains(t,o)){t.push(o)}}}w.keys=function(e){if(!w.isObject(e))return[];if(p)return p(e);var t=[];for(var i in e)if(w.has(e,i))t.push(i);if(A)M(e,t);return t};w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var i in e)t.push(i);if(A)M(e,t);return t};w.values=function(e){var t=w.keys(e);var i=t.length;var n=Array(i);for(var r=0;r<i;r++){n[r]=e[t[r]]}return n};w.mapObject=function(e,t,i){t=y(t,i);var n=w.keys(e),r=n.length,o={},s;for(var a=0;a<r;a++){s=n[a];o[s]=t(e[s],s,e)}return o};w.pairs=function(e){var t=w.keys(e);var i=t.length;var n=Array(i);for(var r=0;r<i;r++){n[r]=[t[r],e[t[r]]]}return n};w.invert=function(e){var t={};var i=w.keys(e);for(var n=0,r=i.length;n<r;n++){t[e[i[n]]]=i[n]}return t};w.functions=w.methods=function(e){var t=[];for(var i in e){if(w.isFunction(e[i]))t.push(i)}return t.sort()};w.extend=_(w.allKeys);w.extendOwn=w.assign=_(w.keys);w.findKey=function(e,t,i){t=y(t,i);var n=w.keys(e),r;for(var o=0,s=n.length;o<s;o++){r=n[o];if(t(e[r],r,e))return r}};w.pick=function(e,t,i){var n={},r=e,o,s;if(r==null)return n;if(w.isFunction(t)){s=w.allKeys(r);o=b(t,i)}else{s=x(arguments,false,false,1);o=function(e,t,i){return t in i};r=Object(r)}for(var a=0,l=s.length;a<l;a++){var c=s[a];var u=r[c];if(o(u,c,r))n[c]=u}return n};w.omit=function(e,t,i){if(w.isFunction(t)){t=w.negate(t)}else{var n=w.map(x(arguments,false,false,1),String);t=function(e,t){return!w.contains(n,t)}}return w.pick(e,t,i)};w.defaults=_(w.allKeys,true);w.create=function(e,t){var i=E(e);if(t)w.extendOwn(i,t);return i};w.clone=function(e){if(!w.isObject(e))return e;return w.isArray(e)?e.slice():w.extend({},e)};w.tap=function(e,t){t(e);return e};w.isMatch=function(e,t){var i=w.keys(t),n=i.length;if(e==null)return!n;var r=Object(e);for(var o=0;o<n;o++){var s=i[o];if(t[s]!==r[s]||!(s in r))return false}return true};var L=function(e,t,i,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof w)e=e._wrapped;if(t instanceof w)t=t._wrapped;var r=d.call(e);if(r!==d.call(t))return false;switch(r){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o=r==="[object Array]";if(!o){if(typeof e!="object"||typeof t!="object")return false;var s=e.constructor,a=t.constructor;if(s!==a&&!(w.isFunction(s)&&s instanceof s&&w.isFunction(a)&&a instanceof a)&&("constructor"in e&&"constructor"in t)){return false}}i=i||[];n=n||[];var l=i.length;while(l--){if(i[l]===e)return n[l]===t}i.push(e);n.push(t);if(o){l=e.length;if(l!==t.length)return false;while(l--){if(!L(e[l],t[l],i,n))return false}}else{var c=w.keys(e),u;l=c.length;if(w.keys(t).length!==l)return false;while(l--){u=c[l];if(!(w.has(t,u)&&L(e[u],t[u],i,n)))return false}}i.pop();n.pop();return true};w.isEqual=function(e,t){return L(e,t)};w.isEmpty=function(e){if(e==null)return true;if(I(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e)))return e.length===0;return w.keys(e).length===0};w.isElement=function(e){return!!(e&&e.nodeType===1)};w.isArray=h||function(e){return d.call(e)==="[object Array]"};w.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}});if(!w.isArguments(arguments)){w.isArguments=function(e){return w.has(e,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){w.isFunction=function(e){return typeof e=="function"||false}}w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};w.isNaN=function(e){return w.isNumber(e)&&e!==+e};w.isBoolean=function(e){return e===true||e===false||d.call(e)==="[object Boolean]"};w.isNull=function(e){return e===null};w.isUndefined=function(e){return e===void 0};w.has=function(e,t){return e!=null&&f.call(e,t)};w.noConflict=function(){i._=o;return this};w.identity=function(e){return e};w.constant=function(e){return function(){return e}};w.noop=function(){};w.property=T;w.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}};w.matcher=w.matches=function(e){e=w.extendOwn({},e);return function(t){return w.isMatch(t,e)}};w.times=function(e,t,i){var n=Array(Math.max(0,e));t=b(t,i,1);for(var r=0;r<e;r++)n[r]=t(r);return n};w.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};w.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var K=w.invert(B);var F=function(e){var t=function(t){return e[t]};var i="(?:"+w.keys(e).join("|")+")";var n=RegExp(i);var r=RegExp(i,"g");return function(e){e=e==null?"":""+e;return n.test(e)?e.replace(r,t):e}};w.escape=F(B);w.unescape=F(K);w.result=function(e,t,i){var n=e==null?void 0:e[t];if(n===void 0){n=i}return w.isFunction(n)?n.call(e):n};var H=0;w.uniqueId=function(e){var t=++H+"";return e?e+t:t};w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/;var j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var $=/\\|'|\r|\n|\u2028|\u2029/g;var z=function(e){return"\\"+j[e]};w.template=function(e,t,i){if(!t&&i)t=i;t=w.defaults({},t,w.templateSettings);var n=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g");var r=0;var o="__p+='";e.replace(n,function(t,i,n,s,a){o+=e.slice(r,a).replace($,z);r=a+t.length;if(i){o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"}else if(n){o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"}else if(s){o+="';\n"+s+"\n__p+='"}return t});o+="';\n";if(!t.variable)o="with(obj||{}){\n"+o+"}\n";o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){e.source=o;throw e}var a=function(e){return s.call(this,e,w)};var l=t.variable||"obj";a.source="function("+l+"){\n"+o+"}";return a};w.chain=function(e){var t=w(e);t._chain=true;return t};var V=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var i=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];c.apply(e,arguments);return V(this,i.apply(w,e))}})};w.mixin(w);w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];w.prototype[e]=function(){var i=this._wrapped;t.apply(i,arguments);if((e==="shift"||e==="splice")&&i.length===0)delete i[0];return V(this,i)}});w.each(["concat","join","slice"],function(e){var t=s[e];w.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}});w.prototype.value=function(){return this._wrapped};w.prototype.valueOf=w.prototype.toJSON=w.prototype.value;w.prototype.toString=function(){return""+this._wrapped};if(true){!(n=[],r=function(){return w}.apply(t,n),r!==undefined&&(e.exports=r))}}).call(this)},,function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(4),i(12),i(7),i(44),i(6),i(11),i(55),i(33),i(17),i(21),i(554),i(553)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p){var m={currentElement:null,textAreaDialog:null,isSorting:false,tooltips:null};var g=false;var v;var w;var b;var y;l.vent.on({"editor:elements:unselect":function(e){if(e=="22397704"||e=="18362204"){m.destroy()}},"editor:elements:options:show":function(e,t,i){if(e=="22397704"&&t=="34873637"){var n=u.getPropertyByReference("<!IMAGESET!>");if(n.property_result&&!n.property_result.match("'length': '0'")){m.setCurrent(i);m.init()}}else if(e=="18362204"){m.setCurrent(i);m.init()}}});m.init=function(n){if(!this.currentElement){return}m.textAreaDialog=null;m.isSorting=false;m.tooltips=null;Sortable.create(this.currentElement+"-gallery",{constraint:false,starteffect:function(e){O();I(t(e));if(m.tooltips)m.tooltips.close();u.hideElementSettings();m.isSorting=true},endeffect:function(e){O();m.isSorting=false;m.onChange()}});if(!e.view.isMobileView){t("#"+this.currentElement+"-gallery .hover-toolbar").show().parent().css({cursor:"move"});if(!i.result(n,"isLegacyInterface")){t(".image-gallery-list-item").off("click.galleryItem").on("click.galleryItem",function(e){if(g){x.call(this,e);O();I(t(this))}else if(!g){g=true}});t("#"+this.currentElement+".element").off("click.gallery").on("click.gallery",k)}}o.execute("dontSave:set",0)};m.destroy=function(){if(!this.currentElement){return}if(t("#"+this.currentElement+"-gallery").length>0){Sortable.destroy(this.currentElement+"-gallery")}t("#"+this.currentElement+"-gallery .hover-toolbar").hide().parent().css({cursor:"auto"});O();this.currentElement=null;g=false;T();E()};m.setCurrent=function(e){m.currentElement=e};m.onChange=function(i){if(!i){this.currentElement=m.currentElement;if(!this.currentElement||!m.currentElement){return}}else{this.currentElement=i}function n(e){e=e.replace(/^.*\/uploads\//,"");var t=e.match(/^\d\/\d\/\d\/\d\/\d+\/[^\/]+/);if(t){return t[0]}return e}var r=[];var s=t("#"+this.currentElement+"-gallery img.galleryImage");s.each(function(){var e=t(this),i=n(e.attr("src")),o=e.attr("_width"),s=e.attr("_height"),a=e.attr("_caption"),l=e.attr("_link"),c=e.attr("alt"),u={url:i};if(o)u.width=o;if(s)u.height=s;if(a)u.caption=a;if(l)u.link=l;if(c)u.alt=c;r.push(u)});var a=t("#"+this.currentElement);if(s.length===0){if(a.length){a.html(m.update())}}var l=(this.currentElement+"").replace(/[^0-9]/g,"");var c=Object.toJSON(r);if(this.currentElement.match(/-manager/)){var f=d.setContentFieldProperty(l,"<!IMAGES!>",c);o.execute("editor:elements:setImageProperty",c);o.execute("editor:elements:saveProperties");o.execute("slideshow:updatePhotos",l,r)}else{var h=u.getImageProperty();if(!h){return}h.property_result=c;u.saveProperties();e.Slideshow.updatePhotos(l,r)}};m.update=function(i,n,r,o,s,a,l,d){if(typeof d=="undefined"){var f=u.getPropertyByReference("<!IMAGESET!>");if(f)d=f.property_result}if(d){try{d=d.evalJSON()}catch(e){d=[]}}if(typeof n=="undefined"){var f=u.getPropertyByReference("<!COLUMNS!>");if(f){n=t("#"+f.ucfpid).val()}}if(typeof r=="undefined"){var f=u.getPropertyByReference("<!SPACING!>");if(f){r=t("#"+f.ucfpid).val()}}if(typeof o=="undefined"){var f=u.getPropertyByReference("<!BORDER!>");if(f){var h=t("#"+f.ucfpid).val();o=h?parseInt(h):0}}else{o=parseInt(o)}if(typeof s=="undefined"){var f=u.getPropertyByReference("<!CROPPING!>");if(f){var p=t("#"+f.ucfpid).val();s=p?parseInt(p):0}}else{s=parseInt(s)}if(typeof a=="undefined"){var f=u.getPropertyByReference("<!THUMBCAPTIONTYPE!>");if(f){var g=t("#"+f.ucfpid).val();a=g?g:"none"}}if(e.view.isMobileView){a="none"}if(typeof l=="undefined"){var f=u.getPropertyByReference("<!THUMBCAPTIONHOVER!>");if(f){var v=t("#"+f.ucfpid).val();l=v?parseInt(g):"0"}}var w=window.location.protocol==="https:"?"https://":"http://";if(!d||!d.length){d=[{url:w+window.ASSETS_BASE+"/images/editor/elements/placeholders/gallery2.png",width:293,height:222}]}else{d=t.grep(d,function(e){var t;if(!e){return false}else if(typeof e=="string"){t=e}else{t=e.url||""}return!c.isInitialImageSrc(t)})}if(!i){i=u.ucfid}return m._update(i,n,r,o,s,a,l,d)};m._update=function(t,n,o,s,a,l,c,u,d){this.currentElement=t;var f=s?"border-width:1px;"+(s>1?"padding:"+(s-1)+"px;":""):"";var h='<ul id="'+t+'-gallery" class="imageGallery" style="line-height: 0px; margin: 0; padding: 0; list-style: none;">';var p=(100/n-.05).toFixed(2);var m;if(a==2){m=4/3}else if(a){m=1}else{m=333/250}var g=(1/m*100).toFixed(2);var v,w,b,y,_,E,T;var C=false;this.framePercentWidth=p;this.framePercentHeight=g;for(var S=0;S<u.length;S++){if(!u[S])continue;if(typeof u[S]=="string"){v=u[S];w=null;b=null;_=null;E="";T=""}else{v=u[S].url;w=parseInt(u[S].width);b=parseInt(u[S].height);_=u[S].link;E=N(u[S].caption||"");T=N(u[S].alt||"")}if(!v){continue}if(w&&b){y=w/b}else{y=333/250}C=v.match("/weebly/images/")||v.match("/images/editor/elements");if(v){if(!v.match("://")){C=v.match("/weebly/images/")||v.match("/images/editor/elements");if(!C){v=window.bridgeTarget+"/uploads/"+v}else if(r.chromeless){v="Gallery@2x.png"}}if(r.chromeless&&v.startsWith("/")){v="http://"+window.configSiteName+v}}var I,O,k;if(a){if(y>m){I=(y/m*100).toFixed(2);O=0;k=-((y/m-1)/2*100).toFixed(2)}else{I=100;O=-((m/y-1)/2*100).toFixed(2);k=0}}else{if(y>m){I=100;O=((1-m/y)/2*100).toFixed(2);k=0}else{I=(y/m*100).toFixed(2);O=0;k=((1-y/m)/2*100).toFixed(2)}}if(C){h+="<li id='"+t+"-imageContainer"+S+"' class='image-gallery-list-item' style='margin:0;list-style:none;position:relative;z-index:5'>";h+="<div id='"+t+"-insideImageContainer"+S+"' style='position:relative;margin:"+o+";"+(a||!s?"":"padding:0 "+s*5+"px "+s*2+"px 0;")+"'>";if(a&&s)h+="<div class='galleryImageBorder' style='"+f+"'>";h+="<div class='galleryImageHolder"+(c=="1"?" galleryCaptionHover":"")+"' style='position:relative;width:100%;text-align:center;"+(a?"overflow:hidden;":"")+"'>";h+="<div class='galleryInnerImageHolder' style='display:inline-block;cursor: pointer;'><img src='"+v+"' class='galleryImage"+(a||!s?"":" galleryImageBorder")+"' "+(_?"_link='"+_+"' ":"")+(E?"_caption='"+E+"' ":"")+(w?"_width='"+w+"' _height='"+b+"' ":"")+"/>";h+="<p class='wsite-image-placeholder-text' style='word-break: break-word;padding: 0px 10px;margin: 0px;font-weight: 600;font-variant: initial;text-transform: uppercase;font-size: 20px;color: #C3C5C8;font-family: ProximaNova, \"Open Sans\", Helvetica, Arial, Verdana, sans-serif;'>"+e.utl("html.weebly.libraries.weebly_image_gallery_17")+"</p>"}else{h+="<li id='"+t+"-imageContainer"+S+"' class='image-gallery-list-item' style='float:left;width:"+p+"%;margin:0;list-style:none;position:relative;z-index:5'>";h+="<div id='"+t+"-insideImageContainer"+S+"' style='position:relative;margin:"+o+";"+(a||!s?"":"padding:0 "+s*5+"px "+s*2+"px 0;")+"'>";if(a&&s)h+="<div class='galleryImageBorder' style='"+f+"'>";h+="<div class='galleryImageHolder"+(c=="1"?" galleryCaptionHover":"")+"' style='position:relative;width:100%;padding:0 0 "+g+"%;"+(a?"overflow:hidden;":"")+"'>";h+="<div class='galleryInnerImageHolder'><img src='"+v+"' class='galleryImage"+(a||!s?"":" galleryImageBorder")+"' "+(T?"alt='"+T+"' ":"")+(_?"_link='"+_+"' ":"")+(E?"_caption='"+E+"' ":"")+(w?"_width='"+w+"' _height='"+b+"' ":"")+"style='position:absolute;"+(a||!s?"border:0;":f)+"width:"+I+"%;top:"+O+"%;left:"+k+"%' />"}if(!e.view.isMobileView||!r.chromeless){h+='<div class="galleryCaptionHolder ';if(l==="full"){h+="fullImageGalleryCaption"}else if(l==="partial"){h+="partialImageGalleryCaption"}h+='" style="';if(l==="none"||!E.length){h+=" display: none;"}if(!a){h+="padding-left: "+s+"px; width: "+I+"%;margin-top:"+s+"px; margin-bottom: "+s*-1+"px;";if(y>m){if(l=="full"){h+="top: "+O+"%;"}h+="bottom: "+O+"%; height: auto;"}else{h+="left: "+k+"%;"}}h+='">'+'<div class="galleryCaptionHolderInnerBg"></div>'+'<div class="galleryCaptionHolderInner'+(c=="1"?"":" galleryCaptionsVisible")+'"'+">"+'<div class="galleryCaptionInnerTextHolder">'+'<div class="galleryCaptionInnerText">'+i.unescape(E)+"</div>"+"</div>"+"</div>";h+="</div>"}h+="</div></div>";if(!r.chromeless){if(!C&&d){h+="<div"+" class='w-gallery-toolbar hover-toolbar'"+" style='display:none;"+(a?"top:0;right:0":"top:"+O+"%;right:"+(100-k-I)+"%")+"'"+">"+"<div class='hover-toolbar-inner'><div class='hover-toolbar-invisible-layer'></div>";h+="<span"+" class='w-link w-gallery-button w-icon-text-link"+(_?" pressed":"")+"'"+" onclick='_W.ImageGallery.chooseThumbnailLink(_W.jQuery(this))'"+" title='"+i.escape(e.utl("html.weebly.libraries.weebly_image_gallery_8"))+"'"+"></span>";h+="<span"+" class='w-caption w-gallery-button w-icon-comment"+(E?" pressed":"")+"'"+" onclick='_W.ImageGallery.chooseLegacyThumbnailCaption(_W.jQuery(this))'"+" title='"+i.escape(e.utl("html.weebly.libraries.weebly_image_gallery_9"))+"'"+"></span>";h+="<span"+" class='w-caption w-gallery-button w-icon-title"+(T?" pressed":"")+"'"+" onclick='_W.ImageGallery.chooseLegacyThumbnailAltText(_W.jQuery(this))'"+" title='"+i.escape(e.utl("html.weebly.libraries.weebly_image_gallery_18"))+"'"+"></span>";h+="<span"+" class='w-remove w-gallery-button w-icon-trash'"+" onclick='_W.ImageGallery.removeNode(_W.jQuery(this))'"+" title='"+i.escape(e.utl("html.weebly.libraries.weebly_image_gallery_10"))+"'"+"></span>";h+="</div>"+"</div>"}}if(a&&s)h+="</div>";h+="</div>";h+="</li>"}if(R){h+=P()}h+="<span style='display: block; clear: both; height: 0px; overflow: hidden;'></span>";h+="</ul>";return h};m.removeNode=function(e){e.closest("li").empty();m.onChange()};m.chooseThumbnailLink=function(e){var t=m.currentElement.match(/-manager/)?a:o;var i;var n=m.currentElement;m.currentLinkButton=e;m.currentLinkThumbnail=e.closest("li").find("img");i=window.parseLinkString(m.currentLinkThumbnail.attr("_link"));t.request("linker:open",{remove:i?true:false,existing:i,ucfid:m.currentElement.replace("-manager",""),context:m}).done(function(){var e=[].slice.call(arguments,0);e.push(n);m.setLink.apply(this,e)})};m.setLink=function(e,t,i){if(e){e+=t?"weeblylink_new_window":""}else{e=""}m.currentLinkThumbnail.attr("_link",e);m.onChange(i);m.currentLinkButton.toggleClass("pressed",e)};function _(e,t){e.listenTo(l.vent,{"element:options:dialog:close":function(){if(this.dialog&&this.dialog.close){this.trigger("textarea:cancel");this.dialog.close();this.remove()}}});if(t.submit){e.once("textarea:submit",t.submit)}if(t.cancel){e.once("textarea:cancel",t.cancel)}if(t.change){e.on("textarea:change",t.change)}}m.chooseThumbnailAltText=function(t){var n=t.find("img").first(),r=i.unescape(n.attr("alt")||""),o={},a;a=new p({text:r,placeholderText:e.utl("html.weebly.libraries.weebly_image_gallery_21"),title:e.utl("html.weebly.libraries.weebly_image_gallery_18")});o={submit:function(e){var t=N(e);n.attr("alt",t);r=t;m.onChange()},cancel:function(){var e=N(r);if(r.length!==0){n.attr("alt",e)}}};_(a,o);m.textAreaDialog=new s(a);m.textAreaDialog.open({pointAt:t,parent:"#elementSettingsWrapper"});a.$el.find("textarea").focus().val(r)};m.chooseThumbnailCaption=function(t){var n=t.find("img").first(),r=i.unescape(n.attr("_caption")||""),o=t.find(".galleryCaptionInnerText").first(),a=t.find(".galleryCaptionHolder").first(),l={},c;c=new p({text:r,placeholderText:e.utl("html.weebly.libraries.weebly_image_gallery_7"),title:e.utl("html.weebly.libraries.weebly_image_gallery_20")});l={submit:function(e){var t=N(e);n.attr("_caption",t);m.onChange()},cancel:function(){if(r.length===0){a.hide()}else{o.text(r)}},change:function(e){if(!N(e)){a.hide()}else if(a.hasClass("fullImageGalleryCaption")||a.hasClass("partialImageGalleryCaption")){a.show()}o.text(e)}};_(c,l);m.textAreaDialog=new s(c);m.textAreaDialog.open({pointAt:t,parent:"#elementSettingsWrapper"});c.$el.find("textarea").focus().val(r)};m.chooseLegacyThumbnailAltText=function(n){var r=n.closest("li").find("img").first();S();E(false,!r.attr("alt"));v=n;w=n.closest("li");var o=i.unescape(r.attr("alt")||"");w.css({zIndex:6});v.addClass("pressed");var s=t("<textarea>",{class:o?"":"empty",on:{focus:function(){if(s.hasClass("empty")){s.removeClass("empty");s.val("")}},blur:function(){if(!s.val().trim()){s.addClass("empty");s.val(e.utl("html.weebly.libraries.weebly_image_gallery_21"))}}}});var a=t("<form>",{class:"w-caption-form w-ui hover-toolbar-inner",on:{submit:function(e){e.stopPropagation()},click:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}},append:[s,t("<span>",{class:"button-wrap",append:[t("<input>",{type:"submit",value:e.utl("html.weebly.libraries.weebly_image_gallery_12"),class:"btn btn-block btn-info",on:{click:function(){var e="";if(!s.hasClass("empty")){e=N(s.val())}r.attr("alt",e);if(e){v.addClass("pressed")}else{v.removeClass("pressed")}E(false,!e);C();m.onChange()}}})]}),t("<span>",{class:"button-wrap",append:[t("<input>",{type:"button",value:e.utl("html.weebly.libraries.weebly_image_gallery_16"),class:"btn btn-block btn-inverse",on:{click:function(){E(false,!r.attr("alt"));C()}}})]})]});var l=t(document.body);var c=t("<div>",{class:"hover-toolbar hover-toolbar-below",style:"z-index:1000"});c.append("<div class='hover-toolbar-arrow hover-toolbar-arrow-centered'></div>").append(a);l.append(c);y=c;var u=l.offset();var d=v.offset();var f=v.outerWidth();var h=v.outerHeight();var p=c.outerWidth();c.css({top:d.top+h-u.top,left:d.left+f/2-p/2-(u.left-l[0].scrollLeft)});s.val(o?M(o):e.utl("html.weebly.libraries.weebly_image_gallery_21"))};m.chooseLegacyThumbnailCaption=function(n){var r=n.closest("li").find("img").first();S();T(false,!r.attr("_caption"));var o=v=n;var s=b=n.closest("li");var a=b.find(".galleryCaptionInnerText").first();var l=b.find(".galleryCaptionHolder").first();var c;var u;var d=i.unescape(r.attr("_caption")||"");s.css({zIndex:6});o.addClass("pressed");c=new Element("form",{class:"w-caption-form w-ui hover-toolbar-inner"}).observe("submit",function(e){e.stop()}).observe("click",function(e){e.stop()}).observe("mouseup",function(e){e.stop()}).insert(u=new Element("textarea",{class:d?"":"empty"}).observe("focus",function(){if(u.hasClassName("empty")){u.removeClassName("empty");u.value="";l.hide()}}).observe("blur",function(){if(!u.value.strip()){u.addClassName("empty");u.value=e.utl("html.weebly.libraries.weebly_image_gallery_11");l.hide()}}).observe("keyup",function(e){if(!u.value.strip()){l.hide()}else if(l.hasClass("fullImageGalleryCaption")||l.hasClass("partialImageGalleryCaption")){l.show()}a.text(u.value)})).insert(new Element("span",{class:"button-wrap"}).insert(new Element("input",{type:"submit",value:e.utl("html.weebly.libraries.weebly_image_gallery_12"),class:"btn btn-block btn-info"}).observe("click",function(){var e;if(u.hasClassName("empty")){e=""}else{e=N(u.value)}r.attr("_caption",e);T(false,!e);C();m.onChange();if(e){o.addClass("pressed")}else{o.removeClass("pressed")}}))).insert(new Element("span",{class:"button-wrap"}).insert(new Element("input",{type:"button",value:e.utl("html.weebly.libraries.weebly_image_gallery_16"),class:"btn btn-block btn-inverse"}).observe("click",function(e){T(false,!r.attr("_caption"));C();if(d.length==0){l.hide()}})));var f=t(document.body);var h=new Element("div",{class:"hover-toolbar hover-toolbar-below",style:"z-index:1000"});h.insert("<div class='hover-toolbar-arrow hover-toolbar-arrow-centered'></div>");h.insert(c);f.append(h);m.currentCaptionForm=h;var p=t(f).offset();var g=t(o).offset();var w=t(o).outerWidth();var y=t(o).outerHeight();var _=t(h).outerWidth();t(h).css({top:g.top+y-p.top,left:g.left+w/2-_/2-(p.left-f[0].scrollLeft)});u.value=d?M(d):e.utl("html.weebly.libraries.weebly_image_gallery_7")};var E=function(e,t){if(t===undefined){if(w){t=!w.find("img").attr("alt")}}if(y){y.remove();y=null}if(v&&v.length){if(t){v.removeClass("pressed")}v=null}if(!e&&w){w.css({zIndex:5});w=null}};var T=function(e,t){if(t===undefined){if(b){t=!b.find("img").attr("_caption")}}if(m.currentCaptionForm){b.find(".galleryCaptionHolderInner .galleryCaptionInnerText").text(i.unescape(b.find("img").attr("_caption")));m.currentCaptionForm.remove();m.currentCaptionForm=null}if(v&&v.length){if(t){v.removeClass("pressed")}v=null}if(!e&&b){b.css({zIndex:5});b=null}};var C=function(){t(".w-gallery-toolbar.hover-toolbar .hover-toolbar-invisible-layer").hide()};var S=function(){t(".w-gallery-toolbar.hover-toolbar .hover-toolbar-invisible-layer").show()};m.uploadComplete=function(e){var t=A(e);R=false;if(!t.length&&f.inEditorContext()){o.execute("uploadComplete",e)}};m.uploadCancel=function(e){m.clearGalleryLoading(e)};m.uploadError=function(e){m.clearGalleryLoading(e)};function I(e){e.addClass("active-sortable-item").parent().addClass("active-sortable-gallery")}function O(){t(".active-sortable-gallery").removeClass("active-sortable-gallery").children().removeClass("active-sortable-item")}function k(e){var i=t(e.target);var n=i.closest(".image-gallery-list-item");if(!g){g=true}if(!n.length&&(m.tooltips||m.textAreaDialog)&&m.currentElement){O();D();u.generateProperties(e.target.parentNode)}}function x(i){var o,s,a,c;if(!r.chromeless){D();o=t(this).find("img").first();s=o.attr("_link")&&o.attr("_link")!=="";a=o.attr("_caption")&&o.attr("_caption")!=="";c=o.attr("alt")&&o.attr("alt")!=="";var u=o.attr("src").match("/weebly/images/")||o.attr("src").match("/images/editor/elements");if(!u){l.vent.trigger("element:options:dialog:close");
m.tooltips=new h({collection:new n.Collection([{name:"link",label:e.utl("html.weebly.libraries.weebly_image_gallery_13","Attach a hyperlink to image"),callback:"addImageGalleryLink",highlighted:s},{name:"caption",label:e.utl("html.weebly.libraries.weebly_image_gallery_14","Attach a caption to image"),callback:"addImageGalleryCaption",highlighted:a},{name:"alt",label:e.utl("html.weebly.libraries.weebly_image_gallery_19"),callback:"addImageGalleryAltText",highlighted:c},{name:"delete",label:e.utl("html.weebly.libraries.weebly_image_gallery_15","Remove image"),callback:"deleteImageGallery"}]),callbacks:{addImageGalleryLink:function(t){t.stopPropagation();e.ImageGallery.chooseThumbnailLink(this.options.$targetEl);this.trigger("tooltips:close")},addImageGalleryCaption:function(t){e.ImageGallery.chooseThumbnailCaption(this.options.$targetEl);this.trigger("tooltips:close")},addImageGalleryAltText:function(){e.ImageGallery.chooseThumbnailAltText(this.options.$targetEl);this.trigger("tooltips:close")},deleteImageGallery:function(t){e.ImageGallery.removeNode(this.options.$targetEl);this.trigger("tooltips:close")}},$targetEl:t(this)});m.tooltips.listenTo(l.vent,{"editor:elements:unselect":function(){this.close()}});l.elementSettings.show(m.tooltips)}}}function D(){if(m.tooltips){l.elementSettings.close();m.tooltips=null}if(m.textAreaDialog){m.textAreaDialog.close();m.textAreaDialog=null}}var R=false;m.drawGalleryLoading=function(e){R=true;var t=A(e);if(t.length){var i=P();var n=t.find("li:last").first();if(n){n.after(i)}else{t.prepend(i)}}else if(f.inEditorContext()){o.execute("drawGalleryLoading",e)}};m.clearGalleryLoading=function(e){R=false;var t=A(e);if(t.length){t.find("li.gallery-loading").remove()}else if(f.inEditorContext()){o.execute("clearGalleryLoading",e)}};function P(){return"<li class='gallery-loading' style='position:absolute;top:0;left:0;height:100%;width:100%;z-index:5;'></li>"}function A(e){var i=m.currentElement||e;return t("#"+i+"-gallery")}function N(e){return i.escape(e)}function M(e){return i.unescape(e)}e.ImageGallery={Version:"0.1",Author:"David Rusenko",Company:"Weebly, Inc.",currentElement:m.currentElement,isSorting:m.isSorting,init:m.init,destroy:m.destroy,setCurrent:m.setCurrent,onChange:m.onChange,update:m.update,_update:m._update,removeNode:m.removeNode,chooseThumbnailLink:m.chooseThumbnailLink,setLink:m.setLink,chooseLegacyThumbnailCaption:m.chooseLegacyThumbnailCaption,chooseLegacyThumbnailAltText:m.chooseLegacyThumbnailAltText,chooseThumbnailCaption:m.chooseThumbnailCaption,chooseThumbnailAltText:m.chooseThumbnailAltText,uploadComplete:m.uploadComplete,uploadCancel:m.uploadCancel,uploadError:m.uploadError};window.clearGalleryLoading=m.clearGalleryLoading;window.drawGalleryLoading=m.drawGalleryLoading;o.commands.setHandlers({clearGalleryLoading:m.clearGalleryLoading,drawGalleryLoading:m.drawGalleryLoading,uploadComplete:m.uploadComplete});return m}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(47),i(255),i(401)],r=function(e,t,i,n,r,o,s){var a=i.Marionette.ItemView.extend({events:{"drop.uploader-view":"onDrop","dragover.uploader-view":"onDragover","dragleave.uploader-view":"onDragleave","change.uploader-view .w-upload-input":"onChangeFile"},_uploadOpts:{target:".w-upload-target",url:"/weebly/fileUpload.php",multipleFiles:false,maxFileSize:Number.MAX_VALUE,type:"all",params:{}},_mimeTypes:{all:{description:_W.utl("javascript.components.uploader-view.UploaderView_1")},image:{types:["gif","jpg","jpeg","png","bmp","webp"],description:_W.utl("javascript.components.uploader-view.UploaderView_2"),accept:"image/*"},zip:{types:["zip"],description:_W.utl("javascript.components.uploader-view.UploaderView_3")},audio:{types:["mp3"],description:_W.utl("javascript.components.uploader-view.UploaderView_4"),accept:"audio/*"},video:{notTypes:["wlmp","htm","exe","mp3","tch1","swmm","pptx","html","docx","url","mht","hive","bloc","wma","ppt","pdf","ifo","zip","doc","bup","wp3","key","wpl","proj","atch","wav","xspf","fla","prel","tch2","jpg","jpeg","gif","png"],description:_W.utl("javascript.components.uploader-view.UploaderView_5"),accept:"video/*"},flash:{types:["swf"],description:_W.utl("javascript.components.uploader-view.UploaderView_8"),accept:"application/x-shockwave-flash"},html:{types:["html"],description:_W.utl("javascript.components.uploader-view.UploaderView_9")},tpl:{types:["tpl"],description:_W.utl("javascript.components.uploader-view.UploaderView_12")},less:{types:["less"],description:_W.utl("javascript.components.uploader-view.UploaderView_11")},doc:{types:["doc","docx","ppt","pptx","pps","xls","xlsx","pdf","ps","odt","odp","ods"],description:_W.utl("javascript.components.uploader-view.UploaderView_13")}},addAcceptedFileExtension:function(t,i){this._mimeTypes=e.extend(true,{},this._mimeTypes);if(!i){i=this.uploadOpts.type}var n=this._mimeTypes[i];if(!n.types){n.types=[]}n.types.push(t)},getAccept:function(){var e=this._mimeTypes[this.uploadOpts.type.toLowerCase()];return t.difference(e.types||[],e.notTypes||[]).reduce(function(e,t){return"."+t+","+e},e.accept||"")},validFileType:function(e){var i=this._mimeTypes[this.uploadOpts.type.toLowerCase()];var n=i.notTypes||[];var r=t.difference(i.types||[],n);var o=e.slice(e.lastIndexOf(".")+1).toLowerCase();if(r.length){return r.indexOf(o)!==-1}if(n.length){return n.indexOf(o)===-1}return true},initialize:function(e){this.uploadOpts=t.extend({},this._uploadOpts,e.uploadOptions);if(!this.template&&this.$el&&this.$el.length){this.template=this.$el.html()}return i.Marionette.ItemView.prototype.initialize.apply(this,arguments)},onRender:function(){var e=this.$el.find(this.uploadOpts.target);if(!e.length){throw"UploaderView - target not found: "+this.uploadOpts.target}if(e[0].nodeName.toLowerCase()==="button"){throw"UploaderView - a button cannot be used as target, Firefox does not support this"}var t=n.render(s,{multiple:this.uploadOpts.multipleFiles,accept:this.getAccept()});e.addClass("w-upload-button").append(t)},reset:function(){var e=this.$el.find(this.uploadOpts.target);e.removeClass("w-upload-button");var t=this.serializeData();t=this.mixinTemplateHelpers(t);var n=this.getTemplate();var r=i.Marionette.Renderer.render(n,t);this.$el.html(r);this.stopListening();this.undelegateEvents()},onShow:function(){},setUploadOptions:function(t){e.extend(true,this.uploadOpts,t);return this.render()},setPostParameters:function(e){this.uploadOpts.params=e},onChangeFile:function(t){var i=t.target.files;var r=n.render(s,{multiple:this.uploadOpts.multipleFiles,accept:this.getAccept()});this.upload(i);e(t.target).replaceWith(r)},onDragleave:function(e){e.preventDefault();e.stopPropagation();this.$el.removeClass("upload-view-drag")},onDragover:function(e){r.setDropEffect(e);this.$el.addClass("upload-view-drag");e.preventDefault();e.stopPropagation()},onDrop:function(e){var t=e.originalEvent.dataTransfer.files;e.preventDefault();e.stopPropagation();this.$el.removeClass("upload-view-drag");this.upload(t)},upload:function(e){if(!this.uploadOpts.multipleFiles&&e.length>1){this.trigger("error:multiple",this.uploadOpts);return}var t=new o({parameters:this.uploadOpts.params,action:this.uploadOpts.url,error:u.bind(this,this.uploadOpts),success:c.bind(this,this.uploadOpts),loadstart:l.bind(this,this.uploadOpts),abort:d.bind(this,this.uploadOpts)});var i=[];for(var n=0;n<e.length;n++){if(!this.validFileType(e[n].name)){this.trigger("error:type",this.uploadOpts);continue}if(!e[n].size>this.uploadOpts.maxFileSize){this.trigger("error:size",this.uploadOpts);continue}i.push({Filedata:e[n],Filename:e[n].name})}t.send(i)},onUploadLoadstart:function(){},onUploadSuccess:function(){},onUploadError:function(){},onUploadAbort:function(){},onUploadComplete:function(){}});function l(e){this.onUploadLoadstart(e);this.trigger("start",e)}function c(e,t){var i=t.responseText;try{i=JSON.parse(i)}catch(e){}this.onUploadSuccess(i,e);this.trigger("success",i,e);f.call(this,e,i)}function u(e,t){var i="";if(t){i=t.responseText;try{i=JSON.parse(i)}catch(e){}}this.onUploadError(i,e);this.trigger("error",i,e);f.call(this,e,i)}function d(e){this.onUploadAbort(e);this.trigger("abort",e);f.call(this,e)}function f(e,t){this.onUploadComplete(t,e);this.trigger("complete",t,e)}a.extend=function(e){var n=i.Marionette.ItemView.extend.apply(this,arguments),r=t.result(e,"events")||e.events;n.prototype.events=t.extend({},this.prototype.events,r);return n};return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){var e={};e.isUsingGlyphIcons=function(e){return e.tmpSocialIconFont||e["glyph-icons"]};e.consolidateBadgeOrder=function(e,t){e=e||[];t=t||[];var i=[].concat(e);for(var n=0;n<t.length;n++){if(i.indexOf(t[n])===-1){i.push(t[n])}}return i};e.convertBadgeData=function(e,t){var i;e=e||{};for(i in t){if(!e[i]){e[i]={url:undefined,active:false}}else if(typeof e[i]!=="object"){if(e[i]===true){e[i]={url:true,active:true}}else{e[i]={url:e[i].length?e[i].replace(/^\w+:\/\//,""):undefined,active:e[i].length?true:false}}}}if(e["undefined"])delete e["undefined"];return e};return e}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n;!(n=function(){function e(){this.events={};this.logging=false}e.prototype={fireEvent:function(e){var t=this.events[e];this.log(e,"firing",[t]);if(!t){return this}var i=Array.from(arguments);i.shift();for(var n=t.length-1;n>=0;n--){var r=t[n],o=r.$event;this.log(e,"calling",[r,o]);r.apply(o.bind,i.concat(o.args));if(o.once)this.removeListener(e,r)}return this},addListener:function(e,t){if(typeof t=="function")t={func:t};if(!t||typeof t.func!="function")return this;this.log(e,"adding listener",[e,t]);var i={};i.args=Array.isArray(t.args)?Array.from(t.args):[];i.bind=t.bind||null;i.once=t.once||false;var n=t.func;n.$event=i;if(t.removeOn){n=this.wrapListenerRemoval(e,n,t.removeOn)}this.events[e]=this.events[e]||[];this.events[e].push(n);return this},removeListener:function(e,t){this.log(e,"removing listener",[t]);var i=this.events[e];if(!i)return this;var n=i.indexOf(t);if(n==-1)return this;var t=i[n];var r=t.$event;if(r.removeOn){this.removeListener(r.removeOn[0],r.removeOn[1])}i.splice(n,1);return this},wrapListenerRemoval:function(e,t,i){this.log(e,"wrapping removal",[t,i]);var n=this;var r=function(){n.removeListener(e,t)};this.addListener(i,r);t.$event.removeOn=[i,r];return t},log:function(e,t,i){if(!this.logging)return;console.log(e+": "+t,i||[])}};return e}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){var n,r;!(n=[i(274)],r=function(e){var t=Class.create(e,{WINDOW_WIDTH:650,WINDOW_HEIGHT:500,CALLBACK_PREFIX:"weebly_twitter_auth_cb_",POPUP_URL:"/editor/twitter_auth.php?cb={callback}&{params}"});return t}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(2),i(70),i(29),i(18),i(6),i(106),i(105),i(352),i(7),i(104),i(50),i(14),i(22)],r=function(e,t,i,n,r,o,s,a,l,c,u,d){var f={};var h=function(e,i,o,a){new window.Ajax.Request(c.ajax,{parameters:o,onSuccess:function(f){var p;try{p=JSON.parse(f.responseText)}catch(e){c.errFunc();return}if(p.switchNoSections){u.confirm({parent:"#orbitDialogContainer",isTop:false,title:_W.utl("javascript.editor.build.themes.switch_no_sections_title"),message:_W.utl("javascript.editor.build.themes.switch_no_sections_message"),cancelButton:{text:_W.utl("javascript.editor.build.themes.switch_no_sections_cancel")},proceedButton:{text:_W.utl("javascript.editor.build.themes.switch_no_sections_confirm")}}).done(function(){o.is_forced=true;h(e,i,o,a)})}else{Weebly.Editor.RPC.Page.getPageHierarchy().done(function(e){var t=e.data;if(t&&t.length>0){d.reset(t)}l.execute("pages:sync",d.toJSON())}).always(function(){l.trigger("changeTheme");r.vent.trigger("forceThemeRerender");r.vent.trigger("clearMobileSettingsCache");if(window.currentTheme===e&&i){l.execute("analytics:track:event",{object_category:"site",action:"change",object_instance:t.site&&t.site.site_id,property:"design_setting",value:"color"})}else if(window.currentTheme!==e){l.execute("analytics:track:event",{object_category:"site",action:"change",object_instance:t.site&&t.site.site_id,property:"design_setting",value:"theme"})}if(p.mobileSettings){n.setCurrentTheme(p.mobileSettings.mobile_theme,true)}n.setCurrentTheme(p.theme,false);n.setCurrentThemeColor(p.themeColor);window.updateList(currentPage,true);if(p.designOptions){s.setDesignOptions(p.designOptions)}s.applyDesignOptions();if(a){a()}})}},onFailure:c.errFunc})};f.changeTheme=function(e,t,i,n,r,o){var s={pos:"settheme",keys:e,color:t||"",cookie:document.cookie,token:Weebly.RequestToken,merchSiteId:r,verticalId:o};if(i){s.favorite=1}h(e,t,s,n)};f.getAreaSummary=function(e,t){var n=o.getPageType(e,t,i.isMobileView);var r=t.page_type_templates[n];return r.area_summary};l.commands.setHandlers({"theme:light:set":function(e){new window.Ajax.Request(c.ajax,{parameters:{pos:"set_theme_light",theme:currentTheme,layout:window.currentPageType,is_light:e,token:Weebly.RequestToken}})},"theme:upgrading":function(e){a.processThemeData(e)}});e.extend(window,f);return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(6),i(7),i(139),i(14),i(104),i(17),i(22)],r=function(e,t,i,n,r,o,s,a,l){var c={hideTitle:0};c.updatePageData=function(e){s.reset(e);r.execute("theme:renderTheme")};c.isContentSaving=false;c.saveContent=function(e,t,i,r){n.vent.trigger("editor:saving");c.isContentSaving=true;new window.Ajax.Request(a.ajax,{parameters:{pos:"content",reqid:e,content:t,align:i,cookie:document.cookie,token:Weebly.RequestToken},onSuccess:function(e){if(e.responseText.isJSON()){var t=e.responseText.evalJSON();if(!t.result){c.showDeniedAction(t.error)}}if(e.responseText.indexOf("the following problems")>0&&!r){window.showError(e.responseText);window.updateList(window.currentPage)}n.vent.trigger("editor:saved");o.fireEvent("saveContentSuccess",e)},onFailure:function(e){a.errFunc(e);o.fireEvent("saveContentFailure",e)},onComplete:function(e){c.isContentSaving=false;o.fireEvent("saveContentComplete",e)},bgRequest:r})};c.updateSiteTitle=function(i){if(!t.trim(i.replace(/<br[^>]*>/gi,""))){c.hideTitle=true;var n=Weebly.siteContext.getArea("title");var r=Weebly.siteContext.getArea("logo");if(n){n.rerender()}if(r){r.rerender()}}else{window.currentSiteTitle=i;e.Editor.RPC.Site.saveSiteTitle(i)}};i.extend(window,c);return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(123),i(64)],r=function(e,t){var i={bootstrapData:null,abTestCollection:null,getBootstrapData:function(){if(this.bootstrapData){return this.bootstrapData}this.bootstrapData=e("editor/app");return this.bootstrapData},getABTestCollection:function(){if(this.abTestCollection){return this.abTestCollection}this.abTestCollection=(new t).fromBackendData(this.getBootstrapData().ab_test_data);return this.abTestCollection},isCommerceFunnel:function(){return this.getBootstrapData().site.funnel_experience==="ecommerce"},isFunnelTemplateSelected:function(){return!!this.getBootstrapData().site.funnel_template_selected},setFunnelTemplateSelected:function(){this.getBootstrapData().site.funnel_template_selected=true},isInitializedWithoutVertical:function(){return!!this.getBootstrapData().site.initialized_without_vertical},setInitializedWithVertical:function(){this.getBootstrapData().site.initialized_without_vertical=false},hasFinishedOnboardingSteps:function(){return this.getBootstrapData().site.remaining_onboarding_steps===0},setRemainingOnboardingSteps:function(e){this.getBootstrapData().site.remaining_onboarding_steps=e},isNonCommerce3User:function(){return!!this.getBootstrapData().user.non_commerce_3},hasUserSelectedTheme:function(){return!!this.getBootstrapData().site.has_user_selected_theme},setHasUserSelectedTheme:function(){this.getBootstrapData().site.has_user_selected_theme=true}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(7),i(272)],r=function(e,t){var i=t.extend({onChange:function(){e.execute("headerSection:set:properties",this.id,this.toJSON())},clear:function(){var e=this.get("setting");var t=this.getTargetType(window.currentPageKind,window.currentPage);var i=this.getTargetId(window.currentPageKind,window.currentPage);return Weebly.Section.RPC.HeaderSection.clear(t,i)},sync:function(e,t,i){return Weebly.Section.RPC.HeaderSection.saveHeaderSection(t.get("target_id"),t.get("target_type"),t.toJSON()).done(function(e){t.set(e);t.trigger("sync",t);return t})}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(11),i(7),i(13),i(90),i(35),i(551),i(550),i(289),i(192),i(291),i(142),i(297),i(288),i(298),i(191),i(295),i(294),i(287),i(290),i(296),i(190),i(293),i(557),i(292)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E,T,C,S,I){var O=i.Marionette.CompositeView.extend({itemView:u,template:false,initialize:function(){this.listenTo(n.vent,{"element:options:dialog:close":function(){if(this.container&&this.container.close){this.container.close();this.close()}}.bind(this)});n.reqres.setHandlers({"element:options:dialog:get:current":function(){return this.container}.bind(this),"element:options:dialog:get:element":function(){return t(this.options.element)}.bind(this)})},initGroups:function(){var e=this;e.sublabelTypes=["radio","select","color"];e.actionPanes=[];e.processPropertyData();e.renderPanes()},processPropertyData:function(){var t=this,i=0;t.collection.models=t.collection.map(function(n){var r=function(n,r){var o,l,O,k={string:d,int:f,checkbox:v,text:p,color:m,toggle:g,select:h,slider:w,radio:b,align:y,hidden:_,group:u,sublabel:E,button:T,social:S,optionItems:C,link:I};if(n["hidden"]){return}t.hasSettings=true;r=e.filter(r,function(e){return!e["hidden"]&&!e["detached"]});O=r?r.length:0;if(n["type"]==="group"||e.contains(t.sublabelTypes,n["type"])&&O>1||n["type"]==="button"&&n["action"]==="social"||n["type"]==="optionItems"){n["actionPaneIndex"]=i;i++;l=new s(n);if(n["action"]==="social"){o=k["social"]}else{o=k[n["type"]]}itemView=new o({model:l,collection:t.collection});t.listenTo(l,"change",function(e){a.setPropertyByKey(t.collection,"actionPaneIndex",e.get("actionPaneIndex"),e.get("value"))});itemView["dialogOptions"]={title:_W.utl(n["label"]),backLink:{isDirectional:true}};if(n["forwardLink"]){itemView["dialogOptions"]["forwardLink"]=_W.utl(n["forwardLink"])}t.actionPanes.push(new c(itemView,{contentCollection:t.collection,actionPanes:t.actionPanes}));if(n["values"]){e.each(n["values"],function(e){var n=e["trigger"],r,o;if(n){e["actionPaneIndex"]=i;i++;n["isTrigger"]=true;o=k[n["type"]];r=new o({model:new s(n),collection:t.collection});r["dialogOptions"]={title:_W.utl(n["label"]),backLink:{isDirectional:true,text:""}};t.actionPanes.push(new c(r,{contentCollection:t.collection,actionPanes:t.actionPanes}))}})}}};a.propertyIterator(n,r);return n});t.initialPane=new l({collection:t.collection,description:t.options.description})},renderPanes:function(){var e=this,i,n=t("#"+e.options.element.id);e.initialPane.dialogOptions={title:e.options.name||_W.utl("javascript.element.editor.view.settings.BaseElementOptionsView_1"),backLink:false,hasContentPadding:false};if(e.externalView){if(e.displayIframe()){e.openSettingsIframe();return}e.initialPane.onRender=function(){e.externalView.delegateEvents();this.$itemViewContainer.prepend(e.externalView.render().el)}}i=new c(e.initialPane,{contentCollection:e.collection,actionPanes:e.actionPanes});if(e.collection.models[0]&&e.collection.models[0].get("action")==="social"&&Weebly.Elements.isSingleArea(e.options.element)){var r=e.actionPanes[0];r.options.backLink.isDirectional=false;i=r;n=n.find(".wsite-social")}e.container=new o({outerClassName:"dialog-option-tip",panels:[i],size:"small",width:350,height:350,pointAt:n,allowLeftRight:false,preferBottom:true,isDraggable:true});e.container.open({parent:"#elementSettingsWrapper"})},onClose:function(){n.reqres.removeHandlers(["element:options:dialog:get:current","element:options:dialog:get:element"])}},{isElementSettingsOpen:function(){return t("#elementSettingsWrapper").find(".dialog").length>0}});return O}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(3),i(2),i(11),i(7),i(108),i(5),i(34),i(35),i(10),i(78),i(712)],r=function(e,t,i,n,r,o,s,e,a,l,c,u,d){var f=a.extend({template:i.compile(d),events:{"click .js-button":"clickHandler"},templateHelpers:function(){var t=this;var n=t.model.get("external");var r=t.model.get("customHTML")||"";var o=n?n["label"]:t.model.get("label");return{isExternal:t.isExternal,label:e.utl(o),showBadge:this.showBadge,badgeLabel:this.showBadge?e.utl(this.badgeLabel):"",customHTML:i.render(r,t.model.toJSON()),actionPaneIndex:typeof t.model.get("actionPaneIndex")!=="undefined"?t.model.get("actionPaneIndex").toString():""}},initialize:function(i){if(e.Elements.uproperty.eid===c.PRODUCT_ELEMENT_ID&&!e.Permissions.store_edit&&this.model.get("name")==="editProduct"){this.$el.hide()}a.prototype.initialize.call(this);this.peid=i.peid;this.isExternal=i.isExternal;this.$currentElement=t(e.Elements.currentElement);var n=this.model.get("badge");this.showBadge=Boolean(n);if(this.showBadge){this.badgeLabel=n.label;if(n.userEvent){this.showBadge=false;o.request("userEvent:hasDoneUserEvent",n.userEvent).done(function(e){if(n.userEventValue===e){this.showBadge=true;if(this._isRendered){this.render()}}}.bind(this))}}},onRender:function(){a.prototype.onRender.call(this);if(this.model.get("isFlash")){this.$el.addClass("uploadLink")}},clickHandler:function(e){if(typeof this.model.get("actionPaneIndex")!=="undefined"||t==="social"){return}e.stopPropagation();if(this.isExternal){this.openExternalFrame()}else{var t=this.model.get("action");if(t){var i=this.parseArguments();this.doAction(t,i)}}if(this.model.get("closeOnClick")){r.vent.trigger("element:options:dialog:close")}},parseArguments:function(){var t=[];n.each(this.model.get("arguments"),function(i){var n=this.model.get(i);var r;if(typeof n!=="undefined"){r=n}else if(i==="%%ELEMENTID%%"){r=this.$currentElement.attr("id")}else if(i.toString().match(/<!.*!>\|value$/)){var o=i.split("|")[0];var s=e.Elements.getPropertyByReference(o);var a=l.getPropertyByKey(this.collection||this.model.collection,"cfpid",s.cfpid)||s.property_result;r=a}else if(i.toString().match(/^<!.*!>$/)){r=e.Elements.getPropertyByReference(i).ucfpid}else{r=i}t.push(r)}.bind(this));return t},openExternalFrame:function(){if(!this.options.parentView){return}this.options.parentView.openSettingsIframe()},doAction:function(e,t){var i=window;if(e==="module"){var r=this.model.get("module");if(!r)return;var a=this.model.get("moduleFunction");var l=r==="relay"?o:window;switch(r){case"relay":o[a].apply(l,t);break;case"beacon":s[a].apply(l,[t.shift(),this.$currentElement,t]);break;case"imageEditor":u[a].apply(l,t);break}}else{if(n.isArray(e)){n.each(e,function(e){i=i[e]});i.apply(window,t)}else{window[e].apply(window,t)}}}});return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(34),i(713),i(57)],r=function(e,t,i,n){var r=i.extend({template:t.compile(n),events:{"change @ui.input":"saveValue","click @ui.inputContainer":"saveValue"},ui:{input:"input",inputContainer:".w-checkbox-container"},templateHelpers:function(){var e=this,t=e.model.get("label");return{checked:function(){return e.getParsedValueFromModel()?'checked="checked"':""},label:_W.utl(t)}},getParsedValueFromModel:function(){var e=this.model.get("default")||false;var t=typeof this.model.get("value")==="undefined"||this.model.get("value")===null;var i=t?e:this.model.get("value");if(typeof i==="boolean"){return i}else if(i==="true"||i==="false"){return JSON.parse(i)}else if(isNaN(parseInt(i))){if(i==="form-required"||i==="form-not-required"){return i==="form-required"?true:false}else if(i==="yes"||i==="no"){return i==="yes"?true:false}else if(i.indexOf("weebly-image-full")>-1){return true}else if(i.indexOf("http")>-1){return false}else if(i==="<a>"){return false}}else{return JSON.parse(i)}},onRender:function(e){var t=i.prototype.onRender.call(this);if(!e){this.ui.input.wCheckbox();this.bindUIElements()}return t},getValue:function(){return this.ui.input.is(":checked")}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(2),i(3),i(10),i(77),i(34),i(414),i(726)],r=function(e,t,i,n,r,o,s,a){var l=o.extend({template:i.compile(a),events:{"blur @ui.input":"blurHandler","keyup @ui.input":"handleKeyPress"},ui:{input:"input",remaining:".remaining"},initialize:function(){var e=this;s.initialize()},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("tooltip");return{value:function(){return e.getTextValueFromModel()},remaining:function(){var t=parseInt(e.model.get("max"),10);if(t){return t-(e.model.get("value")||"").length}else{return false}},show_limits:function(){return!!(e.model.get("min")||e.model.get("max"))},label:r.truncateLabel(_W.utl(t)),tooltip:r.formTooltip(_W.utl(t),i)}},onRender:function(){o.prototype.onRender.call(this);if(this.model.get("legacy")===true){return}if(this.ui.input.val()&&this.ui.input.prop("tagName")==="INPUT"){setTimeout(function(){s.updatePlaceholder(this.ui.input)}.bind(this),500)}},blurHandler:function(e){var t=this;if(t.getTextValueFromModel()!==t.ui.input.val()){t.saveValue()}},handleKeyPress:function(e){this.updateCharacterCount(e);this.$el.removeClass("invalid")},updateCharacterCount:function(e){var t=parseInt(this.model.get("max"),10);if(t){var i=t-this.ui.input.val().length;if(i<0){this.ui.input.val(this.ui.input.val().slice(0,t))}else{this.ui.remaining.text(i)}}},getValue:function(){var e=this.ui.input.val();if(this.isStoredAsHtml()){e=t.escape(e)}return e},isValid:function(){var e=this.getValue(),t=this.model.get("max"),i=this.model.get("min"),n=true;if(i!=null&&i!=undefined&&e.length<i){n=false}if(t!=null&&t!=undefined&&e.length>t){n=false}return n},isStoredAsHtml:function(){return this.model&&this.model.get("cfpid")===n.BUTTON_ELEMENT_ID},convertLinesToSpaces:function(e){return e.replace(/(\<br\s?\/?\>)/g," ")},getTextValueFromModel:function(){var e=this,i=e.model.get("value"),n;if(i&&e.isStoredAsHtml()){n=t.unescape(e.convertLinesToSpaces(i))}else{i=i||e.model.get("default")||""}return n||i}});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(6),i(559),i(560)],r=function(e,t,i,n){var r=function(){var e={};e.open=function(e){var r=t.site.get("is_eligible_for_free_trial")?_W.utl("javascript.free-trial.dialogs.PremiumElementDialogService_3"):_W.utl("javascript.free-trial.dialogs.PremiumElementDialogService_2");var o=new i.Panel({title:r,content:new n({elementId:e})});var s=new i({panels:[o]});t.trackEditorEvent({object_category:"legacy_element",action:"add_attempt",object_instance:e,property:"self"});s.open()};return{open:e.open}}();return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(7),i(573),i(50),i(10),i(766)],r=function(e,t,i,n,r,o,s,a){var l=i.Marionette.ItemView.extend({shouldShowNewLabels:false,className:"section-controller-container",template:a,ui:{edit:".section-edit",delete:".section-delete",clear:".section-clear",move:".section-move",addLayout:".section-add-layout",changeLayout:".section-change-layout"},events:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.clear":"clear","click @ui.move":"move","click @ui.addLayout":"addLayout","click @ui.changeLayout":"changeLayout"},templateHelpers:function(){return{prefer_bottom:this.options.preferBottom,show_edit:this.options.showEdit,show_delete:this.options.showDelete,show_clear:this.options.showClear,show_move:this.options.showMove,show_add_layout:this.options.showAddLayout&&!this.options.isHeaderSection,show_add_header_layout:this.options.showAddLayout&&this.options.isHeaderSection,show_change_header_layout:this.options.showChangeLayout&&this.options.isHeaderSection}},initialize:function(e){this.options=t.defaults(e||{},{showEdit:true,showDelete:true,showClear:false,showMove:true,showAddLayout:false,showChangeLayout:true,forceRepositionAbove:false,forceRepositionBelow:false,isSectionEmpty:true});this.determineIfShouldShowNewLabelsInEditDialog()},hide:function(){this.$el.hide()},show:function(){this.$el.show()},reposition:function(e,i,n){var r=e.offset();var o=e.height();var s=e.outerWidth();i=t.isUndefined(i)?this.options.forceRepositionBelow:i;n=t.isUndefined(n)?this.options.forceRepositionAbove:n;if(t.isEqual(this.previousOffset,r)&&this.previousHeight===o&&this.previousOuterWidth===s&&this.previousForceBelow===i&&this.previousForceAbove===n){return}this.previousOffset=r;this.previousHeight=o;this.previousOuterWidth=s;this.previousForceBelow=i;this.previousForceAbove=n;var a=true;if(i){a=false}var l=this.$el.offsetParent().offset().top;var c=r.top-this.constructor.CONTROL_HEIGHT-l;if(!a||!n&&c<0){a=false;c+=this.constructor.CONTROL_HEIGHT+e.height()+this.constructor.CONTROL_ARROW_HEIGHT}this.options.preferTop=a;this.options.preferBottom=!a;this.render();this.$el.css({top:c,left:r.left+e.outerWidth()/2})},onClose:function(){t.result(this.confirm,"close");t.result(this.editDialog,"close");t.result(this.moveCopyDialog,"close")},edit:function(){var t=e(this.model.generateSelector());var i=t.closest("."+s.SECTION_WRAP_NAME);this.hide();this.editDialog=new r({section:this.model,$sectionEl:t,pointAt:i,preferTop:this.options.preferTop,preferBottom:this.options.preferBottom,showAlignment:!this.options.isSectionEmpty,isHeaderSection:this.options.isHeaderSection,showSaveToPages:this.options.isHeaderSection,fallbackAlignment:this.options.fallbackAlignment,baseSetting:this.options.baseSetting,showNewLabels:this.shouldShowNewLabels});if(this.shouldShowNewLabels){n.execute("user:doEvent","seen_edit_background_dialog_tip")}this.listenTo(this.editDialog,{all:function(){this.trigger.apply(this,arguments)},"before:destroy":function(){this.show()}})},determineIfShouldShowNewLabelsInEditDialog:function(){n.request("user:hasDoneEvent","seen_edit_background_dialog_tip").done(function(e){this.shouldShowNewLabels=!e}.bind(this))},shiftUp:function(){this.trigger("section:control:shift",this.model.id,-1)},shiftDown:function(){this.trigger("section:control:shift",this.model.id,1)},delete:function(){this.trigger("section:control:remove",this.model.id)},clear:function(){this.trigger("section:control:clear",this.model.id)},applyStyle:function(){this.trigger("section:control:style:apply",this.model.id);this.trigger("section:applyStyle",this.model.id)},move:function(){this.trigger("section:control:move",this.model.id)},addLayout:function(){this.trigger("section:control:layout:add",this.model.id)},changeLayout:function(){this.trigger("section:control:layout:change",this.model.id)},move:function(){this.trigger("section:control:move",this.model.id)}},{CONTROL_HEIGHT:50,CONTROL_ARROW_HEIGHT:15});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(3),i(12),i(2),i(14),i(1),i(85),i(248)],r=function(e,t,n,r,o,s){window.getCartCount=function(){var e=le()?0:"-";return e};var a=null;window.getCartNavElement=function(){return a};window.reportCartNavElement=function(){return};var l;var c;function u(){if(le()){if(!l){l=i(7);c=i(46)}return true}return false}var d;var f;var h;var p=window.STYLE_PREFIX||"weebly";var m;var g=300;var v=p+"-nav-handle";var w=p+"-nav-";var b=p+"-menu-default";var y=p+"-menu-item-wrap";var _=p+"-menu-item";var E=p+"-menu-wrap";var T=p+"-menu";var C=p+"-menu-subitem-wrap";var S=p+"-menu-subitem";var I=p+"-nav-current";var O=p+"-menus";var k=p+"-nav-more-a";var x=p+"-nav-more";var D=p+"-nav-cart-a";var R=p+"-nav-cart";var P=p+"-nav-cart-num";var A=p+"-nav-login-a";function N(e){var t=e.closest("."+b);if(t.length){return t}return e.parent()}function M(e){var t=e.find("."+_);if(t.length){return t}return e.find("a").first()}function L(e){var t=e.find("."+y);if(t.length){return t}t=e.find("."+v);if(t.length){return t}return e.find("li")}function B(e){var t=e.closest("."+E);
if(t.length){return t}return e.parent()}function K(e){return e.find("."+E).first()}function F(e){var t=e.find("."+C);if(t.length){return t}return e.find("li")}function H(e){var t=e.find("."+S);if(t.length){return t}return e.find("a")}window.initPublishedFlyoutMenus=function(e,t,i,n,r,o,a){h=t;m=a;ae(o);d=te();if(e.length>0){var l=function(){f=n;var t=s("<div>",{id:O}).appendTo("body");var i=X(e[0].id);if(i){window.navFlyoutMenu=new window.FlyoutMenu(N(i),{relocate:t,aLiId:n});W(e)}else if(e[0].isCart){var r=s("."+b);if(r.length){window.navFlyoutMenu=new window.FlyoutMenu(r[0],{relocate:t,aLiId:n})}W(e)}};if(r){l()}else{Q(l)}}window.refreshPublishedFlyoutMenus=function(){W(e)};s(".wsite-logo img").on("load",window.refreshPublishedFlyoutMenus);s(window).on("load",window.refreshPublishedFlyoutMenus)};window.flyoutMenusRefreshable=true;window.initEditorFlyoutMenus=function(e,t){f=e;m=t;ae(t.templates);Q(function(){t();function t(){var t=getTopLevelSummary();if(t.length>0){var i=X(t[0].id);if(i){var n=N(i);if(!n.is("table,tbody,thead,tr")){window.navFlyoutMenu=new window.FlyoutMenu(n,{relocate:"#"+O,aLiId:e});d=te();W(t)}else{window.navFlyoutMenu=null}}else if(t[0].isCart){var r=s("."+b);if(r.length){window.navFlyoutMenu=new window.FlyoutMenu(r[0],{relocate:"#"+O,aLiId:e})}W(t)}else{window.navFlyoutMenu=null}}}})};window.refreshNavCondense=function(t){if(typeof t==="object"){r.extend(e,t)}if(window.navFlyoutMenu&&!(e.view&&e.view.isMobileView)){W(getTopLevelSummary())}};window.disableFlyouts=false;window.FlyoutMenu=function(e,t){var i=this;i.mouseoverItems=[];e=s(e);t=t||{};var n="ontouchstart"in window;var r=(t.delay||.5)*1e3;var o=t.relocate?s(t.relocate):false;var a;function d(e){e.css("position","relative");M(e).add(H(e)).css("position","relative");var a=false;var d=false;var f=false;var h=0;var p=false;var m=false;var v=false;var w;var b;function y(e){if(n&&a){e.preventDefault()}}function _(){if(window.disableFlyouts){return false}i.mouseoverItems.push(e);h++;f=true;if(!d&&!a){if(b){e.data("hasChildren",true);U(e).each(function(e,t){if(t._flyoutmenu_contract){t._flyoutmenu_contract()}});C();e.data("isExpanded",true)}}}function E(){if(window.disableFlyouts){return false}f=false;if(d){var t=h;setTimeout(function(){if(h==t&&d&&!a){S();e.data("isExpanded",false)}},r)}}function T(){if(window.disableFlyouts){return false}h++}function C(){a=true;var i={wrapper:w,duration:g,complete:function(){a=false;d=true;if(!f){S()}else{e[0]._flyoutmenu_contract=S;e[0]._flyoutmenu_hide=function(){a=false;d=false;f=false;e[0]._flyoutmenu_contract=null;e[0]._flyoutmenu_hide=null;w.hide()}}if(u()){var t=s(this);var i=t.offset();l.trigger(c.EVENTS.SUBNAV_SHOWN,{top:i.top,left:i.left,width:t.outerWidth(),height:t.outerHeight()})}}};var n=Y(e);w.css("left",-1e4);w.show();var r=w.offsetParent();var o=r.is("body")?{top:0,left:0}:r.offset();b.show();var h;if(j(e,true,t.aLiId)){p=false;w.css("top",-o.top+n[0].top);h=w.outerWidth();if(n[1].left+h>s("body").outerWidth()){m=false;w.css("left",-o.left+n[0].left-h);i.direction="right";b.show("slide",i)}else{m=true;w.css("left",-o.left+n[1].left);i.direction="left";b.show("slide",i)}}else{p=true;w.css("top",-o.top+n[1].top);h=w.outerWidth();var y=w.outerHeight();if(n[0].left+h>s("body").outerWidth()){w.css("left",-o.left+n[1].left-h)}else{w.css("left",-o.left+n[0].left)}var _;if(e.parentsUntil("body").filter(function(){return s(this).css("position")==="fixed"}).length>0){var E=s(window);_=E.height()+E.scrollTop()}else{_=s(document).height()}var T=parseInt(w.css("top"),10)-y-e.outerHeight();if(n[1].top+y>_&&T>0){w.css("top",T+"px");i.direction="down";v=true}else{i.direction="up";v=false}b.hide();b.show("slide",i)}}function S(t){if(window.disableFlyouts||!e.parent().length){return}if(t){f=false}a=true;e[0]._flyoutmenu_contract=null;e[0]._flyoutmenu_hide=null;var i={wrapper:w,duration:g,complete:function(){a=false;d=false;if(f){C()}if(u()){l.trigger(c.EVENTS.SUBNAV_HIDDEN)}}};if(p){if(v){i.direction="down"}else{i.direction="up"}b.hide("slide",i)}else{if(m){i.direction="left";b.hide("slide",i)}else{i.direction="right";b.hide("slide",i)}}}b=G(e);if(b){w=B(b);w.css("position","absolute");w.hide();if(o){w.on("mouseover",_);w.on("mouseout",E);w.on("click",function(e){y(e)})}else{w.on("mouseover",T);w.on("click",function(e){y(e)})}}e.on("mouseover",_);e.on("mouseout",E);e.on("click",function(e){y(e)});e[0]._flyoutmenu_destroy=function(t){e.off("mouseover",_);e.off("mouseout",E);e.off("click",y);if(w){if(o){w.off("mouseover",_);w.off("mouseout",E);w.off("click",y)}else{w.off("mouseover",T);w.off("click",y)}F(w).each(function(){this._flyoutmenu_destroy()});if(t){w.detach()}var i=w;w=null;b=null;return i}};e[0]._get_sublist=function(){return b}}this.contract=function(){a.each(function(e,t){if(t._flyoutmenu_contract){t._flyoutmenu_contract(true)}})};this.hideSubmenus=function(){a.each(function(e,t){if(t._flyoutmenu_hide){t._flyoutmenu_hide()}})};this.destroy=function(){a.each(function(e,t){if(t._flyoutmenu_destroy){t._flyoutmenu_destroy()}})};this.addItem=function(e){e=s(e);var t=z(e);if(t.length){d(t);var i=G(t);if(i){F(i).each(function(){d(s(this))})}if(o&&i){o.append(B(i))}a=a.add(t);f()}};this.removeItem=function(e){e=s(e);var t=z(e);if(t.length){if(t[0]._flyoutmenu_destroy){t[0]._flyoutmenu_destroy(true)}t.remove();a=a.not(t);f()}};this.getMainList=function(){return e};function f(){var t=1;$(e).each(function(){this.className=this.className.replace(new RegExp(w+"\\d+"),"");var e=s(this);if(e.css("display")!="none"){e.addClass(w+t);t++}})}this.writeOrderingClassNames=f;a=V(e);a.each(function(){d(s(this))});f();if(o){$(e).each(function(e,t){var i=G(s(t));if(i){o.append(B(i))}})}};function W(t){if(!window.navFlyoutMenu){return}var i=window.currentPage||h;var r=window.navFlyoutMenu.getMainList();var l=r.children();var c=s("body").find("#"+A);var u=s("body").find("#"+D);var f=m&&m["hasCustomMembership"];var p=m&&m["hasCustomMinicart"];var g=l.filter(function(){return!!s(this).find("#"+D).length});if(!g.length){g=undefined}var b=window.getCartCount();var y=window.location.host;var _=window.location.pathname;var T=window._W.stl("javascript.cartText")+" (<span id='"+P+"'></span>)";var C;if(y.indexOf(".checkout.weebly.com")>-1||y.indexOf(".checkout.editmysite.com")>-1||_.indexOf("store/checkout")>-1||typeof e=="object"&&e.EDITOR&&!e.COMMERCE_ENABLED||(typeof e!="object"||!e.Commerce||typeof e.Commerce.hasCart!="boolean")||typeof e=="object"&&e.Commerce&&e.Commerce.hasCart===false){if(g){g.remove();l=r.children();window.navFlyoutMenu.writeOrderingClassNames()}}else{if(!g){if(p){u.html(T);g=undefined}else{g=ie(T)}C=p?u:M(g);C.attr("id",D).css("position","relative");if(le()){if(!n.chromeless){C=p?u.parent():z(g);C.attr("data-content",window._W.utl("javascript.editor.cartNotification")).popover({trigger:"hover",placement:"bottom",container:"#_editor-ui",delay:{show:500,hide:100}})}}C=p?u.parent():z(g);C.addClass(R).css("position","relative");a=p?u:g;window.reportCartNavElement();if(!p){r.append(g);l=r.children();window.navFlyoutMenu.writeOrderingClassNames()}}s("#"+P).text(b)}var S;if(g&&p){S=null}else if(g){S=z(g)}var O;if(f){O=s("#"+A)}else{O=l.filter(function(){return!!s(this).find("#"+A).length})}if(!O.length){O=undefined}var N=e.allowMemberRegistration?e.stl("html.weebly.libraries.flyout_menus_jq_7"):e.stl("html.weebly.libraries.flyout_menus_jq_8");var B=o.some(function(e){return e.get("membership_required")});var F=le()&&(B||e.allowMemberRegistration||e.memberCount>0||e.groupCount>0)&&e.showMemberLoginLink;var W=window._W&&e.showLogin;if((F||W)&&!O){O=ie(N);if(le()){O.attr("id","pgmember-login")}else{O.attr("id","member-login")}M(O).attr("id",A);if(f){s(".wsite-custom-membership-wrapper").html(O)}else{if(g&&!p){O.insertBefore(g)}else{r.append(O)}}l=r.children();window.navFlyoutMenu.writeOrderingClassNames()}else if(!F&&!W&&O){O.remove();l=r.children();window.navFlyoutMenu.writeOrderingClassNames()}if(le()){if(O){var j=M(O);j=c.length?c:j;if(c.length){j.text(N)}if(!n.chromeless){j.attr("data-content",e.utl("html.weebly.libraries.flyout_menus_jq_5")).popover({trigger:"hover",placement:"bottom",container:"body",delay:{show:500,hide:100}})}}}if(window.DISABLE_NAV_MORE){return}var $=d?d.clone(true,true):te();var V=l.filter(function(){return!!s(this).find("#"+k).length});if(!V.length){V=undefined}var U=false;if(V){V.hide();U=true}var G;if(U){G=z(V);if(G[0]._flyoutmenu_destroy){G=G[0]._flyoutmenu_destroy(true)}else{var q=L(G)[0];if(q._flyoutmenu_destroy){G=q._flyoutmenu_destroy(true)}}}var J=[];var Q=[];var Z=false;var ee;var re;var se=null;var ae;var ce;for(ae=0;ae<t.length;ae++){ce=X(t[ae].id,r);if(ce){ce.show();J.push(ce)}}if(g){J.push(g)}if(O){J.push(O)}for(ae=0;ae<J.length;ae++){ce=J[ae];var ue=z(ce);var de=Y(ue);if(!ae){}else if(ae==1){ee=Math.abs(de[0].top-Q[0][0].top)>Math.abs(de[0].left-Q[0][0].left);if(ee){re=ue.closest(".wsite-nav-vertical");if(re.length){se=re.offset().top+(parseInt(re.css("padding-top"),10)||0)+re.height()}}}else if(!ee){if(Math.abs(de[0].top-Q[ae-1][0].top)>5){Z=true;break}}else{if(se!==null){if(de[1].top>se){Z=true;break}}}Q.push(de)}var fe=[];var he;var pe;var me;s("body").toggleClass("wsite-nav-condensed",!!Z);if(Z){if(V){V.show()}else{V=$;M(V).attr("id",k).css("position","relative").on("click",false);if(O&&!f){V.insertBefore(O)}else if(g&&!p){V.insertBefore(g)}else{r.append(V)}}var ge=z(V).addClass(x).css("position","relative");var ve=z(J[0]);var we=null;if(O&&!f){we=z(O)}var be=S||we||ge;var ye=J.length-1;if(g){ye--}if(O){ye--}for(ae=ye;ae>=0;ae--){var _e=Y(ve);var Ee=Y(be);if(ee&&Ee[1].top>se||!ee&&Math.abs(_e[0].top-Ee[0].top)>5){J[ae].hide();fe.unshift(ae)}else{break}}if(fe.length===0){V.remove();s("body").removeClass("wsite-nav-condensed")}else if(fe.length==t.length){for(ae=0;ae<fe.length;ae++){var Te=X(t[fe[ae]].id,r);if(Te){Te.show()}}V.remove();s("body").removeClass("wsite-nav-condensed")}else{var Ce=[];var Se;for(var Ie=0;Ie<fe.length;Ie++){he=t[fe[Ie]];if(o.length){he=o.getPage(he.id).toJSON()}he=s.extend({},he);he.title_html=he.title;he.membership_required=he["membership-required"];if(le()){he.url="page://"+he.id}var Oe=X(he.id,r);if(Oe){Se=z(Oe)[0]._get_sublist()}if(!Se&&G){Se=!!G.find("#"+w+he.id+" ."+E).length}if(Se){he.has_children=true;he.children=false}Ce.push(he)}var ke=s(ne(oe("navigation/flyout/list")||oe("menu/submenu-main"),{children:Ce}));if(le()){window.processNavLinks(ke)}H(ke).each(function(){var e=s(this).closest("[id]");var n=e.attr("id");if(!n){return}n=n.replace(/[^\d]/g,"");var o;s.each(t,function(){if(this.id===n){o=this;return false}});if(!o){return}if(e.is("span."+v)){e=e.children();e.unwrap()}pe=w+o.id;e.attr("id",pe);if(pe.replace(/[^\d]/g,"")==i){e.addClass(I)}me=M(e);if(!o.onclick){var a=o.url;if(window.IS_ARCHIVE||a.match(/^http:\/\//)){me.attr("href",a)}else{var l=s(s.map(J,function(e){return e.get()}));var c=M(l.filter("[id*="+n+"]"));var u=c.attr("href");var d=c.data("membership-required");if(u){me.attr("href",u)}else if(!o.nonclickable){me.attr("href","/"+a)}if(typeof d==="number"){me.attr("data-membership-required",""+d)}}if(o.target){me.attr("target",o.target)}}var f;var h=X(o.id,r);if(h){f=z(h)[0]._flyoutmenu_destroy()}if(!f&&G){f=K(G.find("#"+w+o.id));if(!f.length){f=undefined}}if(f){K(e).replaceWith(f)}});ge.append(ke);window.navFlyoutMenu.addItem(ge)}}if(G){for(ae=0;ae<fe[0];ae++){he=t[ae];var xe=X(he.id,r);var De=G.find("#"+w+he.id+" ."+E+":first");if(De.length){if(xe[0]._flyoutmenu_destroy){xe[0]._flyoutmenu_destroy()}xe.append(De);window.navFlyoutMenu.addItem(xe)}}}window.navFlyoutMenu.writeOrderingClassNames()}function j(e,t,i){var n=e.closest("."+b);if(!n.length){n=e.parent();if(n.hasClass(v)){n=n.parent()}}var r=$(n,t,i);if(r.length>=2){var o=r.eq(0).offset();var s=r.eq(1).offset();var a=Math.abs(o.left-s.left)-Math.abs(o.top-s.top);if(a!==0){return a<0}}return!q(e)}function $(e,t,i){var n=e.find("."+y);if(n.length){return n}var n=e.find("."+v);if(n.length){return n}var r=[];e.children().each(function(e,n){var o=s(n);if(!t||o.hasClass(v)||o.hasClass(x)||n.id.match(/^pg/)||i&&n.id==i){var a=z(o);if(a.length){r.push(a[0])}}});return s(r)}function z(e){if(e.hasClass(v)){var t=e.find("."+y).first();if(t.length){e=t}else{e=e.children().first()}}if(!e.hasClass(b)){return e}}function V(e){return L(e).add(F(e))}function U(e){var t=e.closest("."+v).siblings().find("."+y+":first-child");if(t.length){return t}if(e.parent().hasClass(v)){return e.parent().siblings().children(":first-child")}else{return e.siblings()}}function G(e){var t=e.find("."+T).first();if(t.length){return t}t=e.closest("."+C+", ."+y).find("."+T).first();if(t.length){return t}t=e.find("ul").first();if(!t.length){var i=e.next();if(i.hasClass(b)){t=i.children().first()}}if(t.length){return t}}function q(e){return!e.closest("."+T).length}function Y(e){var t=e.is("a")?e:e.find("a");var i=e.offset();var n={top:i.top+e[0].offsetHeight,left:i.left+e[0].offsetWidth};if(!t){return[i,n]}var r=t.offset();var o={top:r.top+t[0].offsetHeight,left:r.left+t[0].offsetWidth};var s,a;if(Math.abs(i.left-n.left)<10){s=r;a=o}else{s={top:Math.min(i.top,r.top),left:Math.min(i.left,r.left)};a={top:Math.max(n.top,o.top),left:Math.max(n.left,o.left)}}return[s,a]}function X(e,t){var i=s("#pg"+e,t);if(!i.length&&f){i=s("#"+f,t)}if(i.length){return i}}function J(){if(le()){for(var e=0;e<document.styleSheets.length;e++){try{if(document.styleSheets[e].title==p+"-theme-css"){var t=document.styleSheets[e];var i=t.cssRules||t.rules;return i&&i.length>0}}catch(e){}}return false}return true}function Q(e){if(J()){e()}else{var t=setInterval(function(){if(J()){clearInterval(t);e()}},200)}}if(!window.whenThemeCSSLoaded){window.whenThemeCSSLoaded=Q}e.Menus={inVerticalList:j};var Z;var ee;function te(){return ie(e.stl("html.weebly.libraries.flyout_menus_jq_6"))}function ie(e){return s(ne(re(),{title_html:e,url:"#",has_children:false}))}function ne(e,i){return t.render(e,i,se())}function re(){if(!ee){ee=oe("navigation/item")||oe("menu/item")}return ee}function oe(e){return se()[e]}function se(){return Z||{}}function ae(e){Z=r.extend({},objectify(e))}window.objectify=function(e){return r.isEmpty(e)?{}:e};function le(){return window.inEditor&&window.inEditor()}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(410),i(408)],r=function(e,t,i,n,r){var o='<div class="product-pagination" data-max-page="{{max_page}}">\n'+'<div class="product-grid__paging clearfix">\n'+'<a class="product-grid__paging--link js-products-prev">\n'+'<span class="product-grid__paging--arrow"></span>\n'+"</a>\n"+'<div class="pagination-wrapper">\n'+'<a class="product-grid__paging--count js-page-num wsite-first" data-page="1">1</a>\n'+"{{#show_head_ellipsis}}\n"+'<span class="pagination-ellipsis"></span>\n'+"{{/show_head_ellipsis}}\n"+"{{#pages}}\n"+'<a class="product-grid__paging--count js-page-num" data-page="{{.}}">{{.}}</a>\n'+"{{/pages}}\n"+"{{#show_tail_ellipsis}}\n"+'<span class="pagination-ellipsis"></span>\n'+"{{/show_tail_ellipsis}}\n"+'<a class="product-grid__paging--count js-page-num wsite-last" data-page="{{max_page}}">{{max_page}}</a>\n'+"</div>\n"+'<a class="product-grid__paging--link product-grid--next js-products-next">\n'+'<span class="product-grid__paging--arrow"></span>\n'+"</a>\n"+"</div>\n"+"</div>";var s={bindSlideshowListener:function(t){var i,n;var r=false;var o=function(e,t,i){var n=e.eq(t%e.length);n.css({marginTop:-1*i,paddingTop:i}).fadeIn(400,function(){e.not(n).hide()})};var s=function(t){var s=0;var a=e(t.currentTarget);var l=a.find(".js-slideshow-img");n=a.clone();r=true;if(l.length>1){var c=a.find(".js-default-img");var u=parseFloat(c.css("paddingTop"));o(l,++s,u);clearInterval(i);i=setInterval(function(){o(l,++s,u)},1e3)}};var a=function(t){if(r){r=false;var o=e(t.currentTarget);o.replaceWith(n);clearInterval(i)}};t.off("mouseenter.slideshow",".product-grid__item").on("mouseenter.slideshow",".product-grid__item",s).off("mouseleave.slideshow",".product-grid__item").on("mouseleave.slideshow",".product-grid__item",a)},listenToPagination:function(e,t,i){var n=e.find(".js-products-prev, .js-products-next");var r=e.find(".js-page-num");n.off("click.arrow").on("click.arrow",function(n){this.onArrowClick(n,e,t,i)}.bind(this));r.off("click.number").on("click.number",function(n){this.onNumberClick(n,e,t,i)}.bind(this))},onArrowClick:function(t,i,n,r){var o=e(t.currentTarget);var s=o.hasClass("js-products-prev")?-1:1;var a=o.siblings(".pagination-wrapper");var l=parseInt(a.children(".wsite-selected").attr("data-page"));var c=l+s;if(c>=1&&c<=n){this.gotoPage(i,c,n,r)}},onNumberClick:function(t,i,n,r){var o=e(t.currentTarget);var s=parseInt(o.attr("data-page"));if(s>=1&&s<=n){this.gotoPage(i,s,n,r)}},gotoPage:function(e,t,i,n){this.renderPagination(e,t,i,n);this.renderPage(e,t,n)},renderPagination:function(e,t,n,r){var s=e.find(".product-pagination");var a=this.getPaginationData(t,n);var l=i.render(o,a);s.replaceWith(l);e.find('a[data-page="'+t+'"]').addClass("wsite-selected");this.listenToPagination(e,n,r)},assignShowMorePagination:function(t,i,n){t.find(".product-grid__more").on("click",function(r){var o=e(r.currentTarget);var s=o.data("current-page");if(s<i&&!o.hasClass("disabled")){o.data("current-page",++s);o.addClass("disabled");this.renderPage(t,s,n)}if(s===i){o.remove()}}.bind(this))},assignRowScrollListener:function(e,i,n){var r=e.find(".product-grid__item");if(r.length===0){return}var o=r.outerWidth(true);var s=e.find(".js-row-wrapper");this.scrollIntervalFired=false;this.scrollInterval=null;e.find(".js-scroll-arrow").off("mousedown touchstart mouseup touchend").on("mousedown touchstart",function(e){this.onSingleRowArrowMousedown(e,s)}.bind(this)).on("mouseup touchend",function(e){this.onSingleArrowMouseUp(e,s,o)}.bind(this));if(i>1){this.singleRowWidth=0;s.off("scroll.singlerow").on("scroll.singlerow",t.throttle(function(t){this.onSingleRowScroll(t,e,i,o,n)}.bind(this),150))}},onSingleRowArrowMousedown:function(t,i){if(t.which===3){return}var n=e(t.currentTarget);var r=n.hasClass("js-scroll-left")?-1:1;this.scrollTimeout=setTimeout(function(){this.scrollInterval=setInterval(function(){this.intervalFired=true;i.animate({scrollLeft:r<0?"-=30":"+=30"},10)}.bind(this),15)}.bind(this),150)},onSingleArrowMouseUp:function(t,i,n){if(t.which===3){return}var r=e(t.currentTarget);var o=r.hasClass("js-scroll-left")?-1:1;if(!this.intervalFired){var s=n;var a=i.scrollLeft()%n;if(a>0){if(o<0){s=a}else{s-=a}}s=Math.ceil(s);i.animate({scrollLeft:o<0?"-="+s+"px":"+="+s+"px"},100)}clearTimeout(this.scrollTimeout);clearInterval(this.scrollInterval);this.intervalFired=false;this.scrollInterval=null},onSingleRowScroll:function(t,i,n,r,o){var s=e(t.currentTarget);if(this.singleRowWidth===0){var a=i.find(".js-row-wrapper").get(0);this.singleRowWidth=a.scrollWidth}if(s.scrollLeft()>this.singleRowWidth-s.width()*2){var l=s.data("current-page");if(l<n){this.renderPage(i,++l,o);s.data("current-page",l);this.singleRowWidth=0}}},initializeMasonry:function(t){var i=t.find(".product-grid-masonry");if(i.length>0){if(i.data("masonry")){i.masonry("destroy")}if(!e.fn.masonry){r("masonry",n,e)}var o={itemSelector:".product-grid__item",columnWidth:".product-grid__item",gutter:".product-grid-masonry--gutter",percentPosition:true};var s=i.find("img");var a=[];s.each(function(){var t=e(this);var i=this.complete;if(!i){var n=new e.Deferred;a.push(n);t.on("load",function(){n.resolve()})}});e.when.apply(e,a).done(function(){i.masonry(o)})}},removeListeners:function(t){t.off("mouseenter mouseleave click");t.find(".js-products-prev, .js-products-next").off("click");t.find(".js-page-num").off("click");t.find(".js-row-wrapper").off("scroll.singlerow");t.find(".js-scroll-arrow").off("mousedown mouseup mouseleave touchstart touchend");if(e.fn.masonry){t.find(".product-grid-masonry").masonry("destroy")}},renderPage:function(e,t,i){var n=t-1;i(e,n)},resetPagination:function(e,t){e.replaceWith(t)},getPaginationData:function(e,i){var n;var r=t.range(1,e);var o=t.range(e+1,i+1);if(i>5&&e>2){r.splice(0,e-3)}if(i>5&&e<i-2){o.splice(2,o.length)}n=r.concat([e],o);n=t.filter(n,function(e){return e!==1&&e!==i});return{max_page:i,pages:n,show_head_ellipsis:r[0]>2,show_tail_ellipsis:t.last(o)<i-1}}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9)],r=function(e,t,i){i.preventClose=function(n){var r=this;if(!this.defer){this.defer=e.Deferred();if(i.preventClose.preventer){var o=i.preventClose.preventer();if(o&&o.promise){this.defer=o}else if(o){this.defer.resolve()}else{this.defer.reject()}this.defer.fail(function(){delete i.preventClose.preventer})}else{this.defer.reject()}this.defer.always(function(){t.defer(function(){delete r.defer})})}this.defer.fail(function(){n()})};i.preventClose.ifModelChanged=function(i,n){if(!i.hasChangedDeepSinceSavepoint())return false;var r=e.Deferred();if(n){n(function(){r.reject()},function(){r.resolve()})}else{t.defer(function(){if(confirm("Are you sure? You'll lose your current changes.")){r.reject()}else{r.resolve()}})}return r.promise()};var n=i.View.prototype.constructor;i.View.prototype.constructor=function(){n.apply(this,arguments);if(this.preventClose){i.preventClose.preventer=t.bind(this.preventClose,this)}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n;!(n=function(){var e={mergeOptions:function(e,t){if(!t){return e}var i=function(e){return e===null?"null":Object.isArray(e)?"array":typeof e};for(key in t){var n=e[key],r=t[key],o=i(n),s=i(r);if(o!=="undefined"&&(o!==s&&o!=="null")){continue}e[key]=r}return Object.clone(e)},mergeObjects:function(e,t){for(key in t){e[key]=t[key]}return Object.clone(e)}};return e}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(3),i(6),i(10)],r=function(e,t,i,n,r){var o;var s="#"+r.EDITOR_FRAME_ID;var a={"x-elements":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_1"),target:"#available-elements .outside_top:eq(1)",position:"left",width:210,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){n.vent.trigger("editor:toolbar:show");if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-elements",title:"Intro Elements"})}},afterShow:l},"x-pages":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_2"),target:"#weebly_tab_pages",position:"top",width:225,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-pages",title:"Intro Pages"})}},afterShow:l},"x-pages-subpages":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_12"),target:".pm-page-list.parent-list > li:last-child",position:"left",icon:"w-icon-question",overlayTarget:s,width:250,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-subpages",title:"Intro Subpages"})}},afterShow:function(t){var i=e(".pm-page-list li");i.on("mousedown.event-tooltip",function(e){i.off("mousedown.event-tooltip");o.hide(t).hideOverlay()})}},"x-platform-elements":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_13"),target:"#available-elements .outside_top:eq(1)",position:"left",width:210,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){n.vent.trigger("editor:toolbar:show")},afterShow:l},"x-platform-settings":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_14"),target:"#weebly_tab_settings",position:"top",width:225,icon:"w-icon-question",overlayTarget:s,afterShow:l},"x-design":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_4"),target:"#weebly_tab_themes",position:"top",appearWait:600,width:200,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-design",title:"Intro Design"})}},afterShow:l},"x-publish":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_5"),target:"#publish-button",position:"top-right",width:260,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-publish",title:"Intro Publish"})}},afterShow:l},"x-golive":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_6"),target:"#client-go-live-button",position:"top-right",width:260,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-go-live",title:"Intro Go Live"})}},afterShow:l},"show-storefront-page":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_7"),target:"#weebly_tab_pages",position:"top",width:220,overlayTarget:"#body",icon:"w-icon-storefront",beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-storefront",title:"Intro Storefront"})}}},"blog-first-view-post":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_8"),target:"#blog-post-options .w-icon-chevron-up-light",position:"bottom",width:280,icon:"w-icon-cog",overlayTarget:"#body",beforeShow:function(e){n.vent.trigger("editor:toolbar:show");if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-blog-post",title:"Intro Blog Post"})}}},"additional-support":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_9"),target:"#question-button",position:"top",width:200,icon:"w-icon-question",overlayTarget:s,beforeShow:function(e){if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/intro-additional-support",title:"Intro Additional Support"})}},afterShow:l},"theme-howto-downgrade":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_10"),target:"#weebly_tab_themes",position:"top",width:280},"theme-howto-upgrade":{body:t.utl("html.weebly.libraries.weebly_event_tooltip_11"),target:"#weebly_tab_themes",position:"top",width:280,overlayTarget:"#body"}};function l(t){var i=e("#available-elements .outside_top");i.on("mousedown.event-tooltip",function(e){i.off("mousedown.event-tooltip");o.hide(t).hideOverlay()})}o={_overlayId:"event-tooltip-overlay",_containerId:"event-tooltip-container",_containerClass:"w-ui",container:undefined,overlay:undefined,events:{},template:function(){return i.compile('<div id={{id}} class="event-tooltip {{classNames}}">'+"{{#icon}}"+'<span class="event-tooltip-icon {{icon}}"></span>'+"{{/icon}}"+'<div class="event-tooltip-body">'+"{{{body}}}"+"</div>"+"</div>")},set:function(e){for(var t in e){if(!e[t].id){e[t].id=t}this.events[t]=e[t]}return this},show:function(t){var i=this,n=this.events[t];if(n){var r,o;if(document.getElementById("event-tip-"+n.id)){o=e("#event-tip-"+n.id)}else{o=this.buildTooltip(n)}this.hideAll();if(!this.container){this.container=this.buildContainer()}if(n.beforeShow)n.beforeShow(n);setTimeout(function(){i.container.append(o);i.positionTooltip(n);i.positionOverlay(n)},n.appearWait||0);if(n.afterShow)n.afterShow(n);e(document.body).on("mousedown.event-tooltip",function(t){e(t.currentTarget).off("mousedown.event-tooltip");i.hide(n);i.hideOverlay()})}},hide:function(t){var i=this.container.find("#event-tip-"+t.id),n={opacity:0};if(t.position==="left"){n.left=i.offset().left-10}else if(e.inArray(t.position,["bottom","top","top-right","top-left"])>=0){n.top=i.offset().top-10}i.animate(n,function(){i.hide()});return this},hideAll:function(){e(document.body).trigger("mousedown.event-tooltip");return this},hideOverlay:function(){if(this.overlay){this.overlay.remove();this.overlay=undefined}return this},positionOverlay:function(t){if(!t.overlayTarget)return;if(this.overlay===undefined){this.overlay=this.buildOverlay()}var i=!(t.overlayTarget instanceof e)?e(t.overlayTarget):t.overlayTarget;var n=i.outerWidth(),r=i.outerHeight(),o=i.offset()||{};this.overlay.css({height:r,width:n,left:o.left,top:o.top,opacity:.3})},positionTooltip:function(t){var i,n,r,o=14;i=!(t.target instanceof e)?e(t.target):t.target;if(!i.length){throw"Invalid target: "+t.target;return}var s=i.outerWidth(),a=i.outerHeight(),l=i.offset(),c=l.left,u=l.top;var d=this.container.find("#event-tip-"+t.id);if(t.width)d.width(t.width);var f=d.outerWidth(),h=d.outerHeight();if(t.position==="left"){c+=s;r=c+o;u=u+Math.floor((a-h)/2)}else if(t.position==="top"){c=c+Math.floor((s-f)/2);u+=a;n=u+o}else if(t.position==="top-right"){u+=a;c=c+Math.floor(s-f);n=u+o}else if(t.position==="top-left"){u+=a;n=u+o}else if(t.position==="bottom"){u-=a+h;c=c-Math.floor(f/2-o/2);n=u+o}if(t.offsetY)u+=t.offsetY;if(t.offsetX)c+=t.offsetX;d.show().css({left:c,top:u,opacity:0});d.animate({left:r,top:n,opacity:1},500)},buildContainer:function(){return e(document.createElement("div")).attr({id:this._containerId,class:this._containerClass}).appendTo("body")},buildOverlay:function(){return e(document.createElement("div")).attr({id:this._overlayId}).appendTo("body")},buildTooltip:function(e){var t="event-tip-"+e.position||"top";return this.template()({id:"event-tip-"+e.id,body:e.body,classNames:t,icon:e.icon})}};function c(e){for(var t in a){if(!e[t]){var i={};i[t]=a[t];o.set(i)}}}o.init=c;return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(4)],r=function(e,t,i){var n='<div class="{{classPrefix}}-image-container wsite-imageaspectratio-image-container">';n+='  <div class="{{classPrefix}}-image-height   wsite-imageaspectratio-image-height"></div>';n+='    <div class="{{classPrefix}}-image-wrap     wsite-imageaspectratio-image-wrap">';n+='    <img class="{{classPrefix}}-image         wsite-imageaspectratio-image" style="width:{{imagePercentWidth}}%;top:{{imagePercentTop}}%;left:{{imagePercentLeft}}%" />';n+="  </div>";n+="</div>";var r=t.compile(n);function o(t,n,r,o,u){var h,p,m,g;var v=Math.floor((1+Math.random())*16777216).toString(16).substring(1);u=u||n.regenerate&&n.regenerate.bind(n);if(typeof n=="string"){m=c(n.replace("{size}",r));g=s(t,m,r,o,u)}else if(n instanceof i.Model){r=n.getMaxAvailableWidth(r);m=c(n.uri(r));p=Math.round(n.get("width")/n.get("height")*1e4)/1e4}else{if(n.hasOwnProperty("width")){var w=parseInt(n["width"]);if(r>w){r=w}}m=c(n["url"].replace("{size}",r));p=Math.round(n.width/n.height*1e4)/1e4}if(p){var b=a(p,o),y=0;if(d()){g=f(t,m)}else{var _=l(t,b);var E=e("<div>").append(_);E.find("img").attr("id",v).error(function(){y++;if(y==10){u&&u()}e("#"+v).attr("src","//"+window.ASSETS_BASE+"/images/blank.gif").addClass("image-waiting");if(y<60){setTimeout(function(){E.find("img").attr("src",m)},2500)}}).load(function(){e("#"+v).attr("src",m).removeClass("image-waiting")}).attr("src",m);g=E.html()}}return g}function s(t,i,n,r,o){var s=Math.floor((1+Math.random())*16777216).toString(16).substring(1);var l=i.replace("{size}",n);var c=new Image;e(c).on("load",function(){var e=Math.round(this.width/this.height*1e4)/1e4;var i=a(e,r);u(t,i,l,o,s)});c.src=i;return'<div id="'+s+'" class="aspectratio-image-loading"></div>'}function a(e,t){var i;var n;var r;if(typeof t==="string"){t=1}if(e>t){n=(e/t*100).toFixed(2);r=0;i=-((e/t-1)/2*100).toFixed(2)}else{n=100;r=-((t/e-1)/2*100).toFixed(2);i=0}return{width:n,top:r,left:i}}function l(e,t){return r({classPrefix:e,imagePercentWidth:t.width,imagePercentTop:t.top,imagePercentLeft:t.left})}function c(e){var t=e;var i=e.charAt(0)=="/";var n=e.indexOf("://")>=0;if(!i&&!n){t="//"+e}return t}function u(t,i,n,r,o,s){var a=e("#"+o),c=0;if(a.length>0){a.removeClass("aspectratio-image-loading");if(d()){var h=f(t,n);a.html(h)}else{var h=l(t,i);a.html(h);a.find("img").error(function(){c++;r&&r();$html.find("img").hide();if(c<60){setTimeout(function(){$html.find("img").attr("src",n+"?"+Date.now()).show()},2500)}}).attr("src",n)}}else{setTimeout(function(){if(s<5){s=(s||0)+1;u(t,i,n,r,o,s)}},50)}}function d(){return false}function f(e,t){var i='<span class="wsite-css-sizer '+e+'-sizer"></span>';return'<div class="wsite-css-aspect '+e+'-css-aspect" style="background-image: url('+t+');">'+i+"</div>"}return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){(function(t,n){if(true){var r=i(2);var o=i(9);e.exports=n(r,o)}else if(typeof define==="function"&&define.amd){define(["underscore","backbone"],n);
}})(this,function(e,t){"option strict";t.ChildViewContainer=function(e,t){var i=function(e){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();t.each(e,this.add,this)};t.extend(i.prototype,{add:function(e,t){var i=e.cid;this._views[i]=e;if(e.model){this._indexByModel[e.model.cid]=i}if(t){this._indexByCustom[t]=i}this._updateLength();return this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var i=e.cid;if(e.model){delete this._indexByModel[e.model.cid]}t.any(this._indexByCustom,function(e,t){if(e===i){delete this._indexByCustom[t];return true}},this);delete this._views[i];this._updateLength();return this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,i){t.each(this._views,function(n){if(t.isFunction(n[e])){n[e].apply(n,i||[])}})},_updateLength:function(){this.length=t.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];t.each(n,function(e){i.prototype[e]=function(){var i=t.values(this._views);var n=[i].concat(t.toArray(arguments));return t[e].apply(t,n)}});return i}(t,e);return t.ChildViewContainer})},function(e,t,i){(function(t,n){if(true){var r=i(2);var o=i(9);var s=i(203);var a=i(201);e.exports=n(r,o,s,a)}else if(typeof define==="function"&&define.amd){define(["underscore","backbone","backbone.wreqr","backbone.babysitter"],n)}})(this,function(e,t){var i=function(e,t,i){"use strict";var n={};t.Marionette=n;n.$=t.$;var r=Array.prototype.slice;function o(e,t){var i=new Error(e);i.name=t||"Error";throw i}n.extend=t.Model.extend;n.getOption=function(e,t){if(!e||!t){return}var i;if(e.options&&t in e.options&&e.options[t]!==undefined){i=e.options[t]}else{i=e[t]}return i};n.normalizeMethods=function(e){var t={},n;i.each(e,function(e,r){n=e;if(!i.isFunction(n)){n=this[n]}if(!n){return}t[r]=n},this);return t};n.normalizeUIKeys=function(e,t){if(typeof e==="undefined"){return}i.each(i.keys(e),function(i){var n=/@ui.[a-zA-Z_$0-9]*/g;if(i.match(n)){e[i.replace(n,function(e){return t[e.slice(4)]})]=e[i];delete e[i]}});return e};n.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,i){return i.toUpperCase()}var n=function(n){var r="on"+n.replace(e,t);var o=this[r];if(i.isFunction(this.trigger)){this.trigger.apply(this,arguments)}if(i.isFunction(o)){return o.apply(this,i.tail(arguments))}};return n}();n.MonitorDOMRefresh=function(e){function t(e){e._isShown=true;r(e)}function n(e){e._isRendered=true;r(e)}function r(e){if(e._isShown&&e._isRendered&&o(e)){if(i.isFunction(e.triggerMethod)){e.triggerMethod("dom:refresh")}}}function o(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)});e.listenTo(e,"render",function(){n(e)})}}(document.documentElement);(function(e){"use strict";function t(e,t,n,r){var s=r.split(/\s+/);i.each(s,function(i){var r=e[i];if(!r){o("Method '"+i+"' was configured as an event handler, but does not exist.")}e.listenTo(t,n,r)})}function n(e,t,i,n){e.listenTo(t,i,n)}function r(e,t,n,r){var o=r.split(/\s+/);i.each(o,function(i){var r=e[i];e.stopListening(t,n,r)})}function s(e,t,i,n){e.stopListening(t,i,n)}function a(e,t,n,r,o){if(!t||!n){return}if(i.isFunction(n)){n=n.call(e)}i.each(n,function(n,s){if(i.isFunction(n)){r(e,t,s,n)}else{o(e,t,s,n)}})}e.bindEntityEvents=function(e,i,r){a(e,i,r,n,t)};e.unbindEntityEvents=function(e,t,i){a(e,t,i,s,r)}})(n);n.Callbacks=function(){this._deferred=n.$.Deferred();this._callbacks=[]};i.extend(n.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t});this._deferred.done(function(i,n){if(t){i=t}e.call(i,n)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=n.$.Deferred();this._callbacks=[];i.each(e,function(e){this.add(e.cb,e.ctx)},this)}});n.Controller=function(e){this.triggerMethod=n.triggerMethod;this.options=e||{};if(i.isFunction(this.initialize)){this.initialize(this.options)}};n.Controller.extend=n.extend;i.extend(n.Controller.prototype,t.Events,{close:function(){this.stopListening();var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(e));this.unbind()}});n.Region=function(e){this.options=e||{};this.el=n.getOption(this,"el");if(!this.el){o("An 'el' must be specified for a region.","NoElError")}if(this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}};i.extend(n.Region,{buildRegion:function(e,t){var n=i.isString(e);var r=i.isString(e.selector);var s=i.isUndefined(e.regionType);var a=i.isFunction(e);if(!a&&!n&&!r){o("Region must be specified as a Region type, a selector string or an object with selector property")}var l,c;if(n){l=e}if(e.selector){l=e.selector;delete e.selector}if(a){c=e}if(!a&&s){c=t}if(e.regionType){c=e.regionType;delete e.regionType}if(n||a){e={}}e.el=l;var u=new c(e);if(e.parentEl){u.getEl=function(t){var n=e.parentEl;if(i.isFunction(n)){n=n()}return n.find(t)}}return u}});i.extend(n.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||i.isUndefined(e.$el);var r=e!==this.currentView;if(r){this.close()}e.render();n.triggerMethod.call(this,"before:show",e);n.triggerMethod.call(e,"before:show");if(r||t){this.open(e)}this.currentView=e;n.triggerMethod.call(this,"show",e);n.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0){this.$el=this.getEl(this.el)}},getEl:function(e){return n.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed){return}if(e.close){e.close()}else if(e.remove){e.remove()}n.triggerMethod.call(this,"close",e);delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close();delete this.$el}});n.Region.extend=n.extend;n.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={};e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var n={};i.each(e,function(e,r){if(i.isString(e)){e={selector:e}}if(e.selector){e=i.defaults({},e,t)}var o=this.addRegion(r,e);n[r]=o},this);return n},addRegion:function(t,n){var r;var o=i.isObject(n);var s=i.isString(n);var a=!!n.selector;if(s||o&&a){r=e.Region.buildRegion(n,e.Region)}else if(i.isFunction(n)){r=e.Region.buildRegion(n,e.Region)}else{r=n}this._store(t,r);this.triggerMethod("region:add",t,r);return r},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){i.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){i.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions();e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t;this._setLength()},_remove:function(e,t){t.close();delete this._regions[e];this._setLength();this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=i.size(this._regions)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(e){t.prototype[e]=function(){var t=i.values(this._regions);var n=[t].concat(i.toArray(arguments));return i[e].apply(i,n)}});return t}(n);n.TemplateCache=function(e){this.templateId=e};i.extend(n.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];if(!t){t=new n.TemplateCache(e);this.templateCaches[e]=t}return t.load()},clear:function(){var e;var t=r.call(arguments);var i=t.length;if(i>0){for(e=0;e<i;e++){delete this.templateCaches[t[e]]}}else{this.templateCaches={}}}});i.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate){return this.compiledTemplate}var e=this.loadTemplate(this.templateId);this.compiledTemplate=this.compileTemplate(e);return this.compiledTemplate},loadTemplate:function(e){var t=n.$(e).html();if(!t||t.length===0){o("Could not find template: '"+e+"'","NoTemplateError")}return t},compileTemplate:function(e){return i.template(e)}});n.Renderer={render:function(e,t){if(!e){o("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError")}var i;if(typeof e==="function"){i=e}else{i=n.TemplateCache.get(e)}return i(t)}};n.View=t.View.extend({constructor:function(e){i.bindAll(this,"render");if(i.isObject(this.behaviors)){new n.Behaviors(this)}this.options=i.extend({},i.result(this,"options"),i.isFunction(e)?e.call(this):e);this.events=this.normalizeUIKeys(i.result(this,"events"));t.View.prototype.constructor.apply(this,arguments);n.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled)},triggerMethod:n.triggerMethod,normalizeMethods:n.normalizeMethods,getTemplate:function(){return n.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=n.getOption(this,"templateHelpers");if(i.isFunction(t)){t=t.call(this)}return i.extend(e,t)},normalizeUIKeys:function(e){var t=i.result(this,"ui");return n.normalizeUIKeys(e,t)},configureTriggers:function(){if(!this.triggers){return}var e={};var t=this.normalizeUIKeys(i.result(this,"triggers"));i.each(t,function(t,n){var r=i.isObject(t);var o=r?t.event:t;e[n]=function(e){if(e){var i=e.preventDefault;var n=e.stopPropagation;var s=r?t.preventDefault:i;var a=r?t.stopPropagation:n;if(s&&i){i.apply(e)}if(a&&n){n.apply(e)}}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(o,l)}},this);return e},delegateEvents:function(e){this._delegateDOMEvents(e);n.bindEntityEvents(this,this.model,n.getOption(this,"modelEvents"));n.bindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events;if(i.isFunction(e)){e=e.call(this)}var n={};var r=i.result(this,"behaviorEvents")||{};var o=this.configureTriggers();i.extend(n,r,e,o);t.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e);n.unbindEntityEvents(this,this.model,n.getOption(this,"modelEvents"));n.unbindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed){return}var e=Array.prototype.slice.call(arguments);var t=this.triggerMethod.apply(this,["before:close"].concat(e));if(t===false){return}this.isClosed=true;this.triggerMethod.apply(this,["close"].concat(e));this.unbindUIElements();this.remove()},bindUIElements:function(){if(!this.ui){return}if(!this._uiBindings){this._uiBindings=this.ui}var e=i.result(this,"_uiBindings");this.ui={};i.each(i.keys(e),function(t){var i=e[t];this.ui[t]=this.$(i)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings){return}i.each(this.ui,function(e,t){delete this.ui[t]},this);this.ui=this._uiBindings;delete this._uiBindings}});n.ItemView=n.View.extend({constructor:function(){n.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};if(this.model){e=this.model.toJSON()}else if(this.collection){e={items:this.collection.toJSON()}}return e},render:function(){this.isClosed=false;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate();var i=n.Renderer.render(t,e);this.$el.html(i);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){if(this.isClosed){return}this.triggerMethod("item:before:close");n.View.prototype.close.apply(this,arguments);this.triggerMethod("item:closed")}});n.CollectionView=n.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage();n.View.prototype.constructor.apply(this,arguments);this._initialEvents();this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment();this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=true},endBuffering:function(){this.isBuffering=false;this.appendBuffer(this,this.elBuffer);this._triggerShowBufferedChildren();this.initRenderBuffer()},_triggerShowBufferedChildren:function(){if(this._isShown){i.each(this._bufferedChildren,function(e){n.triggerMethod.call(e,"show")});this._bufferedChildren=[]}},_initialEvents:function(){if(this.collection){this.listenTo(this.collection,"add",this.addChildView);this.listenTo(this.collection,"remove",this.removeItemView);this.listenTo(this.collection,"reset",this.render)}},addChildView:function(e,t,i){this.closeEmptyView();var n=this.getItemView(e);var r=this.collection.indexOf(e);this.addItemView(e,n,r)},onShowCalled:function(){this.children.each(function(e){n.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=false;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.startBuffering();this.closeEmptyView();this.closeChildren();if(!this.isEmpty(this.collection)){this.showCollection()}else{this.showEmptyView()}this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,i){e=this.getItemView(t);this.addItemView(t,e,i)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=true;var i=new t.Model;this.addItemView(i,e,0)}},closeEmptyView:function(){if(this._showingEmptyView){this.closeChildren();delete this._showingEmptyView}},getEmptyView:function(){return n.getOption(this,"emptyView")},getItemView:function(e){var t=n.getOption(this,"itemView");if(!t){o("An `itemView` must be specified","NoItemViewError")}return t},addItemView:function(e,t,r){var o=n.getOption(this,"itemViewOptions");if(i.isFunction(o)){o=o.call(this,e,r)}var s=this.buildItemView(e,t,o);this.addChildViewEventForwarding(s);this.triggerMethod("before:item:added",s);this.children.add(s);this.renderItemView(s,r);if(this._isShown&&!this.isBuffering){n.triggerMethod.call(s,"show")}this.triggerMethod("after:item:added",s);return s},addChildViewEventForwarding:function(e){var t=n.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var o=r.call(arguments);var s=o[0];var a=this.normalizeMethods(this.getItemEvents());o[0]=t+":"+s;o.splice(1,0,e);if(typeof a!=="undefined"&&i.isFunction(a[s])){a[s].apply(this,o)}n.triggerMethod.apply(this,o)},this)},getItemEvents:function(){if(i.isFunction(this.itemEvents)){return this.itemEvents.call(this)}return this.itemEvents},renderItemView:function(e,t){e.render();this.appendHtml(this,e,t)},buildItemView:function(e,t,n){var r=i.extend({model:e},n);return new t(r)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t);this.checkEmpty()},removeChildView:function(e){if(e){this.stopListening(e);if(e.close){e.close()}else if(e.remove){e.remove()}this.children.remove(e)}this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||this.collection.length===0},checkEmpty:function(){if(this.isEmpty(this.collection)){this.showEmptyView()}},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,i){if(e.isBuffering){e.elBuffer.appendChild(t.el);e._bufferedChildren.push(t)}else{e.$el.append(t.el)}},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed){return}this.triggerMethod("collection:before:close");this.closeChildren();this.triggerMethod("collection:closed");n.View.prototype.close.apply(this,arguments)},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this);this.checkEmpty()}});n.CompositeView=n.CollectionView.extend({constructor:function(){n.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){if(this.collection){this.listenTo(this.collection,"add",this.addChildView);this.listenTo(this.collection,"remove",this.removeItemView);this.listenTo(this.collection,"reset",this._renderChildren)}})},getItemView:function(e){var t=n.getOption(this,"itemView")||this.constructor;if(!t){o("An `itemView` must be specified","NoItemViewError")}return t},serializeData:function(){var e={};if(this.model){e=this.model.toJSON()}return e},render:function(){this.isRendered=true;this.isClosed=false;this.resetItemViewContainer();this.triggerBeforeRender();var e=this.renderModel();this.$el.html(e);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();return this},_renderChildren:function(){if(this.isRendered){this.triggerMethod("composite:collection:before:render");n.CollectionView.prototype._renderChildren.call(this);this.triggerMethod("composite:collection:rendered")}},renderModel:function(){var e={};e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return n.Renderer.render(t,e)},appendBuffer:function(e,t){var i=this.getItemViewContainer(e);i.append(t)},appendHtml:function(e,t,i){if(e.isBuffering){e.elBuffer.appendChild(t.el);e._bufferedChildren.push(t)}else{var n=this.getItemViewContainer(e);n.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e){return e.$itemViewContainer}var t;var r=n.getOption(e,"itemViewContainer");if(r){var s=i.isFunction(r)?r.call(this):r;t=e.$(s);if(t.length<=0){o("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}}else{t=e.$el}e.$itemViewContainer=t;return t},resetItemViewContainer:function(){if(this.$itemViewContainer){delete this.$itemViewContainer}}});n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(e){e=e||{};this._firstRender=true;this._initializeRegions(e);n.ItemView.prototype.constructor.call(this,e)},render:function(){if(this.isClosed){this._initializeRegions()}if(this._firstRender){this._firstRender=false}else if(!this.isClosed){this._reInitializeRegions()}return n.ItemView.prototype.render.apply(this,arguments)},close:function(){if(this.isClosed){return}this.regionManager.close();n.ItemView.prototype.close.apply(this,arguments)},addRegion:function(e,t){var i={};i[e]=t;return this._buildRegions(i)[e]},addRegions:function(e){this.regions=i.extend({},this.regions,e);return this._buildRegions(e)},removeRegion:function(e){delete this.regions[e];return this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this;var i={regionType:n.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,i)},_initializeRegions:function(e){var t;this._initRegionManager();if(i.isFunction(this.regions)){t=this.regions(e)}else{t=this.regions||{}}this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new n.RegionManager;this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t;this.trigger("region:add",e,t)});this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e];this.trigger("region:remove",e,t)})}});n.Behavior=function(e,t){function i(t,i){this.view=i;this.defaults=e.result(this,"defaults")||{};this.options=e.extend({},this.defaults,t);this.$=function(){return this.view.$.apply(this.view,arguments)};this.initialize.apply(this,arguments)}e.extend(i.prototype,{initialize:function(){},triggerMethod:n.triggerMethod});e.extend(i,{extend:t.View.extend});return i}(i,t);n.Behaviors=function(e,t){function i(e){this.behaviors=i.parseBehaviors(e,e.behaviors);i.wrap(e,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","onShow","onClose","behaviorEvents","triggerMethod","setElement"])}var n={setElement:function(e,i){e.apply(this,t.tail(arguments,2));t.each(i,function(e){e.$el=this.$el},this)},onShow:function(i,n){var r=t.tail(arguments,2);t.each(n,function(t){e.triggerMethod.apply(t,["show"].concat(r))});if(t.isFunction(i)){i.apply(this,r)}},onClose:function(i,n){var r=t.tail(arguments,2);t.each(n,function(t){e.triggerMethod.apply(t,["close"].concat(r))});if(t.isFunction(i)){i.apply(this,r)}},bindUIElements:function(e,i){e.apply(this);t.invoke(i,e)},unbindUIElements:function(e,i){e.apply(this);t.invoke(i,e)},triggerMethod:function(e,i){var n=t.tail(arguments,2);e.apply(this,n);t.each(i,function(t){e.apply(t,n)})},delegateEvents:function(i,n){var r=t.tail(arguments,2);i.apply(this,r);t.each(n,function(t){e.bindEntityEvents(this,this.model,e.getOption(t,"modelEvents"));e.bindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(i,n){var r=t.tail(arguments,2);i.apply(this,r);t.each(n,function(t){e.unbindEntityEvents(this,this.model,e.getOption(t,"modelEvents"));e.unbindEntityEvents(this,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(i,n){var r={};var o=t.result(this,"ui");t.each(n,function(i,n){var s={};var a=t.result(i,"events")||{};var l=t.result(i,"ui");var c=t.extend({},o,l);a=e.normalizeUIKeys(a,c);t.each(t.keys(a),function(e){var r=new Array(n+2).join(" ");var o=e+r;var l=t.isFunction(a[e])?a[e]:i[a[e]];s[o]=t.bind(l,i)});r=t.extend(r,s)});return r}};t.extend(i,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,n){if(e.behaviorClass){return e.behaviorClass}return t.isFunction(i.behaviorsLookup)?i.behaviorsLookup.apply(this,arguments)[n]:i.behaviorsLookup[n]},parseBehaviors:function(e,n){return t.map(n,function(t,n){var r=i.getBehaviorClass(t,n);return new r(t,e)})},wrap:function(e,i,r){t.each(r,function(r){e[r]=t.partial(n[r],e[r],i)})}});return i}(n,i);n.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments);this.options=e||{};var i=n.getOption(this,"appRoutes");var r=this._getController();this.processAppRoutes(r,i)},appRoute:function(e,t){var i=this._getController();this._addAppRoute(i,e,t)},processAppRoutes:function(e,t){if(!t){return}var n=i.keys(t).reverse();i.each(n,function(i){this._addAppRoute(e,i,t[i])},this)},_getController:function(){return n.getOption(this,"controller")},_addAppRoute:function(e,t,n){var r=e[n];if(!r){o("Method '"+n+"' was not found on the controller")}this.route(t,n,i.bind(r,e))}});n.Application=function(e){this._initRegionManager();this._initCallbacks=new n.Callbacks;this.vent=new t.Wreqr.EventAggregator;this.commands=new t.Wreqr.Commands;this.reqres=new t.Wreqr.RequestResponse;this.submodules={};i.extend(this,e);this.triggerMethod=n.triggerMethod};i.extend(n.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e);this._initCallbacks.run(e,this);this.triggerMethod("initialize:after",e);this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var i=n.Module.getClass(t);var o=r.call(arguments);o.unshift(this);return i.create.apply(i,o)},_initRegionManager:function(){this._regionManager=new n.RegionManager;this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t});this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}});n.Application.extend=n.extend;n.Module=function(e,t,r){this.moduleName=e;this.options=i.extend({},this.options,r);this.initialize=r.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=t;this.startWithParent=true;this.triggerMethod=n.triggerMethod;if(i.isFunction(this.initialize)){this.initialize(this.options,e,t)}};n.Module.extend=n.extend;i.extend(n.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized){return}i.each(this.submodules,function(t){if(t.startWithParent){t.start(e)}});this.triggerMethod("before:start",e);this._initializerCallbacks.run(e,this);this._isInitialized=true;this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized){return}this._isInitialized=false;n.triggerMethod.call(this,"before:stop");i.each(this.submodules,function(e){e.stop()});this._finalizerCallbacks.run(undefined,this);this._initializerCallbacks.reset();this._finalizerCallbacks.reset();n.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(!e){return}var o=i.flatten([this,this.app,t,n,n.$,i,r]);e.apply(this,o)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks;this._finalizerCallbacks=new n.Callbacks}});i.extend(n.Module,{create:function(e,t,n){var o=e;var s=r.call(arguments);s.splice(0,3);t=t.split(".");var a=t.length;var l=[];l[a-1]=n;i.each(t,function(t,i){var r=o;o=this._getModule(r,t,e,n);this._addModuleDefinition(r,o,l[i],s)},this);return o},_getModule:function(e,t,n,r,o){var s=i.extend({},r);var a=this.getClass(r);var l=e[t];if(!l){l=new a(t,n,s);e[t]=l;e.submodules[t]=l}return l},getClass:function(e){var t=n.Module;if(!e){return t}if(e.prototype instanceof t){return e}return e.moduleClass||t},_addModuleDefinition:function(e,t,i,n){var r=this._getDefine(i);var o=this._getStartWithParent(i,t);if(r){t.addDefinition(r,n)}this._addStartWithParent(e,t,o)},_getStartWithParent:function(e,t){var r;if(i.isFunction(e)&&e.prototype instanceof n.Module){r=t.constructor.prototype.startWithParent;return i.isUndefined(r)?true:r}if(i.isObject(e)){r=e.startWithParent;return i.isUndefined(r)?true:r}return true},_getDefine:function(e){if(i.isFunction(e)&&!(e.prototype instanceof n.Module)){return e}if(i.isObject(e)){return e.define}return null},_addStartWithParent:function(e,t,i){t.startWithParent=t.startWithParent&&i;if(!t.startWithParent||!!t.startWithParentIsConfigured){return}t.startWithParentIsConfigured=true;e.addInitializer(function(e){if(t.startWithParent){t.start(e)}})}});return n}(this,t,e);return t.Marionette})},function(e,t,i){(function(t,n){if(true){var r=i(2);var o=i(9);e.exports=n(r,o)}else if(typeof define==="function"&&define.amd){define(["underscore","backbone"],n)}})(this,function(e,t){"use strict";t.Wreqr=function(e,t,i){"use strict";var n={};n.Handlers=function(e,t){"use strict";var i=function(e){this.options=e;this._wreqrHandlers={};if(t.isFunction(this.initialize)){this.initialize(e)}};i.extend=e.Model.extend;t.extend(i.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,i){var n=null;if(t.isObject(e)&&!t.isFunction(e)){n=e.context;e=e.callback}this.setHandler(i,e,n)},this)},setHandler:function(e,t,i){var n={callback:t,context:i};this._wreqrHandlers[e]=n;this.trigger("handler:add",e,t,i)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t){throw new Error("Handler not found for '"+e+"'")}return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}});return i}(e,i);n.CommandStorage=function(){"use strict";var t=function(e){this.options=e;this._commands={};if(i.isFunction(this.initialize)){this.initialize(e)}};i.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];if(!t){t={command:e,instances:[]};this._commands[e]=t}return t},addCommand:function(e,t){var i=this.getCommands(e);i.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}});return t}();n.Commands=function(e){"use strict";return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var i=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,i)},execute:function(e,t){e=arguments[0];t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e)){this.getHandler(e).apply(this,t)}else{this.storage.addCommand(e,t)}},_executeCommands:function(e,t,n){var r=this.storage.getCommands(e);i.each(r.instances,function(e){t.apply(n,e)});this.storage.clearCommands(e)},_initializeStorage:function(e){var t;var n=e.storageType||this.storageType;if(i.isFunction(n)){t=new n}else{t=n}this.storage=t}})}(n);n.RequestResponse=function(e){"use strict";return e.Handlers.extend({request:function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(n);n.EventAggregator=function(e,t){"use strict";var i=function(){};i.extend=e.Model.extend;t.extend(i.prototype,e.Events);return i}(e,i);return n}(t,t.Marionette,e);return t.Wreqr})},,,,,,,,,,,,function(e,t,i){var n=i(1);(function(){if(!window.CKEDITOR||!window.CKEDITOR.dom)window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"F61C",version:"4.4.8 (Standard)",revision:"ccd0038",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var r=i[n].src.match(e);if(r){t=r[1];break}}-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t);if(!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e);this.timestamp&&("/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e))&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp);return e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(e){}}function t(){for(var e;e=i.shift();)e()}var i=[];return function(t){function n(){try{document.documentElement.doScroll("left")}catch(e){setTimeout(n,1);return}e()}i.push(t);"complete"===document.readyState&&setTimeout(e,1);if(1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);window.attachEvent("onload",e);t=!1;try{t=!window.frameElement}catch(e){}document.documentElement.doScroll&&t&&n()}}}()},i=window.CKEDITOR_GETURL;if(i){var n=t.getUrl;t.getUrl=function(e){return i.call(t,e)||n.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t=CKEDITOR.event.prototype,i;for(i in t)e[i]==null&&(e[i]=t[i])},CKEDITOR.event.prototype=function(){function e(e){var n=t(this);return n[e]||(n[e]=new i(e))}var t=function(e){e=e.getPrivate&&e.getPrivate()||e._||(e._={});
return e.events||(e.events={})},i=function(e){this.name=e;this.listeners=[]};i.prototype={getListenerIndex:function(e){for(var t=0,i=this.listeners;t<i.length;t++)if(i[t].fn==e)return t;return-1}};return{define:function(t,i){var n=e.call(this,t);CKEDITOR.tools.extend(n,i,true)},on:function(t,i,n,r,o){function s(e,o,s,l){e={name:t,sender:this,editor:e,data:o,listenerData:r,stop:s,cancel:l,removeListener:a};return i.call(n,e)===false?false:e.data}function a(){c.removeListener(t,i)}var l=e.call(this,t);if(l.getListenerIndex(i)<0){l=l.listeners;n||(n=this);isNaN(o)&&(o=10);var c=this;s.fn=i;s.priority=o;for(var u=l.length-1;u>=0;u--)if(l[u].priority<=o){l.splice(u+1,0,s);return{removeListener:a}}l.unshift(s)}return{removeListener:a}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];e[1]=function(e){e.removeListener();return t.apply(this,arguments)};return this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return e},fire:function(){var e=0,i=function(){e=1},n=0,r=function(){n=1};return function(o,s,a){var l=t(this)[o],o=e,c=n;e=n=0;if(l){var u=l.listeners;if(u.length)for(var u=u.slice(0),d,f=0;f<u.length;f++){if(l.errorProof)try{d=u[f].call(this,a,s,i,r)}catch(e){}else d=u[f].call(this,a,s,i,r);d===false?n=1:typeof d!="undefined"&&(s=d);if(e||n)break}}s=n?false:typeof s=="undefined"?true:s;e=o;n=c;return s}}(),fireOnce:function(e,i,n){i=this.fire(e,i,n);delete t(this)[e];return i},removeListener:function(e,i){var n=t(this)[e];if(n){var r=n.getListenerIndex(i);r>=0&&n.listeners.splice(r,1)}},removeAllListeners:function(){var e=t(this),i;for(i in e)delete e[i]},hasListeners:function(e){return(e=t(this)[e])&&e.listeners.length>0}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){e in{instanceReady:1,loaded:1}&&(this[e]=true);return CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){e in{instanceReady:1,loaded:1}&&(this[e]=true);return CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t={ie:e.indexOf("trident/")>-1,webkit:e.indexOf(" applewebkit/")>-1,air:e.indexOf(" adobeair/")>-1,mac:e.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat"&&(!document.documentMode||document.documentMode<10),mobile:e.indexOf("mobile")>-1,iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return false;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:location.protocol=="https:"};t.gecko=navigator.product=="Gecko"&&!t.webkit&&!t.ie;if(t.webkit)e.indexOf("chrome")>-1?t.chrome=true:t.safari=true;var i=0;if(t.ie){i=t.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode;t.ie9Compat=i==9;t.ie8Compat=i==8;t.ie7Compat=i==7;t.ie6Compat=i<7||t.quirks}if(t.gecko){var n=e.match(/rv:([\d\.]+)/);if(n){n=n[1].split(".");i=n[0]*1e4+(n[1]||0)*100+(n[2]||0)*1}}t.air&&(i=parseFloat(e.match(/ adobeair\/(\d+)/)[1]));t.webkit&&(i=parseFloat(e.match(/ applewebkit\/(\d+)/)[1]));t.version=i;t.isCompatible=t.iOS&&i>=534||!t.mobile&&(t.ie&&i>6||t.gecko&&i>=2e4||t.air&&i>=1||t.webkit&&i>=522||false);t.hidpi=window.devicePixelRatio>=2;t.needsBrFiller=t.gecko||t.webkit||t.ie&&i>10;t.needsNbspFiller=t.ie&&i<11;t.cssClass="cke_browser_"+(t.ie?"ie":t.gecko?"gecko":t.webkit?"webkit":"unknown");if(t.quirks)t.cssClass=t.cssClass+" cke_browser_quirks";if(t.ie)t.cssClass=t.cssClass+(" cke_browser_ie"+(t.quirks?"6 cke_browser_iequirks":t.version));if(t.air)t.cssClass=t.cssClass+" cke_browser_air";if(t.iOS)t.cssClass=t.cssClass+" cke_browser_ios";if(t.hidpi)t.cssClass=t.cssClass+" cke_hidpi";return t}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if(CKEDITOR.status!="basic_ready")CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript";e.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(e)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)};(function(){CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;if(e){CKEDITOR.status="basic_ready";e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},t*1e3)}})})();CKEDITOR.status="basic_loaded"}(),CKEDITOR.dom={},function(){var e=[],t=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",i=/&/g,n=/>/g,r=/</g,o=/"/g,s=/&amp;/g,a=/&gt;/g,l=/&lt;/g,c=/&quot;/g;CKEDITOR.on("reset",function(){e=[]});CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return true;if(!e||!t||e.length!=t.length)return false;for(var i=0;i<e.length;i++)if(e[i]!=t[i])return false;return true},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var i=0;i<e.length;i++)t[i]=CKEDITOR.tools.clone(e[i]);return t}if(e===null||typeof e!="object"||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;t=new e.constructor;for(i in e)t[i]=CKEDITOR.tools.clone(e[i]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t=arguments.length,i,n;if(typeof(i=arguments[t-1])=="boolean")t--;else if(typeof(i=arguments[t-2])=="boolean"){n=arguments[t-1];t=t-2}for(var r=1;r<t;r++){var o=arguments[r],s;for(s in o)if(i===true||e[s]==null)if(!n||s in n)e[s]=o[s]}return e},prototypedCopy:function(e){var t=function(){};t.prototype=e;return new t},copy:function(e){var t={},i;for(i in e)t[i]=e[i];return t},isArray:function(e){return Object.prototype.toString.call(e)=="[object Array]"},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return false;return true},cssVendorPrefix:function(e,i,n){if(n)return t+e+":"+i+";"+e+":"+i;n={};n[e]=i;n[t+e]=i;return n},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t=typeof e.cssFloat!="undefined"?"cssFloat":typeof e.styleFloat!="undefined"?"styleFloat":"float";return function(e){return e=="float"?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){for(var e=[].concat(e),t,i=[],n=0;n<e.length;n++)if(t=e[n])/@import|[{}]/.test(t)?i.push("<style>"+t+"</style>"):i.push('<link type="text/css" rel=stylesheet href="'+t+'">');return i.join("")},htmlEncode:function(e){return(""+e).replace(i,"&amp;").replace(n,"&gt;").replace(r,"&lt;")},htmlDecode:function(e){return e.replace(s,"&").replace(a,">").replace(l,"<")},htmlEncodeAttr:function(e){return e.replace(o,"&quot;").replace(r,"&lt;").replace(n,"&gt;")},htmlDecodeAttr:function(e){return e.replace(c,'"').replace(l,"<").replace(a,">")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(e,t){var i=t(e);i.prototype=e.prototype;return i},setTimeout:function(e,t,i,n,r){r||(r=window);i||(i=r);return r.setTimeout(function(){n?e.apply(i,[].concat(n)):e.apply(i)},t||0)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if(typeof t=="function")for(var i=0,n=e.length;i<n;i++){if(t(e[i]))return i}else{if(e.indexOf)return e.indexOf(t);i=0;for(n=e.length;i<n;i++)if(e[i]===t)return i}return-1},search:function(e,t){var i=CKEDITOR.tools.indexOf(e,t);return i>=0?e[i]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,i=e.base,n=e.privates||e._,r=e.proto,e=e.statics;!t&&(t=function(){i&&this.base.apply(this,arguments)});if(n)var o=t,t=function(){var e=this._||(this._={}),t;for(t in n){var i=n[t];e[t]=typeof i=="function"?CKEDITOR.tools.bind(i,this):i}o.apply(this,arguments)};if(i){t.prototype=this.prototypedCopy(i.prototype);t.prototype.constructor=t;t.base=i;t.baseProto=i.prototype;t.prototype.base=function(){this.base=i.prototype.base;i.apply(this,arguments);this.base=arguments.callee}}r&&this.extend(t.prototype,r,true);e&&this.extend(t,e,true);return t},addFunction:function(t,i){return e.push(function(){return t.apply(i||this,arguments)})-1},removeFunction:function(t){e[t]=null},callFunction:function(t){var i=e[t];return i&&i.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e=/^-?\d+\.?\d*px$/,t;return function(i){t=CKEDITOR.tools.trim(i+"")+"px";return e.test(t)?t:i||""}}(),convertToPx:function(){var e;return function(t){if(!e){e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document);CKEDITOR.document.getBody().append(e)}if(!/%$/.test(t)){e.setStyle("width",t);return e.$.clientWidth}return t}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,i=arguments.length;t<i;t++){var n=arguments[t];try{e=n();break}catch(e){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,i=this;window.setTimeout(function(){e.apply(i,t)},0)}},normalizeCssText:function(e,t){var i=[],n,r=CKEDITOR.tools.parseCssText(e,true,t);for(n in r)i.push(n+":"+r[n]);i.sort();return i.length?i.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,i,n){e=[t,i,n];for(t=0;t<3;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},parseCssText:function(e,t,i){var n={};if(i){i=new CKEDITOR.dom.element("span");i.setAttribute("style",e);e=CKEDITOR.tools.convertRgbToHex(i.getAttribute("style")||"")}if(!e||e==";")return n;e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,i,r){if(t){i=i.toLowerCase();i=="font-family"&&(r=r.toLowerCase().replace(/["']/g,"").replace(/\s*,\s*/g,","));r=CKEDITOR.tools.trim(r)}n[i]=r});return n},writeCssText:function(e,t){var i,n=[];for(i in e)n.push(i+":"+e[i]);t&&n.sort();return n.join("; ")},objectCompare:function(e,t,i){var n;if(!e&&!t)return true;if(!e||!t)return false;for(n in e)if(e[n]!=t[n])return false;if(!i)for(n in t)if(e[n]!=t[n])return false;return true},objectKeys:function(e){var t=[],i;for(i in e)t.push(i);return t},convertArrayToObject:function(e,t){var i={};arguments.length==1&&(t=true);for(var n=0,r=e.length;n<r;++n)i[e[n]]=t;return i},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){e=e?e.replace(/.+?(?:\.|$)/,""):document.domain;if(!e)break;document.domain=e}return!!e},eventsBuffer:function(e,t){function i(){r=(new Date).getTime();n=false;t()}var n,r=0;return{input:function(){if(!n){var t=(new Date).getTime()-r;t<e?n=setTimeout(i,e-t):i()}},reset:function(){n&&clearTimeout(n);n=r=0}}},enableHtml5Elements:function(e,t){for(var i=["abbr","article","aside","audio","bdi","canvas","data","datalist","details","figcaption","figure","footer","header","hgroup","mark","meter","nav","output","progress","section","summary","time","video"],n=i.length,r;n--;){r=e.createElement(i[n]);t&&e.appendChild(r)}},checkIfAnyArrayItemMatches:function(e,t){for(var i=0,n=e.length;i<n;++i)if(e[i].match(t))return true;return false},checkIfAnyObjectPropertyMatches:function(e,t){for(var i in e)if(i.match(t))return true;return false},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw=="}}(),CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var i=CKEDITOR.tools.clone(e),n=1;n<arguments.length;n++){var t=arguments[n],r;for(r in t)delete i[r]}return i},i={},n={},r={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},o={command:1,link:1,meta:1,noscript:1,script:1,style:1},s={},a={"#":1},l={center:1,dir:1,noframes:1};e(i,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},a,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});e(n,r,i,l);t={a:t(i,{a:1,button:1}),abbr:i,address:n,area:s,article:n,aside:n,audio:e({source:1,track:1},n),b:i,base:s,bdi:i,bdo:i,blockquote:n,body:n,br:s,button:t(i,{a:1,button:1}),canvas:i,caption:n,cite:i,code:i,col:s,colgroup:{col:1},command:s,datalist:e({option:1},i),dd:n,del:i,details:e({summary:1},n),dfn:i,div:n,dl:{dt:1,dd:1},dt:n,em:i,embed:s,fieldset:e({legend:1},n),figcaption:n,figure:e({figcaption:1},n),footer:n,form:n,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,head:e({title:1,base:1},o),header:n,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:s,html:e({head:1,body:1},n,o),i:i,iframe:a,img:s,input:s,ins:i,kbd:i,keygen:s,label:i,legend:i,li:n,link:s,main:n,map:n,mark:i,menu:e({li:1},n),meta:s,meter:t(i,{meter:1}),nav:n,noscript:e({link:1,meta:1,style:1},i),object:e({param:1},i),ol:{li:1},optgroup:{option:1},option:a,output:i,p:i,param:s,pre:i,progress:t(i,{progress:1}),q:i,rp:i,rt:i,ruby:e({rp:1,rt:1},i),s:i,samp:i,script:a,section:n,select:{optgroup:1,option:1},small:i,source:s,span:i,strong:i,style:a,sub:i,summary:i,sup:i,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:n,textarea:a,tfoot:{tr:1},th:n,thead:{tr:1},time:t(i,{time:1}),title:a,tr:{th:1,td:1},track:s,u:i,ul:{li:1},var:i,video:e({source:1,track:1},n),wbr:s,acronym:i,applet:e({param:1},n),basefont:s,big:i,center:n,dialog:s,dir:{li:1},font:i,isindex:s,noframes:n,strike:i,tt:i};e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},r,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:i,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();if(this.$.ctrlKey||this.$.metaKey)e=e+CKEDITOR.CTRL;this.$.shiftKey&&(e=e+CKEDITOR.SHIFT);this.$.altKey&&(e=e+CKEDITOR.ALT);return e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=false;e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=true},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){if(e)this.$=e},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(i){typeof CKEDITOR!="undefined"&&e.fire(t,new CKEDITOR.dom.event(i))}};return{getPrivate:function(){var e;if(!(e=this.getCustomData("_")))this.setCustomData("_",e={});return e},on:function(t){var i=this.getCustomData("_cke_nativeListeners");if(!i){i={};this.setCustomData("_cke_nativeListeners",i)}if(!i[t]){i=i[t]=e(this,t);this.$.addEventListener?this.$.addEventListener(t,i,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,i)}return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),i=t&&t[e];if(i){this.$.removeEventListener?this.$.removeEventListener(e,i,false):this.$.detachEvent&&this.$.detachEvent("on"+e,i);delete t[e]}}},removeAllListeners:function(){var e=this.getCustomData("_cke_nativeListeners"),t;for(t in e){var i=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,i):this.$.removeEventListener&&this.$.removeEventListener(t,i,false);delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",function(){t={}});e.equals=function(e){try{return e&&e.$===this.$}catch(e){return false}};e.setCustomData=function(e,i){var n=this.getUniqueId();(t[n]||(t[n]={}))[e]=i;return this};e.getCustomData=function(e){var i=this.$["data-cke-expando"];return(i=i&&t[i])&&e in i?i[e]:null};e.removeCustomData=function(e){var i=this.$["data-cke-expando"],i=i&&t[i],n,r;if(i){n=i[e];r=e in i;delete i[e]}return r?n:null};e.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete t[e]};e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){e.append(this,t);return e},clone:function(e,t){var i=this.$.cloneNode(e),n=function(i){i["data-cke-expando"]&&(i["data-cke-expando"]=false);if(i.nodeType==CKEDITOR.NODE_ELEMENT){t||i.removeAttribute("id",false);if(e)for(var i=i.childNodes,r=0;r<i.length;r++)n(i[r])}};n(i);return new CKEDITOR.dom.node(i)},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){e.$.parentNode.insertBefore(this.$,e.$.nextSibling);return e},insertBefore:function(e){e.$.parentNode.insertBefore(this.$,e.$);return e},insertBeforeMe:function(e){this.$.parentNode.insertBefore(e.$,this.$);return e},getAddress:function(e){for(var t=[],i=this.getDocument().$.documentElement,n=this.$;n&&n!=i;){var r=n.parentNode;r&&t.unshift(this.getIndex.call({$:n},e));n=r}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,i){var n=i?e.nextSibling:e.previousSibling;return!n||n.nodeType!=CKEDITOR.NODE_TEXT?null:n.nodeValue?n:t(n,i)}var i=this.$,n=-1,r;if(!this.$.parentNode||e&&i.nodeType==CKEDITOR.NODE_TEXT&&!i.nodeValue&&!t(i)&&!t(i,true))return-1;do if(!e||!(i!=this.$&&i.nodeType==CKEDITOR.NODE_TEXT&&(r||!i.nodeValue))){n++;r=i.nodeType==CKEDITOR.NODE_TEXT}while(i=i.previousSibling);return n},getNextSourceNode:function(e,t,i){if(i&&!i.call)var n=i,i=function(e){return!e.equals(n)};var e=!e&&this.getFirst&&this.getFirst(),r;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&i(this,true)===false)return null;e=this.getNext()}for(;!e&&(r=(r||this).getParent());){if(i&&i(r,true)===false)return null;e=r.getNext()}return!e||i&&i(e)===false?null:t&&t!=e.type?e.getNextSourceNode(false,t,i):e},getPreviousSourceNode:function(e,t,i){if(i&&!i.call)var n=i,i=function(e){return!e.equals(n)};var e=!e&&this.getLast&&this.getLast(),r;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&i&&i(this,true)===false)return null;e=this.getPrevious()}for(;!e&&(r=(r||this).getParent());){if(i&&i(r,true)===false)return null;e=r.getPrevious()}return!e||i&&i(e)===false?null:t&&e.type!=t?e.getPreviousSourceNode(false,t,i):e},getPrevious:function(e){var t=this.$,i;do i=(t=t.previousSibling)&&t.nodeType!=10&&new CKEDITOR.dom.node(t);while(i&&e&&!e(i));return i},getNext:function(e){var t=this.$,i;do i=(t=t.nextSibling)&&new CKEDITOR.dom.node(t);while(i&&e&&!e(i));return i},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,i=[];do i[e?"push":"unshift"](t);while(t=t.getParent());return i},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do if(t.contains(e))return t;while(t=t.getParent());return null},getPosition:function(e){var t=this.$,i=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(i);if(t==i)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(i))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(i.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return t.sourceIndex<0||i.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<i.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}for(var t=this.getAddress(),e=e.getAddress(),i=Math.min(t.length,e.length),n=0;n<=i-1;n++)if(t[n]!=e[n]){if(n<i)return t[n]<e[n]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;break}return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var i=this.$,n,r;if(!t)i=i.parentNode;if(typeof e=="function"){r=true;n=e}else{r=false;n=function(t){t=typeof t.nodeName=="string"?t.nodeName.toLowerCase():"";return typeof e=="string"?t==e:t in e}}for(;i;){if(n(r?new CKEDITOR.dom.node(i):i))return new CKEDITOR.dom.node(i);try{i=i.parentNode}catch(e){i=null}}return null},hasAscendant:function(e,t){var i=this.$;if(!t)i=i.parentNode;for(;i;){if(i.nodeName&&i.nodeName.toLowerCase()==e)return true;i=i.parentNode}return false},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,i=t.parentNode;if(i){if(e)for(;e=t.firstChild;)i.insertBefore(t.removeChild(e),t);i.removeChild(t)}return this},replace:function(e){this.insertBefore(e);e.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),i=e.getLength();if(t){if(t.length<i){e.split(i-t.length);this.$.removeChild(this.$.firstChild)}}else{e.remove();continue}}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),i=e.getLength();if(t){if(t.length<i){e.split(t.length);this.$.lastChild.parentNode.removeChild(this.$.lastChild)}}else{e.remove();continue}}break}if(CKEDITOR.env.needsBrFiller)(e=this.$.lastChild)&&(e.type==1&&e.nodeName.toLowerCase()=="br")&&e.parentNode.removeChild(e)},isReadOnly:function(){var e=this;this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent());if(e&&typeof e.$.isContentEditable!="undefined")return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))break;if(e.getAttribute("contentEditable")=="false")return true;if(e.getAttribute("contentEditable")=="true")break;e=e.getParent()}return!e}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t=e.compatMode=="CSS1Compat";return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};e=e.document;return{x:e.documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e});this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var i=new CKEDITOR.dom.element("style",this);i.append(new CKEDITOR.dom.text(e,this));this.getHead().append(i)}return t||i.$.sheet},createElement:function(e,t){var i=new CKEDITOR.dom.element(e,this);if(t){t.attributes&&i.setAttributes(t.attributes);t.styles&&i.setStyles(t.styles)}return i},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var i=this.$.documentElement,n=0;i&&n<e.length;n++){var r=e[n];if(t)for(var o=-1,s=0;s<i.childNodes.length;s++){var a=i.childNodes[s];if(!(t===true&&a.nodeType==3&&a.previousSibling&&a.previousSibling.nodeType==3)){o++;if(o==r){i=a;break}}}else i=i.childNodes[r]}return i?new CKEDITOR.dom.node(i):null},getElementsByTag:function(e,t){!(CKEDITOR.env.ie&&document.documentMode<=8)&&t&&(e=t+":"+e);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e=e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),true)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace");CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>"));this.$.write(e);this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");if(!e){e=this.$.createDocumentFragment();CKEDITOR.tools.enableHtml5Elements(e,true);this.setCustomData("html5ShivFrag",e)}return e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){if(e<0||e>=this.$.length)return null;return(e=this.$[e])?new CKEDITOR.dom.node(e):null}},CKEDITOR.dom.element=function(e,t){typeof e=="string"&&(e=(t?t.$:document).createElement(e));CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e=typeof e=="string"?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var i=new CKEDITOR.dom.element("div",t);i.setHtml(e);return i.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,i,n){var r=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");e[r]=t;o[i]=1;return t.setCustomData(i,n)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,i){var n=t.getCustomData("list_marker_names"),r=t.getCustomData("list_marker_id"),o;for(o in n)t.removeCustomData(o);t.removeCustomData("list_marker_names");if(i){t.removeCustomData("list_marker_id");delete e[r]}},function(){function e(e){var t=true;if(!e.$.id){e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber();t=false}return function(){t||e.removeAttribute("id")}}function t(e,t){return"#"+e.$.id+" "+t.split(/,\s*/).join(", #"+e.$.id+" ")}function i(e){for(var t=0,i=0,r=n[e].length;i<r;i++)t=t+(parseInt(this.getComputedStyle(n[e][i])||0,10)||0);return t}CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:function(e){var t=this.$.className;t&&(RegExp("(?:^|\\s)"+e+"(?:\\s|$)","").test(t)||(t=t+(" "+e)));this.$.className=t||e;return this},removeClass:function(e){var t=this.getAttribute("class");if(t){e=RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","i");if(e.test(t))(t=t.replace(e,"").replace(/^\s+/,""))?this.setAttribute("class",t):this.removeAttribute("class")}return this},hasClass:function(e){return RegExp("(?:^|\\s+)"+e+"(?=\\s|$)","").test(this.getAttribute("class"))},append:function(e,t){typeof e=="string"&&(e=this.getDocument().createElement(e));t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$);return e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e);t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){this.$.text!=null&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text=this.$.text+e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();if(!e||!e.is||!e.is("br")){e=this.getDocument().createElement("br");CKEDITOR.env.gecko&&e.setAttribute("type","_moz");this.append(e)}}},breakParent:function(e){var t=new CKEDITOR.dom.range(this.getDocument());t.setStartAfter(this);t.setEndAfter(e);e=t.extractContents();t.insertNode(this.remove());e.insertAfterNode(this)},contains:CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$);
}:function(e){return!!(this.$.compareDocumentPosition(e.$)&16)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");e.appendChild(this.$.cloneNode(true));return e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!e.width&&(e.width=e.right-e.left);!e.height&&(e.height=e.bottom-e.top);return e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var i=this.getDocument()._getHtml5ShivFrag();i.appendChild(t);t.innerHTML=e;i.removeChild(t);return e}catch(i){this.$.innerHTML="";t=new CKEDITOR.dom.element("body",this.getDocument());t.$.innerHTML=e;for(t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");e.innerHTML="x";e=e.textContent;return function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:function(){var e=function(e){return this.$.getAttribute(e,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":e=this.$.getAttribute(e,2);e!==0&&this.$.tabIndex===0&&(e=null);return e;case"checked":e=this.$.attributes.getNamedItem(e);return(e.specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:e}(),getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:CKEDITOR.env.ie?function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return e};return e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:CKEDITOR.env.ie?function(){var e=this.$.tabIndex;e===0&&(!CKEDITOR.dtd.$tabIndex[this.getName()]&&parseInt(this.getAttribute("tabindex"),10)!==0)&&(e=-1);return e}:CKEDITOR.env.webkit?function(){var e=this.$.tabIndex;if(e===void 0){e=parseInt(this.getAttribute("tabindex"),10);isNaN(e)&&(e=-1)}return e}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var t=this.$.scopeName;t!="HTML"&&(e=t.toLowerCase()+":"+e)}this.getName=function(){return e};return this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;(t=t&&new CKEDITOR.dom.node(t))&&(e&&!e(t))&&(t=t.getNext(e));return t},getLast:function(e){var t=this.$.lastChild;(t=t&&new CKEDITOR.dom.node(t))&&(e&&!e(t))&&(t=t.getPrevious(e));return t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if(typeof arguments[0]=="object")return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return true;return false},isEditable:function(e){var t=this.getName();if(this.isReadOnly()||this.getComputedStyle("display")=="none"||this.getComputedStyle("visibility")=="hidden"||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())return false;if(e!==false){e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span;return!(!e||!e["#"])}return true},isIdentical:function(e){var t=this.clone(0,1),e=e.clone(0,1);t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(t.$.isEqualNode){t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText);e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText);return t.$.isEqualNode(e.$)}t=t.getOuterHtml();e=e.getOuterHtml();if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var i=this.getParent();if(i.type==CKEDITOR.NODE_ELEMENT){i=i.clone();i.setHtml(t);t=i.getHtml();i.setHtml(e);e=i.getHtml()}}return t==e},isVisible:function(){var e=(this.$.offsetHeight||this.$.offsetWidth)&&this.getComputedStyle("visibility")!="hidden",t,i;if(e&&CKEDITOR.env.webkit){t=this.getWindow();if(!t.equals(CKEDITOR.document.getWindow())&&(i=t.$.frameElement))e=new CKEDITOR.dom.element(i).isVisible()}return!!e},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return false;for(var e=this.getChildren(),t=0,i=e.count();t<i;t++){var n=e.getItem(t);if(!(n.type==CKEDITOR.NODE_ELEMENT&&n.data("cke-bookmark"))&&(n.type==CKEDITOR.NODE_ELEMENT&&!n.isEmptyInlineRemoveable()||n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText())))return false}return true},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var i=e[t];switch(i.nodeName){case"class":if(this.getAttribute("class"))return true;case"data-cke-expando":continue;default:if(i.specified)return true}}return false}:function(){var e=this.$.attributes,t=e.length,i={"data-cke-expando":1,_moz_dirty:1};return t>0&&(t>2||!i[e[0].nodeName]||t==2&&!i[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if(this.getName()=="input")switch(e){case"class":return this.$.className.length>0;case"checked":return!!this.$.checked;case"value":e=this.getAttribute("type");return e=="checkbox"||e=="radio"?this.$.value!="on":!!this.$.value}return!t?false:t.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return t=="name"?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var i=this.$,e=e.$;if(i!=e){var n;if(t)for(;n=i.lastChild;)e.insertBefore(i.removeChild(n),e.firstChild);else for(;n=i.firstChild;)e.appendChild(i.removeChild(n))}},mergeSiblings:function(){function e(e,t,i){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var n=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();){n.push(t);t=i?t.getNext():t.getPrevious();if(!t||t.type!=CKEDITOR.NODE_ELEMENT)return}if(e.isIdentical(t)){for(var r=i?e.getLast():e.getFirst();n.length;)n.shift().move(e,!i);t.moveChildren(e,!i);t.remove();r&&r.type==CKEDITOR.NODE_ELEMENT&&r.mergeSiblings()}}}return function(t){if(t===false||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a")){e(this,this.getNext(),true);e(this,this.getPrevious())}}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){this.$.setAttribute(e,t);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,i){t=="class"?this.$.className=i:t=="style"?this.$.style.cssText=i:t=="tabindex"?this.$.tabIndex=i:t=="checked"?this.$.checked=i:t=="contenteditable"?e.call(this,"contentEditable",i):e.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,i){if(t=="src"&&i.match(/^http:\/\//))try{e.apply(this,arguments)}catch(e){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){this.$.value=e;return this},removeAttribute:function(){var e=function(e){this.$.removeAttribute(e)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){e=="class"?e="className":e=="tabindex"?e="tabIndex":e=="contenteditable"&&(e="contentEditable");this.$.removeAttribute(e)}:e}(),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e)e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){var t=this.$.style;if(!t.removeProperty&&(e=="border"||e=="margin"||e=="padding")){var i=["top","left","right","bottom"],n;e=="border"&&(n=["color","style","width"]);for(var t=[],r=0;r<i.length;r++)if(n)for(var o=0;o<n.length;o++)t.push([e,i[r],n[o]].join("-"));else t.push([e,i[r]].join("-"));for(e=0;e<t.length;e++)this.removeStyle(t[e])}else{t.removeProperty?t.removeProperty(e):t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e));this.$.style.cssText||this.removeAttribute("style")}},setStyle:function(e,t){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t;return this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){if(CKEDITOR.env.ie&&CKEDITOR.env.version<9){e=Math.round(e*100);this.setStyle("filter",e>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")}else this.setStyle("opacity",e)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e,t=this.getElementsByTag("*"),i=0,n=t.count();i<n;i++){e=t.getItem(i);e.setAttribute("unselectable","on")}}},getPositionedAncestor:function(){for(var e=this;e.getName()!="html";){if(e.getComputedStyle("position")!="static")return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,i=0,n=this.getDocument(),r=n.getBody(),o=n.$.compatMode=="BackCompat";if(document.documentElement.getBoundingClientRect){var s=this.$.getBoundingClientRect(),a=n.$.documentElement,l=a.clientTop||r.$.clientTop||0,c=a.clientLeft||r.$.clientLeft||0,u=true;if(CKEDITOR.env.ie){u=n.getDocumentElement().contains(this);n=n.getBody().contains(this);u=o&&n||!o&&u}if(u){if(CKEDITOR.env.webkit){t=r.$.scrollLeft||a.scrollLeft;i=r.$.scrollTop||a.scrollTop}else{i=o?r.$:a;t=i.scrollLeft;i=i.scrollTop}t=s.left+t-c;i=s.top+i-l}}else{l=this;for(c=null;l&&!(l.getName()=="body"||l.getName()=="html");){t=t+(l.$.offsetLeft-l.$.scrollLeft);i=i+(l.$.offsetTop-l.$.scrollTop);if(!l.equals(this)){t=t+(l.$.clientLeft||0);i=i+(l.$.clientTop||0)}for(;c&&!c.equals(l);){t=t-c.$.scrollLeft;i=i-c.$.scrollTop;c=c.getParent()}c=l;l=(s=l.$.offsetParent)?new CKEDITOR.dom.element(s):null}}if(e){s=this.getWindow();l=e.getWindow();if(!s.equals(l)&&s.$.frameElement){e=new CKEDITOR.dom.element(s.$.frameElement).getDocumentPosition(e);t=t+e.x;i=i+e.y}}if(!document.documentElement.getBoundingClientRect&&CKEDITOR.env.gecko&&!o){t=t+(this.$.clientLeft?1:0);i=i+(this.$.clientTop?1:0)}return{x:t,y:i}},scrollIntoView:function(e){var t=this.getParent();if(t){do{(t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1);if(t.is("html")){var i=t.getWindow();try{var n=i.$.frameElement;n&&(t=new CKEDITOR.dom.element(n))}catch(e){}}}while(t=t.getParent())}},scrollIntoParent:function(e,t,i){var n,r,o,s;function a(t,i){if(/body|html/.test(e.getName()))e.getWindow().$.scrollBy(t,i);else{e.$.scrollLeft=e.$.scrollLeft+t;e.$.scrollTop=e.$.scrollTop+i}}function l(e,t){var i={x:0,y:0};if(!e.is(u?"body":"html")){var n=e.$.getBoundingClientRect();i.x=n.left;i.y=n.top}n=e.getWindow();if(!n.equals(t)){n=l(CKEDITOR.dom.element.get(n.$.frameElement),t);i.x=i.x+n.x;i.y=i.y+n.y}return i}function c(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}!e&&(e=this.getWindow());o=e.getDocument();var u=o.$.compatMode=="BackCompat";e instanceof CKEDITOR.dom.window&&(e=u?o.getBody():o.getDocumentElement());o=e.getWindow();r=l(this,o);var d=l(e,o),f=this.$.offsetHeight;n=this.$.offsetWidth;var h=e.$.clientHeight,p=e.$.clientWidth;o=r.x-c(this,"left")-d.x||0;s=r.y-c(this,"top")-d.y||0;n=r.x+n+c(this,"right")-(d.x+p)||0;r=r.y+f+c(this,"bottom")-(d.y+h)||0;if(s<0||r>0)a(0,t===true?s:t===false?r:s<0?s:r);if(i&&(o<0||n>0))a(o<0?o:n,0)},setState:function(e,t,i){t=t||"cke";switch(e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on");this.removeClass(t+"_off");this.removeClass(t+"_disabled");i&&this.setAttribute("aria-pressed",true);i&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled");this.removeClass(t+"_off");this.removeClass(t+"_on");i&&this.setAttribute("aria-disabled",true);i&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off");this.removeClass(t+"_on");this.removeClass(t+"_disabled");i&&this.removeAttribute("aria-pressed");i&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){for(var i=this.$.attributes,t=t||{},n=0;n<i.length;n++){var r=i[n],o=r.nodeName.toLowerCase(),s;if(!(o in t))if(o=="checked"&&(s=this.getAttribute(o)))e.setAttribute(o,s);else if(!CKEDITOR.env.ie||this.hasAttribute(o)){s=this.getAttribute(o);if(s===null)s=r.nodeValue;e.setAttribute(o,s)}}if(this.$.style.cssText!=="")e.$.style.cssText=this.$.style.cssText},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument(),e=new CKEDITOR.dom.element(e,t);this.copyAttributes(e);this.moveChildren(e);this.getParent()&&this.$.parentNode.replaceChild(e.$,this.$);e.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=e.$;delete this.getName}},getChild:function(){function e(e,t){var i=e.childNodes;if(t>=0&&t<i.length)return i[t]}return function(t){var i=this.$;if(t.slice)for(;t.length>0&&i;)i=e(i,t.shift());else i=e(i,t);return i?new CKEDITOR.dom.node(i):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(e){e.data.getTarget().hasClass("cke_enable_context_menu")||e.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){e="data-"+e;if(t===void 0)return this.getAttribute(e);t===false?this.removeAttribute(e):this.setAttribute(e,t);return null},getEditor:function(){var e=CKEDITOR.instances,t,i;for(t in e){i=e[t];if(i.element.equals(this)&&i.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return i}return null},find:function(i){var n=e(this),i=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t(this,i)));n();return i},findOne:function(i){var n=e(this),i=this.$.querySelector(t(this,i));n();return i?new CKEDITOR.dom.element(i):null},forEach:function(e,t,i){if(!i&&(!t||this.type==t))var n=e(this);if(n!==false)for(var i=this.getChildren(),r=0;r<i.count();r++){n=i.getItem(r);n.type==CKEDITOR.NODE_ELEMENT?n.forEach(e,t):(!t||n.type==t)&&e(n)}}});var n={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){if(typeof t=="number"){if(n&&(!CKEDITOR.env.ie||!CKEDITOR.env.quirks))t=t-i.call(this,e);this.setStyle(e,t+"px")}};CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;t&&(n=n-i.call(this,e));return n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document;this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){e=e.$;e.parentNode.insertBefore(this.$,e.nextSibling)}},!0,{append:1,appendBogus:1,getFirst:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function e(e,t){var i=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(i.collapsed){this.end();return null}i.optimize()}var n,r=i.startContainer;n=i.endContainer;var o=i.startOffset,s=i.endOffset,a,l=this.guard,c=this.type,u=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=n.type==CKEDITOR.NODE_ELEMENT?n:n.getParent(),f=n.type==CKEDITOR.NODE_ELEMENT?n.getChild(s):n.getNext();this._.guardLTR=function(e,t){return(!t||!d.equals(e))&&(!f||!e.equals(f))&&(e.type!=CKEDITOR.NODE_ELEMENT||!t||!e.equals(i.root))}}if(e&&!this._.guardRTL){var h=r.type==CKEDITOR.NODE_ELEMENT?r:r.getParent(),p=r.type==CKEDITOR.NODE_ELEMENT?o?r.getChild(o-1):null:r.getPrevious();this._.guardRTL=function(e,t){return(!t||!h.equals(e))&&(!p||!e.equals(p))&&(e.type!=CKEDITOR.NODE_ELEMENT||!t||!e.equals(i.root))}}var m=e?this._.guardRTL:this._.guardLTR;a=l?function(e,t){return m(e,t)===false?false:l(e,t)}:m;if(this.current)n=this.current[u](false,c,a);else{if(e)n.type==CKEDITOR.NODE_ELEMENT&&(n=s>0?n.getChild(s-1):a(n,true)===false?null:n.getPreviousSourceNode(true,c,a));else{n=r;if(n.type==CKEDITOR.NODE_ELEMENT&&!(n=n.getChild(o)))n=a(r,true)===false?null:r.getNextSourceNode(true,c,a)}n&&a(n)===false&&(n=null)}for(;n&&!this._.end;){this.current=n;if(!this.evaluator||this.evaluator(n)!==false){if(!t)return n}else if(t&&this.evaluator)return false;n=n[u](false,c,a)}this.end();return this.current=null}function t(t){for(var i,n=null;i=e.call(this,t);)n=i;return n}function i(e){if(c(e))return false;if(e.type==CKEDITOR.NODE_TEXT)return true;if(e.type==CKEDITOR.NODE_ELEMENT){if(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||e.getAttribute("contenteditable")=="false")return true;var t;if(t=!CKEDITOR.env.needsBrFiller)if(t=e.is(u))e:{t=0;for(var i=e.getChildCount();t<i;++t)if(!c(e.getChild(t))){t=false;break e}t=true}if(t)return true}return false}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e;this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return e.call(this,0,1)!==false},checkBackward:function(){return e.call(this,1,1)!==false},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current;this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},r={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return this.getComputedStyle("float")=="none"&&!(this.getComputedStyle("position")in r)&&n[this.getComputedStyle("display")]?true:!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))};CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(e,t){function i(e){return e&&e.getName&&e.getName()=="span"&&e.data("cke-bookmark")}return function(n){var r,o;r=n&&n.type!=CKEDITOR.NODE_ELEMENT&&(o=n.getParent())&&i(o);r=e?r:r||i(n);return!!(t^r)}};CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var i;t&&t.type==CKEDITOR.NODE_TEXT&&(i=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()=="​");return!!(e^i)}};CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(n){if(t(n))n=1;else{n.type==CKEDITOR.NODE_TEXT&&(n=n.getParent());n=n.$.offsetWidth<=i}return!!(e^n)}};CKEDITOR.dom.walker.nodeType=function(e,t){return function(i){return!!(t^i.type==e)}};CKEDITOR.dom.walker.bogus=function(e){function t(e){return!s(e)&&!a(e)}return function(i){var n=CKEDITOR.env.needsBrFiller?i.is&&i.is("br"):i.getText&&o.test(i.getText());if(n){n=i.getParent();i=i.getNext(t);n=n.isBlockBoundary()&&(!i||i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary())}return!!(e^n)}};CKEDITOR.dom.walker.temp=function(e){return function(t){t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());t=t&&t.hasAttribute("data-cke-temp");return!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),l=CKEDITOR.dom.walker.temp();CKEDITOR.dom.walker.ignored=function(e){return function(t){t=s(t)||a(t)||l(t);return!!(e^t)}};var c=CKEDITOR.dom.walker.ignored(),u=function(e){var t={},i;for(i in e)CKEDITOR.dtd[i]["#"]&&(t[i]=1);return t}(CKEDITOR.dtd.$block);CKEDITOR.dom.walker.editable=function(e){return function(t){return!!(e^i(t))}};CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do e=e.getPreviousSourceNode();while(a(e)||s(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty));return e&&(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&o.test(e.getText()))?e:false}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=true;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument();this.root=t?e.getBody():e},function(){function e(){var e=false,t=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(true),n=CKEDITOR.dom.walker.bogus();return function(r){if(i(r)||t(r))return true;if(n(r)&&!e)return e=true;return r.type==CKEDITOR.NODE_TEXT&&(r.hasAscendant("pre")||CKEDITOR.tools.trim(r.getText()).length)||r.type==CKEDITOR.NODE_ELEMENT&&!r.is(o)?false:true}}function t(e){var t=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(n){return i(n)||t(n)?true:!e&&s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.is(CKEDITOR.dtd.$removeEmpty)}}function i(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){!t&&c(e)&&(t=e);return l(e)&&!(s(e)&&e.equals(t))})}}var n=function(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset},r=function(e,t,i,n){e.optimizeBookmark();var r=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset,l,c;if(o.type==CKEDITOR.NODE_TEXT)o=o.split(a);else if(o.getChildCount()>0)if(a>=o.getChildCount()){o=o.append(e.document.createText(""));c=true}else o=o.getChild(a);if(r.type==CKEDITOR.NODE_TEXT){r.split(s);r.equals(o)&&(o=r.getNext())}else if(s)if(s>=r.getChildCount()){r=r.append(e.document.createText(""));l=true}else r=r.getChild(s).getPrevious();else{r=r.append(e.document.createText(""),1);l=true}var s=r.getParents(),a=o.getParents(),u,d,f;for(u=0;u<s.length;u++){d=s[u];f=a[u];if(!d.equals(f))break}for(var h=i,p,m,g,v=u;v<s.length;v++){p=s[v];h&&!p.equals(r)&&(m=h.append(p.clone()));for(p=p.getNext();p;){if(p.equals(a[v])||p.equals(o))break;g=p.getNext();if(t==2)h.append(p.clone(true));else{p.remove();t==1&&h.append(p)}p=g}h&&(h=m)}h=i;for(i=u;i<a.length;i++){p=a[i];t>0&&!p.equals(o)&&(m=h.append(p.clone()));if(!s[i]||p.$.parentNode!=s[i].$.parentNode)for(p=p.getPrevious();p;){if(p.equals(s[i])||p.equals(r))break;g=p.getPrevious();if(t==2)h.$.insertBefore(p.$.cloneNode(true),h.$.firstChild);else{p.remove();t==1&&h.$.insertBefore(p.$,h.$.firstChild)}p=g}h&&(h=m)}if(t==2){d=e.startContainer;if(d.type==CKEDITOR.NODE_TEXT){d.$.data=d.$.data+d.$.nextSibling.data;d.$.parentNode.removeChild(d.$.nextSibling)}e=e.endContainer;if(e.type==CKEDITOR.NODE_TEXT&&e.$.nextSibling){e.$.data=e.$.data+e.$.nextSibling.data;e.$.parentNode.removeChild(e.$.nextSibling)}}else{if(d&&f&&(r.$.parentNode!=d.$.parentNode||o.$.parentNode!=f.$.parentNode)){t=f.getIndex();l&&f.$.parentNode==r.$.parentNode&&t--;if(n&&d.type==CKEDITOR.NODE_ELEMENT){n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document);n.insertAfter(d);d.mergeSiblings(false);e.moveToBookmark({startNode:n})}else e.setStart(f.getParent(),t)}e.collapse(true)}l&&r.remove();c&&o.$.parentNode&&o.remove()},o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},s=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),c=CKEDITOR.dom.walker.ignored(true);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);e._setStartContainer(this.startContainer);e.startOffset=this.startOffset;e._setEndContainer(this.endContainer);e.endOffset=this.endOffset;e.collapsed=this.collapsed;return e},collapse:function(e){if(e){this._setEndContainer(this.startContainer);this.endOffset=this.startOffset}else{this._setStartContainer(this.endContainer);this.startOffset=this.endOffset}this.collapsed=true},cloneContents:function(){var e=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||r(this,2,e);return e},deleteContents:function(e){this.collapsed||r(this,0,null,e)},extractContents:function(e){var t=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||r(this,1,t,e);return t},createBookmark:function(e){var t,i,n,r,o=this.collapsed;t=this.document.createElement("span");t.data("cke-bookmark",1);t.setStyle("display","none");t.setHtml("&nbsp;");if(e){n="cke_bm_"+CKEDITOR.tools.getNextNumber();t.setAttribute("id",n+(o?"C":"S"))}if(!o){i=t.clone();i.setHtml("&nbsp;");e&&i.setAttribute("id",n+"E");r=this.clone();r.collapse();r.insertNode(i)}r=this.clone();r.collapse(true);r.insertNode(t);if(i){this.setStartAfter(t);this.setEndBefore(i)}else this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END);return{startNode:e?n+(o?"C":"S"):t,endNode:e?n+"E":i,serializable:e,collapsed:o}},createBookmark2:function(){function e(e){var i=e.container,n=e.offset,r;r=i;var o=n;r=r.type!=CKEDITOR.NODE_ELEMENT||o===0||o==r.getChildCount()?0:r.getChild(o-1).type==CKEDITOR.NODE_TEXT&&r.getChild(o).type==CKEDITOR.NODE_TEXT;if(r){i=i.getChild(n-1);n=i.getLength()}i.type==CKEDITOR.NODE_ELEMENT&&n>1&&(n=i.getChild(n-1).getIndex(true)+1);if(i.type==CKEDITOR.NODE_TEXT){r=i;for(o=0;(r=r.getPrevious())&&r.type==CKEDITOR.NODE_TEXT;)o=o+r.getLength();r=o;if(i.getText())n=n+r;else{o=i.getPrevious(t);if(r){n=r;i=o?o.getNext():i.getParent().getFirst()}else{i=i.getParent();n=o?o.getIndex(true)+1:0}}}e.container=i;e.offset=n}var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,true);return function(t){var i=this.collapsed,n={container:this.startContainer,offset:this.startOffset},r={container:this.endContainer,offset:this.endOffset};if(t){e(n);i||e(r)}return{start:n.container.getAddress(t),end:i?null:r.container.getAddress(t),startOffset:n.offset,endOffset:r.offset,normalized:t,collapsed:i,is2:true}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),i=e.startOffset,n=e.end&&this.document.getByAddress(e.end,e.normalized),e=e.endOffset;this.setStart(t,i);n?this.setEnd(n,e):this.collapse(true)}else{t=(i=e.serializable)?this.document.getById(e.startNode):e.startNode;e=i?this.document.getById(e.endNode):e.endNode;this.setStartBefore(t);t.remove();if(e){this.setEndBefore(e);e.remove()}else this.collapse(true)}},getBoundaryNodes:function(){var e=this.startContainer,t=this.endContainer,i=this.startOffset,n=this.endOffset,r;if(e.type==CKEDITOR.NODE_ELEMENT){r=e.getChildCount();if(r>i)e=e.getChild(i);else if(r<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=new CKEDITOR.dom.node(e);e=e.getNextSourceNode()||e}}if(t.type==CKEDITOR.NODE_ELEMENT){r=t.getChildCount();if(r>n)t=t.getChild(n).getPreviousSourceNode(true);else if(r<1)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=new CKEDITOR.dom.node(t)}}e.getPosition(t)&CKEDITOR.POSITION_FOLLOWING&&(e=t);return{startNode:e,endNode:t}},getCommonAncestor:function(e,t){var i=this.startContainer,n=this.endContainer,i=i.equals(n)?e&&i.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?i.getChild(this.startOffset):i:i.getCommonAncestor(n);return t&&!i.is?i.getParent():i},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e));e=this.endContainer;t=this.endOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&(e.is("span")&&e.data("cke-bookmark"))&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START);t&&(t.is&&t.is("span")&&t.data("cke-bookmark"))&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var i=this.startContainer,n=this.startOffset,r=this.collapsed;if((!e||r)&&i&&i.type==CKEDITOR.NODE_TEXT){if(n)if(n>=i.getLength()){n=i.getIndex()+1;i=i.getParent()}else{var o=i.split(n),n=i.getIndex()+1,i=i.getParent();if(this.startContainer.equals(this.endContainer))this.setEnd(o,this.endOffset-this.startOffset);else if(i.equals(this.endContainer))this.endOffset=this.endOffset+1}else{n=i.getIndex();i=i.getParent()}this.setStart(i,n);if(r){this.collapse(true);return}}i=this.endContainer;n=this.endOffset;if(!t&&!r&&i&&i.type==CKEDITOR.NODE_TEXT){if(n){n>=i.getLength()||i.split(n);n=i.getIndex()+1}else n=i.getIndex();i=i.getParent();this.setEnd(i,n)}},enlarge:function(e,t){function i(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var n=RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var r=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var o=this.getCommonAncestor(),s=this.root,a,l,c,u,d,f=false,h,p;h=this.startContainer;var m=this.startOffset;if(h.type==CKEDITOR.NODE_TEXT){if(m){h=!CKEDITOR.tools.trim(h.substring(0,m)).length&&h;f=!!h}if(h&&!(u=h.getPrevious()))c=h.getParent()}else{m&&(u=h.getChild(m-1)||h.getLast());u||(c=h)}for(c=i(c);c||u;){if(c&&!u){!d&&c.equals(o)&&(d=true);if(r?c.isBlockBoundary():!s.contains(c))break;if(!f||c.getComputedStyle("display")!="inline"){f=false;d?a=c:this.setStartBefore(c)}u=c.getPrevious()}for(;u;){h=false;if(u.type==CKEDITOR.NODE_COMMENT)u=u.getPrevious();else{if(u.type==CKEDITOR.NODE_TEXT){p=u.getText();n.test(p)&&(u=null);h=/[\s\ufeff]$/.test(p)}else if((u.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&u.is("br"))&&!u.data("cke-bookmark"))if(f&&CKEDITOR.dtd.$removeEmpty[u.getName()]){p=u.getText();if(n.test(p))u=null;else for(var m=u.$.getElementsByTagName("*"),g=0,v;v=m[g++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}u&&(h=!!p.length)}else u=null;h&&(f?d?a=c:c&&this.setStartBefore(c):f=true);if(u){h=u.getPrevious();if(!c&&!h){c=u;u=null;break}u=h}else c=null}}c&&(c=i(c.getParent()))}h=this.endContainer;m=this.endOffset;c=u=null;d=f=false;var w=function(e,t){var i=new CKEDITOR.dom.range(s);i.setStart(e,t);i.setEndAt(s,CKEDITOR.POSITION_BEFORE_END);var i=new CKEDITOR.dom.walker(i),r;for(i.guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};r=i.next();){if(r.type!=CKEDITOR.NODE_TEXT)return false;p=r!=e?r.getText():r.substring(t);if(n.test(p))return false}return true};if(h.type==CKEDITOR.NODE_TEXT)if(CKEDITOR.tools.trim(h.substring(m)).length)f=true;else{f=!h.getLength();if(m==h.getLength()){if(!(u=h.getNext()))c=h.getParent()}else w(h,m)&&(c=h.getParent())}else(u=h.getChild(m))||(c=h);for(;c||u;){if(c&&!u){!d&&c.equals(o)&&(d=true);if(r?c.isBlockBoundary():!s.contains(c))break;if(!f||c.getComputedStyle("display")!="inline"){f=false;d?l=c:c&&this.setEndAfter(c)}u=c.getNext()}for(;u;){h=false;if(u.type==CKEDITOR.NODE_TEXT){p=u.getText();w(u,0)||(u=null);h=/^[\s\ufeff]/.test(p)}else if(u.type==CKEDITOR.NODE_ELEMENT){if((u.$.offsetWidth>0||t&&u.is("br"))&&!u.data("cke-bookmark"))if(f&&CKEDITOR.dtd.$removeEmpty[u.getName()]){p=u.getText();if(n.test(p))u=null;else{m=u.$.getElementsByTagName("*");
for(g=0;v=m[g++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}}u&&(h=!!p.length)}else u=null}else h=1;h&&f&&(d?l=c:this.setEndAfter(c));if(u){h=u.getNext();if(!c&&!h){c=u;u=null;break}u=h}else c=null}c&&(c=i(c.getParent()))}if(a&&l){o=a.contains(l)?l:a;this.setStartBefore(o);this.setEndAfter(o)}break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:c=new CKEDITOR.dom.range(this.root);s=this.root;c.setStartAt(s,CKEDITOR.POSITION_AFTER_START);c.setEnd(this.startContainer,this.startOffset);c=new CKEDITOR.dom.walker(c);var b,y,_=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),E=null,T=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&e.getAttribute("contenteditable")=="false")if(E){if(E.equals(e)){E=null;return}}else E=e;else if(E)return;var t=_(e);t||(b=e);return t},r=function(e){var t=T(e);!t&&(e.is&&e.is("br"))&&(y=e);return t};c.guard=T;c=c.lastBackward();b=b||s;this.setStartAt(b,!b.is("br")&&(!c&&this.checkStartOfBlock()||c&&b.contains(c))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){c=this.clone();c=new CKEDITOR.dom.walker(c);var C=CKEDITOR.dom.walker.whitespaces(),S=CKEDITOR.dom.walker.bookmark();c.evaluator=function(e){return!C(e)&&!S(e)};if((c=c.previous())&&c.type==CKEDITOR.NODE_ELEMENT&&c.is("br"))break}c=this.clone();c.collapse();c.setEndAt(s,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(c);c.guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?r:T;b=E=y=null;c=c.lastForward();b=b||s;this.setEndAt(b,!c&&this.checkEndOfBlock()||c&&b.contains(c)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);y&&this.setEndAfter(y)}},shrink:function(e,t,i){if(!this.collapsed){var e=e||CKEDITOR.SHRINK_TEXT,n=this.clone(),r=this.startContainer,o=this.endContainer,s=this.startOffset,a=this.endOffset,l=1,c=1;if(r&&r.type==CKEDITOR.NODE_TEXT)if(s)if(s>=r.getLength())n.setStartAfter(r);else{n.setStartBefore(r);l=0}else n.setStartBefore(r);if(o&&o.type==CKEDITOR.NODE_TEXT)if(a)if(a>=o.getLength())n.setEndAfter(o);else{n.setEndAfter(o);c=0}else n.setEndBefore(o);var n=new CKEDITOR.dom.walker(n),u=CKEDITOR.dom.walker.bookmark();n.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var d;n.guard=function(t,n){if(u(t))return true;if(e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||n&&t.equals(d)||i===false&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))return false;!n&&t.type==CKEDITOR.NODE_ELEMENT&&(d=t);return true};if(l)(r=n[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(r,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);if(c){n.reset();(n=n[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(n,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)}return!(!l&&!c)}},insertNode:function(e){this.optimizeBookmark();this.trim(false,true);var t=this.startContainer,i=t.getChild(this.startOffset);i?e.insertBefore(i):t.append(e);e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t);this.collapse(true)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset);this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0);this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]){t=e.getIndex();e=e.getParent()}this._setStartContainer(e);this.startOffset=t;if(!this.endContainer){this._setEndContainer(e);this.endOffset=t}n(this)},setEnd:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]){t=e.getIndex()+1;e=e.getParent()}this._setEndContainer(e);this.endOffset=t;if(!this.startContainer){this._setStartContainer(e);this.startOffset=t}n(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}n(this)},setEndAt:function(e,t){switch(t){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}n(this)},fixBlock:function(e,t){var i=this.createBookmark(),n=this.document.createElement(t);this.collapse(e);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(n);n.trim();n.appendBogus();this.insertNode(n);this.moveToBookmark(i);return n},splitBlock:function(e){var t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),n=t.block,r=i.block,o=null;if(!t.blockLimit.equals(i.blockLimit))return null;if(e!="br"){if(!n){n=this.fixBlock(true,e);r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block}r||(r=this.fixBlock(false,e))}e=n&&this.checkStartOfBlock();t=r&&this.checkEndOfBlock();this.deleteContents();if(n&&n.equals(r))if(t){o=new CKEDITOR.dom.elementPath(this.startContainer,this.root);this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END);r=null}else if(e){o=new CKEDITOR.dom.elementPath(this.startContainer,this.root);this.moveToPosition(n,CKEDITOR.POSITION_BEFORE_START);n=null}else{r=this.splitElement(n);n.is("ul","ol")||n.appendBogus()}return{previousBlock:n,nextBlock:r,wasStartOfBlock:e,wasEndOfBlock:t,elementPath:o}},splitElement:function(e){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var t=this.extractContents(),i=e.clone(false);t.appendTo(i);i.insertAfter(e);this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END);return i},removeEmptyBlocksAtEnd:function(){function e(e){return function(n){return t(n)||(i(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isEmptyInlineRemoveable())||e.is("table")&&n.is("caption")?false:true}}var t=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(false);return function(t){for(var i=this.createBookmark(),n=this[t?"endPath":"startPath"](),r=n.block||n.blockLimit,o;r&&!r.equals(n.root)&&!r.getFirst(e(r));){o=r.getParent();this[t?"setEndAt":"setStartAt"](r,CKEDITOR.POSITION_AFTER_END);r.remove(1);r=o}this.moveToBookmark(i)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,i){var n=i==CKEDITOR.START,r=this.clone();r.collapse(n);r[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);r=new CKEDITOR.dom.walker(r);r.evaluator=t(n);return r[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,i=this.startOffset;if(CKEDITOR.env.ie&&i&&t.type==CKEDITOR.NODE_TEXT){t=CKEDITOR.tools.ltrim(t.substring(0,i));a.test(t)&&this.trim(0,1)}this.trim();t=new CKEDITOR.dom.elementPath(this.startContainer,this.root);i=this.clone();i.collapse(true);i.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START);t=new CKEDITOR.dom.walker(i);t.evaluator=e();return t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,i=this.endOffset;if(CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT){t=CKEDITOR.tools.rtrim(t.substring(i));a.test(t)&&this.trim(1,0)}this.trim();t=new CKEDITOR.dom.elementPath(this.endContainer,this.root);i=this.clone();i.collapse(false);i.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END);t=new CKEDITOR.dom.walker(i);t.evaluator=e();return t.checkForward()},getPreviousNode:function(e,t,i){var n=this.clone();n.collapse(1);n.setStartAt(i||this.root,CKEDITOR.POSITION_AFTER_START);i=new CKEDITOR.dom.walker(n);i.evaluator=e;i.guard=t;return i.previous()},getNextNode:function(e,t,i){var n=this.clone();n.collapse();n.setEndAt(i||this.root,CKEDITOR.POSITION_BEFORE_END);i=new CKEDITOR.dom.walker(n);i.evaluator=e;i.guard=t;return i.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if(e.getAttribute("contentEditable")=="false"&&!e.data("cke-editable"))return 0;if(e.is("html")||e.getAttribute("contentEditable")=="true"&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,i=this.endContainer;return!(e(t,i)&&e(i,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(false)){this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);return true}for(var i=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);i=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable()){this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START);i=1}else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if(e.getAttribute("contenteditable")=="false"&&e.is(CKEDITOR.dtd.$block)){this.setStartBefore(e);this.setEndAfter(e);return true}var n=e,r=i,o=void 0;n.type==CKEDITOR.NODE_ELEMENT&&n.isEditable(false)&&(o=n[t?"getLast":"getFirst"](c));!r&&!o&&(o=n[t?"getPrevious":"getNext"](c));e=o}return!!i},moveToClosestEditablePosition:function(e,t){var i=new CKEDITOR.dom.range(this.root),n=0,r,o=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];i.moveToPosition(e,o[t?0:1]);if(e.is(CKEDITOR.dtd.$block)){if(r=i[t?"getNextEditableNode":"getPreviousEditableNode"]()){n=1;if(r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$block)&&r.getAttribute("contenteditable")=="false"){i.setStartAt(r,CKEDITOR.POSITION_BEFORE_START);i.setEndAt(r,CKEDITOR.POSITION_AFTER_END)}else i.moveToPosition(r,o[t?1:0])}}else n=1;n&&this.moveToRange(i);return!!n},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,true)},getEnclosedNode:function(){var e=this.clone();e.optimize();if(e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(false,true),i=CKEDITOR.dom.walker.whitespaces(true);e.evaluator=function(e){return i(e)&&t(e)};var n=e.next();e.reset();return n&&n.equals(e.previous())?n:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:i(),getPreviousEditableNode:i(1),scrollIntoView:function(){var e=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),t,i,n,r=this.clone();r.optimize();if(n=r.startContainer.type==CKEDITOR.NODE_TEXT){i=r.startContainer.getText();t=r.startContainer.split(r.startOffset);e.insertAfter(r.startContainer)}else r.insertNode(e);e.scrollIntoView();if(n){r.startContainer.setText(i);t.remove()}e.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,"use strict",function(){function e(e){if(!(arguments.length<1)){this.range=e;this.forceBrBreak=0;this.enlargeBr=1;this.enforceRealBlocks=0;this._||(this._={})}}function t(e){var t=[];e.forEach(function(e){if(e.getAttribute("contenteditable")=="true"){t.push(e);return false}},CKEDITOR.NODE_ELEMENT,true);return t}function i(e,n,r,o){e:{o==null&&(o=t(r));for(var s;s=o.shift();)if(s.getDtd().p){o={element:s,remaining:o};break e}o=null}if(!o)return 0;if((s=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!s.check(n))return i(e,n,r,o.remaining);n=new CKEDITOR.dom.range(o.element);n.selectNodeContents(o.element);n=n.createIterator();n.enlargeBr=e.enlargeBr;n.enforceRealBlocks=e.enforceRealBlocks;n.activeFilter=n.filter=s;e._.nestedEditable={element:o.element,container:r,remaining:o.remaining,iterator:n};return 1}function n(e,t,i){if(!t)return false;e=e.clone();e.collapse(!i);return e.checkBoundaryOfElement(t,i?CKEDITOR.START:CKEDITOR.END)}var r=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(false,true),s=CKEDITOR.dom.walker.whitespaces(true),a=function(e){return o(e)&&s(e)},l={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var t,s,c,u,d,e=e||"p";if(this._.nestedEditable){if(t=this._.nestedEditable.iterator.getNextParagraph(e)){this.activeFilter=this._.nestedEditable.iterator.activeFilter;return t}this.activeFilter=this.filter;if(i(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining)){this.activeFilter=this._.nestedEditable.iterator.activeFilter;return this._.nestedEditable.iterator.getNextParagraph(e)}this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var f=this.range.clone();s=f.startPath();var h=f.endPath(),p=!f.collapsed&&n(f,s.block),m=!f.collapsed&&n(f,h.block,1);f.shrink(CKEDITOR.SHRINK_ELEMENT,true);p&&f.setStartAt(s.block,CKEDITOR.POSITION_BEFORE_END);m&&f.setEndAt(h.block,CKEDITOR.POSITION_AFTER_START);s=f.endContainer.hasAscendant("pre",true)||f.startContainer.hasAscendant("pre",true);f.enlarge(this.forceBrBreak&&!s||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);if(!f.collapsed){s=new CKEDITOR.dom.walker(f.clone());h=CKEDITOR.dom.walker.bookmark(true,true);s.evaluator=h;this._.nextNode=s.next();s=new CKEDITOR.dom.walker(f.clone());s.evaluator=h;s=s.previous();this._.lastNode=s.getNextSourceNode(true,null,f.root);if(this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()){h=this.range.clone();h.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END);if(h.checkEndOfBlock()){h=new CKEDITOR.dom.elementPath(h.endContainer,h.root);this._.lastNode=(h.block||h.blockLimit).getNextSourceNode(true)}}if(!this._.lastNode||!f.root.contains(this._.lastNode)){this._.lastNode=this._.docEndMarker=f.document.createText("");this._.lastNode.insertAfter(s)}f=null}this._.started=1;s=f}h=this._.nextNode;f=this._.lastNode;for(this._.nextNode=null;h;){var p=0,m=h.hasAscendant("pre"),g=h.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)h.type==CKEDITOR.NODE_TEXT&&r.test(h.getText())&&(g=0);else{var w=h.getName();if(CKEDITOR.dtd.$block[w]&&h.getAttribute("contenteditable")=="false"){t=h;i(this,e,t);break}else if(h.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if(w=="br")g=1;else if(!s&&!h.getChildCount()&&w!="hr"){t=h;c=h.equals(f);break}if(s){s.setEndAt(h,CKEDITOR.POSITION_BEFORE_START);if(w!="br")this._.nextNode=h}p=1}else{if(h.getFirst()){if(!s){s=this.range.clone();s.setStartAt(h,CKEDITOR.POSITION_BEFORE_START)}h=h.getFirst();continue}g=1}}if(g&&!s){s=this.range.clone();s.setStartAt(h,CKEDITOR.POSITION_BEFORE_START)}c=(!p||g)&&h.equals(f);if(s&&!p)for(;!h.getNext(a)&&!c;){w=h.getParent();if(w.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){p=1;g=0;c||w.equals(f);s.setEndAt(w,CKEDITOR.POSITION_BEFORE_END);break}h=w;g=1;c=h.equals(f);v=1}g&&s.setEndAt(h,CKEDITOR.POSITION_AFTER_END);h=this._getNextSourceNode(h,v,f);if((c=!h)||p&&s)break}if(!t){if(!s){this._.docEndMarker&&this._.docEndMarker.remove();return this._.nextNode=null}t=new CKEDITOR.dom.elementPath(s.startContainer,s.root);h=t.blockLimit;p={div:1,th:1,td:1};t=t.block;if(!t&&h&&!this.enforceRealBlocks&&p[h.getName()]&&s.checkStartOfBlock()&&s.checkEndOfBlock()&&!h.equals(s.root))t=h;else if(!t||this.enforceRealBlocks&&t.is(l)){t=this.range.document.createElement(e);s.extractContents().appendTo(t);t.trim();s.insertNode(t);u=d=true}else if(t.getName()!="li"){if(!s.checkStartOfBlock()||!s.checkEndOfBlock()){t=t.clone(false);s.extractContents().appendTo(t);t.trim();d=s.splitBlock();u=!d.wasStartOfBlock;d=!d.wasEndOfBlock;s.insertNode(t)}}else if(!c)this._.nextNode=t.equals(f)?null:this._getNextSourceNode(s.getBoundaryNodes().endNode,1,f)}if(u)(u=t.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&(u.getName()=="br"?u.remove():u.getLast()&&u.getLast().$.nodeName.toLowerCase()=="br"&&u.getLast().remove());if(d)(u=t.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()=="br"&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(o)||u.getNext(o))&&u.remove();if(!this._.nextNode)this._.nextNode=c||t.equals(f)||!f?null:this._getNextSourceNode(t,1,f);return t},_getNextSourceNode:function(e,t,i){function n(e){return!(e.equals(i)||e.equals(r))}for(var r=this.range.root,e=e.getNextSourceNode(t,null,n);!o(e);)e=e.getNextSourceNode(t,null,n);return e}};CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){this.uiItems=[];this.exec=function(i){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return false;this.editorFocus&&e.focus();return this.fire("exec")===false?true:t.exec.call(this,e,i)!==false};this.refresh=function(e,i){if(!this.readOnly&&e.readOnly)return true;if(this.context&&!i.isContextFor(this.context)){this.disable();return true}if(!this.checkAllowed(true)){this.disable();return true}this.startDisabled||this.enable();this.modes&&!this.modes[e.mode]&&this.disable();return this.fire("refresh",{editor:e,path:i})===false?true:t.refresh&&t.refresh.apply(this,arguments)!==false};var i;this.checkAllowed=function(t){return!t&&typeof i=="boolean"?i:i=e.activeFilter.checkFeature(this)};CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(!this.preserveState||typeof this.previousState=="undefined"?CKEDITOR.TRISTATE_OFF:this.previousState)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){if(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return false;this.previousState=this.state;this.state=e;this.fire("state");return true},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,i,n,r){var o,a,e=[];for(o in t){a=t[o];a=typeof a=="boolean"?{}:typeof a=="function"?{match:a}:k(a);if(o.charAt(0)!="$")a.elements=o;if(i)a.featureName=i.toLowerCase();var l=a;l.elements=s(l.elements,/\s+/)||null;l.propertiesOnly=l.propertiesOnly||l.elements===true;var c=/\s*,\s*/,u=void 0;for(u in P){l[u]=s(l[u],c)||null;var d=l,f=A[u],h=s(l[A[u]],c),p=l[u],m=[],g=true,w=void 0;h?g=false:h={};for(w in p)if(w.charAt(0)=="!"){w=w.slice(1);m.push(w);h[w]=true;g=false}for(;w=m.pop();){p[w]=p["!"+w];delete p["!"+w]}d[f]=(g?false:h)||null}l.match=l.match||null;n.push(a);e.push(a)}for(var t=r.elements,r=r.generic,b,i=0,n=e.length;i<n;++i){o=k(e[i]);a=o.classes===true||o.styles===true||o.attributes===true;l=o;u=f=c=void 0;for(c in P)l[c]=v(l[c]);d=true;for(u in A){c=A[u];f=l[c];h=[];p=void 0;for(p in f)p.indexOf("*")>-1?h.push(RegExp("^"+p.replace(/\*/g,".*")+"$")):h.push(p);f=h;if(f.length){l[c]=f;d=false}}l.nothingRequired=d;l.noProperties=!(l.attributes||l.classes||l.styles);if(o.elements===true||o.elements===null)r[a?"unshift":"push"](o);else{l=o.elements;delete o.elements;for(b in l)if(t[b])t[b][a?"unshift":"push"](o);else t[b]=[o]}}}function t(e,t,n,r){if(!e.match||e.match(t))if(r||a(e,t)){if(!e.propertiesOnly)n.valid=true;if(!n.allAttributes)n.allAttributes=i(e.attributes,t.attributes,n.validAttributes);if(!n.allStyles)n.allStyles=i(e.styles,t.styles,n.validStyles);if(!n.allClasses){e=e.classes;t=t.classes;r=n.validClasses;if(e)if(e===true)e=true;else{for(var o=0,s=t.length,l;o<s;++o){l=t[o];r[l]||(r[l]=e(l))}e=false}else e=false;n.allClasses=e}}}function i(e,t,i){if(!e)return false;if(e===true)return true;for(var n in t)i[n]||(i[n]=e(n));return false}function n(e,t,i){if(!e.match||e.match(t)){if(e.noProperties)return false;i.hadInvalidAttribute=r(e.attributes,t.attributes)||i.hadInvalidAttribute;i.hadInvalidStyle=r(e.styles,t.styles)||i.hadInvalidStyle;e=e.classes;t=t.classes;if(e){for(var n=false,o=e===true,s=t.length;s--;)if(o||e(t[s])){t.splice(s,1);n=true}e=n}else e=false;i.hadInvalidClass=e||i.hadInvalidClass}}function r(e,t){if(!e)return false;var i=false,n=e===true,r;for(r in t)if(n||e(r)){delete t[r];i=true}return i}function o(e,t,i){if(e.disabled||e.customConfig&&!i||!t)return false;e._.cachedChecks={};return true}function s(e,t){if(!e)return false;if(e===true)return e;if(typeof e=="string"){e=x(e);return e=="*"?true:CKEDITOR.tools.convertArrayToObject(e.split(t))}if(CKEDITOR.tools.isArray(e))return e.length?CKEDITOR.tools.convertArrayToObject(e):false;var i={},n=0,r;for(r in e){i[r]=e[r];n++}return n?i:false}function a(e,t){if(e.nothingRequired)return true;var i,n,r,o;if(r=e.requiredClasses){o=t.classes;for(i=0;i<r.length;++i){n=r[i];if(typeof n=="string"){if(CKEDITOR.tools.indexOf(o,n)==-1)return false}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,n))return false}}return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return true;for(var i=0,n;i<t.length;++i){n=t[i];if(typeof n=="string"){if(!(n in e))return false}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return false}return true}function c(e){if(!e)return{};for(var e=e.split(/\s*,\s*/).sort(),t={};e.length;)t[e.shift()]=D;return t}function u(e){for(var t,i,n,r,o={},s=1,e=x(e);t=e.match(N);){if(i=t[2]){n=d(i,"styles");r=d(i,"attrs");i=d(i,"classes")}else n=r=i=null;o["$"+s++]={elements:t[1],classes:i,styles:n,attributes:r};e=e.slice(t[0].length)}return o}function d(e,t){var i=e.match(M[t]);return i?x(i[1]):null}function f(e){var t=e.styleBackup=e.attributes.style,i=e.classBackup=e.attributes["class"];if(!e.styles)e.styles=CKEDITOR.tools.parseCssText(t||"",1);if(!e.classes)e.classes=i?i.split(/\s+/):[]}function h(e,i,r,o){var s=0,a;if(o.toHtml)i.name=i.name.replace(L,"$1");if(o.doCallbacks&&e.elementCallbacks){e:for(var l=e.elementCallbacks,c=0,u=l.length,d;c<u;++c)if(d=l[c](i)){a=d;break e}if(a)return a}if(o.doTransform)if(a=e._.transformations[i.name]){f(i);for(l=0;l<a.length;++l)_(e,i,a[l]);m(i)}if(o.doFilter){e:{l=i.name;c=e._;e=c.allowedRules.elements[l];a=c.allowedRules.generic;l=c.disallowedRules.elements[l];c=c.disallowedRules.generic;u=o.skipRequired;d={valid:false,validAttributes:{},validClasses:{},validStyles:{},allAttributes:false,allClasses:false,allStyles:false,hadInvalidAttribute:false,hadInvalidClass:false,hadInvalidStyle:false};var h,p;if(!e&&!a)e=null;else{f(i);if(l){h=0;for(p=l.length;h<p;++h)if(n(l[h],i,d)===false){e=null;break e}}if(c){h=0;for(p=c.length;h<p;++h)n(c[h],i,d)}if(e){h=0;for(p=e.length;h<p;++h)t(e[h],i,d,u)}if(a){h=0;for(p=a.length;h<p;++h)t(a[h],i,d,u)}e=d}}if(!e){r.push(i);return O}if(!e.valid){r.push(i);return O}p=e.validAttributes;var v=e.validStyles;a=e.validClasses;var l=i.attributes,w=i.styles,c=i.classes,u=i.classBackup,b=i.styleBackup,y,E,T=[];d=[];var C=/^data-cke-/;h=false;delete l.style;delete l["class"];delete i.classBackup;delete i.styleBackup;if(!e.allAttributes)for(y in l)if(!p[y])if(C.test(y)){if(y!=(E=y.replace(/^data-cke-saved-/,""))&&!p[E]){delete l[y];h=true}}else{delete l[y];h=true}if(!e.allStyles||e.hadInvalidStyle){for(y in w)e.allStyles||v[y]?T.push(y+":"+w[y]):h=true;if(T.length)l.style=T.sort().join("; ")}else if(b)l.style=b;if(!e.allClasses||e.hadInvalidClass){for(y=0;y<c.length;++y)(e.allClasses||a[c[y]])&&d.push(c[y]);d.length&&(l["class"]=d.sort().join(" "));u&&d.length<u.split(/\s+/).length&&(h=true)}else u&&(l["class"]=u);h&&(s=O);if(!o.skipFinalValidation&&!g(i)){r.push(i);return O}}if(o.toHtml)i.name=i.name.replace(B,"cke:$1");return s}function p(e){var t=[],i;for(i in e)i.indexOf("*")>-1&&t.push(i.replace(/\*/g,".*"));return t.length?RegExp("^(?:"+t.join("|")+")$"):null}function m(e){var t=e.attributes,i;delete t.style;delete t["class"];if(i=CKEDITOR.tools.writeCssText(e.styles,true))t.style=i;e.classes.length&&(t["class"]=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!e.children.length&&!e.attributes.name)return false;break;case"img":if(!e.attributes.src)return false}return true}function v(e){if(!e)return false;if(e===true)return true;var t=p(e);return function(i){return i in e||t&&i.match(t)}}function w(){return new CKEDITOR.htmlParser.element("br")}function b(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.name=="br"||I.$block[e.name])}function y(e,t,i){var n=e.name;if(I.$empty[n]||!e.children.length)if(n=="hr"&&t=="br")e.replaceWith(w());else{e.parent&&i.push({check:"it",el:e.parent});e.remove()}else if(I.$block[n]||n=="tr")if(t=="br"){if(e.previous&&!b(e.previous)){t=w();t.insertBefore(e)}if(e.next&&!b(e.next)){t=w();t.insertAfter(e)}e.replaceWithChildren()}else{var n=e.children,r;e:{r=I[t];for(var o=0,s=n.length,a;o<s;++o){a=n[o];if(a.type==CKEDITOR.NODE_ELEMENT&&!r[a.name]){r=false;break e}}r=true}if(r){e.name=t;e.attributes={};i.push({check:"parent-down",el:e})}else{r=e.parent;for(var o=r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.name=="body",l,c,s=n.length;s>0;){a=n[--s];if(o&&(a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&I.$inline[a.name])){if(!l){l=new CKEDITOR.htmlParser.element(t);l.insertAfter(e);i.push({check:"parent-down",el:l})}l.add(a,0)}else{l=null;c=I[r.name]||I.span;a.insertAfter(e);r.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(a.type==CKEDITOR.NODE_ELEMENT&&!c[a.name])&&i.push({check:"el-up",el:a})}}e.remove()}}else if(n in{style:1,script:1})e.remove();else{e.parent&&i.push({check:"it",el:e.parent});e.replaceWithChildren()}}function _(e,t,i){var n,r;for(n=0;n<i.length;++n){r=i[n];if((!r.check||e.check(r.check,false))&&(!r.left||r.left(t))){r.right(t,K);break}}}function E(e,t){var i=t.getDefinition(),n=i.attributes,r=i.styles,o,s,a,l;if(e.name!=i.element)return false;for(o in n)if(o=="class"){i=n[o].split(/\s+/);for(a=e.classes.join("|");l=i.pop();)if(a.indexOf(l)==-1)return false}else if(e.attributes[o]!=n[o])return false;for(s in r)if(e.styles[s]!=r[s])return false;return true}function T(e,t){var i,n;if(typeof e=="string")i=e;else if(e instanceof CKEDITOR.style)n=e;else{i=e[0];n=e[1]}return[{element:i,left:n,right:function(e,i){i.transform(e,t)}}]}function C(e){return function(t){return E(t,e)}}function S(e){return function(t,i){i[e](t)}}var I=CKEDITOR.dtd,O=1,k=CKEDITOR.tools.copy,x=CKEDITOR.tools.trim,D="cke-test",R=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(e){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=false;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(e instanceof CKEDITOR.editor){e=this.editor=e;this.customConfig=true;var t=e.config.allowedContent;if(t===true)this.disabled=true;else{if(!t)this.customConfig=false;this.allow(t,"config",1);this.allow(e.config.extraAllowedContent,"extra",1);this.allow(R[e.enterMode]+" "+R[e.shiftEnterMode],"default",1);this.disallow(e.config.disallowedContent)}}else{this.customConfig=false;this.allow(e,"default",1)}};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(t,i,n){if(!o(this,t,n))return false;var r,s;if(typeof t=="string")t=u(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),i,n);r=t.getDefinition();t={};n=r.attributes;t[r.element]=r={styles:r.styles,requiredStyles:r.styles&&CKEDITOR.tools.objectKeys(r.styles)};if(n){n=k(n);r.classes=n["class"]?n["class"].split(/\s+/):null;r.requiredClasses=r.classes;delete n["class"];r.attributes=n;r.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n)}}else if(CKEDITOR.tools.isArray(t)){for(r=0;r<t.length;++r)s=this.allow(t[r],i,n);return s}e(this,t,i,this.allowedContent,this._.allowedRules);return true},applyTo:function(e,t,i,n){if(this.disabled)return false;var r=this,o=[],s=this.editor&&this.editor.config.protectedSource,a,l=false,c={doFilter:!i,doTransform:true,doCallbacks:true,toHtml:t};e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if(e.attributes["data-cke-filter"]=="off")return false;if(!t||!(e.name=="span"&&~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))){a=h(r,e,o,c);if(a&O)l=true;else if(a&2)return false}}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var i;e:{var n=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));i=[];var u,d,f;if(s)for(d=0;d<s.length;++d)if((f=n.match(s[d]))&&f[0].length==n.length){i=true;break e}n=CKEDITOR.htmlParser.fragment.fromHtml(n);n.children.length==1&&(u=n.children[0]).type==CKEDITOR.NODE_ELEMENT&&h(r,u,i,c);i=!i.length}i||o.push(e)}},null,true);o.length&&(l=true);for(var u,e=[],n=R[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)],d;i=o.pop();)i.type==CKEDITOR.NODE_ELEMENT?y(i,n,e):i.remove();for(;u=e.pop();){i=u.el;if(i.parent){d=I[i.parent.name]||I.span;switch(u.check){case"it":I.$removeEmpty[i.name]&&!i.children.length?y(i,n,e):g(i)||y(i,n,e);break;case"el-up":i.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[i.name]&&y(i,n,e);break;case"parent-down":i.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT&&!d[i.name]&&y(i.parent,n,e)}}}return l},checkFeature:function(e){if(this.disabled||!e)return true;e.toFeature&&(e=e.toFeature(this.editor));return!e.requiredContent||this.check(e.requiredContent)},disable:function(){this.disabled=true},disallow:function(t){if(!o(this,t,true))return false;typeof t=="string"&&(t=u(t));e(this,t,null,this.disallowedContent,this._.disallowedRules);return true},addContentForms:function(e){if(!this.disabled&&e){var t,i,n=[],r;for(t=0;t<e.length&&!r;++t){i=e[t];if((typeof i=="string"||i instanceof CKEDITOR.style)&&this.check(i))r=i}if(r){for(t=0;t<e.length;++t)n.push(T(e[t],r));this.addTransformations(n)}}},addElementCallback:function(e){if(!this.elementCallbacks)this.elementCallbacks=[];this.elementCallbacks.push(e)},addFeature:function(e){if(this.disabled||!e)return true;e.toFeature&&(e=e.toFeature(this.editor));this.allow(e.allowedContent,e.name);this.addTransformations(e.contentTransformations);this.addContentForms(e.contentForms);return e.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(e.requiredContent):true},addTransformations:function(e){var t,i;
if(!this.disabled&&e){var n=this._.transformations,r;for(r=0;r<e.length;++r){t=e[r];var o=void 0,s=void 0,a=void 0,l=void 0,c=void 0,u=void 0;i=[];for(s=0;s<t.length;++s){a=t[s];if(typeof a=="string"){a=a.split(/\s*:\s*/);l=a[0];c=null;u=a[1]}else{l=a.check;c=a.left;u=a.right}if(!o){o=a;o=o.element?o.element:l?l.match(/^([a-z0-9]+)/i)[0]:o.left.getDefinition().element}c instanceof CKEDITOR.style&&(c=C(c));i.push({check:l==o?null:l,left:c,right:typeof u=="string"?S(u):u})}t=o;n[t]||(n[t]=[]);n[t].push(i)}}},check:function(e,t,i){if(this.disabled)return true;if(CKEDITOR.tools.isArray(e)){for(var n=e.length;n--;)if(this.check(e[n],t,i))return true;return false}var r,o;if(typeof e=="string"){o=e+"<"+(t===false?"0":"1")+(i?"1":"0")+">";if(o in this._.cachedChecks)return this._.cachedChecks[o];n=u(e).$1;r=n.styles;var s=n.classes;n.name=n.elements;n.classes=s=s?s.split(/\s*,\s*/):[];n.styles=c(r);n.attributes=c(n.attributes);n.children=[];s.length&&(n.attributes["class"]=s.join(" "));if(r)n.attributes.style=CKEDITOR.tools.writeCssText(n.styles);r=n}else{n=e.getDefinition();r=n.styles;s=n.attributes||{};if(r){r=k(r);s.style=CKEDITOR.tools.writeCssText(r,true)}else r={};r={name:n.element,attributes:s,classes:s["class"]?s["class"].split(/\s+/):[],styles:r,children:[]}}var s=CKEDITOR.tools.clone(r),a=[],l;if(t!==false&&(l=this._.transformations[r.name])){for(n=0;n<l.length;++n)_(this,r,l[n]);m(r)}h(this,s,a,{doFilter:true,doTransform:t!==false,skipRequired:!i,skipFinalValidation:!i});t=a.length>0?false:CKEDITOR.tools.objectCompare(r.attributes,s.attributes,true)?true:false;typeof e=="string"&&(this._.cachedChecks[o]=t);return t},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(i,n){var r=e.slice(),o;if(this.check(R[i]))return i;for(n||(r=r.reverse());o=r.pop();)if(this.check(o))return t[o];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var P={styles:1,attributes:1,classes:1},A={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},N=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,M={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},L=/^cke:(object|embed|param)$/,B=/^(object|embed|param)$/,K=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width");this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width");this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,i){i=i||t;if(!(i in e.styles)){var n=e.attributes[t];if(n){/^\d+$/.test(n)&&(n=n+"px");e.styles[i]=n}}delete e.attributes[t]},lengthToAttribute:function(e,t,i){i=i||t;if(!(i in e.attributes)){var n=e.styles[t],r=n&&n.match(/^(\d+)(?:\.\d*)?px$/);r?e.attributes[i]=r[1]:n==D&&(e.attributes[i]=D)}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;if(t=="left"||t=="right")e.styles["float"]=t}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles["float"];if(t=="left"||t=="right")e.attributes.align=t}delete e.styles["float"]},matchesStyle:E,transform:function(e,t){if(typeof t=="string")e.name=t;else{var i=t.getDefinition(),n=i.styles,r=i.attributes,o,s,a,l;e.name=i.element;for(o in r)if(o=="class"){i=e.classes.join("|");for(a=r[o].split(/\s+/);l=a.pop();)i.indexOf(l)==-1&&e.classes.push(l)}else e.attributes[o]=r[o];for(s in n)e.styles[s]=n[s]}}}}(),function(){CKEDITOR.focusManager=function(e){if(e.focusManager)return e.focusManager;this.hasFocus=false;this.currentActive=null;this._={editor:e};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer);if(e)this.currentActive=e;if(!this.hasFocus&&!this._.locked){(e=CKEDITOR.currentInstance)&&e.focusManager.blur(1);this.hasFocus=true;(e=this._.editor.container)&&e.addClass("cke_focus");this._.editor.fire("focus")}},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=false;var e=this._.editor.container;e&&e.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var i=CKEDITOR.focusManager._.blurDelay;e||!i?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;t.call(this)},i,this)}},add:function(e,t){var i=e.getCustomData("focusmanager");if(!i||i!=this){i&&i.remove(e);var i="focus",n="blur";if(t)if(CKEDITOR.env.ie){i="focusin";n="focusout"}else CKEDITOR.event.useCapture=1;var r={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(i,r.focus,this);e.on(n,r.blur,this);if(t)CKEDITOR.event.useCapture=0;e.setCustomData("focusmanager",this);e.setCustomData("focusmanager_handlers",r)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur);e.removeListener("focus",t.focus)}}}(),CKEDITOR.keystrokeHandler=function(e){if(e.keystrokeHandler)return e.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:e};return this},function(){var e,t=function(t){var t=t.data,i=t.getKeystroke(),n=this.keystrokes[i],r=this._.editor;e=r.fire("key",{keyCode:i,domEvent:t})===false;if(!e){n&&(e=r.execCommand(n,{from:"keystrokeHandler"})!==false);e||(e=!!this.blockedKeystrokes[i])}e&&t.preventDefault(true);return!e},i=function(t){if(e){e=false;t.data.preventDefault(true)}};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)e.on("keypress",i,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,i){if(!e||!CKEDITOR.lang.languages[e])e=this.detect(t,e);var n=this,t=function(){n[e].dir=n.rtl[e]?"rtl":"ltr";i(e,n[e])};this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var i=this.languages,t=t||navigator.userLanguage||navigator.language||e,n=t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),r=n[1],n=n[2];i[r+"-"+n]?r=r+"-"+n:i[r]||(r=null);CKEDITOR.lang.detect=r?function(){return r}:function(e){return e};return r||e}}}(),CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(i,n,r,o){var s=typeof i=="string";s&&(i=[i]);r||(r=CKEDITOR);var a=i.length,l=[],c=[],u=function(e){n&&(s?n.call(r,e):n.call(r,l,c))};if(a===0)u(true);else{var d=function(e,t){(t?l:c).push(e);if(--a<=0){o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor");u(t)}},f=function(i,n){e[i]=1;var r=t[i];delete t[i];for(var o=0;o<r.length;o++)r[o](i,n)},h=function(i){if(e[i])d(i,true);else{var r=t[i]||(t[i]=[]);r.push(d);if(!(r.length>1)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:i});if(n)if(CKEDITOR.env.ie&&CKEDITOR.env.version<11)o.$.onreadystatechange=function(){if(o.$.readyState=="loaded"||o.$.readyState=="complete"){o.$.onreadystatechange=null;f(i,true)}};else{o.$.onload=function(){setTimeout(function(){f(i,true)},0)};o.$.onerror=function(){f(i,false)}}o.appendTo(CKEDITOR.document.getHead())}}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<a;p++)h(i[p])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(i,n){var r=this;t.push({scriptUrl:i,callback:function(){n&&n.apply(this,arguments);t.shift();e.call(r)}});t.length==1&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e;this.fileName=t;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw'[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.';var i=this.registered[e]=t||{};i.name=e;i.path=this.getPath(e);CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",i);return this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,i){for(var e=e.split(","),n=0;n<e.length;n++){var r=e[n];i||(t=t.replace(/[^\/]+$/,function(e){i=e;return""}));this.externals[r]={dir:t,file:i||this.fileName+".js"}}},load:function(e,t,i){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var n=this.loaded,r=this.registered,o=[],s={},a={},l=0;l<e.length;l++){var c=e[l];if(c)if(!n[c]&&!r[c]){var u=this.getFilePath(c);o.push(u);u in s||(s[u]=[]);s[u].push(c)}else a[c]=this.get(c)}CKEDITOR.scriptLoader.load(o,function(e,r){if(r.length)throw'[CKEDITOR.resourceManager.load] Resource name "'+s[r[0]].join(",")+'" was not found at "'+r[0]+'".';for(var o=0;o<e.length;o++)for(var l=s[e[o]],c=0;c<l.length;c++){var u=l[c];a[u]=this.get(u);n[u]=1}t.call(i,a)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(i,n,r){var o={},s=function(i){e.call(this,i,function(e){CKEDITOR.tools.extend(o,e);var i=[],a;for(a in e){var l=e[a],c=l&&l.requires;if(!t[a]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");t[a]=1}if(c){c.split&&(c=c.split(","));for(l=0;l<c.length;l++)o[c[l]]||i.push(c[l])}}if(i.length)s.call(this,i);else{for(a in o){l=o[a];if(l.onLoad&&!l.onLoad._called){l.onLoad()===false&&delete o[a];l.onLoad._called=1}}n&&n.call(r||window,o)}},this)};s.call(this,i)}}),CKEDITOR.plugins.setLang=function(e,t,i){var n=this.get(e),e=n.langEntries||(n.langEntries={}),n=n.lang||(n.lang=[]);n.split&&(n=n.split(","));CKEDITOR.tools.indexOf(n,t)==-1&&n.push(t);e[t]=i},CKEDITOR.ui=function(e){if(e.ui)return e.ui;this.items={};this.instances={};this.editor=e;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(e,t,i){i.name=e.toLowerCase();var n=this.items[e]={type:t,command:i.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(n,i)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],i=t&&this._.handlers[t.type],n=t&&t.command&&this.editor.getCommand(t.command),i=i&&i.create.apply(this,t.args);this.instances[e]=i;n&&n.uiItems.push(i);if(i&&!i.type)i.type=t.type;return i},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,n,o){CKEDITOR.event.call(this);e=e&&CKEDITOR.tools.clone(e);if(n!==void 0){if(n instanceof CKEDITOR.dom.element){if(!o)throw Error("One of the element modes must be specified.")}else throw Error("Expect element of type CKEDITOR.dom.element.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!(o==CKEDITOR.ELEMENT_MODE_INLINE?n.is(CKEDITOR.dtd.$editable)||n.is("textarea"):o==CKEDITOR.ELEMENT_MODE_REPLACE?!n.is(CKEDITOR.dtd.$nonBodyContent):1))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n;this.elementMode=o;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||t();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",i);this.on("selectionChange",function(e){r(this,e.data.path)});this.on("activeFilterChange",function(){r(this,this.elementPath(),true)});this.on("mode",i);this.on("instanceReady",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){s(this,e)},0,this)}function t(){do var e="editor"+ ++f;while(CKEDITOR.instances[e]);return e}function i(){var e=this.commands,t;for(t in e)n(this,e[t])}function n(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function r(e,t,i){if(t){var n,r,o=e.commands;for(r in o){n=o[r];(i||n.contextSensitive)&&n.refresh(e,t)}}}function o(e){var t=e.config.customConfig;if(!t)return false;var t=CKEDITOR.getUrl(t),i=h[t]||(h[t]={});if(i.fn){i.fn.call(e,e.config);(CKEDITOR.getUrl(e.config.customConfig)==t||!o(e))&&e.fireOnce("customConfigLoaded")}else CKEDITOR.scriptLoader.queue(t,function(){i.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};o(e)});return true}function s(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var i in t.on)e.on(i,t.on[i]);CKEDITOR.tools.extend(e.config,t,true);delete e.config.on}i=e.config;e.readOnly=!(!i.readOnly&&!(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&e.element.hasAttribute("disabled")));e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p):false;e.tabIndex=i.tabIndex||e.element&&e.element.getAttribute("tabindex")||0;e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:i.enterMode;e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:i.shiftEnterMode;if(i.skin)CKEDITOR.skinName=i.skin;e.fireOnce("configLoaded");e.dataProcessor=new CKEDITOR.htmlDataProcessor(e);e.filter=e.activeFilter=new CKEDITOR.filter(e);a(e)});if(t&&t.customConfig!=null)e.config.customConfig=t.customConfig;o(e)||e.fireOnce("customConfigLoaded")}function a(e){CKEDITOR.skin.loadPart("editor",function(){l(e)})}function l(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,i){var n=e.config.title;e.langCode=t;e.lang=CKEDITOR.tools.prototypedCopy(i);e.title=typeof n=="string"||n===false?n:[e.lang.editor,e.name].join(", ");if(!e.config.contentsLangDirection)e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir;e.fire("langLoaded");c(e)})}function c(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1);u(e)})}function u(e){var t=e.config,i=t.plugins,n=t.extraPlugins,r=t.removePlugins;if(n)var o=RegExp("(?:^|,)(?:"+n.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(o,""),i=i+(","+n);if(r)var s=RegExp("(?:^|,)(?:"+r.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),i=i.replace(s,"");CKEDITOR.env.air&&(i=i+",adobeair");CKEDITOR.plugins.load(i.split(","),function(i){var n=[],r=[],o=[];e.plugins=i;for(var a in i){var l=i[a],c=l.lang,u=null,d=l.requires,f;CKEDITOR.tools.isArray(d)&&(d=d.join(","));if(d&&(f=d.match(s)))for(;d=f.pop();)CKEDITOR.tools.setTimeout(function(e,t){throw Error('Plugin "'+e.replace(",","")+'" cannot be removed from the plugins list, because it\'s required by "'+t+'" plugin.')},0,null,[d,a]);if(c&&!e.lang[a]){c.split&&(c=c.split(","));if(CKEDITOR.tools.indexOf(c,e.langCode)>=0)u=e.langCode;else{u=e.langCode.replace(/-.*/,"");u=u!=e.langCode&&CKEDITOR.tools.indexOf(c,u)>=0?u:CKEDITOR.tools.indexOf(c,"en")>=0?"en":c[0]}if(!l.langEntries||!l.langEntries[u])o.push(CKEDITOR.getUrl(l.path+"lang/"+u+".js"));else{e.lang[a]=l.langEntries[u];u=null}}r.push(u);n.push(l)}CKEDITOR.scriptLoader.load(o,function(){for(var i=["beforeInit","init","afterInit"],o=0;o<i.length;o++)for(var s=0;s<n.length;s++){var a=n[s];o===0&&(r[s]&&a.lang&&a.langEntries)&&(e.lang[a.name]=a.langEntries[r[s]]);if(a[i[o]])a[i[o]](e)}e.fireOnce("pluginsLoaded");t.keystrokes&&e.setKeystroke(e.config.keystrokes);for(s=0;s<e.config.blockedKeystrokes.length;s++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[s]]=1;e.status="loaded";e.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,e)})})}function d(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t));e.is("textarea")?e.setValue(t):e.setHtml(t);return true}return false}e.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=e;var f=0,h={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var i=new CKEDITOR.command(this,t);this.mode&&n(this,i);return this.commands[e]=i},_attachToForm:function(){function e(e){t.updateElement();t._.required&&(!i.getValue()&&t.fire("required")===false)&&e.data.preventDefault()}var t=this,i=t.element,n=new CKEDITOR.dom.element(i.$.form);if(i.is("textarea")&&n){n.on("submit",e);if(n.$.submit&&n.$.submit.call&&n.$.submit.apply)n.$.submit=CKEDITOR.tools.override(n.$.submit,function(t){return function(){e();t.apply?t.apply(this):t()}});t.on("destroy",function(){n.removeListener("submit",e)})}},destroy:function(e){this.fire("beforeDestroy");!e&&d.call(this);this.editable(null);this.filter.destroy();delete this.filter;delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){e=this.getSelection();if(!e)return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var i=this.getCommand(e),n={name:e,commandData:t,command:i};if(i&&i.state!=CKEDITOR.TRISTATE_DISABLED&&this.fire("beforeCommandExec",n)!==false){n.returnValue=i.exec(n.commandData);if(!i.async&&this.fire("afterCommandExec",n)!==false)return n.returnValue}return false},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;if(typeof t!="string")t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():"";t={dataValue:t};!e&&this.fire("getData",t);return t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");if(typeof e!="string"){var t=this.element;t&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e=t.is("textarea")?t.getValue():t.getHtml())}return e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,i){var n=true,r=t;if(t&&typeof t=="object"){i=t.internal;r=t.callback;n=!t.noSnapshot}!i&&n&&this.fire("saveSnapshot");if(r||!i)this.once("dataReady",function(e){!i&&n&&this.fire("saveSnapshot");r&&r.call(e.editor)});e={dataValue:e};!i&&this.fire("setData",e);this._.data=e.dataValue;!i&&this.fire("afterSetData",e)},setReadOnly:function(e){e=e==null||e;if(this.readOnly!=e){this.readOnly=e;this.keystrokeHandler.blockedKeystrokes[8]=+e;this.editable().setReadOnly(e);this.fire("readOnly")}},insertHtml:function(e,t){this.fire("insertHtml",{dataValue:e,mode:t})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return this.status=="ready"&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return d.call(this)},setKeystroke:function(){for(var e=this.keystrokeHandler.keystrokes,t=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],i,n,r=t.length;r--;){i=t[r];n=0;if(CKEDITOR.tools.isArray(i)){n=i[1];i=i[0]}n?e[i]=n:delete e[i]}},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){if(!e)e=this.filter;if(this.activeFilter!==e){this.activeFilter=e;this.fire("activeFilterChange");e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,true))}},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode;t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode;if(this.activeEnterMode!=e||this.activeShiftEnterMode!=t){this.activeEnterMode=e;this.activeShiftEnterMode=t;this.fire("activeEnterModeChange")}}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(i){for(var n,r,o=0,s;n=this._.htmlPartsRegex.exec(i);){r=n.index;if(r>o){o=i.substring(o,r);if(s)s.push(o);else this.onText(o)}o=this._.htmlPartsRegex.lastIndex;if(r=n[1]){r=r.toLowerCase();if(s&&CKEDITOR.dtd.$cdata[r]){this.onCDATA(s.join(""));s=null}if(!s){this.onTagClose(r);continue}}if(s)s.push(n[0]);else if(r=n[3]){r=r.toLowerCase();if(!/="/.test(r)){var a={},l,c=n[4];n=!!n[5];if(c)for(;l=e.exec(c);){var u=l[1].toLowerCase();l=l[2]||l[3]||l[4]||"";a[u]=!l&&t[u]?u:CKEDITOR.tools.htmlDecodeAttr(l)}this.onTagOpen(r,a,n);!s&&CKEDITOR.dtd.$cdata[r]&&(s=[])}}else if(r=n[2])this.onComment(r)}if(i.length>o)this.onText(i.substring(o,i.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){t?this._.output.push(" />"):this._.output.push(">")},attribute:function(e,t){typeof t=="string"&&(t=CKEDITOR.tools.htmlEncodeAttr(t));this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[];this._.indent=false},getHtml:function(e){var t=this._.output.join("");e&&this.reset();return t}}}),"use strict",function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),i=this.previous,n=this.next;i&&(i.next=n);n&&(n.previous=i);e.splice(t,1);this.parent=null},replaceWith:function(e){var t=this.parent.children,i=CKEDITOR.tools.indexOf(t,this),n=e.previous=this.previous,r=e.next=this.next;n&&(n.next=e);r&&(r.previous=e);t[i]=e;e.parent=this.parent;this.parent=null},insertAfter:function(e){var t=e.parent.children,i=CKEDITOR.tools.indexOf(t,e),n=e.next;t.splice(i+1,0,this);this.next=e.next;this.previous=e;e.next=this;n&&(n.previous=this);this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,i=CKEDITOR.tools.indexOf(t,e);t.splice(i,0,this);this.next=e;(this.previous=e.previous)&&(e.previous.next=this);e.previous=this;this.parent=e.parent},getAscendant:function(e){var t=typeof e=="function"?e:typeof e=="string"?function(t){return t.name==e}:function(t){return t.name in e},i=this.parent;for(;i&&i.type==CKEDITOR.NODE_ELEMENT;){if(t(i))return i;i=i.parent}return null},wrapWith:function(e){this.replaceWith(e);e.add(this);return e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}}}(),"use strict",CKEDITOR.htmlParser.comment=function(e){this.value=e;this._={isBlockLike:false}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var i=this.value;if(!(i=e.onComment(t,i,this))){this.remove();return false}if(typeof i!="string"){this.replaceWith(i);return false}this.value=i;return true},writeHtml:function(e,t){t&&this.filter(t);e.comment(this.value)}}),"use strict",function(){CKEDITOR.htmlParser.text=function(e){this.value=e;this._={isBlockLike:false}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this))){this.remove();return false}},writeHtml:function(e,t){t&&this.filter(t);e.text(this.value)}})}(),"use strict",function(){CKEDITOR.htmlParser.cdata=function(e){this.value=e};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}})}(),"use strict",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false}},function(){function e(e){return e.attributes["data-cke-survive"]?false:e.name=="a"&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name]}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),i={ol:1,ul:1},n=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),r={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,s,a){function l(e){var t;if(g.length>0)for(var i=0;i<g.length;i++){var n=g[i],r=n.name,o=CKEDITOR.dtd[r],s=w.name&&CKEDITOR.dtd[w.name];if((!s||s[r])&&(!e||!o||o[e]||!CKEDITOR.dtd[e])){if(!t){c();t=1}n=n.clone();n.parent=w;w=n;g.splice(i,1);i--}else if(r==w.name){d(w,w.parent,1);i--}}}function c(){for(;v.length;)d(v.shift(),w)}function u(e){if(e._.isBlockLike&&e.name!="pre"&&e.name!="textarea"){var t=e.children.length,i=e.children[t-1],n;if(i&&i.type==CKEDITOR.NODE_TEXT)(n=CKEDITOR.tools.rtrim(i.value))?i.value=n:e.children.length=t-1}}function d(t,i,n){var i=i||w||m,r=w;if(t.previous===void 0){if(f(i,t)){w=i;p.onTagOpen(a,{});t.returnPoint=i=w}u(t);(!e(t)||t.children.length)&&i.add(t);t.name=="pre"&&(y=false);t.name=="textarea"&&(b=false)}if(t.returnPoint){w=t.returnPoint;delete t.returnPoint}else w=n?i:r}function f(e,t){if((e==m||e.name=="body")&&a&&(!e.name||CKEDITOR.dtd[e.name][a])){var i,n;return(i=t.attributes&&(n=t.attributes["data-cke-real-element-type"])?n:t.name)&&i in CKEDITOR.dtd.$inline&&!(i in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}}function h(e,t){return e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent?e==t||e=="dt"&&t=="dd"||e=="dd"&&t=="dt":false}var p=new CKEDITOR.htmlParser,m=s instanceof CKEDITOR.htmlParser.element?s:typeof s=="string"?new CKEDITOR.htmlParser.element(s):new CKEDITOR.htmlParser.fragment,g=[],v=[],w=m,b=m.name=="textarea",y=m.name=="pre";p.onTagOpen=function(r,o,s,a){o=new CKEDITOR.htmlParser.element(r,o);if(o.isUnknown&&s)o.isEmpty=true;o.isOptionalClose=a;if(e(o))g.push(o);else{if(r=="pre")y=true;else{if(r=="br"&&y){w.add(new CKEDITOR.htmlParser.text("\n"));return}r=="textarea"&&(b=true)}if(r=="br")v.push(o);else{for(;;){a=(s=w.name)?CKEDITOR.dtd[s]||(w._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n;if(!o.isUnknown&&!w.isUnknown&&!a[r])if(w.isOptionalClose)p.onTagClose(s);else if(r in i&&s in i){s=w.children;(s=s[s.length-1])&&s.name=="li"||d(s=new CKEDITOR.htmlParser.element("li"),w);!o.returnPoint&&(o.returnPoint=w);w=s}else if(r in CKEDITOR.dtd.$listItem&&!h(r,s))p.onTagOpen(r=="li"?"ul":"dl",{},0,1);else if(s in t&&!h(r,s)){!o.returnPoint&&(o.returnPoint=w);w=w.parent}else{s in CKEDITOR.dtd.$inline&&g.unshift(w);if(w.parent)d(w,w.parent,1);else{o.isOrphan=1;break}}else break}l(r);c();o.parent=w;o.isEmpty?d(o):w=o}}};p.onTagClose=function(e){for(var t=g.length-1;t>=0;t--)if(e==g[t].name){g.splice(t,1);return}for(var i=[],n=[],r=w;r!=m&&r.name!=e;){r._.isBlockLike||n.unshift(r);i.push(r);r=r.returnPoint||r.parent}if(r!=m){for(t=0;t<i.length;t++){var o=i[t];d(o,o.parent)}w=r;r._.isBlockLike&&c();d(r,r.parent);if(r==w)w=w.parent;g=g.concat(n)}e=="body"&&(a=false)};p.onText=function(e){if((!w._.hasInlineStarted||v.length)&&!y&&!b){e=CKEDITOR.tools.ltrim(e);if(e.length===0)return}var i=w.name,o=i?CKEDITOR.dtd[i]||(w._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):n;if(!b&&!o["#"]&&i in t){p.onTagOpen(r[i]||"");p.onText(e)}else{c();l();!y&&!b&&(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));e=new CKEDITOR.htmlParser.text(e);if(f(w,e))this.onTagOpen(a,{},0,1);w.add(e)}};p.onCDATA=function(e){w.add(new CKEDITOR.htmlParser.cdata(e))};p.onComment=function(e){c();l();w.add(new CKEDITOR.htmlParser.comment(e))};p.parse(o);for(c();w!=m;)d(w,w.parent,1);u(m);return m};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var i=t>0?this.children[t-1]:null;if(i){if(e._.isBlockLike&&i.type==CKEDITOR.NODE_TEXT){i.value=CKEDITOR.tools.rtrim(i.value);if(i.value.length===0){this.children.pop();this.add(e);return}}i.next=e}e.previous=i;e.parent=this;this.children.splice(t,0,e);if(!this._.hasInlineStarted)this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike},filter:function(e,t){t=this.getFilterContext(t);e.onRoot(t,this);this.filterChildren(e,false,t)},filterChildren:function(e,t,i){if(this.childrenFilteredBy!=e.id){i=this.getFilterContext(i);if(t&&!this.parent)e.onRoot(i,this);this.childrenFilteredBy=e.id;for(t=0;t<this.children.length;t++)this.children[t].filter(e,i)===false&&t--}},writeHtml:function(e,t){t&&this.filter(t);this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,i){var n=this.getFilterContext();if(i&&!this.parent&&t)t.onRoot(n,this);t&&this.filterChildren(t,false,n);t=0;i=this.children;for(n=i.length;t<n;t++)i[t].writeHtml(e)},forEach:function(e,t,i){if(!i&&(!t||this.type==t))var n=e(this);if(n!==false)for(var i=this.children,r=0;r<i.length;r++){n=i[r];n.type==CKEDITOR.NODE_ELEMENT?n.forEach(e,t):(!t||n.type==t)&&e(n)}},getFilterContext:function(e){return e||{}}}}(),"use strict",function(){function e(){this.rules=[]}function t(t,i,n,r){var o,s;for(o in i){(s=t[o])||(s=t[o]=new e);s.add(i[o],n,r)}}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new e;this.attributeNameRules=new e;this.elementsRules={};this.attributesRules={};this.textRules=new e;this.commentRules=new e;this.rootRules=new e;t&&this.addRules(t,10)},proto:{addRules:function(e,i){var n;if(typeof i=="number")n=i;else if(i&&"priority"in i)n=i.priority;typeof n!="number"&&(n=10);typeof i!="object"&&(i={});e.elementNames&&this.elementNameRules.addMany(e.elementNames,n,i);e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,n,i);e.elements&&t(this.elementsRules,e.elements,n,i);e.attributes&&t(this.attributesRules,e.attributes,n,i);e.text&&this.textRules.add(e.text,n,i);e.comment&&this.commentRules.add(e.comment,n,i);e.root&&this.rootRules.add(e.root,n,i)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,i){return this.textRules.exec(e,t,i)},onComment:function(e,t,i){return this.commentRules.exec(e,t,i)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var i=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],n,r=0;r<3;r++)if(n=i[r]){
n=n.exec(e,t,this);if(n===false)return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var i=t.type;return i==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):i==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):i==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,i,n){return(i=this.attributesRules[i])?i.exec(e,n,t,this):n}}});CKEDITOR.htmlParser.filterRulesGroup=e;e.prototype={add:function(e,t,i){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:i})},addMany:function(e,t,i){for(var n=[this.findIndex(t),0],r=0,o=e.length;r<o;r++)n.push({value:e[r],priority:t,options:i});this.rules.splice.apply(this.rules,n)},findIndex:function(e){for(var t=this.rules,i=t.length-1;i>=0&&e<t[i].priority;)i--;return i+1},exec:function(e,t){var i=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,n=Array.prototype.slice.call(arguments,1),r=this.rules,o=r.length,s,a,l,c;for(c=0;c<o;c++){if(i){s=t.type;a=t.name}l=r[c];if(!(e.nonEditable&&!l.options.applyToAll||e.nestedEditable&&l.options.excludeNestedEditable)){l=l.value.apply(null,n);if(l===false||i&&l&&(l.name!=a||l.type!=s))return l;l!=null&&(n[0]=t=l)}}return t},execOnName:function(e,t){for(var i=0,n=this.rules,r=n.length,o;t&&i<r;i++){o=n[i];!(e.nonEditable&&!o.options.applyToAll||e.nestedEditable&&o.options.excludeNestedEditable)&&(t=t.replace(o.value[0],o.value[1]))}return t}}}(),function(){function e(e,t){function a(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(r){if(r.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var s=[],l=i(r),u,f;if(l)for(c(l,1)&&s.push(l);l;){if(o(l)&&(u=n(l))&&c(u))if((f=n(u))&&!o(f))s.push(u);else{a(d).insertAfter(u);u.remove()}l=l.previous}for(l=0;l<s.length;l++)s[l].remove();if(s=!e||(typeof t=="function"?t(r):t)!==false)if(!d&&!CKEDITOR.env.needsBrFiller&&r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)s=false;else if(!d&&!CKEDITOR.env.needsBrFiller&&(document.documentMode>7||r.name in CKEDITOR.dtd.tr||r.name in CKEDITOR.dtd.$listItem))s=false;else{s=i(r);s=!s||r.name=="form"&&s.name=="input"}s&&r.add(a(e))}}}function c(e,t){if((!d||CKEDITOR.env.needsBrFiller)&&e.type==CKEDITOR.NODE_ELEMENT&&e.name=="br"&&!e.attributes["data-cke-eol"])return true;var i;if(e.type==CKEDITOR.NODE_TEXT&&(i=e.value.match(g))){if(i.index){new CKEDITOR.htmlParser.text(e.value.substring(0,i.index)).insertBefore(e);e.value=i[0]}if(!CKEDITOR.env.needsBrFiller&&d&&(!t||e.parent.name in f))return true;if(!d)if((i=e.previous)&&i.name=="br"||!i||o(i))return true}return false}var u={elements:{}},d=t=="html",f=CKEDITOR.tools.extend({},y),h;for(h in f)"#"in w[h]||delete f[h];for(h in f)u.elements[h]=l(d,e.config.fillEmptyBlocks);u.root=l(d,false);u.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=t.attributes;if("data-cke-bogus"in i||"data-cke-eol"in i)delete i["data-cke-bogus"];else{for(i=t.next;i&&r(i);)i=i.next;var l=n(t);!i&&o(t.parent)?s(t.parent,a(e)):o(i)&&(l&&!o(l))&&a(e).insertBefore(i)}}}}(d);return u}function t(e,t){return e!=CKEDITOR.ENTER_BR&&t!==false?e==CKEDITOR.ENTER_DIV?"div":"p":false}function i(e){for(e=e.children[e.children.length-1];e&&r(e);)e=e.previous;return e}function n(e){for(e=e.previous;e&&r(e);)e=e.previous;return e}function r(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function o(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in y||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function s(e,t){var i=e.children[e.children.length-1];e.children.push(t);t.parent=e;if(i){i.next=t;t.previous=i}}function a(e){e=e.attributes;e.contenteditable!="false"&&(e["data-cke-editable"]=e.contenteditable?"true":1);e.contenteditable="false"}function l(e){e=e.attributes;switch(e["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function c(e){return e.replace(S,function(e,t,i){return"<"+t+i.replace(I,function(e,t){return O.test(t)&&i.indexOf("data-cke-saved-"+t)==-1?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"})}function u(e,t){return e.replace(t,function(e,t,i){e.indexOf("<textarea")===0&&(e=t+h(i).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>");return"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function d(e){return e.replace(D,function(e,t){return decodeURIComponent(t)})}function f(e){return e.replace(/<\!--(?!{cke_protected})[\s\S]+?--\>/g,function(e){return"<!--"+v+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function h(e){return e.replace(/<\!--\{cke_protected\}\{C\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)})}function p(e,t){var i=t._.dataStore;return e.replace(/<\!--\{cke_protected\}([\s\S]+?)--\>/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return i&&i[t]||""})}function m(e,t){for(var i=[],n=t.config.protectedSource,r=t._.dataStore||(t._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)--\>/g,n=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(n),e=e.replace(/<\!--[\s\S]*?--\>/g,function(e){return"<!--{cke_tempcomment}"+(i.push(e)-1)+"-->"}),s=0;s<n.length;s++)e=e.replace(n[s],function(e){e=e.replace(o,function(e,t,n){return i[n]});return/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(i.push(e)-1)+"-->"});e=e.replace(o,function(e,t,n){return"<!--"+v+(t?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"});e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/<\!--\{cke_protected\}([^>]*)--\>/g,function(e,t){r[r.id]=decodeURIComponent(t);return"{cke_protected_"+r.id++ +"}"})});return e=e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,i,n,r){return"<"+i+n+">"+p(h(r),t)+"</"+i+">"})}CKEDITOR.htmlDataProcessor=function(i){var n,r,o=this;this.editor=i;this.dataFilter=n=new CKEDITOR.htmlParser.filter;this.htmlFilter=r=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;n.addRules(_);n.addRules(E,{applyToAll:true});n.addRules(e(i,"data"),{applyToAll:true});r.addRules(T);r.addRules(C,{applyToAll:true});r.addRules(e(i,"html"),{applyToAll:true});i.on("toHtml",function(e){var e=e.data,n=e.dataValue,r,n=m(n,i),n=u(n,x),n=c(n),n=u(n,k),n=n.replace(R,"$1cke:$2"),n=n.replace(A,"<cke:$1$2></cke:$1>"),n=n.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),n=n.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");r=e.context||i.editable().getName();var o;if(CKEDITOR.env.ie&&CKEDITOR.env.version<9&&r=="pre"){r="div";n="<pre>"+n+"</pre>";o=1}r=i.document.createElement(r);r.setHtml("a"+n);n=r.getHtml().substr(1);n=n.replace(RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");o&&(n=n.replace(/^<pre>|<\/pre>$/gi,""));n=n.replace(P,"$1$2");n=d(n);n=h(n);r=e.fixForBody===false?false:t(e.enterMode,i.config.autoParagraph);n=CKEDITOR.htmlParser.fragment.fromHtml(n,e.context,r);if(r){o=n;if(!o.children.length&&CKEDITOR.dtd[o.name][r]){r=new CKEDITOR.htmlParser.element(r);o.add(r)}}e.dataValue=n},null,null,5);i.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,true,e.data.dontFilter,e.data.enterMode)&&i.fire("dataFiltered")},null,null,6);i.on("toHtml",function(e){e.data.dataValue.filterChildren(o.dataFilter,true)},null,null,10);i.on("toHtml",function(e){var e=e.data,t=e.dataValue,i=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(i);t=i.getHtml(true);e.dataValue=f(t)},null,null,15);i.on("toDataFormat",function(e){var n=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/^<br *\/?>/i,""));e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(n,e.data.context,t(e.data.enterMode,i.config.autoParagraph))},null,null,5);i.on("toDataFormat",function(e){e.data.dataValue.filterChildren(o.htmlFilter,true)},null,null,10);i.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,false,true)},null,null,11);i.on("toDataFormat",function(e){var t=e.data.dataValue,n=o.writer;n.reset();t.writeChildrenHtml(n);t=n.getHtml(true);t=h(t);t=p(t,i);e.data.dataValue=t},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,i,n){var r=this.editor,o,s,a;if(t&&typeof t=="object"){o=t.context;i=t.fixForBody;n=t.dontFilter;s=t.filter;a=t.enterMode}else o=t;!o&&o!==null&&(o=r.editable().getName());return r.fire("toHtml",{dataValue:e,context:o,fixForBody:i,dontFilter:n,filter:s||r.filter,enterMode:a||r.enterMode}).dataValue},toDataFormat:function(e,t){var i,n,r;if(t){i=t.context;n=t.filter;r=t.enterMode}!i&&i!==null&&(i=this.editor.editable().getName());return this.editor.fire("toDataFormat",{dataValue:e,filter:n||this.editor.filter,context:i,enterMode:r||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",w=CKEDITOR.dtd,b=["caption","colgroup","col","thead","tfoot","tbody"],y=CKEDITOR.tools.extend({},w.$blockLimit,w.$block),_={elements:{input:a,textarea:a}},E={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},T={elements:{embed:function(e){var t=e.parent;if(t&&t.name=="object"){var i=t.attributes.width,t=t.attributes.height;if(i)e.attributes.width=i;if(t)e.attributes.height=t}},a:function(e){if(!e.children.length&&!e.attributes.name&&!e.attributes["data-cke-saved-name"])return false}}},C={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return false;for(var i=["name","href","src"],n,r=0;r<i.length;r++){n="data-cke-saved-"+i[r];n in t&&delete t[i[r]]}}return e},table:function(e){e.children.slice(0).sort(function(e,t){var i,n;if(e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type){i=CKEDITOR.tools.indexOf(b,e.name);n=CKEDITOR.tools.indexOf(b,t.name)}if(!(i>-1&&n>-1&&i!=n)){i=e.parent?e.getIndex():-1;n=t.parent?t.getIndex():-1}return i>n?1:-1})},param:function(e){e.children=[];e.isEmpty=true;return e},span:function(e){e.attributes["class"]=="Apple-style-span"&&delete e.name},html:function(e){delete e.attributes.contenteditable;delete e.attributes["class"]},body:function(e){delete e.attributes.spellcheck;delete e.attributes.contenteditable},style:function(e){var t=e.children[0];if(t&&t.value)t.value=CKEDITOR.tools.trim(t.value);if(!e.attributes.type)e.attributes.type="text/css"},title:function(e){var t=e.children[0];!t&&s(e,t=new CKEDITOR.htmlParser.text);t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||false}}};if(CKEDITOR.env.ie)C.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})};var S=/<(a|area|img|input|source)\b([^>]*)>/gi,I=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,O=/^(href|src|name)$/i,k=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,D=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,R=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,P=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,A=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),"use strict",CKEDITOR.htmlParser.element=function(e,t){this.name=e;this.attributes=t||{};this.children=[];var i=e||"",n=i.match(/^cke:(.*)/);n&&(i=n[1]);i=!(!CKEDITOR.dtd.$nonBodyContent[i]&&!CKEDITOR.dtd.$block[i]&&!CKEDITOR.dtd.$listItem[i]&&!CKEDITOR.dtd.$tableContent[i]&&!(CKEDITOR.dtd.$nonEditable[i]||i=="br"));this.isEmpty=!!CKEDITOR.dtd.$empty[e];this.isUnknown=!CKEDITOR.dtd[e];this._={isBlockLike:i,hasInlineStarted:this.isEmpty||!i}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,i,n){i=="font-family"&&(n=n.replace(/["']/g,""));t[i.toLowerCase()]=n});return{rules:t,populate:function(e){var t=this.toString();if(t)e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t},toString:function(){var e=[],i;for(i in t)t[i]&&e.push(i,":",t[i],";");return e.join("")}}},function(){function e(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&(typeof e=="string"?t.name==e:t.name in e)}}var t=function(e,t){e=e[0];t=t[0];return e<t?-1:e>t?1:0},i=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:i.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var i=this,n,r,t=i.getFilterContext(t);if(t.off)return true;if(!i.parent)e.onRoot(t,i);for(;;){n=i.name;if(!(r=e.onElementName(t,n))){this.remove();return false}i.name=r;if(!(i=e.onElement(t,i))){this.remove();return false}if(i!==this){this.replaceWith(i);return false}if(i.name==n)break;if(i.type!=CKEDITOR.NODE_ELEMENT){this.replaceWith(i);return false}if(!i.name){this.replaceWithChildren();return false}}n=i.attributes;var o,s;for(o in n){s=o;for(r=n[o];;)if(s=e.onAttributeName(t,o))if(s!=o){delete n[o];o=s}else break;else{delete n[o];break}s&&((r=e.onAttribute(t,i,s,r))===false?delete n[s]:n[s]=r)}i.isEmpty||this.filterChildren(e,false,t);return true},filterChildren:i.filterChildren,writeHtml:function(e,i){i&&this.filter(i);var n=this.name,r=[],o=this.attributes,s,a;e.openTag(n,o);for(s in o)r.push([s,o[s]]);e.sortAttributes&&r.sort(t);s=0;for(a=r.length;s<a;s++){o=r[s];e.attribute(o[0],o[1])}e.openTagClose(n,this.isEmpty);this.writeChildrenHtml(e);this.isEmpty||e.closeTag(n)},writeChildrenHtml:i.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:i.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;typeof t!="function"&&(t=e(t));for(var i=0,n=this.children.length;i<n;++i)if(t(this.children[i]))return this.children[i];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(e);return e.getHtml()},setHtml:function(e){for(var e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children,t=0,i=e.length;t<i;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(e);return e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),i=this.clone(),n=0;n<t.length;++n)t[n].parent=i;i.children=t;if(t[0])t[0].previous=null;if(e>0)this.children[e-1].next=null;this.parent.add(i,this.getIndex()+1);return i},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes["class"]||"";this.attributes["class"]=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes["class"];if(t)(t=CKEDITOR.tools.trim(t.replace(RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes["class"]=t:delete this.attributes["class"]},hasClass:function(e){var t=this.attributes["class"];return!t?false:RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];e||(e={off:false,nonEditable:false,nestedEditable:false});!e.off&&this.attributes["data-cke-processor"]=="off"&&t.push("off",true);!e.nonEditable&&this.attributes.contenteditable=="false"?t.push("nonEditable",true):e.nonEditable&&(!e.nestedEditable&&this.attributes.contenteditable=="true")&&t.push("nestedEditable",true);if(t.length)for(var e=CKEDITOR.tools.copy(e),i=0;i<t.length;i=i+2)e[t[i]]=t[i+1];return e}},true)}(),function(){var e={},t=/{([^}]+)}/g,i=/([\\'])/g,n=/\n/g,r=/\r/g;CKEDITOR.template=function(o){if(e[o])this.output=e[o];else{var s=o.replace(i,"\\$1").replace(n,"\\n").replace(r,"\\r").replace(t,function(e,t){return"',data['"+t+"']==undefined?'{"+t+"}':data['"+t+"'],'"});this.output=e[o]=Function("data","buffer","return buffer?buffer.push('"+s+"'):['"+s+"'].join('');")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){CKEDITOR.instances[e.name]=e;e.on("focus",function(){if(CKEDITOR.currentInstance!=e){CKEDITOR.currentInstance=e;CKEDITOR.fire("currentInstance")}});e.on("blur",function(){if(CKEDITOR.currentInstance==e){CKEDITOR.currentInstance=null;CKEDITOR.fire("currentInstance")}});CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,i){var n=e[t];if(n)return n;n={name:t,source:i};CKEDITOR.fire("template",n);return e[t]=new CKEDITOR.template(n.source)};CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)};CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;e=CKEDITOR.dom.element.get(e);if(e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var i=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),n=e.is("textarea")?e:null;if(n){i.setData(n.getValue(),null,true);e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!i.readOnly+'" class="cke_textarea_inline">'+n.getValue()+"</div>",CKEDITOR.document);e.insertAfter(n);n.hide();n.$.form&&i._attachToForm()}else i.setData(e.getHtml(),null,true);i.on("loaded",function(){i.fire("uiReady");i.editable(e);i.container=e;i.setData(i.getData(1));i.resetDirty();i.fire("contentDom");i.mode="wysiwyg";i.fire("mode");i.status="ready";i.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,i)},null,null,1e4);i.on("destroy",function(){if(n){i.container.clearCustomData();i.container.remove();n.show()}i.element.clearCustomData();delete i.element});return i};CKEDITOR.inlineAll=function(){var e,t,i;for(i in CKEDITOR.dtd.$editable)for(var n=CKEDITOR.document.getElementsByTag(i),r=0,o=n.count();r<o;r++){e=n.getItem(r);if(e.getAttribute("contenteditable")=="true"){t={element:e,config:{}};CKEDITOR.fire("inline",t)!==false&&CKEDITOR.inline(e,t.config)}}};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function e(e,n,r,o){if(!CKEDITOR.env.isCompatible)return null;e=CKEDITOR.dom.element.get(e);if(e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var s=new CKEDITOR.editor(n,e,o);if(o==CKEDITOR.ELEMENT_MODE_REPLACE){e.setStyle("visibility","hidden");s._.required=e.hasAttribute("required");e.removeAttribute("required")}r&&s.setData(r,null,true);s.on("loaded",function(){i(s);o==CKEDITOR.ELEMENT_MODE_REPLACE&&(s.config.autoUpdateElement&&e.$.form)&&s._attachToForm();s.setMode(s.config.startupMode,function(){s.resetDirty();s.status="ready";s.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,s)})});s.on("destroy",t);return s}function t(){var e=this.container,t=this.element;if(e){e.clearCustomData();e.remove()}if(t){t.clearCustomData();if(this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE){t.show();this._.required&&t.setAttribute("required","required")}delete this.element}}function i(e){var t=e.name,i=e.element,n=e.elementMode,r=e.fire("uiSpace",{space:"top",html:""}).html,o=e.fire("uiSpace",{space:"bottom",html:""}).html,s=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),t=CKEDITOR.dom.element.createFromHtml(s.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:r?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+r+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:o?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));if(n==CKEDITOR.ELEMENT_MODE_REPLACE){i.hide();t.insertAfter(i)}else i.append(t);e.container=t;r&&e.ui.space("top").unselectable();o&&e.ui.space("bottom").unselectable();i=e.config.width;n=e.config.height;i&&t.setStyle("width",CKEDITOR.tools.cssLength(i));n&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(n));t.disableContextMenu();CKEDITOR.env.webkit&&t.on("focus",function(){e.focus()});e.fireOnce("uiReady")}CKEDITOR.replace=function(t,i){return e(t,i,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=function(t,i,n){return e(t,i,n,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var i=null,n=e[t];if(n.name||n.id){if(typeof arguments[0]=="string"){if(!RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(n.className))continue}else if(typeof arguments[0]=="function"){i={};if(arguments[0](n,i)===false)continue}this.replace(n,i)}}};CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t};CKEDITOR.editor.prototype.setMode=function(e,t){var i=this,n=this._.modes;if(!(e==i.mode||!n||!n[e])){i.fire("beforeSetMode",e);if(i.mode){var r=i.checkDirty(),n=i._.previousModeData,o,s=0;i.fire("beforeModeUnload");i.editable(0);i._.previousMode=i.mode;i._.previousModeData=o=i.getData(1);if(i.mode=="source"&&n==o){i.fire("lockSnapshot",{forceUpdate:true});s=1}i.ui.space("contents").setHtml("");i.mode=""}else i._.previousModeData=i.getData(1);this._.modes[e](function(){i.mode=e;r!==void 0&&!r&&i.resetDirty();s?i.fire("unlockSnapshot"):e=="wysiwyg"&&i.fire("saveSnapshot");setTimeout(function(){i.fire("mode");t&&t.call(i)},0)})}};CKEDITOR.editor.prototype.resize=function(e,t,i,n){var r=this.container,o=this.ui.space("contents"),s=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement,n=n?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):r;n.setSize("width",e,true);s&&(s.style.width="1%");o.setStyle("height",Math.max(t-(i?0:(n.$.offsetHeight||0)-(o.$.clientHeight||0)),0)+"px");s&&(s.style.width="100%");this.fire("resize")};CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var i=e.editor,r=e.data.path,o=r.blockLimit,a=e.data.selection,l=a.getRanges()[0],c;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(a=t(a,r)){a.appendBogus();c=CKEDITOR.env.ie}if(s(i,r.block,o)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()){r=l.clone();r.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);o=new CKEDITOR.dom.walker(r);o.guard=function(e){return!n(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()};if(!o.checkForward()||r.checkStartOfBlock()&&r.checkEndOfBlock()){i=l.fixBlock(true,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p");if(!CKEDITOR.env.needsBrFiller)(i=i.getFirst(n))&&(i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/))&&i.remove();c=1;e.cancel()}}c&&l.select()}function t(e,t){if(e.isFake)return 0;var i=t.block||t.blockLimit,r=i&&i.getLast(n);if(i&&i.isBlockBoundary()&&(!r||!(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()))&&!i.is("pre")&&!i.getBogus())return i}function i(e){var t=e.data.getTarget();if(t.is("input")){t=t.getAttribute("type");(t=="submit"||t=="reset")&&e.data.preventDefault()}}function n(e){return f(e)&&h(e)}function r(e,t){return function(i){var n=CKEDITOR.dom.element.get(i.data.$.toElement||i.data.$.fromElement||i.data.$.relatedTarget);(!n||!t.equals(n)&&!t.contains(n))&&e.call(this,i)}}function o(e){function t(e){return function(t,r){r&&(t.type==CKEDITOR.NODE_ELEMENT&&t.is(o))&&(i=t);if(!r&&n(t)&&(!e||!u(t)))return false}}var i,r=e.getRanges()[0],e=e.root,o={table:1,ul:1,ol:1,dl:1};if(r.startPath().contains(o)){var s=r.clone();s.collapse(1);s.setStartAt(e,CKEDITOR.POSITION_AFTER_START);e=new CKEDITOR.dom.walker(s);e.guard=t();e.checkBackward();if(i){s=r.clone();s.collapse();s.setEndAt(i,CKEDITOR.POSITION_AFTER_END);e=new CKEDITOR.dom.walker(s);e.guard=t(true);i=false;e.checkForward();return i}}return null}function s(e,t,i){return e.config.autoParagraph!==false&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&e.editable().equals(i)&&!t||t&&t.getAttribute("contenteditable")=="true"}function a(e){e.editor.focus();e.editor.fire("saveSnapshot")}function l(e){var t=e.editor;t.getSelection().scrollIntoView();setTimeout(function(){t.fire("saveSnapshot")},0)}function c(e,t,i){for(var n=e.getCommonAncestor(t),t=e=i?t:e;(e=e.getParent())&&!n.equals(e)&&e.getChildCount()==1;)t=e;t.remove()}CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t);this.editor=e;this.status="unloaded";this.hasFocus=false;this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus){e=this.editor._.previousActive||this.getDocument().getActive();if(this.contains(e)){e.focus();return}}try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(e){if(!CKEDITOR.env.ie)throw e}if(CKEDITOR.env.safari&&!this.isInline()){e=CKEDITOR.document.getActive();e.equals(this.getWindow().getFrame())||this.getWindow().focus()}},on:function(e,t){var i=Array.prototype.slice.call(arguments,0);if(CKEDITOR.env.ie&&/^focus|blur$/.exec(e)){e=e=="focus"?"focusin":"focusout";t=r(t,this);i[0]=e;i[1]=t}return CKEDITOR.dom.element.prototype.on.apply(this,i)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1),t=e.on.apply(e,t);this._.listeners.push(t);return t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(e){}},restoreAttrs:function(){var e=this._.attrChanges,t,i;for(i in e)if(e.hasOwnProperty(i)){t=e[i];t!==null?this.setAttribute(i,t):this.removeAttribute(i)}},attachClass:function(e){var t=this.getCustomData("classes");if(!this.hasClass(e)){!t&&(t=[]);t.push(e);this.setCustomData("classes",t);this.addClass(e)}},changeAttr:function(e,t){var i=this.getAttribute(e);if(t!==i){!this._.attrChanges&&(this._.attrChanges={});e in this._.attrChanges||(this._.attrChanges[e]=i);this.setAttribute(e,t)}},insertHtml:function(e,t){a(this);p(this,t||"html",e)},insertText:function(e){a(this);var t=this.editor,i=t.getSelection().getStartElement().hasAscendant("pre",true)?CKEDITOR.ENTER_BR:t.activeEnterMode,t=i==CKEDITOR.ENTER_BR,n=CKEDITOR.tools,e=n.htmlEncode(e.replace(/\r\n/g,"\n")),e=e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),i=i==CKEDITOR.ENTER_P?"p":"div";if(!t){var r=/\n{2}/g;if(r.test(e))var o="<"+i+">",s="</"+i+">",e=o+e.replace(r,function(){return s+o})+s}e=e.replace(/\n/g,"<br>");t||(e=e.replace(RegExp("<br>(?=</"+i+">)"),function(e){return n.repeat(e,2)}));e=e.replace(/^ | $/g,"&nbsp;");e=e.replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;");p(this,"text",e)},insertElement:function(e,t){t?this.insertElementIntoRange(e,t):this.insertElementIntoSelection(e)},insertElementIntoRange:function(e,t){var i=this.editor,n=i.config.enterMode,r=e.getName(),o=CKEDITOR.dtd.$block[r];if(t.checkReadOnly())return false;t.deleteContents(1);t.startContainer.type==CKEDITOR.NODE_ELEMENT&&t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&m(t);var s,a;if(o)for(;(s=t.getCommonAncestor(0,1))&&(a=CKEDITOR.dtd[s.getName()])&&(!a||!a[r]);)if(s.getName()in CKEDITOR.dtd.span)t.splitElement(s);else if(t.checkStartOfBlock()&&t.checkEndOfBlock()){t.setStartBefore(s);t.collapse(true);s.remove()}else t.splitBlock(n==CKEDITOR.ENTER_DIV?"div":"p",i.editable());t.insertNode(e);return true},insertElementIntoSelection:function(e){a(this);var t=this.editor,i=t.activeEnterMode,t=t.getSelection(),r=t.getRanges()[0],o=e.getName(),o=CKEDITOR.dtd.$block[o];if(this.insertElementIntoRange(e,r)){r.moveToPosition(e,CKEDITOR.POSITION_AFTER_END);if(o)if((o=e.getNext(function(e){return n(e)&&!u(e)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block))o.getDtd()["#"]?r.moveToElementEditStart(o):r.moveToElementEditEnd(e);else if(!o&&i!=CKEDITOR.ENTER_BR){o=r.fixBlock(true,i==CKEDITOR.ENTER_DIV?"div":"p");r.moveToElementEditStart(o)}}t.selectRanges([r]);l(this)},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e));this.setHtml(e);this.fixInitialSelection();if(this.status=="unloaded")this.status="ready";this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();e||(t=this.editor.dataProcessor.toDataFormat(t));return t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable");this.status="detached";var e=this.editor;this._.detach();delete e.document;delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e=i.getDocument().$,t=e.getSelection(),n;if(t.anchorNode&&t.anchorNode==i.$)n=true;else if(CKEDITOR.env.webkit){var r=i.getDocument().getActive();r&&(r.equals(i)&&!t.anchorNode)&&(n=true)}if(n){n=new CKEDITOR.dom.range(i);n.moveToElementEditStart(i);e=e.createRange();e.setStart(n.startContainer.$,n.startOffset);e.collapse(true);t.removeAllRanges();t.addRange(e)}}function t(){var e=i.getDocument().$,t=e.selection,n=i.getDocument().getActive();if(t.type=="None"&&n.equals(i)){t=new CKEDITOR.dom.range(i);e=e.body.createTextRange();t.moveToElementEditStart(i);t=t.startContainer;t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());e.moveToElementText(t.$);e.collapse(true);e.select()}}var i=this;if(CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)){if(this.hasFocus){this.focus();t()}}else if(this.hasFocus){this.focus();e()}else this.once("focus",function(){e()},null,null,-999)},setup:function(){var e=this.editor;this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||e.config.ignoreEmptyParagraph!==false&&(t=t.replace(d,function(e,t){return t}));e.setData(t,null,1)},this);this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this);this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this);this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this);this.attachListener(e,"beforeFocus",function(){var t=e.getSelection();(t=t&&t.getNative())&&t.type=="Control"||this.focus()},this);this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode)},this);this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this);this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this);this.setReadOnly(e.readOnly);this.attachClass("cke_editable");this.attachClass(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"cke_editable_inline":e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE||e.elementMode==CKEDITOR.ELEMENT_MODE_APPENDTO?"cke_editable_themed":"");this.attachClass("cke_contents_"+e.config.contentsLangDirection);e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly;e.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=false},null,null,-1);this.on("focus",function(){this.hasFocus=true},null,null,-1);e.focusManager.add(this);if(this.equals(CKEDITOR.document.getActive())){this.hasFocus=true;e.once("contentDom",function(){
e.focusManager.focus(this)},this)}this.isInline()&&this.changeAttr("tabindex",e.tabIndex);if(!this.is("textarea")){e.document=this.getDocument();e.window=this.getWindow();var t=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var r=e.config.contentsLangDirection;this.getDirection(1)!=r&&this.changeAttr("dir",r);var s=CKEDITOR.getCss();if(s){r=t.getHead();if(!r.getCustomData("stylesheet")){s=t.appendStyleText(s);s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement);r.setCustomData("stylesheet",s);s.data("cke-temp",1)}}r=t.getCustomData("stylesheet_ref")||0;t.setCustomData("stylesheet_ref",r+1);this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling);this.attachListener(this,"click",function(e){var e=e.data,t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&(e.$.button!=2&&t.isReadOnly())&&e.preventDefault()});var a={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return true;var i=t.data.domEvent.getKey(),n;if(i in a){var t=e.getSelection(),r,s=t.getRanges()[0],l=s.startPath(),c,u,d,i=i==8;if(CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(r=t.getSelectedElement())||(r=o(t))){e.fire("saveSnapshot");s.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START);r.remove();s.select();e.fire("saveSnapshot");n=1}else if(s.collapsed)if((c=l.block)&&(d=c[i?"getPrevious":"getNext"](f))&&d.type==CKEDITOR.NODE_ELEMENT&&d.is("table")&&s[i?"checkStartOfBlock":"checkEndOfBlock"]()){e.fire("saveSnapshot");s[i?"checkEndOfBlock":"checkStartOfBlock"]()&&c.remove();s["moveToElementEdit"+(i?"End":"Start")](d);s.select();e.fire("saveSnapshot");n=1}else if(l.blockLimit&&l.blockLimit.is("td")&&(u=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(u,i?CKEDITOR.START:CKEDITOR.END)&&(d=u[i?"getPrevious":"getNext"](f))){e.fire("saveSnapshot");s["moveToElementEdit"+(i?"End":"Start")](d);s.checkStartOfBlock()&&s.checkEndOfBlock()?d.remove():s.select();e.fire("saveSnapshot");n=1}else if((u=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(u,i?CKEDITOR.START:CKEDITOR.END))n=1}return!n});e.blockless&&(CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&this.attachListener(this,"keyup",function(t){if(t.data.getKeystroke()in a&&!this.getFirst(n)){this.appendBogus();t=e.createRange();t.moveToPosition(this,CKEDITOR.POSITION_AFTER_START);t.select()}});this.attachListener(this,"dblclick",function(t){if(e.readOnly)return false;t={element:t.data.getTarget()};e.fire("doubleclick",t)});CKEDITOR.env.ie&&this.attachListener(this,"click",i);CKEDITOR.env.ie||this.attachListener(this,"mousedown",function(t){var i=t.data.getTarget();if(i.is("img","hr","input","textarea","select")&&!i.isReadOnly()){e.getSelection().selectElement(i);i.is("input","textarea","select")&&t.data.preventDefault()}});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(t.data.$.button==2){t=t.data.getTarget();if(!t.getOuterHtml().replace(d,"")){var i=e.createRange();i.moveToElementEditStart(t);i.select(true)}}});if(CKEDITOR.env.webkit){this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()});this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})}CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(e.readOnly)return true;t=t.data.domEvent.getKey();if(t in a){var i=t==8,n=e.getSelection().getRanges()[0],t=n.startPath();if(n.collapsed){var r;e:{var o=t.block;if(o)if(n[i?"checkStartOfBlock":"checkEndOfBlock"]())if(!n.moveToClosestEditablePosition(o,!i)||!n.collapsed)r=false;else{if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var s=n.startContainer.getChild(n.startOffset-(i?1:0));if(s&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("hr")){e.fire("saveSnapshot");s.remove();r=true;break e}}if((n=n.startPath().block)&&(!n||!n.contains(o))){e.fire("saveSnapshot");var l;(l=(i?n:o).getBogus())&&l.remove();r=e.getSelection();l=r.createBookmarks();(i?o:n).moveChildren(i?n:o,false);t.lastElement.mergeSiblings();c(o,n,!i);r.selectBookmarks(l);r=true}}else r=false;else r=false}if(!r)return}else{i=n;r=t.block;l=i.endPath().block;if(!r||!l||r.equals(l))t=false;else{e.fire("saveSnapshot");(o=r.getBogus())&&o.remove();i.deleteContents();if(l.getParent()){l.moveChildren(r,false);t.lastElement.mergeSiblings();c(r,l,true)}i=e.getSelection().getRanges()[0];i.collapse(1);i.select();t=true}if(!t)return}e.getSelection().scrollIntoView();e.fire("saveSnapshot");return false}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var e;if(e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){e=this.getDocument();var t=e.getHead();if(t.getCustomData("stylesheet")){var i=e.getCustomData("stylesheet_ref");if(--i)e.setCustomData("stylesheet_ref",i);else{e.removeCustomData("stylesheet_ref");t.removeCustomData("stylesheet").remove()}}}this.editor.fire("contentDomUnload");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;if(t&&e)return 0;if(arguments.length)t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null);return t};var u=CKEDITOR.dom.walker.bogus(),d=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,f=CKEDITOR.dom.walker.whitespaces(true),h=CKEDITOR.dom.walker.bookmark(false,true);CKEDITOR.on("instanceLoaded",function(t){var i=t.editor;i.on("insertElement",function(e){e=e.data;if(e.type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))){e.getAttribute("contentEditable")!="false"&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1");e.setAttribute("contentEditable",false)}});i.on("selectionChange",function(t){if(!i.readOnly){var n=i.getSelection();if(n&&!n.isLocked){n=i.checkDirty();i.fire("lockSnapshot");e(t);i.fire("unlockSnapshot");!n&&i.resetDirty()}}})});CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var i=t.title;e.changeAttr("role","textbox");e.changeAttr("aria-label",i);i&&e.changeAttr("title",i);var n=t.fire("ariaEditorHelpLabel",{}).label;if(n)if(i=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents")){var r=CKEDITOR.tools.getNextId(),n=CKEDITOR.dom.element.createFromHtml('<span id="'+r+'" class="cke_voice_label">'+n+"</span>");i.append(n);e.changeAttr("aria-describedby",r)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");var p=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(i,n){var r,o,s,a,l=[],u=n.range.startContainer;r=n.range.startPath();for(var u=c[u.getName()],d=0,f=i.getChildren(),h=f.count(),p=-1,m=-1,g=0,v=r.contains(c.$list);d<h;++d){r=f.getItem(d);if(e(r)){s=r.getName();if(v&&s in CKEDITOR.dtd.$list)l=l.concat(t(r,n));else{a=!!u[s];if(s=="br"&&r.data("cke-eol")&&(!d||d==h-1)){g=(o=d?l[d-1].node:f.getItem(d+1))&&(!e(o)||!o.is("br"));o=o&&e(o)&&c.$block[o.getName()]}p==-1&&!a&&(p=d);a||(m=d);l.push({isElement:1,isLineBreak:g,isBlock:r.isBlockBoundary(),hasBlockSibling:o,node:r,name:s,allowed:a});o=g=0}}else l.push({isElement:0,node:r,allowed:1})}if(p>-1)l[p].firstNotAllowed=1;if(m>-1)l[m].lastNotAllowed=1;return l}function i(t,n){var r=[],o=t.getChildren(),s=o.count(),a,l=0,u=c[n],d=!t.is(c.$inline)||t.is("br");for(d&&r.push(" ");l<s;l++){a=o.getItem(l);e(a)&&!a.is(u)?r=r.concat(i(a,n)):r.push(a)}d&&r.push(" ");return r}function r(t){return t&&e(t)&&(t.is(c.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function o(t,i,n,r){var s=t.clone(),a,l;s.setEndAt(i,CKEDITOR.POSITION_BEFORE_END);if((a=new CKEDITOR.dom.walker(s).next())&&e(a)&&u[a.getName()]&&(l=a.getPrevious())&&e(l)&&!l.getParent().equals(t.startContainer)&&n.contains(l)&&r.contains(a)&&a.isIdentical(l)){a.moveChildren(l);a.remove();o(t,i,n,r)}}function a(t,i){function n(t,i){if(i.isBlock&&i.isElement&&!i.node.is("br")&&e(t)&&t.is("br")){t.remove();return 1}}var r=i.endContainer.getChild(i.endOffset),o=i.endContainer.getChild(i.endOffset-1);r&&n(r,t[t.length-1]);if(o&&n(o,t[0])){i.setEnd(i.endContainer,i.endOffset-1);i.collapse()}}var c=CKEDITOR.dtd,u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},f=CKEDITOR.tools.extend({},c.$inline);delete f.br;return function(u,h,p){var m=u.editor,g=m.getSelection().getRanges()[0],v=false;if(h=="unfiltered_html"){h="html";v=true}if(!g.checkReadOnly()){var w=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root,h={type:h,dontFilter:v,editable:u,editor:m,range:g,blockLimit:w,mergeCandidates:[],zombies:[]},m=h.range,v=h.mergeCandidates,b,y,_,E;if(h.type=="text"&&m.shrink(CKEDITOR.SHRINK_ELEMENT,true,false)){b=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",m.document);m.insertNode(b);m.setStartAfter(b)}y=new CKEDITOR.dom.elementPath(m.startContainer);h.endPath=_=new CKEDITOR.dom.elementPath(m.endContainer);if(!m.collapsed){var w=_.block||_.blockLimit,T=m.getCommonAncestor();w&&(!w.equals(T)&&!w.contains(T)&&m.checkEndOfBlock())&&h.zombies.push(w);m.deleteContents()}for(;(E=e(m.startContainer)&&m.startContainer.getChild(m.startOffset-1))&&e(E)&&E.isBlockBoundary()&&y.contains(E);)m.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);o(m,h.blockLimit,y,_);if(b){m.setEndBefore(b);m.collapse();b.remove()}b=m.startPath();if(w=b.contains(r,false,1)){m.splitElement(w);h.inlineStylesRoot=w;h.inlineStylesPeak=b.lastElement}b=m.createBookmark();(w=b.startNode.getPrevious(n))&&e(w)&&r(w)&&v.push(w);(w=b.startNode.getNext(n))&&e(w)&&r(w)&&v.push(w);for(w=b.startNode;(w=w.getParent())&&r(w);)v.push(w);m.moveToBookmark(b);if(b=p){b=h.range;if(h.type=="text"&&h.inlineStylesRoot){E=h.inlineStylesPeak;m=E.getDocument().createText("{cke-peak}");for(v=h.inlineStylesRoot.getParent();!E.equals(v);){m=m.appendTo(E.clone());E=E.getParent()}p=m.getOuterHtml().split("{cke-peak}").join(p)}E=h.blockLimit.getName();if(/^\s+|\s+$/.test(p)&&"span"in CKEDITOR.dtd[E])var C='<span data-cke-marker="1">&nbsp;</span>',p=C+p+C;p=h.editor.dataProcessor.toHtml(p,{context:null,fixForBody:false,dontFilter:h.dontFilter,filter:h.editor.activeFilter,enterMode:h.editor.activeEnterMode});E=b.document.createElement("body");E.setHtml(p);if(C){E.getFirst().remove();E.getLast().remove()}if((C=b.startPath().block)&&!(C.getChildCount()==1&&C.getBogus()))e:{var S;if(E.getChildCount()==1&&e(S=E.getFirst())&&S.is(d)){C=S.getElementsByTag("*");b=0;for(v=C.count();b<v;b++){m=C.getItem(b);if(!m.is(f))break e}S.moveChildren(S.getParent(1));S.remove()}}h.dataWrapper=E;b=p}if(b){S=h.range;var C=S.document,I,p=h.blockLimit;b=0;var O;E=[];var k,x,v=m=0,D,R;y=S.startContainer;var w=h.endPath.elements[0],P;_=w.getPosition(y);T=!!w.getCommonAncestor(y)&&_!=CKEDITOR.POSITION_IDENTICAL&&!(_&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);y=t(h.dataWrapper,h);for(a(y,S);b<y.length;b++){_=y[b];if(I=_.isLineBreak){I=S;D=p;var A=void 0,N=void 0;if(_.hasBlockSibling)I=1;else{A=I.startContainer.getAscendant(c.$block,1);if(!A||!A.is({div:1,p:1}))I=0;else{N=A.getPosition(D);if(N==CKEDITOR.POSITION_IDENTICAL||N==CKEDITOR.POSITION_CONTAINS)I=0;else{D=I.splitElement(A);I.moveToPosition(D,CKEDITOR.POSITION_AFTER_START);I=1}}}}if(I)v=b>0;else{I=S.startPath();if(!_.isBlock&&s(h.editor,I.block,I.blockLimit)&&(x=h.editor.activeEnterMode!=CKEDITOR.ENTER_BR&&h.editor.config.autoParagraph!==false?h.editor.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":false)){x=C.createElement(x);x.appendBogus();S.insertNode(x);CKEDITOR.env.needsBrFiller&&(O=x.getBogus())&&O.remove();S.moveToPosition(x,CKEDITOR.POSITION_BEFORE_END)}if((I=S.startPath().block)&&!I.equals(k)){if(O=I.getBogus()){O.remove();E.push(I)}k=I}_.firstNotAllowed&&(m=1);if(m&&_.isElement){I=S.startContainer;for(D=null;I&&!c[I.getName()][_.name];){if(I.equals(p)){I=null;break}D=I;I=I.getParent()}if(I){if(D){R=S.splitElement(D);h.zombies.push(R);h.zombies.push(D)}}else{D=p.getName();P=!b;I=b==y.length-1;D=i(_.node,D);for(var A=[],N=D.length,M=0,L=void 0,B=0,K=-1;M<N;M++){L=D[M];if(L==" "){if(!B&&(!P||M)){A.push(new CKEDITOR.dom.text(" "));K=A.length}B=1}else{A.push(L);B=0}}I&&K==A.length&&A.pop();P=A}}if(P){for(;I=P.pop();)S.insertNode(I);P=0}else S.insertNode(_.node);if(_.lastNotAllowed&&b<y.length-1){(R=T?w:R)&&S.setEndAt(R,CKEDITOR.POSITION_AFTER_START);m=0}S.collapse()}}h.dontMoveCaret=v;h.bogusNeededBlocks=E}O=h.range;var F;R=h.bogusNeededBlocks;for(P=O.createBookmark();k=h.zombies.pop();)if(k.getParent()){x=O.clone();x.moveToElementEditStart(k);x.removeEmptyBlocksAtEnd()}if(R)for(;k=R.pop();)CKEDITOR.env.needsBrFiller?k.appendBogus():k.append(O.document.createText(" "));for(;k=h.mergeCandidates.pop();)k.mergeSiblings();O.moveToBookmark(P);if(!h.dontMoveCaret){for(k=e(O.startContainer)&&O.startContainer.getChild(O.startOffset-1);k&&e(k)&&!k.is(c.$empty);){if(k.isBlockBoundary())O.moveToPosition(k,CKEDITOR.POSITION_BEFORE_END);else{if(r(k)&&k.getHtml().match(/(\s|&nbsp;)$/g)){F=null;break}F=O.clone();F.moveToPosition(k,CKEDITOR.POSITION_BEFORE_END)}k=k.getLast(n)}F&&O.moveToRange(F)}g.select();l(u)}}}(),m=function(){function e(e){e=new CKEDITOR.dom.walker(e);e.guard=function(e,t){if(t)return false;if(e.type==CKEDITOR.NODE_ELEMENT)return e.is(CKEDITOR.dtd.$tableContent)};e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT};return e}function t(e,t,i){t=e.getDocument().createElement(t);e.append(t,i);return t}function i(e){var t=e.count(),i;for(t;t-- >0;){i=e.getItem(t);if(!CKEDITOR.tools.trim(i.getHtml())){i.appendBogus();CKEDITOR.env.ie&&(CKEDITOR.env.version<9&&i.getChildCount())&&i.getFirst().remove()}}}return function(n){var r=n.startContainer,o=r.getAscendant("table",1),s=false;i(o.getElementsByTag("td"));i(o.getElementsByTag("th"));o=n.clone();o.setStart(r,0);o=e(o).lastBackward();if(!o){o=n.clone();o.setEndAt(r,CKEDITOR.POSITION_BEFORE_END);o=e(o).lastForward();s=true}o||(o=r);if(o.is("table")){n.setStartAt(o,CKEDITOR.POSITION_BEFORE_START);n.collapse(true);o.remove()}else{o.is({tbody:1,thead:1,tfoot:1})&&(o=t(o,"tr",s));o.is("tr")&&(o=t(o,o.getParent().is("thead")?"th":"td",s));(r=o.getBogus())&&r.remove();n.moveToPosition(o,s?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END)}}}()}(),function(){function e(){var e=this._.fakeSelection,t;if(e){t=this.getSelection(1);if(!t||!t.isHidden()){e.reset();e=0}}if(!e){e=t||this.getSelection(1);if(!e||e.getType()==CKEDITOR.SELECTION_NONE)return}this.fire("selectionCheck",e);t=this.elementPath();if(!t.compare(this._.selectionPreviousPath)){if(CKEDITOR.env.webkit)this._.previousActive=this.document.getActive();this._.selectionPreviousPath=t;this.fire("selectionChange",{selection:e,path:t})}}function t(){p=true;if(!h){i.call(this);h=CKEDITOR.tools.setTimeout(i,200,this)}}function i(){h=null;if(p){CKEDITOR.tools.setTimeout(e,0,this);p=false}}function n(e){return m(e)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(CKEDITOR.dtd.$empty)?true:false}function r(e){function t(t,i){return!t||t.type==CKEDITOR.NODE_TEXT?false:e.clone()["moveToElementEdit"+(i?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return false;var i=e.startContainer,r=e.getPreviousNode(n,null,i),o=e.getNextNode(n,null,i);return t(r)||t(o,1)||!r&&!o&&!(i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()&&i.getBogus())?true:false}function o(e){return e.getCustomData("cke-fillingChar")}function s(e,t){var i=e&&e.removeCustomData("cke-fillingChar");if(i){if(t!==false){var n,r=e.getDocument().getSelection().getNative(),o=r&&r.type!="None"&&r.getRangeAt(0);if(i.getLength()>1&&o&&o.intersectsNode(i.$)){n=l(r);o=r.focusNode==i.$&&r.focusOffset>0;r.anchorNode==i.$&&r.anchorOffset>0&&n[0].offset--;o&&n[1].offset--}}i.setText(a(i.getText()));n&&c(e.getDocument().$,n)}}function a(e){return e.replace(/\u200B( )?/g,function(e){return e[1]?" ":""})}function l(e){return[{node:e.anchorNode,offset:e.anchorOffset},{node:e.focusNode,offset:e.focusOffset}]}function c(e,t){var i=e.getSelection(),n=e.createRange();n.setStart(t[0].node,t[0].offset);n.collapse(true);i.removeAllRanges();i.addRange(n);i.extend(t[1].node,t[1].offset)}function u(e){var t=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">&nbsp;</div>',e.document);e.fire("lockSnapshot");e.editable().append(t);var i=e.getSelection(1),n=e.createRange(),r=i.root.on("selectionchange",function(e){e.cancel()},null,null,0);n.setStartAt(t,CKEDITOR.POSITION_AFTER_START);n.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);i.selectRanges([n]);r.removeListener();e.fire("unlockSnapshot");e._.hiddenSelectionContainer=t}function d(e){var t={37:1,39:1,8:1,46:1};return function(i){var n=i.data.getKeystroke();if(t[n]){var r=e.getSelection().getRanges(),o=r[0];if(r.length==1&&o.collapsed)if((n=o[n<38?"getPreviousEditableNode":"getNextEditableNode"]())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getAttribute("contenteditable")=="false"){e.getSelection().fake(n);i.data.preventDefault();i.cancel()}}}}function f(e){for(var t=0;t<e.length;t++){var i=e[t];i.getCommonAncestor().isReadOnly()&&e.splice(t,1);if(!i.collapsed){if(i.startContainer.isReadOnly())for(var n=i.startContainer,r;n;){if((r=n.type==CKEDITOR.NODE_ELEMENT)&&n.is("body")||!n.isReadOnly())break;r&&n.getAttribute("contentEditable")=="false"&&i.setStartAfter(n);n=n.getParent()}n=i.startContainer;r=i.endContainer;var o=i.startOffset,s=i.endOffset,a=i.clone();n&&n.type==CKEDITOR.NODE_TEXT&&(o>=n.getLength()?a.setStartAfter(n):a.setStartBefore(n));r&&r.type==CKEDITOR.NODE_TEXT&&(s?a.setEndAfter(r):a.setEndBefore(r));n=new CKEDITOR.dom.walker(a);n.evaluator=function(n){if(n.type==CKEDITOR.NODE_ELEMENT&&n.isReadOnly()){var r=i.clone();i.setEndBefore(n);i.collapsed&&e.splice(t--,1);if(!(n.getPosition(a.endContainer)&CKEDITOR.POSITION_CONTAINS)){r.setStartAfter(n);r.collapsed||e.splice(t+1,0,r)}return true}return false};n.next()}}return e}var h,p,m=CKEDITOR.dom.walker.invisible(1),g=function(){function e(e){return function(t){var i=t.editor.createRange();i.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([i]);return false}}function t(e){return function(t){var i=t.editor,n=i.createRange(),r;if(!(r=n.moveToClosestEditablePosition(t.selected,e)))r=n.moveToClosestEditablePosition(t.selected,!e);r&&i.getSelection().selectRanges([n]);i.fire("saveSnapshot");t.selected.remove();if(!r){n.moveToElementEditablePosition(i.editable());i.getSelection().selectRanges([n])}i.fire("saveSnapshot");return false}}var i=e(),n=e(1);return{37:i,38:i,39:n,40:n,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(i){function n(){var e=r.getSelection();e&&e.removeAllRanges()}var r=i.editor;r.on("contentDom",function(){function i(){p=new CKEDITOR.dom.selection(r.getSelection());p.lock()}function n(){a.removeListener("mouseup",n);u.removeListener("mouseup",n);var e=CKEDITOR.document.$.selection,t=e.createRange();e.type!="None"&&t.parentElement().ownerDocument==o.$&&t.select()}var o=r.document,a=CKEDITOR.document,l=r.editable(),c=o.getBody(),u=o.getDocumentElement(),f=l.isInline(),h,p;CKEDITOR.env.gecko&&l.attachListener(l,"focus",function(e){e.removeListener();if(h!==0)if((e=r.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==l.$){e=r.createRange();e.moveToElementEditStart(l);e.select()}},null,null,-2);l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){h&&CKEDITOR.env.webkit&&(h=r._.previousActive&&r._.previousActive.equals(o.getActive()));r.unlockSelection(h);h=0},null,null,-1);l.attachListener(l,"mousedown",function(){h=0});if(CKEDITOR.env.ie||f){v?l.attachListener(l,"beforedeactivate",i,null,null,-1):l.attachListener(r,"selectionCheck",i,null,null,-1);l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){r.lockSelection(p);h=1},null,null,-1);l.attachListener(l,"mousedown",function(){h=0})}if(CKEDITOR.env.ie&&!f){var m;l.attachListener(l,"mousedown",function(e){if(e.data.$.button==2){e=r.document.getSelection();if(!e||e.getType()==CKEDITOR.SELECTION_NONE)m=r.window.getScrollPosition()}});l.attachListener(l,"mouseup",function(e){if(e.data.$.button==2&&m){r.document.$.documentElement.scrollLeft=m.x;r.document.$.documentElement.scrollTop=m.y}m=null});if(o.$.compatMode!="BackCompat"){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)u.on("mousedown",function(e){function t(e){e=e.data.$;if(n){var t=c.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(e){}n.setEndPoint(r.compareEndPoints("StartToStart",t)<0?"EndToEnd":"StartToStart",t);n.select()}}function i(){u.removeListener("mousemove",t);a.removeListener("mouseup",i);u.removeListener("mouseup",i);n.select()}e=e.data;if(e.getTarget().is("html")&&e.$.y<u.$.clientHeight&&e.$.x<u.$.clientWidth){var n=c.$.createTextRange();try{n.moveToPoint(e.$.clientX,e.$.clientY)}catch(e){}var r=n.duplicate();u.on("mousemove",t);a.on("mouseup",i);u.on("mouseup",i)}});if(CKEDITOR.env.version>7&&CKEDITOR.env.version<11)u.on("mousedown",function(e){if(e.data.getTarget().is("html")){a.on("mouseup",n);u.on("mouseup",n)}})}}l.attachListener(l,"selectionchange",e,r);l.attachListener(l,"keyup",t,r);l.attachListener(l,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){r.forceNextSelectionCheck();r.selectionChange(1)});if(f&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var g;l.attachListener(l,"mousedown",function(){g=1});l.attachListener(o.getDocumentElement(),"mouseup",function(){g&&t.call(r);g=0})}else l.attachListener(CKEDITOR.env.ie?l:o.getDocumentElement(),"mouseup",t,r);CKEDITOR.env.webkit&&l.attachListener(o,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:s(l)}},null,null,-1);l.attachListener(l,"keydown",d(r),null,null,-1)});r.on("setData",function(){r.unlockSelection();CKEDITOR.env.webkit&&n()});r.on("contentDomUnload",function(){r.unlockSelection()});if(CKEDITOR.env.ie9Compat)r.on("beforeDestroy",n,null,null,9);r.on("dataReady",function(){delete r._.fakeSelection;delete r._.hiddenSelectionContainer;r.selectionChange(1)});r.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=r.editable().getLast(e);if(t&&t.hasAttribute("data-cke-hidden-sel")){t.remove();if(CKEDITOR.env.gecko)(e=r.editable().getFirst(e))&&(e.is("br")&&e.getAttribute("_moz_editor_bogus_node"))&&e.remove()}},null,null,100);r.on("key",function(e){if(r.mode=="wysiwyg"){var t=r.getSelection();if(t.isFake){var i=g[e.data.keyCode];if(i)return i({editor:r,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})});CKEDITOR.on("instanceReady",function(e){function t(){var e=n.editable();if(e)if(e=o(e)){var t=n.document.$.getSelection();if(t.type!="None"&&(t.anchorNode==e.$||t.focusNode==e.$))u=l(t);r=e.getText();e.setText(a(r))}}function i(){var e=n.editable();if(e)if(e=o(e)){e.setText(r);if(u){c(n.document.$,u);u=null}}}var n=e.editor,r,u;if(CKEDITOR.env.webkit){n.on("selectionChange",function(){var e=n.editable(),t=o(e);t&&(t.getCustomData("ready")?s(e):t.setCustomData("ready",1))},null,null,-1);n.on("beforeSetMode",function(){s(n.editable())},null,null,-1);n.on("beforeUndoImage",t);n.on("afterUndoImage",i);n.on("beforeGetData",t,null,null,0);n.on("getData",i)}});CKEDITOR.editor.prototype.selectionChange=function(i){(i?e:t).call(this)};CKEDITOR.editor.prototype.getSelection=function(e){if((this._.savedSelection||this._.fakeSelection)&&!e)return this._.savedSelection||this._.fakeSelection;return(e=this.editable())&&this.mode=="wysiwyg"?new CKEDITOR.dom.selection(e):null};CKEDITOR.editor.prototype.lockSelection=function(e){e=e||this.getSelection(1);if(e.getType()!=CKEDITOR.SELECTION_NONE){!e.isLocked&&e.lock();this._.savedSelection=e;return true}return false};CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;if(t){t.unlock(e);delete this._.savedSelection;return true}return false};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);e.selectRanges([this]);return e};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;var v=typeof window.getSelection!="function",w=1;CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection)var t=e,e=e.root;var i=e instanceof CKEDITOR.dom.element;this.rev=t?t.rev:w++;this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument();this.root=i?e:this.document.getBody();this.isLocked=0;this._={cache:{}};if(t){CKEDITOR.tools.extend(this._.cache,t._.cache);this.isFake=t.isFake;this.isLocked=t.isLocked;return this}var e=this.getNative(),n,r;if(e)if(e.getRangeAt)n=(r=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(r.commonAncestorContainer);else{try{r=e.createRange()}catch(e){}n=r&&CKEDITOR.dom.element.get(r.item&&r.item(0)||r.parentElement())}if(!n||!(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_TEXT)||!this.root.equals(n)&&!this.root.contains(n)){this._.cache.type=CKEDITOR.SELECTION_NONE;this._.cache.startElement=null;this._.cache.selectedElement=null;this._.cache.selectedText="";this._.cache.ranges=new CKEDITOR.dom.rangeList}return this};var b={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.dom.selection.prototype={getNative:function(){return this._.cache.nativeSel!==void 0?this._.cache.nativeSel:this._.cache.nativeSel=v?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:v?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var i=this.getNative(),n=i.type;if(n=="Text")t=CKEDITOR.SELECTION_TEXT;if(n=="Control")t=CKEDITOR.SELECTION_ELEMENT;if(i.createRange().parentElement())t=CKEDITOR.SELECTION_TEXT}catch(e){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT,i=this.getNative();if(!i||!i.rangeCount)t=CKEDITOR.SELECTION_NONE;else if(i.rangeCount==1){var i=i.getRangeAt(0),n=i.startContainer;if(n==i.endContainer&&n.nodeType==1&&i.endOffset-i.startOffset==1&&b[n.childNodes[i.startOffset].nodeName.toLowerCase()])t=CKEDITOR.SELECTION_ELEMENT}return e.type=t},getRanges:function(){var e=v?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,i){t=t.duplicate();t.collapse(i);var n=t.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var r=n.children,o,s,a=t.duplicate(),l=0,c=r.length-1,u=-1,d,f;l<=c;){u=Math.floor((l+c)/2);o=r[u];a.moveToElementText(o);d=a.compareEndPoints("StartToStart",t);if(d>0)c=u-1;else if(d<0)l=u+1;else return{container:n,offset:e(o)}}if(u==-1||u==r.length-1&&d<0){a.moveToElementText(n);a.setEndPoint("StartToStart",t);a=a.text.replace(/(\r\n|\r)/g,"\n").length;r=n.childNodes;if(!a){o=r[r.length-1];return o.nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:r.length}:{container:o,offset:o.nodeValue.length}}for(n=r.length;a>0&&n>0;){s=r[--n];if(s.nodeType==CKEDITOR.NODE_TEXT){f=s;a=a-s.nodeValue.length}}return{container:f,offset:-a}}a.collapse(d>0?true:false);a.setEndPoint(d>0?"StartToStart":"EndToStart",t);a=a.text.replace(/(\r\n|\r)/g,"\n").length;if(!a)return{container:n,offset:e(o)+(d>0?0:1)};for(;a>0;)try{s=o[d>0?"previousSibling":"nextSibling"];if(s.nodeType==CKEDITOR.NODE_TEXT){a=a-s.nodeValue.length;f=s}o=s}catch(t){return{container:n,offset:e(o)}}return{container:f,offset:d>0?-a:f.nodeValue.length+a}};return function(){var e=this.getNative(),i=e&&e.createRange(),n=this.getType();if(!e)return[];if(n==CKEDITOR.SELECTION_TEXT){e=new CKEDITOR.dom.range(this.root);n=t(i,true);e.setStart(new CKEDITOR.dom.node(n.container),n.offset);n=t(i);e.setEnd(new CKEDITOR.dom.node(n.container),n.offset);e.endContainer.getPosition(e.startContainer)&CKEDITOR.POSITION_PRECEDING&&e.endOffset<=e.startContainer.getIndex()&&e.collapse();return[e]}if(n==CKEDITOR.SELECTION_ELEMENT){for(var n=[],r=0;r<i.length;r++){for(var o=i.item(r),s=o.parentNode,a=0,e=new CKEDITOR.dom.range(this.root);a<s.childNodes.length&&s.childNodes[a]!=o;a++);e.setStart(new CKEDITOR.dom.node(s),a);e.setEnd(new CKEDITOR.dom.node(s),a+1);n.push(e)}return n}return[]}}():function(){var e=[],t,i=this.getNative();if(!i)return e;for(var n=0;n<i.rangeCount;n++){var r=i.getRangeAt(n);t=new CKEDITOR.dom.range(this.root);t.setStart(new CKEDITOR.dom.node(r.startContainer),r.startOffset);t.setEnd(new CKEDITOR.dom.node(r.endContainer),r.endOffset);e.push(t)}return e};return function(t){var i=this._.cache,n=i.ranges;if(!n)i.ranges=n=new CKEDITOR.dom.rangeList(e.call(this));return!t?n:f(new CKEDITOR.dom.rangeList(n.slice()))}}(),getStartElement:function(){var e=this._.cache;if(e.startElement!==void 0)return e.startElement;var t;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var i=this.getRanges()[0];if(i){if(i.collapsed){t=i.startContainer;t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent())}else{for(i.optimize();;){t=i.startContainer;if(i.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary())i.setStartAfter(t);else break}t=i.startContainer;if(t.type!=CKEDITOR.NODE_ELEMENT)return t.getParent();t=t.getChild(i.startOffset);if(!t||t.type!=CKEDITOR.NODE_ELEMENT)t=i.startContainer;else for(i=t.getFirst();i&&i.type==CKEDITOR.NODE_ELEMENT;){t=i;i=i.getFirst()}}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var e=this._.cache;if(e.selectedElement!==void 0)return e.selectedElement;var t=this,i=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e=t.getRanges()[0].clone(),i,n,r=2;r&&(!(i=e.getEnclosedNode())||!(i.type==CKEDITOR.NODE_ELEMENT&&b[i.getName()]&&(n=i)));r--)e.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return e.selectedElement=i?new CKEDITOR.dom.element(i):null},getSelectedText:function(){var e=this._.cache;if(e.selectedText!==void 0)return e.selectedText;var t=this.getNative(),t=v?t.type=="Control"?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var t=this.getSelectedElement(),i=!t&&this.getRanges(),n=this.isFake;this.isLocked=0;this.reset();if(e)(e=t||i[0]&&i[0].getCommonAncestor())&&e.getAscendant("body",1)&&(n?this.fake(t):t?this.selectElement(t):this.selectRanges(i))}},reset:function(){this._.cache={};this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection&&this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var i=e.checkDirty();e.fire("lockSnapshot");t.remove();e.fire("unlockSnapshot");!i&&e.resetDirty()}delete e._.hiddenSelectionContainer}this.rev=w++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e);t.setEndAfter(e);this.selectRanges([t])},selectRanges:function(e){var t=this.root.editor,t=t&&t._.hiddenSelectionContainer;this.reset();if(t)for(var t=this.root,i,n=0;n<e.length;++n){i=e[n];if(i.endContainer.equals(t))i.endOffset=Math.min(i.endOffset,t.getChildCount())}if(e.length)if(this.isLocked){var o=CKEDITOR.document.getActive();this.unlock();this.selectRanges(e);this.lock();o&&!o.equals(this.root)&&o.focus()}else{var a;e:{var l,c;if(e.length==1&&!(c=e[0]).collapsed&&(a=c.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT){c=c.clone();c.shrink(CKEDITOR.SHRINK_ELEMENT,true);if((l=c.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT)a=l;if(a.getAttribute("contenteditable")=="false")break e}a=void 0}if(a)this.fake(a);else{
if(v){c=CKEDITOR.dom.walker.whitespaces(true);l=/\ufeff|\u00a0/;t={table:1,tbody:1,tr:1};if(e.length>1){a=e[e.length-1];e[0].setEnd(a.endContainer,a.endOffset)}a=e[0];var e=a.collapsed,u,d,f;if((i=a.getEnclosedNode())&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in b&&(!i.is("a")||!i.getText()))try{f=i.$.createControlRange();f.addElement(i.$);f.select();return}catch(e){}if(a.startContainer.type==CKEDITOR.NODE_ELEMENT&&a.startContainer.getName()in t||a.endContainer.type==CKEDITOR.NODE_ELEMENT&&a.endContainer.getName()in t){a.shrink(CKEDITOR.NODE_ELEMENT,true);e=a.collapsed}f=a.createBookmark();t=f.startNode;if(!e)o=f.endNode;f=a.document.$.body.createTextRange();f.moveToElementText(t.$);f.moveStart("character",1);if(o){l=a.document.$.body.createTextRange();l.moveToElementText(o.$);f.setEndPoint("EndToEnd",l);f.moveEnd("character",-1)}else{u=t.getNext(c);d=t.hasAscendant("pre");u=!(u&&u.getText&&u.getText().match(l))&&(d||!t.hasPrevious()||t.getPrevious().is&&t.getPrevious().is("br"));d=a.document.createElement("span");d.setHtml("&#65279;");d.insertBefore(t);u&&a.document.createText("\ufeff").insertBefore(t)}a.setStartBefore(t);t.remove();if(e){if(u){f.moveStart("character",-1);f.select();a.document.$.selection.clear()}else f.select();a.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START);d.remove()}else{a.setEndBefore(o);o.remove();f.select()}}else{o=this.getNative();if(!o)return;this.removeAllRanges();for(f=0;f<e.length;f++){if(f<e.length-1){u=e[f];d=e[f+1];l=u.clone();l.setStart(u.endContainer,u.endOffset);l.setEnd(d.startContainer,d.startOffset);if(!l.collapsed){l.shrink(CKEDITOR.NODE_ELEMENT,true);a=l.getCommonAncestor();l=l.getEnclosedNode();if(a.isReadOnly()||l&&l.isReadOnly()){d.setStart(u.startContainer,u.startOffset);e.splice(f--,1);continue}}}a=e[f];d=this.document.$.createRange();if(a.collapsed&&CKEDITOR.env.webkit&&r(a)){u=this.root;s(u,false);l=u.getDocument().createText("​");u.setCustomData("cke-fillingChar",l);a.insertNode(l);if((u=l.getNext())&&!l.getPrevious()&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()=="br"){s(this.root);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START)}else a.moveToPosition(l,CKEDITOR.POSITION_AFTER_END)}d.setStart(a.startContainer.$,a.startOffset);try{d.setEnd(a.endContainer.$,a.endOffset)}catch(e){if(e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0){a.collapse(1);d.setEnd(a.endContainer.$,a.endOffset)}else throw e}o.addRange(d)}}this.reset();this.root.fire("selectionchange")}}},fake:function(e){var t=this.root.editor;this.reset();u(t);var i=this._.cache,n=new CKEDITOR.dom.range(this.root);n.setStartBefore(e);n.setEndAfter(e);i.ranges=new CKEDITOR.dom.rangeList(n);i.selectedElement=i.startElement=e;i.type=CKEDITOR.SELECTION_ELEMENT;i.selectedText=i.nativeSel=null;this.isFake=1;this.rev=w++;t._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent());return!(!e||!e.data("cke-hidden-sel"))},createBookmarks:function(e){e=this.getRanges().createBookmarks(e);this.isFake&&(e.isFake=1);return e},createBookmarks2:function(e){e=this.getRanges().createBookmarks2(e);this.isFake&&(e.isFake=1);return e},selectBookmarks:function(e){for(var t=[],i=0;i<e.length;i++){var n=new CKEDITOR.dom.range(this.root);n.moveToBookmark(e[i]);t.push(n)}e.isFake?this.fake(t[0].getEnclosedNode()):this.selectRanges(t);return this},getCommonAncestor:function(){var e=this.getRanges();return!e.length?null:e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer)},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[v?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),"use strict",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var i,n;e=e.getParent();){if(e.equals(t))break;if(e.getAttribute("data-nostyle"))i=e;else if(!n){var r=e.getAttribute("contentEditable");r=="false"?i=e:r=="true"&&(n=1)}}return i}function t(i){var r=i.document;if(i.collapsed){r=g(this,r);i.insertNode(r);i.moveToPosition(r,CKEDITOR.POSITION_BEFORE_END)}else{var o=this.element,s=this._.definition,a,l=s.ignoreReadonly,c=l||s.includeReadonly;c==null&&(c=i.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[o];if(!u){a=true;u=CKEDITOR.dtd.span}i.enlarge(CKEDITOR.ENLARGE_INLINE,1);i.trim();var d=i.createBookmark(),f=d.startNode,p=d.endNode,m=f,v;if(!l){var w=i.getCommonAncestor(),l=e(f,w),w=e(p,w);l&&(m=l.getNextSourceNode(true));w&&(p=w)}for(m.getPosition(p)==CKEDITOR.POSITION_FOLLOWING&&(m=0);m;){l=false;if(m.equals(p)){m=null;l=true}else{var b=m.type==CKEDITOR.NODE_ELEMENT?m.getName():null,w=b&&m.getAttribute("contentEditable")=="false",y=b&&m.getAttribute("data-nostyle");if(b&&m.data("cke-bookmark")){m=m.getNextSourceNode(true);continue}if(w&&c&&CKEDITOR.dtd.$block[b])for(var _=m,E=n(_),T=void 0,C=E.length,S=0,_=C&&new CKEDITOR.dom.range(_.getDocument());S<C;++S){var T=E[S],O=CKEDITOR.filter.instances[T.data("cke-filter")];if(O?O.check(this):1){_.selectNodeContents(T);t.call(this,_)}}E=b?!u[b]||y?0:w&&!c?0:(m.getPosition(p)|k)==k&&(!s.childRule||s.childRule(m)):1;if(E)if((E=m.getParent())&&((E.getDtd()||CKEDITOR.dtd.span)[o]||a)&&(!s.parentRule||s.parentRule(E))){if(!v&&(!b||!CKEDITOR.dtd.$removeEmpty[b]||(m.getPosition(p)|k)==k)){v=i.clone();v.setStartBefore(m)}b=m.type;if(b==CKEDITOR.NODE_TEXT||w||b==CKEDITOR.NODE_ELEMENT&&!m.getChildCount()){for(var b=m,D;(l=!b.getNext(I))&&(D=b.getParent(),u[D.getName()])&&(D.getPosition(f)|x)==x&&(!s.childRule||s.childRule(D));)b=D;v.setEndAfter(b)}}else l=true;else l=true;m=m.getNextSourceNode(y||w)}if(l&&v&&!v.collapsed){for(var l=g(this,r),w=l.hasAttributes(),y=v.getCommonAncestor(),b={},E={},T={},C={},R,P,A;l&&y;){if(y.getName()==o){for(R in s.attributes)if(!C[R]&&(A=y.getAttribute(P)))l.getAttribute(R)==A?E[R]=1:C[R]=1;for(P in s.styles)if(!T[P]&&(A=y.getStyle(P)))l.getStyle(P)==A?b[P]=1:T[P]=1}y=y.getParent()}for(R in E)l.removeAttribute(R);for(P in b)l.removeStyle(P);w&&!l.hasAttributes()&&(l=null);if(l){v.extractContents().appendTo(l);v.insertNode(l);h.call(this,l);l.mergeSiblings();CKEDITOR.env.ie||l.$.normalize()}else{l=new CKEDITOR.dom.element("span");v.extractContents().appendTo(l);v.insertNode(l);h.call(this,l);l.remove(true)}v=null}}i.moveToBookmark(d);i.shrink(CKEDITOR.SHRINK_TEXT);i.shrink(CKEDITOR.NODE_ELEMENT,true)}}function i(e){function t(){for(var e=new CKEDITOR.dom.elementPath(n.getParent()),t=new CKEDITOR.dom.elementPath(c.getParent()),i=null,r=null,o=0;o<e.elements.length;o++){var s=e.elements[o];if(s==e.block||s==e.blockLimit)break;u.checkElementRemovable(s,true)&&(i=s)}for(o=0;o<t.elements.length;o++){s=t.elements[o];if(s==t.block||s==t.blockLimit)break;u.checkElementRemovable(s,true)&&(r=s)}r&&c.breakParent(r);i&&n.breakParent(i)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var i=e.createBookmark(),n=i.startNode;if(e.collapsed){for(var r=new CKEDITOR.dom.elementPath(n.getParent(),e.root),o,s=0,a;s<r.elements.length&&(a=r.elements[s]);s++){if(a==r.block||a==r.blockLimit)break;if(this.checkElementRemovable(a)){var l;if(e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(l=e.checkBoundaryOfElement(a,CKEDITOR.START)))){o=a;o.match=l?"start":"end"}else{a.mergeSiblings();a.is(this.element)?f.call(this,a):p(a,b(this)[a.getName()])}}}if(o){a=n;for(s=0;;s++){l=r.elements[s];if(l.equals(o))break;else if(l.match)continue;else l=l.clone();l.append(a);a=l}a[o.match=="start"?"insertBefore":"insertAfter"](o)}}else{var c=i.endNode,u=this;t();for(r=n;!r.equals(c);){o=r.getNextSourceNode();if(r.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(r)){r.getName()==this.element?f.call(this,r):p(r,b(this)[r.getName()]);if(o.type==CKEDITOR.NODE_ELEMENT&&o.contains(n)){t();o=n.getNext()}}r=o}}e.moveToBookmark(i);e.shrink(CKEDITOR.NODE_ELEMENT,true)}function n(e){var t=[];e.forEach(function(e){if(e.getAttribute("contenteditable")=="true"){t.push(e);return false}},CKEDITOR.NODE_ELEMENT,true);return t}function r(e){var t=e.getEnclosedNode()||e.getCommonAncestor(false,true);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&v(e,this)}function o(e){var t=e.getCommonAncestor(true,true);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var t=this._.definition,i=t.attributes;if(i)for(var n in i)e.removeAttribute(n,i[n]);if(t.styles)for(var r in t.styles)t.styles.hasOwnProperty(r)&&e.removeStyle(r)}}function s(e){var t=e.createBookmark(true),i=e.createIterator();i.enforceRealBlocks=true;if(this._.enterMode)i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var n,r=e.document,o;n=i.getNextParagraph();)if(!n.isReadOnly()&&(i.activeFilter?i.activeFilter.check(this):1)){o=g(this,r,n);l(n,o)}e.moveToBookmark(t)}function a(e){var t=e.createBookmark(1),i=e.createIterator();i.enforceRealBlocks=true;i.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var n,r;n=i.getNextParagraph();)if(this.checkElementRemovable(n))if(n.is("pre")){(r=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&n.copyAttributes(r);l(n,r)}else f.call(this,n);e.moveToBookmark(t)}function l(e,t){var i=!t;if(i){t=e.getDocument().createElement("div");e.copyAttributes(t)}var n=t&&t.is("pre"),r=e.is("pre"),o=!n&&r;if(n&&!r){r=t;(o=e.getBogus())&&o.remove();o=e.getHtml();o=u(o,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");o=o.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");o=o.replace(/([ \t\n\r]+|&nbsp;)/g," ");o=o.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(r);r.$.outerHTML="<pre>"+o+"</pre>";r.copyAttributes(s.getFirst());r=s.getFirst().remove()}else r.setHtml(o);t=r}else o?t=d(i?[e.getHtml()]:c(e),t):e.moveChildren(t);t.replace(e);if(n){var i=t,a;if((a=i.getPrevious(O))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("pre")){n=u(a.getHtml(),/\n$/,"")+"\n\n"+u(i.getHtml(),/^\n/,"");CKEDITOR.env.ie?i.$.outerHTML="<pre>"+n+"</pre>":i.setHtml(n);a.remove()}}else i&&m(t)}function c(e){var t=[];u(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,i){return t+"</pre>"+i+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,i){t.push(i)});return t}function u(e,t,i){var n="",r="",e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,i){t&&(n=t);i&&(r=i);return""});return n+e.replace(t,i)+r}function d(e,t){var i;e.length>1&&(i=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var n=0;n<e.length;n++){var r=e[n],r=r.replace(/(\r\n|\r)/g,"\n"),r=u(r,/^[ \t]*\n/,""),r=u(r,/\n$/,""),r=u(r,/^[ \t]+|[ \t]+$/g,function(e,t){return e.length==1?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),r=r.replace(/\n/g,"<br>"),r=r.replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(i){var o=t.clone();o.setHtml(r);i.append(o)}else t.setHtml(r)}return i||t}function f(e,t){var i=this._.definition,n=i.attributes,i=i.styles,r=b(this)[e.getName()],o=CKEDITOR.tools.isEmpty(n)&&CKEDITOR.tools.isEmpty(i),s;for(s in n)if(!((s=="class"||this._.definition.fullMatch)&&e.getAttribute(s)!=y(s,n[s]))&&!(t&&s.slice(0,5)=="data-")){o=e.hasAttribute(s);e.removeAttribute(s)}for(var a in i)if(!(this._.definition.fullMatch&&e.getStyle(a)!=y(a,i[a],true))){o=o||!!e.getStyle(a);e.removeStyle(a)}p(e,r,E[e.getName()]);o&&(this._.definition.alwaysRemoveElement?m(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?m(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function h(e){for(var t=b(this),i=e.getElementsByTag(this.element),n,r=i.count();--r>=0;){n=i.getItem(r);n.isReadOnly()||f.call(this,n,true)}for(var o in t)if(o!=this.element){i=e.getElementsByTag(o);for(r=i.count()-1;r>=0;r--){n=i.getItem(r);n.isReadOnly()||p(n,t[o])}}}function p(e,t,i){if(t=t&&t.attributes)for(var n=0;n<t.length;n++){var r=t[n][0],o;if(o=e.getAttribute(r)){var s=t[n][1];(s===null||s.test&&s.test(o)||typeof s=="string"&&o==s)&&e.removeAttribute(r)}}i||m(e)}function m(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var i=e.getPrevious(O),n=e.getNext(O);i&&(i.type==CKEDITOR.NODE_TEXT||!i.isBlockBoundary({br:1}))&&e.append("br",1);n&&(n.type==CKEDITOR.NODE_TEXT||!n.isBlockBoundary({br:1}))&&e.append("br");e.remove(true)}else{i=e.getFirst();n=e.getLast();e.remove(true);if(i){i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings();n&&(!i.equals(n)&&n.type==CKEDITOR.NODE_ELEMENT)&&n.mergeSiblings()}}}function g(e,t,i){var n;n=e.element;n=="*"&&(n="span");n=new CKEDITOR.dom.element(n,t);i&&i.copyAttributes(n);n=v(n,e);t.getCustomData("doc_processing_style")&&n.hasAttribute("id")?n.removeAttribute("id"):t.setCustomData("doc_processing_style",1);return n}function v(e,t){var i=t._.definition,n=i.attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var r in n)e.setAttribute(r,n[r]);i&&e.setAttribute("style",i);return e}function w(e,t){for(var i in e)e[i]=e[i].replace(S,function(e,i){return t[i]})}function b(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},i=e._.definition.overrides;if(i){CKEDITOR.tools.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){var r=i[n],o,s;if(typeof r=="string")o=r.toLowerCase();else{o=r.element?r.element.toLowerCase():e.element;s=r.attributes}r=t[o]||(t[o]={});if(s){var r=r.attributes=r.attributes||[],a;for(a in s)r.push([a.toLowerCase(),s[a]])}}}return t}function y(e,t,i){var n=new CKEDITOR.dom.element("span");n[i?"setStyle":"setAttribute"](e,t);return n[i?"getStyle":"getAttribute"](e)}function _(e,t,i){for(var n=e.document,r=e.getRanges(),t=t?this.removeFromRange:this.applyToRange,o,s=r.createIterator();o=s.getNextRange();)t.call(this,o,i);e.selectRanges(r);n.removeCustomData("doc_processing_style")}var E={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},T={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},C=/\s*(?:;\s*|$)/,S=/#\((.+?)\)/g,I=CKEDITOR.dom.walker.bookmark(0,1),O=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if(typeof e.type=="string")return new CKEDITOR.style.customHandlers[e.type](e);var i=e.attributes;if(i&&i.style){e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(i.style));delete i.style}if(t){e=CKEDITOR.tools.clone(e);w(e.attributes,t);w(e.styles,t)}i=this.element=e.element?typeof e.element=="string"?e.element.toLowerCase():e.element:"*";this.type=e.type||(E[i]?CKEDITOR.STYLE_BLOCK:T[i]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);if(typeof this.element=="object")this.type=CKEDITOR.STYLE_OBJECT;this._={definition:e}};CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;if(!t)this._.enterMode=e.activeEnterMode;_.call(this,e.getSelection(),0,e);this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return _.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;if(!t)this._.enterMode=e.activeEnterMode;_.call(this,e.getSelection(),1,e);this._.enterMode=t}},applyToRange:function(e){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?t:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?r:null;return this.applyToRange(e)},removeFromRange:function(e){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?a:this.type==CKEDITOR.STYLE_OBJECT?o:null;return this.removeFromRange(e)},applyToObject:function(e){v(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,true,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var i=e.elements,n=0,r;n<i.length;n++){r=i[n];if(!(this.type==CKEDITOR.STYLE_INLINE&&(r==e.block||r==e.blockLimit))){if(this.type==CKEDITOR.STYLE_OBJECT){var o=r.getName();if(!(typeof this.element=="string"?o==this.element:o in this.element))continue}if(this.checkElementRemovable(r,true,t))return true}}}return false},checkApplicable:function(e,t,i){t&&t instanceof CKEDITOR.filter&&(i=t);if(i&&!i.check(this))return false;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return true},checkElementMatch:function(e,t){var i=this._.definition;if(!e||!i.ignoreReadonly&&e.isReadOnly())return false;var n=e.getName();if(typeof this.element=="string"?n==this.element:n in this.element){if(!t&&!e.hasAttributes())return true;if(n=i._AC)i=n;else{var n={},r=0,o=i.attributes;if(o)for(var s in o){r++;n[s]=o[s]}if(s=CKEDITOR.style.getStyleText(i)){n.style||r++;n.style=s}n._length=r;i=i._AC=n}if(i._length){for(var a in i)if(a!="_length"){r=e.getAttribute(a)||"";if(a=="style")e:{n=i[a];typeof n=="string"&&(n=CKEDITOR.tools.parseCssText(n));typeof r=="string"&&(r=CKEDITOR.tools.parseCssText(r,true));s=void 0;for(s in n)if(!(s in r&&(r[s]==n[s]||n[s]=="inherit"||r[s]=="inherit"))){n=false;break e}n=true}else n=i[a]==r;if(n){if(!t)return true}else if(t)return false}if(t)return true}else return true}return false},checkElementRemovable:function(e,t,i){if(this.checkElementMatch(e,t,i))return true;if(t=b(this)[e.getName()]){var n;if(!(t=t.attributes))return true;for(i=0;i<t.length;i++){n=t[i][0];if(n=e.getAttribute(n)){var r=t[i][1];if(r===null)return true;if(typeof r=="string"){if(n==r)return true}else if(r.test(n))return true}}}return false},buildPreview:function(e){var t=this._.definition,i=[],n=t.element;n=="bdo"&&(n="span");var i=["<",n],r=t.attributes;if(r)for(var o in r)i.push(" ",o,'="',r[o],'"');(r=CKEDITOR.style.getStyleText(t))&&i.push(' style="',r,'"');i.push(">",e||t.name,"</",n,">");return i.join("")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(e){var t=e._ST;if(t)return t;var t=e.styles,i=e.attributes&&e.attributes.style||"",n="";i.length&&(i=i.replace(C,";"));for(var r in t){var o=t[r],s=(r+":"+o).replace(C,";");o=="inherit"?n=n+s:i=i+s}i.length&&(i=CKEDITOR.tools.normalizeCssText(i,true));return e._ST=i+n};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e};this.setup&&this.setup(e)};t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,true);return this.customHandlers[e.type]=t};var k=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,x=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e;CKEDITOR.tools.extend(this,t,true)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus();this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,i){CKEDITOR.stylesSet.addExternal(e,t,"");CKEDITOR.stylesSet.load(e,i)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var i=this._.styleStateChangeCallbacks;if(!i){i=this._.styleStateChangeCallbacks=[];this.on("selectionChange",function(e){for(var t=0;t<i.length;t++){var n=i[t],r=n.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,r)}})}i.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this,i=t.config.stylesCombo_stylesSet||t.config.stylesSet;if(i===false)e(null);else if(i instanceof Array){t._.stylesDefinitions=i;e(i)}else{i||(i="default");var i=i.split(":"),n=i[0];CKEDITOR.stylesSet.addExternal(n,i[1]?i.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(n,function(i){t._.stylesDefinitions=i[n];e(t._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){typeof e=="string"&&(e=(t?t.$:document).createComment(e));CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),"use strict",function(){var e={},t={},i;for(i in CKEDITOR.dtd.$blockLimit)i in CKEDITOR.dtd.$list||(e[i]=1);for(i in CKEDITOR.dtd.$block)i in CKEDITOR.dtd.$blockLimit||i in CKEDITOR.dtd.$empty||(t[i]=1);CKEDITOR.dom.elementPath=function(i,n){var r=null,o=null,s=[],a=i,l,n=n||i.getDocument().getBody();do if(a.type==CKEDITOR.NODE_ELEMENT){s.push(a);if(!this.lastElement){this.lastElement=a;if(a.is(CKEDITOR.dtd.$object)||a.getAttribute("contenteditable")=="false")continue}if(a.equals(n))break;if(!o){l=a.getName();a.getAttribute("contenteditable")=="true"?o=a:!r&&t[l]&&(r=a);if(e[l]){var c;if(c=!r){if(l=l=="div"){e:{l=a.getChildren();c=0;for(var u=l.count();c<u;c++){var d=l.getItem(c);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){l=true;break e}}l=false}l=!l}c=l}c?r=a:o=a}}}while(a=a.getParent());o||(o=n);this.block=r;this.blockLimit=o;this.root=n;this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements,e=e&&e.elements;if(!e||t.length!=e.length)return false;for(var i=0;i<t.length;i++)if(!t[i].equals(e[i]))return false;return true},contains:function(e,t,i){var n;typeof e=="string"&&(n=function(t){return t.getName()==e});e instanceof CKEDITOR.dom.element?n=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?n=function(t){return CKEDITOR.tools.indexOf(e,t.getName())>-1}:typeof e=="function"?n=e:typeof e=="object"&&(n=function(t){return t.getName()in e});var r=this.elements,o=r.length;t&&o--;if(i){r=Array.prototype.slice.call(r,0);r.reverse()}for(t=0;t<o;t++)if(n(r[t]))return r[t];return null},isContextFor:function(e){var t;if(e in CKEDITOR.dtd.$block){t=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit;return!!t.getDtd()[e]}return true},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){typeof e=="string"&&(e=(t?t.$:document).createTextNode(e));this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,i=t.childNodes.length,n=this.getLength(),r=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(e),r);if(t.childNodes.length==i)if(e>=n){o=r.createText("");o.insertAfter(this)}else{e=r.createText("");e.insertAfter(o);e.remove()}return o},substring:function(e,t){return typeof t!="number"?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,i){var n=e.serializable,r=t[i?"endContainer":"startContainer"],o=i?"endOffset":"startOffset",s=n?t.document.getById(e.startNode):e.startNode,e=n?t.document.getById(e.endNode):e.endNode;if(r.equals(s.getPrevious())){t.startOffset=t.startOffset-r.getLength()-e.getPrevious().getLength();r=e.getNext()}else if(r.equals(e.getPrevious())){t.startOffset=t.startOffset-r.getLength();r=e.getNext()}r.equals(s.getParent())&&t[o]++;r.equals(e.getParent())&&t[o]++;t[i?"endContainer":"startContainer"]=r;return t}CKEDITOR.dom.rangeList=function(e){if(e instanceof CKEDITOR.dom.rangeList)return e;e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[];return CKEDITOR.tools.extend(e,t)};var t={createIterator:function(){var e=this,t=CKEDITOR.dom.walker.bookmark(),i=[],n;return{getNextRange:function(r){n=n===void 0?0:n+1;var o=e[n];if(o&&e.length>1){if(!n)for(var s=e.length-1;s>=0;s--)i.unshift(e[s].createBookmark(true));if(r)for(var a=0;e[n+a+1];){for(var l=o.document,r=0,s=l.getById(i[a].endNode),l=l.getById(i[a+1].startNode);;){s=s.getNextSourceNode(false);if(l.equals(s))r=1;else if(t(s)||s.type==CKEDITOR.NODE_ELEMENT&&s.isBlockBoundary())continue;break}if(!r)break;a++}for(o.moveToBookmark(i.shift());a--;){s=e[++n];s.moveToBookmark(i.shift());o.setEnd(s.endContainer,s.endOffset)}}return o}}},createBookmarks:function(t){for(var i=[],n,r=0;r<this.length;r++){i.push(n=this[r].createBookmark(t,true));for(var o=r+1;o<this.length;o++){this[o]=e(n,this[o]);this[o]=e(n,this[o],true)}}return i},createBookmarks2:function(e){for(var t=[],i=0;i<this.length;i++)t.push(this[i].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var i=CKEDITOR.skin["ua_"+t],n=CKEDITOR.env;if(i)for(var i=i.split(",").sort(function(e,t){return e>t?-1:1}),r=0,o;r<i.length;r++){o=i[r];if(n.ie&&(o.replace(/^ie/,"")==n.version||n.quirks&&o=="iequirks"))o="ie";if(n[o]){t=t+("_"+i[r]);break}}return CKEDITOR.getUrl(e()+t+".css")}function i(e,i){if(!o[e]){CKEDITOR.document.appendStyleSheet(t(e));o[e]=1}i&&i()}function n(e){var t=e.getById(s);if(!t){t=e.getHead().append("style");t.setAttribute("id",s);t.setAttribute("type","text/css")}return t}function r(e,t,i){var n,r,o;if(CKEDITOR.env.webkit){t=t.split("}").slice(0,-1);for(r=0;r<t.length;r++)t[r]=t[r].split("{")}for(var s=0;s<e.length;s++)if(CKEDITOR.env.webkit)for(r=0;r<t.length;r++){o=t[r][1];for(n=0;n<i.length;n++)o=o.replace(i[n][0],i[n][1]);e[s].$.sheet.addRule(t[r][0],o)}else{o=t;for(n=0;n<i.length;n++)o=o.replace(i[n][0],i[n][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?e[s].$.styleSheet.cssText=e[s].$.styleSheet.cssText+o:e[s].$.innerHTML=e[s].$.innerHTML+o}}var o={};CKEDITOR.skin={path:e,loadPart:function(t,n){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),function(){i(t,n)}):i(t,n)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,i,n){e=e.toLowerCase();this.icons[e]||(this.icons[e]={path:t,offset:i||0,bgsize:n||"16px"})},getIconStyle:function(e,t,i,n,r){var o;if(e){e=e.toLowerCase();t&&(o=this.icons[e+"-rtl"]);o||(o=this.icons[e])}e=i||o&&o.path||"";n=n||o&&o.offset;r=r||o&&o.bgsize||"16px";return e&&"background-image:url("+CKEDITOR.getUrl(e)+");background-position:0 "+n+"px;background-size:"+r+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=n(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var i=CKEDITOR.skin.chameleon,n="",o="";if(typeof i=="function"){n=i(this,"editor");o=i(this,"panel")}e=[[l,e]];r([t],n,e);r(a,o,e)}).call(this,e)}});var s="cke_ui_color",a=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor,e=function(e){e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!e.getById("cke_ui_color")){e=n(e);a.push(e);var i=t.getUiColor();i&&r([e],CKEDITOR.skin.chameleon(t,"panel"),[[l,i]])}};t.on("panelShow",e);t.on("menuShow",e);t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=false;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),i=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!!(t&&t==i)}catch(e){CKEDITOR.env.hc=false}e.remove()}if(CKEDITOR.env.hc)CKEDITOR.env.cssClass=CKEDITOR.env.cssClass+" cke_hc";CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(e=CKEDITOR._.pending){delete CKEDITOR._.pending;for(t=0;t<e.length;t++){CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]);CKEDITOR.add(e[t][0])}}}(),CKEDITOR.skin.name="moono",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var e=function(){return function(e,t){for(var i=e.match(/[^#]./g),n=0;n<3;n++){var r=i,o=n,s;s=parseInt(i[n],16);s=("0"+(t<0?0|s*(1+t):0|s+(255-s)*t).toString(16)).slice(-2);r[o]=s}return"#"+i.join("")}}(),t=function(){var e=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,i){return e.output({from:t,to:i})}}(),i={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(n,r){var o=n.uiColor,o={id:"."+n.id,defaultBorder:e(o,-.1),defaultGradient:t(e(o,.9),o),lightGradient:t(e(o,1),e(o,.7)),mediumGradient:t(e(o,.8),e(o,.5)),ckeButtonOn:t(e(o,.6),e(o,.7)),ckeResizer:e(o,-.4),ckeToolbarSeparator:e(o,.5),ckeColorauto:e(o,.8),dialogBody:e(o,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),
dialogTabSelectedBorder:"#FFF",elementsPathColor:e(o,-.6),elementsPathBg:o,menubuttonIcon:e(o,.5),menubuttonIconHover:e(o,.3)};return i[r].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={});this._["default"]=this._.initValue=e["default"]||"";this._.required=e.required||false;for(var t=[this._],i=1;i<arguments.length;i++)t.push(arguments[i]);t.push(true);CKEDITOR.tools.extend.apply(CKEDITOR.tools,t);return this._},t={build:function(e,t,i){return new CKEDITOR.ui.dialog.textInput(e,t,i)}},i={build:function(e,t,i){return new CKEDITOR.ui.dialog[t.type](e,t,i)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},r=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){if(!this._.domOnChangeRegistered){e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this);this._.domOnChangeRegistered=true}this.on("change",t)}},true),o=/^on([A-Z]\w+)/,s=function(e){for(var t in e)(o.test(t)||t=="title"||t=="type")&&delete e[t];return e};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,i,n,r){if(!(arguments.length<4)){var o=e.call(this,i);o.labelId=CKEDITOR.tools.getNextId()+"_label";this._.children=[];var s={role:i.role||"presentation"};if(i.includeLabel)s["aria-labelledby"]=o.labelId;CKEDITOR.ui.dialog.uiElement.call(this,t,i,n,"div",null,s,function(){var e=[],n=i.required?" cke_required":"";if(i.labelLayout!="horizontal")e.push('<label class="cke_dialog_ui_labeled_label'+n+'" ',' id="'+o.labelId+'"',o.inputId?' for="'+o.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',r.call(this,t,i),"</div>");else{n={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+n+'" id="'+o.labelId+'" for="'+o.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+r.call(this,t,i)+"</span>"}]};CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,n,e)}return e.join("")})}},textInput:function(t,i,n){if(!(arguments.length<3)){e.call(this,i);var r=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={class:"cke_dialog_ui_input_"+i.type,id:r,type:i.type};if(i.validate)this.validate=i.validate;if(i.maxLength)o.maxlength=i.maxLength;if(i.size)o.size=i.size;if(i.inputStyle)o.style=i.inputStyle;var s=this,a=false;t.on("load",function(){s.getInputElement().on("keydown",function(e){e.data.getKeystroke()==13&&(a=true)});s.getInputElement().on("keyup",function(e){if(e.data.getKeystroke()==13&&a){t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0);a=false}},null,null,1e3)});CKEDITOR.ui.dialog.labeledElement.call(this,t,i,n,function(){var e=['<div class="cke_dialog_ui_input_',i.type,'" role="presentation"'];i.width&&e.push('style="width:'+i.width+'" ');e.push("><input ");o["aria-labelledby"]=this._.labelId;this._.required&&(o["aria-required"]=this._.required);for(var t in o)e.push(t+'="'+o[t]+'" ');e.push(" /></div>");return e.join("")})}},textarea:function(t,i,n){if(!(arguments.length<3)){e.call(this,i);var r=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",s={};if(i.validate)this.validate=i.validate;s.rows=i.rows||5;s.cols=i.cols||20;s["class"]="cke_dialog_ui_input_textarea "+(i["class"]||"");if(typeof i.inputStyle!="undefined")s.style=i.inputStyle;if(i.dir)s.dir=i.dir;CKEDITOR.ui.dialog.labeledElement.call(this,t,i,n,function(){s["aria-labelledby"]=this._.labelId;this._.required&&(s["aria-required"]=this._.required);var e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '],t;for(t in s)e.push(t+'="'+CKEDITOR.tools.htmlEncode(s[t])+'" ');e.push(">",CKEDITOR.tools.htmlEncode(r._["default"]),"</textarea></div>");return e.join("")})}},checkbox:function(t,i,n){if(!(arguments.length<3)){var r=e.call(this,i,{default:!!i["default"]});if(i.validate)this.validate=i.validate;CKEDITOR.ui.dialog.uiElement.call(this,t,i,n,"span",null,null,function(){var e=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},true),n=[],o=CKEDITOR.tools.getNextId()+"_label",a={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":o};s(e);if(i["default"])a.checked="checked";if(typeof e.inputStyle!="undefined")e.style=e.inputStyle;r.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,n,"input",null,a);n.push(' <label id="',o,'" for="',a.id,'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(i.label),"</label>");return n.join("")})}},radio:function(t,i,n){if(!(arguments.length<3)){e.call(this,i);if(!this._["default"])this._["default"]=this._.initValue=i.items[0][1];if(i.validate)this.validate=i.validate;var r=[],o=this;i.role="radiogroup";i.includeLabel=true;CKEDITOR.ui.dialog.labeledElement.call(this,t,i,n,function(){for(var e=[],n=[],a=(i.id?i.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<i.items.length;l++){var c=i.items[l],u=c[2]!==void 0?c[2]:c[0],d=c[1]!==void 0?c[1]:c[0],f=CKEDITOR.tools.getNextId()+"_radio_input",h=f+"_label",f=CKEDITOR.tools.extend({},i,{id:f,title:null,type:null},true),u=CKEDITOR.tools.extend({},f,{title:u},true),p={type:"radio",class:"cke_dialog_ui_radio_input",name:a,value:d,"aria-labelledby":h},m=[];if(o._["default"]==d)p.checked="checked";s(f);s(u);if(typeof f.inputStyle!="undefined")f.style=f.inputStyle;f.keyboardFocusable=true;r.push(new CKEDITOR.ui.dialog.uiElement(t,f,m,"input",null,p));m.push(" ");new CKEDITOR.ui.dialog.uiElement(t,u,m,"label",null,{id:h,for:p.id},c[0]);e.push(m.join(""))}new CKEDITOR.ui.dialog.hbox(t,r,e,n);return n.join("")});this._.children=r}},button:function(t,i,n){if(arguments.length){typeof i=="function"&&(i=i(t.getParentEditor()));e.call(this,i,{disabled:i.disabled||false});CKEDITOR.event.implementOn(this);var r=this;t.on("load",function(){var e=this.getElement();(function(){e.on("click",function(e){r.click();e.data.preventDefault()});e.on("keydown",function(e){if(e.data.getKeystroke()in{32:1}){r.click();e.data.preventDefault()}})})();e.unselectable()},this);var o=CKEDITOR.tools.extend({},i);delete o.style;var s=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"a",null,{style:i.style,href:"javascript:void(0)",title:i.label,hidefocus:"true",class:i["class"],role:"button","aria-labelledby":s},'<span id="'+s+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(i.label)+"</span>")}},select:function(t,i,n){if(!(arguments.length<3)){var r=e.call(this,i);if(i.validate)this.validate=i.validate;r.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,t,i,n,function(){var e=CKEDITOR.tools.extend({},i,{id:i.id?i.id+"_select":CKEDITOR.tools.getNextId()+"_select"},true),n=[],o=[],a={id:r.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};n.push('<div class="cke_dialog_ui_input_',i.type,'" role="presentation"');i.width&&n.push('style="width:'+i.width+'" ');n.push(">");if(i.size!==void 0)a.size=i.size;if(i.multiple!==void 0)a.multiple=i.multiple;s(e);for(var l=0,c;l<i.items.length&&(c=i.items[l]);l++)o.push('<option value="',CKEDITOR.tools.htmlEncode(c[1]!==void 0?c[1]:c[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(c[0]));if(typeof e.inputStyle!="undefined")e.style=e.inputStyle;r.select=new CKEDITOR.ui.dialog.uiElement(t,e,n,"select",null,a,o.join(""));n.push("</div>");return n.join("")})}},file:function(t,i,n){if(!(arguments.length<3)){i["default"]===void 0&&(i["default"]="");var r=CKEDITOR.tools.extend(e.call(this,i),{definition:i,buttons:[]});if(i.validate)this.validate=i.validate;t.on("load",function(){CKEDITOR.document.getById(r.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,t,i,n,function(){r.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',r.frameId,'" title="',i.label,'" src="javascript:void('];e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");e.push(')"></iframe>');return e.join("")})}},fileButton:function(t,i,n){var r=this;if(!(arguments.length<3)){e.call(this,i);if(i.validate)this.validate=i.validate;var o=CKEDITOR.tools.extend({},i),s=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button";o.onClick=function(e){var n=i["for"];if(!s||s.call(this,e)!==false){t.getContentElement(n[0],n[1]).submit();this.disable()}};t.on("load",function(){t.getContentElement(i["for"][0],i["for"][1])._.buttons.push(r)});CKEDITOR.ui.dialog.button.call(this,t,o,n)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,i=/\/$/;return function(n,r,o){if(!(arguments.length<3)){var s=[],a=r.html;a.charAt(0)!="<"&&(a="<span>"+a+"</span>");var l=r.focus;if(l){var c=this.focus;this.focus=function(){(typeof l=="function"?l:c).call(this);this.fire("focus")};if(r.isFocusable)this.isFocusable=this.isFocusable;this.keyboardFocusable=true}CKEDITOR.ui.dialog.uiElement.call(this,n,r,s,"span",null,null,"");s=s.join("").match(e);a=a.match(t)||["","",""];if(i.test(a[1])){a[1]=a[1].slice(0,-1);a[2]="/"+a[2]}o.push([a[1]," ",s[1]||"",a[2]].join(""))}}}(),fieldset:function(e,t,i,n,r){var o=r.label;this._={children:t};CKEDITOR.ui.dialog.uiElement.call(this,e,r,n,"fieldset",null,null,function(){var e=[];o&&e.push("<legend"+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">"+o+"</legend>");for(var t=0;t<i.length;t++)e.push(i[t]);return e.join("")})}},true);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);t.getChildCount()<1?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e;return this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||e.getChildCount()<1?"":e.getChild(0).getText()},eventProcessors:r},true);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled?this.fire("click",{dialog:this._.dialog}):false},enable:function(){this._.disabled=false;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=true;this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},true),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:true},true);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();if(t){t.$.focus();t.$.select()}},0)},accessKeyUp:function(){this.select()},setValue:function(e){!e&&(e="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:true},n,true);CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,i){var n=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),r=this.getInputElement().$;n.$.text=e;n.$.value=t===void 0||t===null?e:t;i===void 0||i===null?CKEDITOR.env.ie?r.add(n.$):r.add(n.$,null):r.add(n.$,i);return this},remove:function(e){this.getInputElement().$.remove(e);return this},clear:function(){for(var e=this.getInputElement().$;e.length>0;)e.remove(0);return this},keyboardFocusable:true},n,true);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e;!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){if(!CKEDITOR.env.ie||CKEDITOR.env.version>8)return r.onChange.apply(this,arguments);e.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){t=t.data.$;t.propertyName=="checked"&&this.fire("change",{value:e.$.checked})},this)},this);this.on("change",t);return null}},keyboardFocusable:true},n,true);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var i=this._.children,n,r=0;r<i.length&&(n=i[r]);r++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e=this._.children,t;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked){e[t].getElement().focus();return}e[0].getElement().focus()},eventProcessors:{onChange:function(e,t){if(CKEDITOR.env.ie){e.on("load",function(){for(var e=this._.children,t=this,i=0;i<e.length;i++)e[i].getElement().on("propertychange",function(e){e=e.data.$;e.propertyName=="checked"&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",t)}else return r.onChange.apply(this,arguments);return null}}},n,true);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return e.$.forms.length>0?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t=/^on([A-Z]\w+)/,i,n=function(e,t,i,n){e.on("formLoaded",function(){e.getInputElement().on(i,n,e)})},r;for(r in e)if(i=r.match(t))this.eventProcessors[r]?this.eventProcessors[r].call(this,this._.dialog,e[r]):n(this,this._.dialog,i[1].toLowerCase(),e[r]);return this},reset:function(){function e(){i.$.open();var e="";n.size&&(e=n.size-(CKEDITOR.env.ie?7:0));var c=t.frameId+"_input";i.$.write(['<html dir="'+a+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+a+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(n.action),'"><label id="',t.labelId,'" for="',c,'" style="display:none">',CKEDITOR.tools.htmlEncode(n.label),'</label><input style="width:100%" id="',c,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(n.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(e>0?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+o+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join(""));i.$.close();for(e=0;e<r.length;e++)r[e].enable()}var t=this._,i=CKEDITOR.document.getById(t.frameId).getFrameDocument(),n=t.definition,r=t.buttons,o=this.formLoadedNumber,s=this.formUnloadNumber,a=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;if(!o){o=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this);s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this);this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(o);CKEDITOR.tools.removeFunction(s)})}CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){if(!this._.domOnChangeRegistered){this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this);this._.domOnChangeRegistered=true}this.on("change",t)}},keyboardFocusable:true},true);CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",t);CKEDITOR.dialog.addUIElement("password",t);CKEDITOR.dialog.addUIElement("textarea",i);CKEDITOR.dialog.addUIElement("checkbox",i);CKEDITOR.dialog.addUIElement("radio",i);CKEDITOR.dialog.addUIElement("button",i);CKEDITOR.dialog.addUIElement("select",i);CKEDITOR.dialog.addUIElement("file",i);CKEDITOR.dialog.addUIElement("fileButton",i);CKEDITOR.dialog.addUIElement("html",i);CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,i){for(var n=t.children,r,o=[],s=[],a=0;a<n.length&&(r=n[a]);a++){var l=[];o.push(l);s.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,s,o,i,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,i=t-1;i>t-e;i--)if(this._.tabs[this._.tabIdList[i%e]][0].$.offsetHeight)return this._.tabIdList[i%e];return null}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),i=t+1;i<t+e;i++)if(this._.tabs[this._.tabIdList[i%e]][0].$.offsetHeight)return this._.tabIdList[i%e];return null}function i(e,t){for(var i=e.$.getElementsByTagName("input"),n=0,r=i.length;n<r;n++){var o=new CKEDITOR.dom.element(i[n]);if(o.getAttribute("type").toLowerCase()=="text")if(t){o.setAttribute("value",o.getCustomData("fake_value")||"");o.removeCustomData("fake_value")}else{o.setCustomData("fake_value",o.getAttribute("value"));o.setAttribute("value","")}}}function n(e,t){var i=this.getInputElement();i&&(e?i.removeAttribute("aria-invalid"):i.setAttribute("aria-invalid",true));e||(this.select?this.select():this.focus());t&&alert(t);this.fire("validated",{valid:e,msg:t})}function r(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function o(e){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",m).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),t=e.getChild([0,0,0,0,0]),i=t.getChild(0),n=t.getChild(1);if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var r="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())";CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+r+'" tabIndex="-1"></iframe>').appendTo(t.getParent())}i.unselectable();n.unselectable();return{element:e,parts:{dialog:e.getChild(0),title:i,close:n,tabs:t.getChild(2),contents:t.getChild([3,0,0,0]),footer:t.getChild([3,0,1,0])}}}function s(e,t,i){this.element=t;this.focusIndex=i;this.tabIndex=0;this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()};this.focus=function(){e._.currentFocusIndex=this.focusIndex;this.element.focus()};t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});t.on("focus",function(){this.fire("mouseover")});t.on("blur",function(){this.fire("mouseout")})}function a(e){function t(){e.layout()}var i=CKEDITOR.document.getWindow();i.on("resize",t);e.on("hide",function(){i.removeListener("resize",t)})}function l(e,t){this._={dialog:e};CKEDITOR.tools.extend(this,t)}function c(e){function t(t){var i=e.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),c=t.data.$.screenX,u=t.data.$.screenY,d=c-n.x,f=u-n.y;n={x:c,y:u};r.x=r.x+d;r.y=r.y+f;e.move(r.x+a[3]<s?-a[3]:r.x-a[1]>l.width-i.width-s?l.width-i.width+(o.lang.dir=="rtl"?0:a[1]):r.x,r.y+a[0]<s?-a[0]:r.y-a[2]>l.height-i.height-s?l.height-i.height+a[2]:r.y,1);t.data.preventDefault()}function i(){CKEDITOR.document.removeListener("mousemove",t);CKEDITOR.document.removeListener("mouseup",i);if(CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mousemove",t);e.removeListener("mouseup",i)}}var n=null,r=null,o=e.getParentEditor(),s=o.config.dialog_magnetDistance,a=CKEDITOR.skin.margins||[0,0,0,0];typeof s=="undefined"&&(s=20);e.parts.title.on("mousedown",function(o){n={x:o.data.$.screenX,y:o.data.$.screenY};CKEDITOR.document.on("mousemove",t);CKEDITOR.document.on("mouseup",i);r=e.getPosition();if(CKEDITOR.env.ie6Compat){var s=T.getChild(0).getFrameDocument();s.on("mousemove",t);s.on("mouseup",i)}o.data.preventDefault()},e)}function u(e){var t,i;function n(n){var r=a.lang.dir=="rtl",f=d.width,h=d.height,p=f+(n.data.$.screenX-t)*(r?-1:1)*(e._.moved?1:2),m=h+(n.data.$.screenY-i)*(e._.moved?1:2),g=e._.element.getFirst(),g=r&&g.getComputedStyle("right"),v=e.getPosition();v.y+m>u.height&&(m=u.height-v.y);if((r?g:v.x)+p>u.width)p=u.width-(r?g:v.x);if(s==CKEDITOR.DIALOG_RESIZE_WIDTH||s==CKEDITOR.DIALOG_RESIZE_BOTH)f=Math.max(o.minWidth||0,p-l);if(s==CKEDITOR.DIALOG_RESIZE_HEIGHT||s==CKEDITOR.DIALOG_RESIZE_BOTH)h=Math.max(o.minHeight||0,m-c);e.resize(f,h);e._.moved||e.layout();n.data.preventDefault()}function r(){CKEDITOR.document.removeListener("mouseup",r);CKEDITOR.document.removeListener("mousemove",n);if(f){f.remove();f=null}if(CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mouseup",r);e.removeListener("mousemove",n)}}var o=e.definition,s=o.resizable;if(s!=CKEDITOR.DIALOG_RESIZE_NONE){var a=e.getParentEditor(),l,c,u,d,f,h=CKEDITOR.tools.addFunction(function(o){d=e.getSize();var s=e.parts.contents;if(s.$.getElementsByTagName("iframe").length){f=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');s.append(f)}c=d.height-e.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));l=d.width-e.parts.contents.getSize("width",1);t=o.screenX;i=o.screenY;u=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",n);CKEDITOR.document.on("mouseup",r);if(CKEDITOR.env.ie6Compat){s=T.getChild(0).getFrameDocument();s.on("mousemove",n);s.on("mouseup",r)}o.preventDefault&&o.preventDefault()});e.on("load",function(){var t="";s==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":s==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical");t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+a.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event )">'+(a.lang.dir=="ltr"?"◢":"◣")+"</div>");e.parts.footer.append(t,1)});a.on("destroy",function(){CKEDITOR.tools.removeFunction(h)})}}function d(e){e.data.preventDefault(1)}function f(e){var t=CKEDITOR.document.getWindow(),i=e.config,n=i.dialog_backgroundCoverColor||"white",r=i.dialog_backgroundCoverOpacity,o=i.baseFloatZIndex,i=CKEDITOR.tools.genKey(n,r,o),s=E[i];if(s)s.show();else{o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ",!CKEDITOR.env.ie6Compat?"background-color: "+n:"",'" class="cke_dialog_background_cover">'];if(CKEDITOR.env.ie6Compat){n="<html><body style=\\'background-color:"+n+";\\'></body></html>";o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+n+"' );document.close();")+"})())");o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')}o.push("</div>");s=CKEDITOR.dom.element.createFromHtml(o.join(""));s.setOpacity(r!==void 0?r:.5);s.on("keydown",d);s.on("keypress",d);s.on("keyup",d);s.appendTo(CKEDITOR.document.getBody());E[i]=s}e.focusManager.add(s);T=s;var e=function(){var e=t.getViewPaneSize();s.setStyles({width:e.width+"px",height:e.height+"px"})},a=function(){var e=t.getScrollPosition(),i=CKEDITOR.dialog._.currentTop;s.setStyles({left:e.x+"px",top:e.y+"px"});if(i){do{e=i.getPosition();i.move(e.x,e.y)}while(i=i._.parentDialog)}};_=e;t.on("resize",e);e();(!CKEDITOR.env.mac||!CKEDITOR.env.webkit)&&s.focus();if(CKEDITOR.env.ie6Compat){var l=function(){a();arguments.callee.prevScrollHandler.apply(this,arguments)};t.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){};window.onscroll=l},0);a()}}function h(e){if(T){e.focusManager.remove(T);e=CKEDITOR.document.getWindow();T.hide();e.removeListener("resize",_);CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0);_=null}}var p=CKEDITOR.tools.cssLength,m='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(i,s){function a(){var e=T._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,i=0;i<t;i++)e[i].focusIndex=i}function l(e){var t=T._.focusList,e=e||0;if(!(t.length<1)){var i=T._.currentFocusIndex;T._.tabBarMode&&e<0&&(i=0);try{t[i].getInputElement().$.blur()}catch(e){}var n=i,r=T._.pageCount>1;do{n=n+e;if(r&&!T._.tabBarMode&&(n==t.length||n==-1)){T._.tabBarMode=true;T._.tabs[T._.currentTabId][0].focus();T._.currentFocusIndex=-1;return}n=(n+t.length)%t.length;if(n==i)break}while(e&&!t[n].isFocusable());t[n].focus();t[n].type=="text"&&t[n].select()}}function d(n){if(T==CKEDITOR.dialog._.currentTop){var r=n.data.getKeystroke(),o=i.lang.dir=="rtl",s=[37,38,39,40];b=_=0;if(r==9||r==CKEDITOR.SHIFT+9){l(r==CKEDITOR.SHIFT+9?-1:1);b=1}else if(r==CKEDITOR.ALT+121&&!T._.tabBarMode&&T.getPageCount()>1){T._.tabBarMode=true;T._.tabs[T._.currentTabId][0].focus();T._.currentFocusIndex=-1;b=1}else if(CKEDITOR.tools.indexOf(s,r)!=-1&&T._.tabBarMode){r=CKEDITOR.tools.indexOf([o?39:37,38],r)!=-1?e.call(T):t.call(T);T.selectPage(r);T._.tabs[r][0].focus();b=1}else if((r==13||r==32)&&T._.tabBarMode){this.selectPage(this._.currentTabId);this._.tabBarMode=false;this._.currentFocusIndex=-1;l(1);b=1}else if(r==13){r=n.data.getTarget();if(!r.is("a","button","select","textarea")&&(!r.is("input")||r.$.type!="button")){(r=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(r.click,0,r);b=1}_=1}else if(r==27){(r=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(r.click,0,r):this.fire("cancel",{hide:true}).hide!==false&&this.hide();_=1}else return;f(n)}}function f(e){b?e.data.preventDefault(1):_&&e.data.stopPropagation()}var h=CKEDITOR.dialog._.dialogDefinitions[s],p=CKEDITOR.tools.clone(g),m=i.config.dialog_buttonsOrder||"OS",v=i.lang.dir,w={},b,_;(m=="OS"&&CKEDITOR.env.mac||m=="rtl"&&v=="ltr"||m=="ltr"&&v=="rtl")&&p.buttons.reverse();h=CKEDITOR.tools.extend(h(i),p);h=CKEDITOR.tools.clone(h);h=new y(this,h);p=o(i);this._={editor:i,element:p.element,name:s,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};this.parts=p.parts;CKEDITOR.tools.setTimeout(function(){i.fire("ariaWidget",this.parts.contents)},0,this);p={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};p[v=="rtl"?"right":"left"]=0;this.parts.dialog.setStyles(p);CKEDITOR.event.call(this);this.definition=h=CKEDITOR.fire("dialogDefinition",{name:s,definition:h},i).definition;if(!("removeDialogTabs"in i._)&&i.config.removeDialogTabs){p=i.config.removeDialogTabs.split(";");for(v=0;v<p.length;v++){m=p[v].split(":");if(m.length==2){var E=m[0];w[E]||(w[E]=[]);w[E].push(m[1])}}i._.removeDialogTabs=w}if(i._.removeDialogTabs&&(w=i._.removeDialogTabs[s]))for(v=0;v<w.length;v++)h.removeContents(w[v]);if(h.onLoad)this.on("load",h.onLoad);if(h.onShow)this.on("show",h.onShow);if(h.onHide)this.on("hide",h.onHide);if(h.onOk)this.on("ok",function(e){i.fire("saveSnapshot");setTimeout(function(){i.fire("saveSnapshot")},0);if(h.onOk.call(this,e)===false)e.data.hide=false});if(h.onCancel)this.on("cancel",function(e){if(h.onCancel.call(this,e)===false)e.data.hide=false});var T=this,C=function(e){var t=T._.contents,i=false,n;for(n in t)for(var r in t[n])if(i=e.call(this,t[n][r]))return};this.on("ok",function(e){C(function(t){if(t.validate){var i=t.validate(this),r=typeof i=="string"||i===false;if(r){e.data.hide=false;e.stop()}n.call(t,!r,typeof i=="string"?i:void 0);return r}})},this,null,0);this.on("cancel",function(e){C(function(t){if(t.isChanged()){if(!i.config.dialog_noConfirmCancel&&!confirm(i.lang.common.confirmCancel))e.data.hide=false;return true}})},this,null,0);this.parts.close.on("click",function(e){this.fire("cancel",{hide:true}).hide!==false&&this.hide();e.data.preventDefault()},this);this.changeFocus=l;var S=this._.element;i.focusManager.add(S,1);this.on("show",function(){S.on("keydown",d,this);if(CKEDITOR.env.gecko)S.on("keypress",f,this)});this.on("hide",function(){S.removeListener("keydown",d);CKEDITOR.env.gecko&&S.removeListener("keypress",f);C(function(e){r.apply(e)})});this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)});this.on("show",function(){a();var e=T._.pageCount>1;if(i.config.dialog_startupFocusTab&&e){T._.tabBarMode=true;T._.tabs[T._.currentTabId][0].focus();T._.currentFocusIndex=-1}else if(!this._.hasFocus){this._.currentFocusIndex=e?-1:this._.focusList.length-1;if(h.onFocus)(e=h.onFocus.call(this))&&e.focus();else l(1)}},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove();t.appendTo(e)},this);c(this);u(this);new CKEDITOR.dom.text(h.title,CKEDITOR.document).appendTo(this.parts.title);for(v=0;v<h.contents.length;v++)(w=h.contents[v])&&this.addPage(w);this.parts.tabs.on("click",function(e){var t=e.data.getTarget();if(t.hasClass("cke_dialog_tab")){
t=t.$.id;this.selectPage(t.substring(4,t.lastIndexOf("_")));if(this._.tabBarMode){this._.tabBarMode=false;this._.currentFocusIndex=-1;l(1)}e.data.preventDefault()}},this);v=[];w=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:h.buttons},v).getChild();this.parts.footer.setHtml(v.join(""));for(v=0;v<w.length;v++)this._.buttons[w[v].id]=w[v]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(e,t){if(!this._.contentSize||!(this._.contentSize.width==e&&this._.contentSize.height==t)){CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor);this.fire("resize",{width:e,height:t},this._.editor);this.parts.contents.setStyles({width:e+"px",height:t+"px"});if(this._.editor.lang.dir=="rtl"&&this._.position)this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10);this._.contentSize={width:e,height:t}}}}(),getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,i){var n=this._.element.getFirst(),r=this._.editor.lang.dir=="rtl",o=n.getComputedStyle("position")=="fixed";CKEDITOR.env.ie&&n.setStyle("zoom","100%");if(!o||!this._.position||!(this._.position.x==e&&this._.position.y==t)){this._.position={x:e,y:t};if(!o){o=CKEDITOR.document.getWindow().getScrollPosition();e=e+o.x;t=t+o.y}if(r){o=this.getSize();e=CKEDITOR.document.getWindow().getViewPaneSize().width-o.width-e}t={top:(t>0?t:0)+"px"};t[r?"right":"left"]=(e>0?e:0)+"px";n.setStyles(t);i&&(this._.moved=1)}},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;!e.getParent()||!e.getParent().equals(CKEDITOR.document.getBody())?e.appendTo(CKEDITOR.document.getBody()):e.setStyle("display","block");this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(CKEDITOR.dialog._.currentZIndex===null)CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex+10);if(CKEDITOR.dialog._.currentTop===null){CKEDITOR.dialog._.currentTop=this;this._.parentDialog=null;f(this._.editor)}else{this._.parentDialog=CKEDITOR.dialog._.currentTop;this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);CKEDITOR.dialog._.currentTop=this}e.on("keydown",S);e.on("keyup",I);this._.hasFocus=false;for(var i in t.contents)if(t.contents[i]){var e=t.contents[i],n=this._.tabs[e.id],r=e.requiredContent,o=0;if(n){for(var s in this._.contents[e.id]){var l=this._.contents[e.id][s];if(!(l.type=="hbox"||l.type=="vbox"||!l.getInputElement()))if(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent))l.disable();else{l.enable();o++}}!o||r&&!this._.editor.activeFilter.check(r)?n[0].addClass("cke_dialog_tab_disabled"):n[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();a(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize(),n=(i.width-t.width)/2,r=(i.height-t.height)/2;CKEDITOR.env.ie6Compat||(t.height+(r>0?r:0)>i.height||t.width+(n>0?n:0)>i.width?e.setStyle("position","absolute"):e.setStyle("position","fixed"));this.move(this._.moved?this._.position.x:n,this._.moved?this._.position.y:r)},foreach:function(e){for(var t in this._.contents)for(var i in this._.contents[t])e.call(this,this._.contents[t][i]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){this.foreach(e);return this}}(),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur();t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);var e=this._.element;e.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");for(k(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else h(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex=CKEDITOR.dialog._.currentZIndex-10;else{CKEDITOR.dialog._.currentZIndex=null;e.removeListener("keydown",S);e.removeListener("keyup",I);var i=this._.editor;i.focus();setTimeout(function(){i.focusManager.unlock();CKEDITOR.env.iOS&&i.window.focus()},0)}delete this._.parentDialog;this.foreach(function(e){e.resetInitValue&&e.resetInitValue()})}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],i=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",n=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),r=this._.contents[e.id]={},o=n.getChild(),s=0;n=o.shift();){!n.notAllowed&&(n.type!="hbox"&&n.type!="vbox")&&s++;r[n.id]=n;typeof n.getChild=="function"&&o.push.apply(o,n.getChild())}if(!s)e.hidden=true;t=CKEDITOR.dom.element.createFromHtml(t.join(""));t.setAttribute("role","tabpanel");n=CKEDITOR.env;r="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber();i=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',this._.pageCount>0?" cke_last":"cke_first",i,e.hidden?' style="display:none"':"",' id="',r,'"',n.gecko&&!n.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join(""));t.setAttribute("aria-labelledby",r);this._.tabs[e.id]=[i,t];this._.tabIdList.push(e.id);!e.hidden&&this._.pageCount++;this._.lastTab=i;this.updateStyle();t.setAttribute("name",e.id);t.appendTo(this.parts.contents);i.unselectable();this.parts.tabs.append(i);if(e.accessKey){O(this,this,"CTRL+"+e.accessKey,D,x);this._.accessKeyMap["CTRL+"+e.accessKey]=e.id}}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&this.fire("selectPage",{page:e,currentPage:this._.currentTabId})!==false){for(var t in this._.tabs){var n=this._.tabs[t][0],r=this._.tabs[t][1];if(t!=e){n.removeClass("cke_dialog_tab_selected");r.hide()}r.setAttribute("aria-hidden",t!=e)}var o=this._.tabs[e];o[0].addClass("cke_dialog_tab_selected");if(CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat){i(o[1]);o[1].show();setTimeout(function(){i(o[1],1)},0)}else o[1].show();this._.currentTabId=e;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var i=this._.tabs[t]&&this._.tabs[t][0];if(i&&this._.pageCount!=1&&i.isVisible()){t==this._.currentTabId&&this.selectPage(e.call(this));i.hide();this._.pageCount--;this.updateStyle()}},showPage:function(e){if(e=this._.tabs[e]&&this._.tabs[e][0]){e.show();this._.pageCount++;this.updateStyle()}},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var i=this._.contents[e];return i&&i[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,i){return this.getContentElement(e,t).setValue(i)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if(typeof t=="undefined"){t=this._.focusList.length;this._.focusList.push(new s(this,e,t))}else{this._.focusList.splice(t,0,new s(this,e,t));for(var i=t+1;i<this._.focusList.length;i++)this._.focusList[i].focusIndex++}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){if(!this._.dialogDefinitions[e]||typeof t=="function")this._.dialogDefinitions[e]=t},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,i){e=e.config.removeDialogTabs;return!(e&&e.match(RegExp("(?:^|;)"+t+":"+i+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){t=t||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(e){e=e.data.dialog;e.fire("ok",{hide:true}).hide!==false&&e.hide()}},t,true)};e.type="button";e.override=function(t){return CKEDITOR.tools.extend(function(i){return e(i,t)},{type:"button"},true)};return e}(),cancelButton:function(){var e=function(e,t){t=t||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(e){e=e.data.dialog;e.fire("cancel",{hide:true}).hide!==false&&e.hide()}},t,true)};e.type="button";e.override=function(t){return CKEDITOR.tools.extend(function(i){return e(i,t)},{type:"button"},true)};return e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(e,t,i){for(var n=0,r;r=e[n];n++){if(r.id==t)return r;if(i&&r[i])if(r=v(r[i],t,i))return r}return null},w=function(e,t,i,n,r){if(i){for(var o=0,s;s=e[o];o++){if(s.id==i){e.splice(o,0,t);return t}if(n&&s[n])if(s=w(s[n],t,i,n,true))return s}if(r)return null}e.push(t);return t},b=function(e,t,i){for(var n=0,r;r=e[n];n++){if(r.id==t)return e.splice(n,1);if(i&&r[i])if(r=b(r[i],t,i))return r}return null},y=function(e,t){this.dialog=e;for(var i=t.contents,n=0,r;r=i[n];n++)i[n]=r&&new l(e,r);CKEDITOR.tools.extend(this,t)};y.prototype={getContents:function(e){return v(this.contents,e)},getButton:function(e){return v(this.buttons,e)},addContents:function(e,t){return w(this.contents,e,t)},addButton:function(e,t){return w(this.buttons,e,t)},removeContents:function(e){b(this.contents,e)},removeButton:function(e){b(this.buttons,e)}};l.prototype={get:function(e){return v(this.elements,e,"children")},add:function(e,t){return w(this.elements,e,t,"children")},remove:function(e){b(this.elements,e,"children")}};var _,E={},T,C={},S=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,i=e.data.$.altKey,n=e.data.$.shiftKey,r=String.fromCharCode(e.data.$.keyCode);if((t=C[(t?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+r])&&t.length){t=t[t.length-1];t.keydown&&t.keydown.call(t.uiElement,t.dialog,t.key);e.data.preventDefault()}},I=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,i=e.data.$.altKey,n=e.data.$.shiftKey,r=String.fromCharCode(e.data.$.keyCode);if((t=C[(t?"CTRL+":"")+(i?"ALT+":"")+(n?"SHIFT+":"")+r])&&t.length){t=t[t.length-1];if(t.keyup){t.keyup.call(t.uiElement,t.dialog,t.key);e.data.preventDefault()}}},O=function(e,t,i,n,r){(C[i]||(C[i]=[])).push({uiElement:e,dialog:t,key:i,keyup:r||e.accessKeyUp,keydown:n||e.accessKeyDown})},k=function(e){for(var t in C){for(var i=C[t],n=i.length-1;n>=0;n--)(i[n].dialog==e||i[n].uiElement==e)&&i.splice(n,1);i.length===0&&delete C[t]}},x=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},D=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(e,t,i,n,r,o,s){if(!(arguments.length<4)){var a=(n.call?n(t):n)||"div",l=["<",a," "],c=(r&&r.call?r(t):r)||{},u=(o&&o.call?o(t):o)||{},d=(s&&s.call?s.call(this,e,t):s)||"",f=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";if(t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)){c.display="none";this.notAllowed=true}u.id=f;var h={};t.type&&(h["cke_dialog_ui_"+t.type]=1);t.className&&(h[t.className]=1);if(t.disabled)h.cke_disabled=1;for(var p=u["class"]&&u["class"].split?u["class"].split(" "):[],f=0;f<p.length;f++)p[f]&&(h[p[f]]=1);p=[];for(f in h)p.push(f);u["class"]=p.join(" ");if(t.title)u.title=t.title;h=(t.style||"").split(";");if(t.align){p=t.align;c["margin-left"]=p=="left"?0:"auto";c["margin-right"]=p=="right"?0:"auto"}for(f in c)h.push(f+":"+c[f]);t.hidden&&h.push("display:none");for(f=h.length-1;f>=0;f--)h[f]===""&&h.splice(f,1);if(h.length>0)u.style=(u.style?u.style+"; ":"")+h.join("; ");for(f in u)l.push(f+'="'+CKEDITOR.tools.htmlEncode(u[f])+'" ');l.push(">",d,"</",a,">");i.push(l.join(""));(this._||(this._={})).dialog=e;if(typeof t.isChanged=="boolean")this.isChanged=function(){return t.isChanged};if(typeof t.isChanged=="function")this.isChanged=t.isChanged;if(typeof t.setValue=="function")this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(i){e.call(this,t.setValue.call(this,i))}});if(typeof t.getValue=="function")this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return t.getValue.call(this,e.call(this))}});CKEDITOR.event.implementOn(this);this.registerEvents(t);this.accessKeyUp&&(this.accessKeyDown&&t.accessKey)&&O(this,e,"CTRL+"+t.accessKey);var m=this;e.on("load",function(){var t=m.getInputElement();if(t){var i=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){e._.tabBarMode=false;e._.hasFocus=true;m.fire("focus");i&&this.addClass(i)});t.on("blur",function(){m.fire("blur");i&&this.removeClass(i)})}});CKEDITOR.tools.extend(this,t);if(this.keyboardFocusable){this.tabIndex=t.tabIndex||0;this.focusIndex=e._.focusList.push(this)-1;this.on("focus",function(){e._.currentFocusIndex=m.focusIndex})}}},hbox:function(e,t,i,n,r){if(!(arguments.length<4)){this._||(this._={});var o=this._.children=t,s=r&&r.widths||null,a=r&&r.height||null,l,c={role:"presentation"};r&&r.align&&(c.align=r.align);CKEDITOR.ui.dialog.uiElement.call(this,e,r||{type:"hbox"},n,"table",{},c,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(l=0;l<i.length;l++){var t="cke_dialog_ui_hbox_child",n=[];l===0&&(t="cke_dialog_ui_hbox_first");l==i.length-1&&(t="cke_dialog_ui_hbox_last");e.push('<td class="',t,'" role="presentation" ');s?s[l]&&n.push("width:"+p(s[l])):n.push("width:"+Math.floor(100/i.length)+"%");a&&n.push("height:"+p(a));r&&r.padding!==void 0&&n.push("padding:"+p(r.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&o[l].align)&&n.push("text-align:"+o[l].align);n.length>0&&e.push('style="'+n.join("; ")+'" ');e.push(">",i[l],"</td>")}e.push("</tr></tbody>");return e.join("")})}},vbox:function(e,t,i,n,r){if(!(arguments.length<3)){this._||(this._={});var o=this._.children=t,s=r&&r.width||null,a=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,r||{type:"vbox"},n,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="');r&&r.expand&&t.push("height:100%;");t.push("width:"+p(s||"100%"),";");CKEDITOR.env.webkit&&t.push("float:none;");t.push('"');t.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||(e.getParentEditor().lang.dir=="ltr"?"left":"right")),'" ');t.push("><tbody>");for(var n=0;n<i.length;n++){var l=[];t.push('<tr><td role="presentation" ');s&&l.push("width:"+p(s||"100%"));a?l.push("height:"+p(a[n])):r&&r.expand&&l.push("height:"+Math.floor(100/i.length)+"%");r&&r.padding!==void 0&&l.push("padding:"+p(r.padding));CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&o[n].align)&&l.push("text-align:"+o[n].align);l.length>0&&t.push('style="',l.join("; "),'" ');t.push(' class="cke_dialog_ui_vbox_child">',i[n],"</td></tr>")}t.push("</tbody></table>");return t.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){this.getInputElement().setValue(e);!t&&this.fire("change",{value:e});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return false},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&e.$.className.search("cke_dialog_page_contents")==-1;);if(!e)return this;e=e.getAttribute("name");this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(e){var t=/^on([A-Z]\w+)/,i,n=function(e,t,i,n){t.on("load",function(){e.getInputElement().on(i,n,e)})},r;for(r in e)if(i=r.match(t))this.eventProcessors[r]?this.eventProcessors[r].call(this,this._.dialog,e[r]):n(this,this._.dialog,i[1].toLowerCase(),e[r]);return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true");e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled");e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!this.isEnabled()||!this.isVisible()?false:true}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){if(arguments.length<1)return this._.children.concat();e.splice||(e=[e]);return e.length<2?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null}},true);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var e={build:function(e,t,i){for(var n=t.children,r,o=[],s=[],a=0;a<n.length&&(r=n[a]);a++){var l=[];o.push(l);s.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,s,o,i,t)}};CKEDITOR.dialog.addUIElement("hbox",e);CKEDITOR.dialog.addUIElement("vbox",e)})();CKEDITOR.dialogCommand=function(e,t){this.dialogName=e;CKEDITOR.tools.extend(this,t,true)};CKEDITOR.dialogCommand.prototype={exec:function(e){e.openDialog(this.dialogName)},canUndo:false,editorFocus:1};(function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,i=/^\d*(?:\.\d+)?$/,n=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,r=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t=this&&this.getValue?this.getValue():e[0],i,n=CKEDITOR.VALIDATE_AND,r=[],o;for(o=0;o<e.length;o++)if(typeof e[o]=="function")r.push(e[o]);else break;if(o<e.length&&typeof e[o]=="string"){i=e[o];o++}o<e.length&&typeof e[o]=="number"&&(n=e[o]);var s=n==CKEDITOR.VALIDATE_AND?true:false;for(o=0;o<r.length;o++)s=n==CKEDITOR.VALIDATE_AND?s&&r[o](t):s||r[o](t);return!s?i:true}},regex:function(e,t){return function(i){i=this&&this.getValue?this.getValue():i;return!e.test(i)?t:true}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(i,e)},cssLength:function(e){return this.functions(function(e){return r.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return n.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return o.test(CKEDITOR.tools.trim(e))},e)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}};CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var i in E)E[i].remove();E={}}var e=e.editor._.storedDialogs,n;for(n in e)e[n].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var i=null,n=CKEDITOR.dialog._.dialogDefinitions[e];CKEDITOR.dialog._.currentTop===null&&f(this);if(typeof n=="function"){i=this._.storedDialogs||(this._.storedDialogs={});i=i[e]||(i[e]=new CKEDITOR.dialog(this,e));t&&t.call(i,i);i.show()}else{if(n=="failed"){h(this);throw Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.')}typeof n=="string"&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n),function(){typeof CKEDITOR.dialog._.dialogDefinitions[e]!="function"&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed");this.openDialog(e,t)},this,0,1)}CKEDITOR.skin.loadPart("dialog");return i}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var i=e.langCode,i=t.availableLangs[i]?i:t.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+i+".js"),function(){e.lang.a11yhelp=t.langEntries[i];e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:false});e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp");CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js");e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1};t.canUndo=false;t.readOnly=1;e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.title,command:"about",toolbar:"about"});CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,i=function(i,r,o,s){if(s){var s=new CKEDITOR.style(s),a=n[o];a.unshift(s);e.attachStyleStateChange(s,function(t){!e.readOnly&&e.getCommand(o).setState(t)});e.addCommand(o,new CKEDITOR.styleCommand(s,{contentForms:a}));e.ui.addButton&&e.ui.addButton(i,{label:r,command:o,toolbar:"basicstyles,"+(t=t+10)})}},n={bold:["strong","b",["span",function(e){e=e.styles["font-weight"];return e=="bold"||+e>=700}]],italic:["em","i",["span",function(e){return e.styles["font-style"]=="italic"}]],underline:["u",["span",function(e){return e.styles["text-decoration"]=="underline"}]],strike:["s","strike",["span",function(e){return e.styles["text-decoration"]=="line-through"}]],subscript:["sub"],superscript:["sup"]},r=e.config,o=e.lang.basicstyles;i("Bold",o.bold,"bold",r.coreStyles_bold);i("Italic",o.italic,"italic",r.coreStyles_italic);i("Underline",o.underline,"underline",r.coreStyles_underline);i("Strike",o.strike,"strike",r.coreStyles_strike);i("Subscript",o.subscript,"subscript",r.coreStyles_subscript);i("Superscript",o.superscript,"superscript",r.coreStyles_superscript);e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,i=e.getSelection(),n=i&&i.getRanges()[0];if(n){var r=i.createBookmarks();if(CKEDITOR.env.ie){var o=r[0].startNode,s=r[0].endNode,a;if(o&&o.getParent().getName()=="blockquote")for(a=o;a=a.getNext();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){o.move(a,true);break}if(s&&s.getParent().getName()=="blockquote")for(a=s;a=a.getPrevious();)if(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary()){s.move(a);break}}var l=n.createIterator();l.enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR;if(t==CKEDITOR.TRISTATE_OFF){for(o=[];t=l.getNextParagraph();)o.push(t);if(o.length<1){t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div");s=r.shift();n.insertNode(t);t.append(new CKEDITOR.dom.text("\ufeff",e.document));n.moveToBookmark(s);n.selectNodeContents(t);n.collapse(true);s=n.createBookmark();o.push(t);r.unshift(s)}a=o[0].getParent();n=[];for(s=0;s<o.length;s++){t=o[s];a=a.getCommonAncestor(t.getParent())}for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[a.getName()];)a=a.getParent();for(s=null;o.length>0;){for(t=o.shift();!t.getParent().equals(a);)t=t.getParent();t.equals(s)||n.push(t);s=t}for(;n.length>0;){t=n.shift();if(t.getName()=="blockquote"){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();){s.append(t.getFirst().remove());o.push(s.getLast())}s.replace(t)}else o.push(t)}n=e.document.createElement("blockquote");for(n.insertBefore(o[0]);o.length>0;){t=o.shift();n.append(t)}}else if(t==CKEDITOR.TRISTATE_ON){s=[];for(a={};t=l.getNextParagraph();){for(o=n=null;t.getParent();){if(t.getParent().getName()=="blockquote"){n=t.getParent();o=t;break}t=t.getParent()}if(n&&o&&!o.getCustomData("blockquote_moveout")){s.push(o);CKEDITOR.dom.element.setMarker(a,o,"blockquote_moveout",true)}}CKEDITOR.dom.element.clearAllMarkers(a);t=[];o=[];for(a={};s.length>0;){l=s.shift();n=l.getParent();if(l.getPrevious())if(l.getNext()){l.breakParent(l.getParent());o.push(l.getNext())}else l.remove().insertAfter(n);else l.remove().insertBefore(n);if(!n.getCustomData("blockquote_processed")){o.push(n);CKEDITOR.dom.element.setMarker(a,n,"blockquote_processed",true)}t.push(l)}CKEDITOR.dom.element.clearAllMarkers(a);for(s=o.length-1;s>=0;s--){n=o[s];e:{a=n;for(var l=0,c=a.getChildCount(),u=void 0;l<c&&(u=a.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){a=false;break e}a=true}a&&n.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(n=true;t.length;){l=t.shift();if(l.getName()=="div"){s=new CKEDITOR.dom.documentFragment(e.document);n&&(l.getPrevious()&&!(l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()))&&s.append(e.document.createElement("br"));for(n=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);n&&s.append(e.document.createElement("br"));s.replace(l);n=false}}}i.selectBookmarks(r);e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){if(!t.blockless){t.addCommand("blockquote",e);t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"})}}})}(),"use strict",function(){function e(e){function t(){var t=e.editable();t.on(w,function(e){(!CKEDITOR.env.ie||!m)&&f(e)});CKEDITOR.env.ie&&t.on("paste",function(t){if(!g){r();t.data.preventDefault();f(t);s("paste")||e.openDialog("paste")}});if(CKEDITOR.env.ie){t.on("contextmenu",o,null,null,0);t.on("beforepaste",function(e){e.data&&(!e.data.$.ctrlKey&&!e.data.$.shiftKey)&&o()},null,null,0)}t.on("beforecut",function(){!m&&l(e)});var i;t.attachListener(CKEDITOR.env.ie?t:e.document.getDocumentElement(),"mouseup",function(){i=setTimeout(function(){h()},0)});e.on("destroy",function(){clearTimeout(i)});t.on("keyup",h)}function i(t){return{type:t,canUndo:t=="cut",startDisabled:true,exec:function(){this.type=="cut"&&l();var t;var i=this.type;if(CKEDITOR.env.ie)t=s(i);else try{t=e.document.$.execCommand(i,false,null)}catch(e){t=false}t||alert(e.lang.clipboard[this.type+"Error"]);return t}}}function n(){return{canUndo:false,async:true,exec:function(e,t){var i=function(t,i){t&&a(t.type,t.dataValue,!!i);e.fire("afterCommandExec",{name:"paste",command:n,returnValue:!!t})},n=this;typeof t=="string"?i({type:"auto",dataValue:t},1):e.getClipboardData(i)}}}function r(){g=1;setTimeout(function(){g=0},100)}function o(){m=1;setTimeout(function(){m=0},10)}function s(t){var i=e.document,n=i.getBody(),r=false,o=function(){r=true};n.on(t,o);(CKEDITOR.env.version>7?i.$:i.$.selection.createRange()).execCommand(t);n.removeListener(t,o);return r}function a(t,i,n){t={type:t};if(n&&e.fire("beforePaste",t)===false||!i)return false;t.dataValue=i;return e.fire("paste",t)}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t=e.getSelection(),i,n,r;if(t.getType()==CKEDITOR.SELECTION_ELEMENT&&(i=t.getSelectedElement())){n=t.getRanges()[0];r=e.document.createText("");r.insertBefore(i);n.setStartBefore(r);n.setEndAfter(i);t.selectRanges([n]);setTimeout(function(){if(i.getParent()){r.remove();t.selectElement(i)}},0)}}}function c(t,i){var n=e.document,r=e.editable(),o=function(e){e.cancel()},s;if(!n.getById("cke_pastebin")){var a=e.getSelection(),l=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var c=new CKEDITOR.dom.element((CKEDITOR.env.webkit||r.is("body"))&&!CKEDITOR.env.ie?"body":"div",n);c.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0,n=n.getWindow();if(CKEDITOR.env.webkit){r.append(c);c.addClass("cke_editable");if(!r.is("body")){u=r.getComputedStyle("position")!="static"?r:CKEDITOR.dom.element.get(r.$.offsetParent);u=u.getDocumentPosition().y}}else r.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(c);c.setStyles({position:"absolute",top:n.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,n.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));if(u=c.getParent().isReadOnly()){c.setOpacity(0);c.setAttribute("contenteditable",true)}else c.setStyle(e.config.contentsLangDirection=="ltr"?"left":"right","-1000px");e.on("selectionChange",o,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)s=r.once("blur",o,null,null,-100);u&&c.focus();u=new CKEDITOR.dom.range(c);u.selectNodeContents(c);var d=u.select();CKEDITOR.env.ie&&(s=r.once("blur",function(){e.lockSelection(d)}));var f=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){if(CKEDITOR.env.webkit)CKEDITOR.document.getBody().$.scrollTop=f;s&&s.removeListener();CKEDITOR.env.ie&&r.focus();a.selectBookmarks(l);c.remove();var t;if(CKEDITOR.env.webkit&&(t=c.getFirst())&&t.is&&t.hasClass("Apple-style-span"))c=t;e.removeListener("selectionChange",o);i(c.getHtml())},0)}}function u(){if(CKEDITOR.env.ie){e.focus();r();var t=e.focusManager;t.lock();if(e.editable().fire(w)&&!s("paste")){t.unlock();return false}t.unlock()}else try{if(e.editable().fire(w)&&!e.document.$.execCommand("Paste",false,null))throw 0}catch(e){return false}return true}function d(t){if(e.mode=="wysiwyg")switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable();r();!CKEDITOR.env.ie&&t.fire("beforepaste");
break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot");setTimeout(function(){e.fire("saveSnapshot")},50)}}function f(t){var i={type:"auto"},n=e.fire("beforePaste",i);c(t,function(e){e=e.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,"");n&&a(i.type,e,0,1)})}function h(){if(e.mode=="wysiwyg"){var t=p("paste");e.getCommand("cut").setState(p("cut"));e.getCommand("copy").setState(p("copy"));e.getCommand("paste").setState(t);e.fire("pasteState",t)}}function p(t){if(v&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(t=="paste")return CKEDITOR.TRISTATE_OFF;var t=e.getSelection(),i=t.getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||i.length==1&&i[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=0,g=0,v=0,w=CKEDITOR.env.ie?"beforepaste":"paste";(function(){e.on("key",d);e.on("contentDom",t);e.on("selectionChange",function(e){v=e.data.selection.getRanges()[0].checkReadOnly();h()});e.contextMenu&&e.contextMenu.addListener(function(e,t){v=t.getRanges()[0].checkReadOnly();return{cut:p("cut"),copy:p("copy"),paste:p("paste")}})})();(function(){function t(t,i,n,r,o){var s=e.lang.clipboard[i];e.addCommand(i,n);e.ui.addButton&&e.ui.addButton(t,{label:s,command:i,toolbar:"clipboard,"+r});e.addMenuItems&&e.addMenuItem(i,{label:s,command:i,group:"clipboard",order:o})}t("Cut","cut",i("cut"),10,1);t("Copy","copy",i("copy"),20,4);t("Paste","paste",n(),30,8)})();e.getClipboardData=function(t,i){function n(e){e.removeListener();e.cancel();i(e.data)}function r(e){e.removeListener();e.cancel();l=true;i({type:a,dataValue:e.data})}function o(){this.customTitle=t&&t.title}var s=false,a="auto",l=false;if(!i){i=t;t=null}e.on("paste",n,null,null,0);e.on("beforePaste",function(e){e.removeListener();s=true;a=e.data.type},null,null,1e3);if(u()===false){e.removeListener("paste",n);if(s&&e.fire("pasteDialog",o)){e.on("pasteDialogCommit",r);e.on("dialogHide",function(e){e.removeListener();e.data.removeListener("pasteDialogCommit",r);setTimeout(function(){l||i(null)},10)})}else i(null)}}}function t(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";return"htmlifiedtext"}function i(e,t){function i(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(e%2==1?"<br>":"")}t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>");t=t.replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()});if(t.match(/^[^<]$/))return t;if(CKEDITOR.env.webkit&&t.indexOf("<div>")>-1){t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>");t.match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return i(e.split("</div><div>").length+1)})+"</p>");t=t.replace(/<\/div><div>/g,"<br>");t=t.replace(/<\/?div>/g,"")}if(CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR){CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>"));t.indexOf("<br><br>")>-1&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return i(e.length/4)})+"</p>")}return o(e,t)}function n(){var e=new CKEDITOR.htmlParser.filter,t={blockquote:1,dl:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ol:1,p:1,table:1,ul:1},i=CKEDITOR.tools.extend({br:0},CKEDITOR.dtd.$inline),n={p:1,br:1,"cke:br":1},r=CKEDITOR.dtd,o=CKEDITOR.tools.extend({area:1,basefont:1,embed:1,iframe:1,map:1,object:1,param:1},CKEDITOR.dtd.$nonBodyContent,CKEDITOR.dtd.$cdata),s=function(e){delete e.name;e.add(new CKEDITOR.htmlParser.text(" "))},a=function(e){for(var t=e,i;(t=t.next)&&t.name&&t.name.match(/^h\d$/);){i=new CKEDITOR.htmlParser.element("cke:br");i.isEmpty=true;for(e.add(i);i=t.children.shift();)e.add(i)}};e.addRules({elements:{h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,img:function(e){var e=CKEDITOR.tools.trim(e.attributes.alt||""),t=" ";e&&!e.match(/(^http|\.(jpe?g|gif|png))/i)&&(t=" ["+e+"] ");return new CKEDITOR.htmlParser.text(t)},td:s,th:s,$:function(e){var s=e.name,a;if(o[s])return false;e.attributes={};if(s=="br")return e;if(t[s])e.name="p";else if(i[s])delete e.name;else if(r[s]){a=new CKEDITOR.htmlParser.element("cke:br");a.isEmpty=true;if(CKEDITOR.dtd.$empty[s])return a;e.add(a,0);a=a.clone();a.isEmpty=true;e.add(a);delete e.name}n[e.name]||delete e.name;return e}}},{applyToAll:true});return e}function r(e,t,i){var t=new CKEDITOR.htmlParser.fragment.fromHtml(t),n=new CKEDITOR.htmlParser.basicWriter;t.writeHtml(n,i);var t=n.getHtml(),t=t.replace(/\s*(<\/?[a-z:]+ ?\/?>)\s*/g,"$1").replace(/(<cke:br \/>){2,}/g,"<cke:br />").replace(/(<cke:br \/>)(<\/?p>|<br \/>)/g,"$2").replace(/(<\/?p>|<br \/>)(<cke:br \/>)/g,"$1").replace(/<(cke:)?br( \/)?>/g,"<br>").replace(/<p><\/p>/g,""),r=0,t=t.replace(/<\/?p>/g,function(e){if(e=="<p>"){if(++r>1)return"</p><p>"}else if(--r>0)return"</p><p>";return e}).replace(/<p><\/p>/g,"");return o(e,t)}function o(e,t){e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>"));return t}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(o){var s;e(o);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));o.on("paste",function(e){var t=e.data.dataValue,i=CKEDITOR.dtd.$block;if(t.indexOf("Apple-")>-1){t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," ");e.data.type!="html"&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")}));if(t.indexOf('<br class="Apple-interchange-newline">')>-1){e.data.startsWithEOL=1;e.data.preSniffing="html";t=t.replace(/<br class="Apple-interchange-newline">/,"")}t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")}if(t.match(/^<[^<]+cke_(editable|contents)/i)){var n,r,o=new CKEDITOR.dom.element("div");for(o.setHtml(t);o.getChildCount()==1&&(n=o.getFirst())&&n.type==CKEDITOR.NODE_ELEMENT&&(n.hasClass("cke_editable")||n.hasClass("cke_contents"));)o=r=n;r&&(t=r.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,n){if(n.toLowerCase()in i){e.data.preSniffing="html";return"<"+n}return t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,n){if(n in i){e.data.endsWithEOL=1;return"</"+n+">"}return t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1"));e.data.dataValue=t},null,null,3);o.on("paste",function(e){var e=e.data,a=e.type,l=e.dataValue,c,u=o.config.clipboard_defaultContentType||"html";c=a=="html"||e.preSniffing=="html"?"html":t(l);c=="htmlifiedtext"?l=i(o.config,l):a=="text"&&c=="html"&&(l=r(o.config,l,s||(s=n(o))));e.startsWithEOL&&(l='<br data-cke-eol="1">'+l);e.endsWithEOL&&(l=l+'<br data-cke-eol="1">');a=="auto"&&(a=c=="html"||u=="html"?"html":"text");e.type=a;e.dataValue=l;delete e.preSniffing;delete e.startsWithEOL;delete e.endsWithEOL},null,null,6);o.on("paste",function(e){e=e.data;o.insertHtml(e.dataValue,e.type);setTimeout(function(){o.fire("afterPaste")},0)},null,null,1e3);o.on("pasteDialog",function(e){setTimeout(function(){o.openDialog("paste",e.data)},0)})}})}(),function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=e;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),i=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(n,r){this.getHolderElement=function(){var e=this._.holder;if(!e){if(this.isFramed){var e=this.document.getById(this.id+"_frame"),t=e.getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=true;if(this.onLoad)this.onLoad()},this));e.write(i.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},o)));e.getWindow().$.CKEDITOR=CKEDITOR;e.on("keydown",function(e){var t=e.data.getKeystroke(),i=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&this._.onKeyDown(t)===false?e.data.preventDefault():(t==27||t==(i=="rtl"?39:37))&&this.onEscape&&this.onEscape(t)===false&&e.data.preventDefault()},this);e=e.getBody();e.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var o={editorId:n.id,id:this.id,langCode:n.langCode,dir:n.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":n.config.baseFloatZIndex+1};if(this.isFramed){var s=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";o.frame=t.output({id:this.id+"_frame",src:s})}s=e.output(o);r&&r.push(s);return s},addBlock:function(e,t){t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t);this._.currentBlock||this.showBlock(e);return t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){var e=this._.blocks[e],t=this._.currentBlock,i=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");t&&t.hide();this._.currentBlock=e;CKEDITOR.fire("ariaWidget",i);e._.focusIndex=-1;this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e);e.show();return e},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}}));t&&CKEDITOR.tools.extend(this,t);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(e){if(e!=-1){e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e);CKEDITOR.env.webkit&&e.getDocument().getWindow().focus();e.focus();this.onMark&&this.onMark(e)}}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){(!this.onHide||this.onHide.call(this)!==true)&&this.element.setStyle("display","none")},onKeyDown:function(e,t){var i=this.keys[e];switch(i){case"next":for(var n=this._.focusIndex,i=this.element.getElementsByTag("a"),r;r=i.getItem(++n);)if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=n;r.focus();break}if(!r&&!t){this._.focusIndex=-1;return this.onKeyDown(e,1)}return false;case"prev":n=this._.focusIndex;for(i=this.element.getElementsByTag("a");n>0&&(r=i.getItem(--n));){if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=n;r.focus();break}r=null}if(!r&&!t){this._.focusIndex=i.count();return this.onKeyDown(e,1)}return false;case"click":case"mouseup":n=this._.focusIndex;(r=n>=0&&this.element.getElementsByTag("a").getItem(n))&&(r.$[i]?r.$[i]():r.$["on"+i]());return false}return true}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,i,n,r,o){var o=CKEDITOR.tools.genKey(i.getUniqueId(),n.getUniqueId(),e.lang.dir,e.uiColor||"",r.css||"",o||""),s=t[o];if(!s){s=t[o]=new CKEDITOR.ui.panel(i,r);s.element=n.append(CKEDITOR.dom.element.createFromHtml(s.render(e),i));s.element.setStyles({display:"none",position:"absolute"})}return s}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,i,n,r){function o(){c.hide()}n.forceIFrame=1;n.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(i=CKEDITOR.document.getById("cke_"+t.name));var s=i.getDocument(),r=e(t,s,i,n,r||0),a=r.element,l=a.getFirst(),c=this;a.disableContextMenu();this.element=a;this._={editor:t,panel:r,parentElement:i,definition:n,document:s,iframe:l,children:[],dir:t.lang.dir};t.on("mode",o);t.on("resize",o);if(!CKEDITOR.env.iOS)s.getWindow().on("resize",o)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,i,n,r,o){var s=this._.panel,a=s.showBlock(e);this.allowBlur(false);e=this._.editor.editable();this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var l=this.element,e=this._.iframe,e=CKEDITOR.env.ie?e:new CKEDITOR.dom.window(e.$.contentWindow),c=l.getDocument(),u=this._.parentElement.getPositionedAncestor(),d=t.getDocumentPosition(c),c=u?u.getDocumentPosition(c):{x:0,y:0},f=this._.dir=="rtl",h=d.x+(n||0)-c.x,p=d.y+(r||0)-c.y;if(f&&(i==1||i==4))h=h+t.$.offsetWidth;else if(!f&&(i==2||i==3))h=h+(t.$.offsetWidth-1);if(i==3||i==4)p=p+(t.$.offsetHeight-1);this._.panel._.offsetParentId=t.getId();l.setStyles({top:p+"px",left:0,display:""});l.setOpacity(0);l.getFirst().removeStyle("width");this._.editor.focusManager.add(e);if(!this._.blurSet){CKEDITOR.event.useCapture=true;e.on("blur",function(e){function t(){delete this._.returnFocus;this.hide()}if(this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild)if(CKEDITOR.env.iOS){if(!this._.hideTimeout)this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)}else t.call(this)},this);e.on("focus",function(){this._.focused=true;this.hideChild();this.allowBlur(true)},this);if(CKEDITOR.env.iOS){e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this);e.on("touchend",function(){this._.hideTimeout=0;this.focus()},this)}CKEDITOR.event.useCapture=false;this._.blurSet=1}s.onEscape=CKEDITOR.tools.bind(function(e){if(this.onEscape&&this.onEscape(e)===false)return false},this);CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){l.removeStyle("width");if(a.autoSize){var e=a.element.getDocument(),e=(CKEDITOR.env.webkit?a.element:e.getBody()).$.scrollWidth;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&e>0)&&(e=e+((l.$.offsetWidth||0)-(l.$.clientWidth||0)+3));l.setStyle("width",e+10+"px");e=a.element.$.scrollHeight;CKEDITOR.env.ie&&(CKEDITOR.env.quirks&&e>0)&&(e=e+((l.$.offsetHeight||0)-(l.$.clientHeight||0)+3));l.setStyle("height",e+"px");s._.currentBlock.element.setStyle("display","none").removeStyle("display")}else l.removeStyle("height");f&&(h=h-l.$.offsetWidth);l.setStyle("left",h+"px");var t=s.element.getWindow(),e=l.$.getBoundingClientRect(),t=t.getViewPaneSize(),i=e.width||e.right-e.left,n=e.height||e.bottom-e.top,r=f?e.right:t.width-e.left,c=f?t.width-e.right:e.left;f?r<i&&(h=c>i?h+i:t.width>i?h-e.left:h-e.right+t.width):r<i&&(h=c>i?h-i:t.width>i?h-e.right+t.width:h-e.left);i=e.top;t.height-e.top<n&&(p=i>n?p-n:t.height>n?p-e.bottom+t.height:p-e.top);if(CKEDITOR.env.ie){t=e=new CKEDITOR.dom.element(l.$.offsetParent);t.getName()=="html"&&(t=t.getDocument().getBody());t.getComputedStyle("direction")=="rtl"&&(h=CKEDITOR.env.ie8Compat?h-l.getDocument().getDocumentElement().$.scrollLeft*2:h-(e.$.scrollWidth-e.$.clientWidth))}var e=l.getFirst(),u;(u=e.getCustomData("activePanel"))&&u.onHide&&u.onHide.call(this,1);e.setCustomData("activePanel",this);l.setStyles({top:p+"px",left:h+"px"});l.setOpacity(1);o&&o()},this);s.isLoaded?e():s.onLoad=e;CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();a.element.focus();if(CKEDITOR.env.webkit)CKEDITOR.document.getBody().$.scrollTop=e;this.allowBlur(true);this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){if(this.visible&&(!this.onHide||this.onHide.call(this)!==true)){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(e=e&&this._.returnFocus){CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus();e.focus()}delete this._.lastFocused;this._.editor.fire("panelHide",this)}},allowBlur:function(e){var t=this._.panel;if(e!==void 0)t.allowBlur=e;return t.allowBlur},showAsChild:function(e,t,i,n,r,o){if(!(this._.activeChild==e&&e._.panel._.offsetParentId==i.getId())){this.hideChild();e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this);this._.activeChild=e;this._.focused=false;e.showBlock(t,i,n,r,o);this.blur();(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100)}},hideChild:function(e){var t=this._.activeChild;if(t){delete t.onHide;delete this._.activeChild;t.hide();e&&this.focus()}}}});CKEDITOR.on("instanceDestroyed",function(){var e=CKEDITOR.tools.isEmpty(CKEDITOR.instances),i;for(i in t){var n=t[i];e?n.destroy():n.element.hide()}e&&(t={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),i=e._.menuGroups={},n=e._.menuItems={},r=0;r<t.length;r++)i[t[r]]=r+1;e.addMenuGroup=function(e,t){i[e]=t||100};e.addMenuItem=function(e,t){i[t.group]&&(n[e]=new CKEDITOR.menuItem(this,e,t))};e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])};e.getMenuItem=function(e){return n[e]};e.removeMenuItem=function(e){delete n[e]}}}),function(){function e(e){e.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t=t+' onkeypress="return false;"');CKEDITOR.env.gecko&&(t=t+' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),i=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),n=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{};this.id=CKEDITOR.tools.getNextId();this.editor=e;this.items=[];this._.listeners=[];this._.level=t.level||1;var i=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),n=i.block.attributes=i.attributes||{};!n.role&&(n.role="menu");this._.panelDefinition=i},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),i=this.editor.elementPath(),n=this._.listeners;this.removeAll();for(var r=0;r<n.length;r++){var o=n[r](t,e,i);if(o)for(var s in o){var a=this.editor.getMenuItem(s);if(a&&(!a.command||this.editor.getCommand(a.command).state)){a.state=o[s];this.add(a)}}}},onClick:function(e){this.hide();if(e.onClick)e.onClick();else e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;t?t._.panel.hideChild(1):e==27&&this.hide(1);return false},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,i=this.items[e];if(i=i.getItems&&i.getItems()){if(t)t.removeAll();else{t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},true));t.parent=this;t._.onClick=CKEDITOR.tools.bind(this._.onClick,this)}for(var n in i){var r=this.editor.getMenuItem(n);if(r){r.state=i[n];t.add(r)}}var o=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+(""+e));setTimeout(function(){t.show(o,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){if(!e.order)e.order=this.items.length;this.items.push(e)},removeAll:function(){this.items=[]},show:function(t,i,n,r){if(!this.parent){this._.onShow();if(!this.items.length)return}var i=i||(this.editor.lang.dir=="rtl"?2:1),o=this.items,s=this.editor,a=this._.panel,l=this._.element;if(!a){a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);a.onEscape=CKEDITOR.tools.bind(function(e){if(this._.onEscape(e)===false)return false},this);a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke cke_reset_all")};a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);l=a.addBlock(this.id,this._.panelDefinition.block);l.autoSize=true;var c=l.keys;c[40]="next";c[9]="next";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[s.lang.dir=="rtl"?37:39]=CKEDITOR.env.ie?"mouseup":"click";c[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(c[13]="mouseup");l=this._.element=l.element;c=l.getDocument();c.getBody().setStyle("overflow","hidden");c.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,s.config.menu_subMenuDelay||400,this,[e])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];if(t.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(t.getItems)this._.showSubMenu(e);else this._.onClick(t)},this)}e(o);for(var c=s.elementPath(),c=['<div class="cke_menu'+(c&&c.direction()!=s.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],u=o.length,d=u&&o[0].group,f=0;f<u;f++){var h=o[f];if(d!=h.group){c.push('<div class="cke_menuseparator" role="separator"></div>');d=h.group}h.render(this,f,c)}c.push("</div>");l.setHtml(c.join(""));CKEDITOR.ui.fire("ready",this);this.parent?this.parent._.panel.showAsChild(a,this.id,t,i,n,r):a.showBlock(this.id,t,i,n,r);s.fire("menuShow",[a])},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(e)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,i){CKEDITOR.tools.extend(this,i,{order:0,className:"cke_menubutton__"+t});this.group=e._.menuGroups[this.group];this.editor=e;this.name=t},proto:{render:function(e,t,r){var o=e.id+(""+t),s=typeof this.state=="undefined"?CKEDITOR.TRISTATE_OFF:this.state,a="",l=s==CKEDITOR.TRISTATE_ON?"on":s==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(a=' aria-checked="'+(s==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var c=this.getItems,u="&#"+(this.editor.lang.dir=="rtl"?"9668":"9658")+";",d=this.name;if(this.icon&&!/\./.test(this.icon))d=this.icon;e={id:o,name:this.name,iconName:d,label:this.label,cls:this.className||"",state:l,hasPopup:c?"true":"false",disabled:s==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(d,this.editor.lang.dir=="rtl",d==this.icon?null:this.icon,this.iconOffset),arrowHtml:c?n.output({label:u}):"",role:this.role?this.role:"menuitem",ariaChecked:a};i.output(e,r)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){e.on("contextmenu",function(e){var e=e.data,n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!t||!n){e.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var n=this.editor,r=new CKEDITOR.dom.elementPath(e.getTarget(),n.editable()).contains(function(e){return e.hasAttribute("contenteditable")},true);r&&r.getAttribute("contenteditable")=="false"&&n.getSelection().fake(r)}var r=e.getTarget().getDocument(),o=e.getTarget().getDocument().getDocumentElement(),n=!r.equals(CKEDITOR.document),r=r.getWindow().getScrollPosition(),s=n?e.$.clientX:e.$.pageX||r.x+e.$.clientX,a=n?e.$.clientY:e.$.pageY||r.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(o,null,s,a)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var i,n=function(){i=0};e.on("keydown",function(e){i=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey});e.on("keyup",n);e.on("contextmenu",n)}},open:function(e,t,i,n){this.editor.focus();e=e||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);this.show(e,t,i,n)}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),e.config.browserContextMenuOnCtrl!==false)});e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}});e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu");e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){var e;function t(t,n){function o(e){e=c.list[e];if(e.equals(t.editable())||e.getAttribute("contenteditable")=="true"){var i=t.createRange();i.selectNodeContents(e);i.select()}else t.getSelection().selectElement(e);t.focus()}function s(){l&&l.setHtml(i);delete c.list}var a=t.ui.spaceId("path"),l,c=t._.elementsPath,u=c.idBase;n.html=n.html+('<span id="'+a+'_label" class="cke_voice_label">'+t.lang.elementspath.eleLabel+'</span><span id="'+a+'" class="cke_path" role="group" aria-labelledby="'+a+'_label">'+i+"</span>");t.on("uiReady",function(){var e=t.ui.space("path");e&&t.focusManager.add(e,1)});c.onClick=o;var d=CKEDITOR.tools.addFunction(o),f=CKEDITOR.tools.addFunction(function(e,i){var n=c.idBase,r,i=new CKEDITOR.dom.event(i);r=t.lang.dir=="rtl";switch(i.getKeystroke()){case r?39:37:case 9:(r=CKEDITOR.document.getById(n+(e+1)))||(r=CKEDITOR.document.getById(n+"0"));r.focus();return false;case r?37:39:case CKEDITOR.SHIFT+9:(r=CKEDITOR.document.getById(n+(e-1)))||(r=CKEDITOR.document.getById(n+(c.list.length-1)));r.focus();return false;case 27:t.focus();return false;case 13:case 32:o(e);return false}return true});t.on("selectionChange",function(){for(var e=[],n=c.list=[],o=[],s=c.filters,h=true,p=t.elementPath().elements,m,g=p.length;g--;){var v=p[g],w=0;m=v.data("cke-display-name")?v.data("cke-display-name"):v.data("cke-real-element-type")?v.data("cke-real-element-type"):v.getName();h=v.hasAttribute("contenteditable")?v.getAttribute("contenteditable")=="true":h;!h&&!v.hasAttribute("contenteditable")&&(w=1);for(var b=0;b<s.length;b++){var y=s[b](v,m);if(y===false){w=1;break}m=y||m}if(!w){n.unshift(v);o.unshift(m)}}n=n.length;for(s=0;s<n;s++){m=o[s];h=t.lang.elementspath.eleTitle.replace(/%1/,m);m=r.output({id:u+s,label:h,text:m,jsTitle:"javascript:void('"+m+"')",index:s,keyDownFn:f,clickFn:d});e.unshift(m)}l||(l=CKEDITOR.document.getById(a));o=l;o.setHtml(e.join("")+i);t.fire("elementsPathUpdate",{space:o})});t.on("readOnly",s);t.on("contentDomUnload",s);t.addCommand("elementsPathFocus",e);t.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}e={editorFocus:false,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}};var i='<span class="cke_path_empty">&nbsp;</span>',n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n=n+' onkeypress="return false;"');CKEDITOR.env.gecko&&(n=n+' onblur="this.style.cssText = this.style.cssText;"');var r=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]};e.on("uiSpace",function(i){i.data.space=="bottom"&&t(e,i.data)})}})}(),function(){function e(e,n){var r,o;n.on("refresh",function(e){var n=[t],r;for(r in e.data.states)n.push(e.data.states[r]);this.setState(CKEDITOR.tools.search(n,i)?i:t)},n,null,100);n.on("exec",function(t){r=e.getSelection();o=r.createBookmarks(1);if(!t.data)t.data={};t.data.done=false},n,null,0);n.on("exec",function(){e.forceNextSelectionCheck();r.selectBookmarks(o)},n,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,i=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var i=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new i(true)));e(t,t.addCommand("outdent",new i));if(t.ui.addButton){t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:true,toolbar:"indent,20"});t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:true,toolbar:"indent,10"})}t.on("dirChanged",function(e){var i=t.createRange(),n=e.data.node;i.setStartBefore(n);i.setEndAfter(n);for(var r=new CKEDITOR.dom.walker(i),o;o=r.next();)if(o.type==CKEDITOR.NODE_ELEMENT)if(!o.equals(n)&&o.getDirection()){i.setStartAfter(o);r=new CKEDITOR.dom.walker(i)}else{var s=t.config.indentClasses;if(s)for(var a=e.data.dir=="ltr"?["_rtl",""]:["","_rtl"],l=0;l<s.length;l++)if(o.hasClass(s[l]+a[0])){o.removeClass(s[l]+a[0]);o.addClass(s[l]+a[1])}s=o.getStyle("margin-right");a=o.getStyle("margin-left");s?o.setStyle("margin-left",s):o.removeStyle("margin-left");a?o.setStyle("margin-right",a):o.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e;this.startDisabled=!this.isIndent},specificDefinition:function(e,t,i){this.name=t;this.editor=e;this.jobs={};this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!i;this.relatedGlobal=i?"indent":"outdent";this.indentKey=i?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)(function(e,t){var i=e.getCommand(t.relatedGlobal),n;for(n in t.jobs){i.on("exec",function(i){if(!i.data.done){e.fire("lockSnapshot");if(t.execJob(e,n))i.data.done=true;e.fire("unlockSnapshot");CKEDITOR.dom.element.clearAllMarkers(t.database)}},this,null,n);i.on("refresh",function(i){if(!i.data.states)i.data.states={};i.data.states[t.name+"@"+n]=t.refreshJob(e,n,i.data.path)},this,null,n)}e.addFeature(t);
})(this,t[e])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,i){var n=this.jobs[i];if(n.state!=t)return n.exec.call(this,e)},refreshJob:function(e,i,n){i=this.jobs[i];i.state=e.activeFilter.checkFeature(this)?i.refresh.call(this,e,n):t;return i.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function n(t){for(var n=l.startContainer,a=l.endContainer;n&&!n.getParent().equals(t);)n=n.getParent();for(;a&&!a.getParent().equals(t);)a=a.getParent();if(!n||!a)return false;for(var c=n,n=[],u=false;!u;){c.equals(a)&&(u=true);n.push(c);c=c.getNext()}if(n.length<1)return false;c=t.getParents(true);for(a=0;a<c.length;a++)if(c[a].getName&&s[c[a].getName()]){t=c[a];break}for(var c=r.isIndent?1:-1,a=n[0],n=n[n.length-1],u=CKEDITOR.plugins.list.listToArray(t,o),d=u[n.getCustomData("listarray_index")].indent,a=a.getCustomData("listarray_index");a<=n.getCustomData("listarray_index");a++){u[a].indent=u[a].indent+c;if(c>0){var f=u[a].parent;u[a].parent=new CKEDITOR.dom.element(f.getName(),f.getDocument())}}for(a=n.getCustomData("listarray_index")+1;a<u.length&&u[a].indent>d;a++)u[a].indent=u[a].indent+c;n=CKEDITOR.plugins.list.arrayToList(u,o,null,e.config.enterMode,t.getDirection());if(!r.isIndent){var h;if((h=t.getParent())&&h.is("li"))for(var c=n.listNode.getChildren(),p=[],m,a=c.count()-1;a>=0;a--)(m=c.getItem(a))&&(m.is&&m.is("li"))&&p.push(m)}n&&n.listNode.replace(t);if(p&&p.length)for(a=0;a<p.length;a++){for(m=t=p[a];(m=m.getNext())&&m.is&&m.getName()in s;){CKEDITOR.env.needsNbspFiller&&!t.getFirst(i)&&t.append(l.document.createText(" "));t.append(m)}t.insertAfter(h)}n&&e.fire("contentDomInvalidated");return true}for(var r=this,o=this.database,s=this.context,a=e.getSelection(),a=(a&&a.getRanges()).createIterator(),l;l=a.getNextRange();){for(var c=l.getCommonAncestor();c&&!(c.type==CKEDITOR.NODE_ELEMENT&&s[c.getName()]);){if(e.editable().equals(c)){c=false;break}c=c.getParent()}c||(c=l.startPath().contains(s))&&l.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);if(!c){var u=l.getEnclosedNode();if(u&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in s){l.setStartAt(u,CKEDITOR.POSITION_AFTER_START);l.setEndAt(u,CKEDITOR.POSITION_BEFORE_END);c=u}}if(c&&l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in s){u=new CKEDITOR.dom.walker(l);u.evaluator=t;l.startContainer=u.next()}if(c&&l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in s){u=new CKEDITOR.dom.walker(l);u.evaluator=t;l.endContainer=u.previous()}if(c)return n(c)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function i(e){return n(e)&&r(e)}var n=CKEDITOR.dom.walker.whitespaces(true),r=CKEDITOR.dom.walker.bookmark(false,true),o=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function i(t){n.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];t.on("key",function(e){if(t.mode=="wysiwyg"&&e.data.keyCode==this.indentKey){var i=this.getContext(t.elementPath());if(i&&(!this.isIndent||!CKEDITOR.plugins.indentList.firstItemInPath(this.context,t.elementPath(),i))){t.execCommand(this.relatedGlobal);e.cancel()}}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var i=this.getContext(t),n=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,i);return!i||!this.isIndent||n?o:s}:function(e,t){return!this.getContext(t)||this.isIndent?o:s},exec:CKEDITOR.tools.bind(e,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(t,{indentlist:new i(t,"indentlist",true),outdentlist:new i(t,"outdentlist")});CKEDITOR.tools.extend(i.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(e,i,n){var r=i.contains(t);n||(n=i.contains(e));return n&&r&&r.equals(n.getFirst(t))}}(),function(){function e(e,t,i){function n(i){if((c=l[i?"getFirst":"getLast"]())&&(!c.is||!c.isBlockBoundary())&&(u=t.root[i?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(true)))&&(!u.is||!u.isBlockBoundary({br:1})))e.document.createElement("br")[i?"insertBefore":"insertAfter"](c)}for(var r=CKEDITOR.plugins.list.listToArray(t.root,i),o=[],s=0;s<t.contents.length;s++){var a=t.contents[s];if((a=a.getAscendant("li",true))&&!a.getCustomData("list_item_processed")){o.push(a);CKEDITOR.dom.element.setMarker(i,a,"list_item_processed",true)}}a=null;for(s=0;s<o.length;s++){a=o[s].getCustomData("listarray_index");r[a].indent=-1}for(s=a+1;s<r.length;s++)if(r[s].indent>r[s-1].indent+1){o=r[s-1].indent+1-r[s].indent;for(a=r[s].indent;r[s]&&r[s].indent>=a;){r[s].indent=r[s].indent+o;s++}s--}var l=CKEDITOR.plugins.list.arrayToList(r,i,null,e.config.enterMode,t.root.getAttribute("dir")).listNode,c,u;n(true);n();l.replace(t.root);e.fire("contentDomInvalidated")}function t(e,t){this.name=e;this.context=this.type=t;this.allowedContent=t+" li";this.requiredContent=t}function i(e,t,i,n){for(var r,o;r=e[n?"getLast":"getFirst"](h);){(o=r.getDirection(1))!==t.getDirection(1)&&r.setAttribute("dir",o);r.remove();i?r[n?"insertBefore":"insertAfter"](i):t.append(r,n)}}function n(e){function t(t){var n=e[t?"getPrevious":"getNext"](u);if(n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(e.getName())){i(e,n,null,!t);e.remove();e=n}}t();t(1)}function r(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function o(e,t,r){e.fire("saveSnapshot");r.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var o=r.extractContents();t.trim(false,true);var a=t.createBookmark(),l=new CKEDITOR.dom.elementPath(t.startContainer),c=l.block,l=l.lastElement.getAscendant("li",1)||c,f=new CKEDITOR.dom.elementPath(r.startContainer),h=f.contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$list);if(c)(c=c.getBogus())&&c.remove();else if(f)(c=f.getPrevious(u))&&d(c)&&c.remove();(c=o.getLast())&&(c.type==CKEDITOR.NODE_ELEMENT&&c.is("br"))&&c.remove();(c=t.startContainer.getChild(t.startOffset))?o.insertBefore(c):t.startContainer.append(o);if(h)if(o=s(h))if(l.contains(h)){i(o,h.getParent(),h);o.remove()}else l.append(o);for(;r.checkStartOfBlock()&&r.checkEndOfBlock();){f=r.startPath();o=f.block;if(!o)break;if(o.is("li")){l=o.getParent();o.equals(l.getLast(u))&&o.equals(l.getFirst(u))&&(o=l)}r.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START);o.remove()}r=r.clone();o=e.editable();r.setEndAt(o,CKEDITOR.POSITION_BEFORE_END);r=new CKEDITOR.dom.walker(r);r.evaluator=function(e){return u(e)&&!d(e)};(r=r.next())&&(r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in CKEDITOR.dtd.$list)&&n(r);t.moveToBookmark(a);t.select();e.fire("saveSnapshot")}function s(e){return(e=e.getLast(u))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in a?e:null}var a={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(),u=function(e){return!(l(e)||c(e))},d=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,i,n,r){if(!a[e.getName()])return[];n||(n=0);i||(i=[]);for(var o=0,s=e.getChildCount();o<s;o++){var l=e.getChild(o);l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,t,i,n+1);if(l.$.nodeName.toLowerCase()=="li"){var c={parent:e,indent:n,element:l,contents:[]};if(r)c.grandparent=r;else{c.grandparent=e.getParent();if(c.grandparent&&c.grandparent.$.nodeName.toLowerCase()=="li")c.grandparent=c.grandparent.getParent()}t&&CKEDITOR.dom.element.setMarker(t,l,"listarray_index",i.length);i.push(c);for(var u=0,d=l.getChildCount(),f;u<d;u++){f=l.getChild(u);f.type==CKEDITOR.NODE_ELEMENT&&a[f.getName()]?CKEDITOR.plugins.list.listToArray(f,t,i,n+1,c.grandparent):c.contents.push(f)}}}return i},arrayToList:function(e,t,i,n,r){i||(i=0);if(!e||e.length<i+1)return null;for(var o,s=e[i].parent.getDocument(),l=new CKEDITOR.dom.documentFragment(s),d=null,f=i,h=Math.max(e[i].indent,0),p=null,m,g,v=n==CKEDITOR.ENTER_P?"p":"div";;){var w=e[f];o=w.grandparent;m=w.element.getDirection(1);if(w.indent==h){if(!d||e[f].parent.getName()!=d.getName()){d=e[f].parent.clone(false,1);r&&d.setAttribute("dir",r);l.append(d)}p=d.append(w.element.clone(0,1));m!=d.getDirection(1)&&p.setAttribute("dir",m);for(o=0;o<w.contents.length;o++)p.append(w.contents[o].clone(1,1));f++}else if(w.indent==Math.max(h,0)+1){w=e[f-1].element.getDirection(1);f=CKEDITOR.plugins.list.arrayToList(e,null,f,n,w!=m?m:null);!p.getChildCount()&&(CKEDITOR.env.needsNbspFiller&&s.$.documentMode<=7)&&p.append(s.createText(" "));p.append(f.listNode);f=f.nextIndex}else if(w.indent==-1&&!i&&o){if(a[o.getName()]){p=w.element.clone(false,true);m!=o.getDirection(1)&&p.setAttribute("dir",m)}else p=new CKEDITOR.dom.documentFragment(s);var d=o.getDirection(1)!=m,b=w.element,y=b.getAttribute("class"),_=b.getAttribute("style"),E=p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(n!=CKEDITOR.ENTER_BR||d||_||y),T,C=w.contents.length,S;for(o=0;o<C;o++){T=w.contents[o];if(c(T)&&C>1)E?S=T.clone(1,1):p.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){d&&!T.getDirection()&&T.setAttribute("dir",m);g=T;var I=b.getAttribute("style");I&&g.setAttribute("style",I.replace(/([^;])$/,"$1;")+(g.getAttribute("style")||""));y&&T.addClass(y);g=null;if(S){p.append(S);S=null}p.append(T.clone(1,1))}else if(E){if(!g){g=s.createElement(v);p.append(g);d&&g.setAttribute("dir",m)}_&&g.setAttribute("style",_);y&&g.setAttribute("class",y);if(S){g.append(S);S=null}g.append(T.clone(1,1))}else p.append(T.clone(1,1))}if(S){(g||p).append(S);S=null}if(p.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&f!=e.length-1){if(CKEDITOR.env.needsBrFiller)(m=p.getLast())&&(m.type==CKEDITOR.NODE_ELEMENT&&m.is("br"))&&m.remove();m=p.getLast(u);(!m||!(m.type==CKEDITOR.NODE_ELEMENT&&m.is(CKEDITOR.dtd.$block)))&&p.append(s.createElement("br"))}m=p.$.nodeName.toLowerCase();(m=="div"||m=="p")&&p.appendBogus();l.append(p);d=null;f++}else return null;g=null;if(e.length<=f||Math.max(e[f].indent,0)<h)break}if(t)for(e=l.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT){CKEDITOR.dom.element.clearMarkers(t,e);if(e.getName()in CKEDITOR.dtd.$listItem){i=e;s=r=n=void 0;if(n=i.getDirection()){for(r=i.getParent();r&&!(s=r.getDirection());)r=r.getParent();n==s&&i.removeAttribute("dir")}}}e=e.getNextSourceNode()}return{listNode:l,nextIndex:f}}};var f=/^h[1-6]$/,h=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var i=t.config,r=t.getSelection(),o=r&&r.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var s=t.editable();if(s.getFirst(u)){var l=o.length==1&&o[0];(i=l&&l.getEnclosedNode())&&(i.is&&this.type==i.getName())&&this.setState(CKEDITOR.TRISTATE_ON)}else{i.enterMode==CKEDITOR.ENTER_BR?s.appendBogus():o[0].fixBlock(1,i.enterMode==CKEDITOR.ENTER_P?"p":"div");r.selectRanges(o)}}for(var i=r.createBookmarks(true),s=[],c={},o=o.createIterator(),d=0;(l=o.getNextRange())&&++d;){var h=l.getBoundaryNodes(),p=h.startNode,m=h.endNode;p.type==CKEDITOR.NODE_ELEMENT&&p.getName()=="td"&&l.setStartAt(h.startNode,CKEDITOR.POSITION_AFTER_START);m.type==CKEDITOR.NODE_ELEMENT&&m.getName()=="td"&&l.setEndAt(h.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;h=l.getNextParagraph();)if(!h.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(c,h,"list_block",1);for(var g=t.elementPath(h),p=g.elements,m=0,g=g.blockLimit,v,w=p.length-1;w>=0&&(v=p[w]);w--)if(a[v.getName()]&&g.contains(v)){g.removeCustomData("list_group_object_"+d);if(p=v.getCustomData("list_group_object"))p.contents.push(h);else{p={root:v,contents:[h]};s.push(p);CKEDITOR.dom.element.setMarker(c,v,"list_group_object",p)}m=1;break}if(!m){m=g;if(m.getCustomData("list_group_object_"+d))m.getCustomData("list_group_object_"+d).contents.push(h);else{p={root:m,contents:[h]};CKEDITOR.dom.element.setMarker(c,m,"list_group_object_"+d,p);s.push(p)}}}}for(v=[];s.length>0;){p=s.shift();if(this.state==CKEDITOR.TRISTATE_OFF)if(a[p.root.getName()]){o=t;d=p;p=c;l=v;m=CKEDITOR.plugins.list.listToArray(d.root,p);g=[];for(h=0;h<d.contents.length;h++){w=d.contents[h];if((w=w.getAscendant("li",true))&&!w.getCustomData("list_item_processed")){g.push(w);CKEDITOR.dom.element.setMarker(p,w,"list_item_processed",true)}}for(var w=d.root.getDocument(),b=void 0,y=void 0,h=0;h<g.length;h++){var _=g[h].getCustomData("listarray_index"),b=m[_].parent;if(!b.is(this.type)){y=w.createElement(this.type);b.copyAttributes(y,{start:1,type:1});y.removeStyle("list-style-type");m[_].parent=y}}p=CKEDITOR.plugins.list.arrayToList(m,p,null,o.config.enterMode);m=void 0;g=p.listNode.getChildCount();for(h=0;h<g&&(m=p.listNode.getChild(h));h++)m.getName()==this.type&&l.push(m);p.listNode.replace(d.root);o.fire("contentDomInvalidated")}else{m=t;h=p;l=v;g=h.contents;o=h.root.getDocument();d=[];if(g.length==1&&g[0].equals(h.root)){p=o.createElement("div");g[0].moveChildren&&g[0].moveChildren(p);g[0].append(p);g[0]=p}h=h.contents[0].getParent();for(w=0;w<g.length;w++)h=h.getCommonAncestor(g[w].getParent());b=m.config.useComputedState;m=p=void 0;b=b===void 0||b;for(w=0;w<g.length;w++)for(y=g[w];_=y.getParent();){if(_.equals(h)){d.push(y);!m&&y.getDirection()&&(m=1);y=y.getDirection(b);p!==null&&(p=p&&p!=y?null:y);break}y=_}if(!(d.length<1)){g=d[d.length-1].getNext();w=o.createElement(this.type);l.push(w);for(b=l=void 0;d.length;){l=d.shift();b=o.createElement("li");if(l.is("pre")||f.test(l.getName())||l.getAttribute("contenteditable")=="false")l.appendTo(b);else{l.copyAttributes(b);if(p&&l.getDirection()){b.removeStyle("direction");b.removeAttribute("dir")}l.moveChildren(b);l.remove()}b.appendTo(w)}p&&m&&w.setAttribute("dir",p);g?w.insertBefore(g):w.appendTo(h)}}else this.state==CKEDITOR.TRISTATE_ON&&a[p.root.getName()]&&e.call(this,t,p,c)}for(w=0;w<v.length;w++)n(v[w]);CKEDITOR.dom.element.clearAllMarkers(c);r.selectBookmarks(i);t.focus()},refresh:function(e,t){var i=t.contains(a,1),n=t.blockLimit||t.root;i&&n.contains(i)?this.setState(i.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){if(!e.blockless){e.addCommand("numberedlist",new t("numberedlist","ol"));e.addCommand("bulletedlist",new t("bulletedlist","ul"));if(e.ui.addButton){e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:true,toolbar:"list,10"});e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:true,toolbar:"list,20"})}e.on("key",function(t){var i=t.data.domEvent.getKey(),n;if(e.mode=="wysiwyg"&&i in{8:1,46:1}){var l=e.getSelection().getRanges()[0],c=l&&l.startPath();if(l&&l.collapsed){var f=i==8,h=e.editable(),p=new CKEDITOR.dom.walker(l.clone());p.evaluator=function(e){return u(e)&&!d(e)};p.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))};i=l.clone();if(f){var m;if((m=c.contains(a))&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=s(m))){n=m;m=m.getPrevious(u);i.moveToPosition(m&&d(m)?m:n,CKEDITOR.POSITION_BEFORE_START)}else{p.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START);p.range.setEnd(l.startContainer,l.startOffset);if((m=p.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in a||m.is("li"))){if(!m.is("li")){p.range.selectNodeContents(m);p.reset();p.evaluator=r;m=p.previous()}n=m;i.moveToElementEditEnd(n);i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END)}}if(n){o(e,i,l);t.cancel()}else if((i=c.contains(a))&&l.checkBoundaryOfElement(i,CKEDITOR.START)){n=i.getFirst(u);if(l.checkBoundaryOfElement(n,CKEDITOR.START)){m=i.getPrevious(u);if(s(n)){if(m){l.moveToElementEditEnd(m);l.select()}}else e.execCommand("outdent");t.cancel()}}}else if(n=c.contains("li")){p.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);h=(c=n.getLast(u))&&r(c)?c:n;n=0;if((m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in a&&m.equals(c)){n=1;m=p.next()}else l.checkBoundaryOfElement(h,CKEDITOR.END)&&(n=2);if(n&&m){l=l.clone();l.moveToElementEditStart(m);if(n==2){i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END);l.endPath().block&&l.moveToPosition(l.endPath().block,CKEDITOR.POSITION_AFTER_START)}o(e,i,l);t.cancel()}}else{p.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);if((m=p.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(a)){m=m.getFirst(u);if(c.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()){c.block.remove();l.moveToElementEditStart(m);l.select()}else if(s(m)){l.moveToElementEditStart(m);l.select()}else{l=l.clone();l.moveToElementEditStart(m);o(e,i,l)}t.cancel()}}setTimeout(function(){e.selectionChange(1)})}}})}}})}(),function(){function e(e,t,i){i=e.config.forceEnterMode||i;if(e.mode=="wysiwyg"){if(!t)t=e.activeEnterMode;if(!e.elementPath().isContextFor("p")){t=CKEDITOR.ENTER_BR;i=1}e.fire("saveSnapshot");t==CKEDITOR.ENTER_BR?s(e,t,null,i):a(e,t,null,i);e.fire("saveSnapshot")}}function t(e){for(var e=e.getSelection().getRanges(true),t=e.length-1;t>0;t--)e[t].deleteContents();return e[0]}function i(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.getAttribute("contenteditable")=="true"},true);if(e.root.equals(t))return e;t=new CKEDITOR.dom.range(t);t.moveToRange(e);return t}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:false,exec:function(t){e(t)}});t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:false,exec:function(t){e(t,t.activeShiftEnterMode,1)}});t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n=CKEDITOR.dom.walker.whitespaces(),r=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,o,a,c){if(a=a||t(e)){var a=i(a),u=a.document,d=a.checkStartOfBlock(),f=a.checkEndOfBlock(),h=e.elementPath(a.startContainer),p=h.block,m=o==CKEDITOR.ENTER_DIV?"div":"p",g;if(d&&f){if(p&&(p.is("li")||p.getParent().is("li"))){p.is("li")||(p=p.getParent());a=p.getParent();g=a.getParent();var c=!p.hasPrevious(),v=!p.hasNext(),m=e.getSelection(),w=m.createBookmarks(),d=p.getDirection(1),f=p.getAttribute("class"),b=p.getAttribute("style"),y=g.getDirection(1)!=d,e=e.enterMode!=CKEDITOR.ENTER_BR||y||b||f;if(g.is("li"))if(c||v){c&&v&&a.remove();p[v?"insertAfter":"insertBefore"](g)}else p.breakParent(g);else{if(e){if(h.block.is("li")){g=u.createElement(o==CKEDITOR.ENTER_P?"p":"div");y&&g.setAttribute("dir",d);b&&g.setAttribute("style",b);f&&g.setAttribute("class",f);p.moveChildren(g)}else g=h.block;if(c||v)g[c?"insertBefore":"insertAfter"](a);else{p.breakParent(a);g.insertAfter(a)}}else{p.appendBogus(true);if(c||v)for(;u=p[c?"getFirst":"getLast"]();)u[c?"insertBefore":"insertAfter"](a);else for(p.breakParent(a);u=p.getLast();)u.insertAfter(a)}p.remove()}m.selectBookmarks(w);return}if(p&&p.getParent().is("blockquote")){p.breakParent(p.getParent());p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove();p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove();a.moveToElementEditStart(p);a.select();return}}else if(p&&p.is("pre")&&!f){s(e,o,a,c);return}if(d=a.splitBlock(m)){o=d.previousBlock;p=d.nextBlock;h=d.wasStartOfBlock;e=d.wasEndOfBlock;if(p){w=p.getParent();if(w.is("li")){p.breakParent(w);p.move(p.getNext(),1)}}else if(o&&(w=o.getParent())&&w.is("li")){o.breakParent(w);w=o.getNext();a.moveToElementEditStart(w);o.move(o.getPrevious())}if(!h&&!e){if(p.is("li")){g=a.clone();g.selectNodeContents(p);g=new CKEDITOR.dom.walker(g);g.evaluator=function(e){return!(r(e)||n(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))};(w=g.next())&&(w.type==CKEDITOR.NODE_ELEMENT&&w.is("ul","ol"))&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText(" ")).insertBefore(w)}p&&a.moveToElementEditStart(p)}else{if(o){if(o.is("li")||!l.test(o.getName())&&!o.is("pre"))g=o.clone()}else p&&(g=p.clone());if(g)c&&!g.is("li")&&g.renameNode(m);else if(w&&w.is("li"))g=w;else{g=u.createElement(m);o&&(v=o.getDirection())&&g.setAttribute("dir",v)}if(u=d.elementPath){c=0;for(m=u.elements.length;c<m;c++){w=u.elements[c];if(w.equals(u.block)||w.equals(u.blockLimit))break;if(CKEDITOR.dtd.$removeEmpty[w.getName()]){w=w.clone();g.moveChildren(w);g.append(w)}}}g.appendBogus();g.getParent()||a.insertNode(g);g.is("li")&&g.removeAttribute("value");if(CKEDITOR.env.ie&&h&&(!e||!o.getChildCount())){a.moveToElementEditStart(e?o:g);a.select()}a.moveToElementEditStart(h&&!e?p:g)}a.select();a.scrollIntoView()}}},enterBr:function(e,i,n,r){if(n=n||t(e)){var o=n.document,s=n.checkEndOfBlock(),c=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),u=c.block,d=u&&c.block.getName();if(!r&&d=="li")a(e,i,n,r);else{if(!r&&s&&l.test(d))if(s=u.getDirection()){o=o.createElement("div");o.setAttribute("dir",s);o.insertAfter(u);n.setStart(o,0)}else{o.createElement("br").insertAfter(u);CKEDITOR.env.gecko&&o.createText("").insertAfter(u);n.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)}else{e=d=="pre"&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br");n.deleteContents();n.insertNode(e);if(CKEDITOR.env.needsBrFiller){o.createText("\ufeff").insertAfter(e);s&&(u||c.blockLimit).appendBogus();e.getNext().$.nodeValue="";n.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)}else n.setStartAt(e,CKEDITOR.POSITION_AFTER_END)}n.collapse(true);n.select();n.scrollIntoView()}}}};var o=CKEDITOR.plugins.enterkey,s=o.enterBr,a=o.enterBlock,l=/^h[1-6]$/}(),function(){function e(e,t){var i={},n=[],r={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,o){var s=t?"&"+o+";":r[o];i[s]=t?r[o]:"&"+o+";";n.push(s);return""});if(!t&&e){var e=e.split(","),o=document.createElement("div"),s;o.innerHTML="&"+e.join(";&")+";";s=o.innerHTML;o=null;for(o=0;o<s.length;o++){var a=s.charAt(o);i[a]="&"+e[o]+";";n.push(a)}}i.regex=n.join(t?"|":"");return i}CKEDITOR.plugins.add("entities",{afterInit:function(t){function i(e){return l[e]}function n(e){return r.entities_processNumerical=="force"||!s[e]?"&#"+e.charCodeAt(0)+";":s[e]}var r=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];r.basicEntities!==false&&o.push("nbsp,gt,lt,amp");if(r.entities){o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro");r.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml");r.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv");r.entities_additional&&o.push(r.entities_additional)}var s=e(o.join(",")),a=s.regex?"["+s.regex+"]":"a^";delete s.regex;r.entities&&r.entities_processNumerical&&(a="[^ -~]|"+a);var a=RegExp(a,"g"),l=e("nbsp,gt,lt,amp,shy",true),c=RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(c,i).replace(a,n)}},{applyToAll:true,excludeNestedEditable:true})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,i,n){t=t||"80%";i=i||"70%";typeof t=="string"&&(t.length>1&&t.substr(t.length-1,1)=="%")&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10));typeof i=="string"&&(i.length>1&&i.substr(i.length-1,1)=="%")&&(i=parseInt(window.screen.height*parseInt(i,10)/100,10));t<640&&(t=640);i<420&&(i=420);var r=parseInt((window.screen.height-i)/2,10),o=parseInt((window.screen.width-t)/2,10),n=(n||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+i+",top="+r+",left="+o,s=window.open("",null,n,true);if(!s)return false;try{if(navigator.userAgent.toLowerCase().indexOf(" chrome/")==-1){s.moveTo(o,r);s.resizeTo(t,i)}s.focus();s.location.href=e}catch(t){window.open(e,null,n,true)}return true}}),function(){function e(e,t){var i=[];if(t)for(var n in t)i.push(n+"="+encodeURIComponent(t[n]));else return e;return e+(e.indexOf("?")!=-1?"&":"?")+i.join("&")}function t(e){e=e+"";return e.charAt(0).toUpperCase()+e.substr(1)}function i(){var i=this.getDialog(),n=i.getParentEditor();n._.filebrowserSe=this;var r=n.config["filebrowser"+t(i.getName())+"WindowWidth"]||n.config.filebrowserWindowWidth||"80%",i=n.config["filebrowser"+t(i.getName())+"WindowHeight"]||n.config.filebrowserWindowHeight||"70%",o=this.filebrowser.params||{};o.CKEditor=n.name;o.CKEditorFuncNum=n._.filebrowserFn;if(!o.langCode)o.langCode=n.langCode;o=e(this.filebrowser.url,o);n.popup(o,r,i,n.config.filebrowserWindowFeatures||n.config.fileBrowserWindowFeatures)}function n(){var e=this.getDialog();e.getParentEditor()._.filebrowserSe=this;return!e.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!e.getContentElement(this["for"][0],this["for"][1]).getAction()?false:true}function r(t,i,n){var r=n.params||{};r.CKEditor=t.name;r.CKEditorFuncNum=t._.filebrowserFn;if(!r.langCode)r.langCode=t.langCode;i.action=e(n.url,r);i.filebrowser=n}function o(e,s,a,l){if(l&&l.length)for(var c,u=l.length;u--;){c=l[u];(c.type=="hbox"||c.type=="vbox"||c.type=="fieldset")&&o(e,s,a,c.children);if(c.filebrowser){if(typeof c.filebrowser=="string")c.filebrowser={action:c.type=="fileButton"?"QuickUpload":"Browse",target:c.filebrowser};if(c.filebrowser.action=="Browse"){var d=c.filebrowser.url;if(d===void 0){d=e.config["filebrowser"+t(s)+"BrowseUrl"];if(d===void 0)d=e.config.filebrowserBrowseUrl}if(d){c.onClick=i;c.filebrowser.url=d;c.hidden=false}}else if(c.filebrowser.action=="QuickUpload"&&c["for"]){d=c.filebrowser.url;if(d===void 0){d=e.config["filebrowser"+t(s)+"UploadUrl"];if(d===void 0)d=e.config.filebrowserUploadUrl}if(d){var f=c.onClick;c.onClick=function(e){var t=e.sender;return f&&f.call(t,e)===false?false:n.call(t,e)};c.filebrowser.url=d;c.hidden=false;r(e,a.getContents(c["for"][0]).get(c["for"][1]),c.filebrowser)}}}}}function s(e,t,i){if(i.indexOf(";")!==-1){for(var i=i.split(";"),n=0;n<i.length;n++)if(s(e,t,i[n]))return true;return false}return(e=e.getContents(t).get(i).filebrowser)&&e.url}function a(e,t){var i=this._.filebrowserSe.getDialog(),n=this._.filebrowserSe["for"],r=this._.filebrowserSe.filebrowser.onSelect;n&&i.getContentElement(n[0],n[1]).reset();if(!(typeof t=="function"&&t.call(this._.filebrowserSe)===false)&&!(r&&r.call(this._.filebrowserSe,e,t)===false)){typeof t=="string"&&t&&alert(t);if(e){n=this._.filebrowserSe;i=n.getDialog();if(n=n.filebrowser.target||null){n=n.split(":");if(r=i.getContentElement(n[0],n[1])){r.setValue(e);i.selectPage(n[0])}}}}}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(a,e);e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t=e.data.definition,i,n=0;n<t.contents.length;++n)if(i=t.contents[n]){o(e.editor,e.data.name,t,i.elements);if(i.hidden&&i.filebrowser)i.hidden=!s(t,i.id,i.filebrowser)}})}(),function(){function e(e){var n=e.config,r=e.fire("uiSpace",{space:"top",html:""}).html,o=function(){function r(e,t,n){a.setStyle(t,i(n));a.setStyle("position",e)}function s(e){var t=c.getDocumentPosition();switch(e){case"top":r("absolute","top",t.y-h-g);break;case"pin":r("fixed","top",w);break;case"bottom":r("absolute","top",t.y+(d.height||d.bottom-d.top)+g)}l=e}var l,c,u,d,f,h,p,m=n.floatSpaceDockedOffsetX||0,g=n.floatSpaceDockedOffsetY||0,v=n.floatSpacePinnedOffsetX||0,w=n.floatSpacePinnedOffsetY||0;return function(n){if(c=e.editable()){n&&n.name=="focus"&&a.show();a.removeStyle("left");a.removeStyle("right");u=a.getClientRect();d=c.getClientRect();f=t.getViewPaneSize();h=u.height;p="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;if(l){h+g<=d.top?s("top"):h+g>f.height-d.bottom?s("pin"):s("bottom");var n=f.width/2,n=d.left>0&&d.right<f.width&&d.width>u.width?e.config.contentsLangDirection=="rtl"?"right":"left":n-d.left>d.right-n?"left":"right",r;if(u.width>f.width){n="left";r=0}else{r=n=="left"?d.left>0?d.left:0:d.right<f.width?f.width-d.right:0;if(r+u.width>f.width){n=n=="left"?"right":"left";r=0}}a.setStyle(n,i((l=="pin"?v:m)+r+(l=="pin"?0:n=="left"?p:-p)))}else{l="pin";s("pin");o(n)}}}}();if(r){var s=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),a=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(s.output({content:r,id:e.id,langDir:e.lang.dir,langCode:e.langCode,name:e.name,style:"display:none;z-index:"+(n.baseFloatZIndex-1),topId:e.ui.spaceId("top"),voiceLabel:e.title}))),l=CKEDITOR.tools.eventsBuffer(500,o),c=CKEDITOR.tools.eventsBuffer(100,o);a.unselectable();a.on("mousedown",function(e){e=e.data;e.getTarget().hasAscendant("a",1)||e.preventDefault()});e.on("focus",function(i){o(i);e.on("change",l.input);t.on("scroll",c.input);t.on("resize",c.input)});e.on("blur",function(){a.hide();e.removeListener("change",l.input);t.removeListener("scroll",c.input);t.removeListener("resize",c.input)});e.on("destroy",function(){t.removeListener("scroll",c.input);t.removeListener("resize",c.input);a.clearCustomData();a.remove()});e.focusManager.hasFocus&&a.show();e.focusManager.add(a,1)}}var t=CKEDITOR.document.getWindow(),i=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),i=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),n=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t));
};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var t=t||{},i=t.attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(i["aria-multiselectable"]=true);!i.role&&(i.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",i.role);i=this.keys;i[40]="next";i[9]="next";i[38]="prev";i[CKEDITOR.SHIFT+9]="prev";i[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(i[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(t);delete this._.started}},getClick:function(){if(!this._.click)this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);if(this.onClick)this.onClick(e,t)},this);return this._.click}},proto:{add:function(e,i,r){var o=CKEDITOR.tools.getNextId();if(!this._.started){this._.started=1;this._.size=this._.size||0}this._.items[e]=o;var s;s=CKEDITOR.tools.htmlEncodeAttr(e).replace(n,"\\'");e={id:o,val:s,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(r||e),text:i||e};this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t;this._.pendingHtml.push(i.output({id:t,label:e}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);t?this.unmark(e):this.mark(e);return!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();if(e){e.setStyle("display","none");t&&t.getName()=="ul"&&t.setStyle("display","none")}},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e=this._.items,t=this._.groups,i=this.element.getDocument(),n;for(n in e)i.getById(e[n]).setStyle("display","");for(var r in t){e=i.getById(t[r]);n=e.getNext();e.setStyle("display","");n&&n.getName()=="ul"&&n.setStyle("display","")}},mark:function(e){this.multiSelect||this.unmarkAll();var e=this._.items[e],t=this.element.getDocument().getById(e);t.addClass("cke_selected");this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",true);this.onMark&&this.onMark(t)},unmark:function(e){var t=this.element.getDocument(),e=this._.items[e],i=t.getById(e);i.removeClass("cke_selected");t.getById(e+"_option").removeAttribute("aria-selected");this.onUnmark&&this.onUnmark(i)},unmarkAll:function(){var e=this._.items,t=this.element.getDocument(),i;for(i in e){var n=e[i];t.getById(n).removeClass("cke_selected");t.getById(n+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t=this.element.getElementsByTag("a"),i,n=-1;if(e)for(i=this.element.getDocument().getById(this._.items[e]).getFirst();e=t.getItem(++n);){if(e.equals(i)){this._.focusIndex=n;break}}else this.element.focus();i&&setTimeout(function(){i.focus()},0)}}})}}),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e=e+' onkeypress="return false;"');CKEDITOR.env.gecko&&(e=e+' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),e=e+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',t=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}};CKEDITOR.ui.button.prototype={render:function(e,n){function r(){var t=e.mode;if(t){t=this.modes[t]?p[t]!==void 0?p[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t;this.setState(t);this.refresh&&this.refresh()}}var o=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),a="",l=this.command,c;this._.editor=e;var u={id:s,button:this,editor:e,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},d=CKEDITOR.tools.addFunction(function(e){if(u.onkey){e=new CKEDITOR.dom.event(e);return u.onkey(u,e.getKeystroke())!==false}}),f=CKEDITOR.tools.addFunction(function(e){var t;u.onfocus&&(t=u.onfocus(u,new CKEDITOR.dom.event(e))!==false);return t}),h=0;u.clickFn=c=CKEDITOR.tools.addFunction(function(){if(h){e.unlockSelection(1);h=0}u.execute();o.iOS&&e.focus()});if(this.modes){var p={};e.on("beforeModeUnload",function(){if(e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED)p[e.mode]=this._.state},this);e.on("activeFilterChange",r,this);e.on("mode",r,this);!this.readOnly&&e.on("readOnly",r,this)}else if(l)if(l=e.getCommand(l)){l.on("state",function(){this.setState(l.state)},this);a=a+(l.state==CKEDITOR.TRISTATE_ON?"on":l.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off")}if(this.directional)e.on("contentDirChanged",function(t){var i=CKEDITOR.document.getById(this._.id),n=i.getFirst(),t=t.data;t!=e.lang.dir?i.addClass("cke_"+t):i.removeClass("cke_ltr").removeClass("cke_rtl");n.setAttribute("style",CKEDITOR.skin.getIconStyle(g,t=="rtl",this.icon,this.iconOffset))},this);l||(a=a+"off");var m=this.name||this.command,g=m;if(this.icon&&!/\./.test(this.icon)){g=this.icon;this.icon=null}a={id:s,name:m,iconName:g,label:this.label,cls:this.className||"",state:a,ariaDisabled:a=="disabled"?"true":"false",title:this.title,titleJs:o.gecko&&!o.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:d,focusFn:f,clickFn:c,style:CKEDITOR.skin.getIconStyle(g,e.lang.dir=="rtl",this.icon,this.iconOffset),arrowHtml:this.hasArrow?t.output():""};i.output(a,n);if(this.onRender)this.onRender();return u},setState:function(e){if(this._.state==e)return false;this._.state=e;var t=CKEDITOR.document.getById(this._.id);if(t){t.setState(e,"cke_button");e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",true):t.removeAttribute("aria-disabled");if(this.hasArrow){e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label;CKEDITOR.document.getById(this._.id+"_label").setText(e)}else e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",true):t.removeAttribute("aria-pressed");return true}return false},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;!this.allowedContent&&(!this.requiredContent&&this.command)&&(t=e.getCommand(this.command)||t);return this._.feature=t}};CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e=e+' onkeypress="return false;"');CKEDITOR.env.gecko&&(e=e+' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),t=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:false,title:e.label,modes:{wysiwyg:1},editorFocus:1});e=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document;e.className="cke_combopanel";e.block={multiSelect:e.multiSelect,attributes:e.attributes};e.toolbarRelated=true;this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];this.render(e,t);return t.join("")},render:function(e,i){function n(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;if(e.readOnly&&!this.readOnly)t=CKEDITOR.TRISTATE_DISABLED;this.setState(t);this.setValue("");t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var r=CKEDITOR.env,o="cke_"+this.id,s=CKEDITOR.tools.addFunction(function(t){if(d){e.unlockSelection(1);d=0}l.execute(t)},this),a=this,l={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var i=a._;if(i.state!=CKEDITOR.TRISTATE_DISABLED){a.createPanel(e);if(i.on)i.panel.hide();else{a.commit();var n=a.getValue();n?i.list.mark(n):i.list.unmarkAll();i.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}}},clickFn:s};e.on("activeFilterChange",n,this);e.on("mode",n,this);e.on("selectionChange",n,this);!this.readOnly&&e.on("readOnly",n,this);var c=CKEDITOR.tools.addFunction(function(t,i){var t=new CKEDITOR.dom.event(t),n=t.getKeystroke();if(n==40)e.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)});switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(s,i);break;default:l.onkey(l,n)}t.preventDefault()}),u=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),d=0;l.keyDownFn=c;r={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:r.gecko&&!r.hc?"":(this.title||"").replace("'",""),keydownFn:c,focusFn:u,clickFn:s};t.output(r,i);if(this.onRender)this.onRender();return l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,i=this._.panelDefinition.block,n=t.parent||CKEDITOR.document.getBody(),r="cke_combopanel__"+this.name,o=new CKEDITOR.ui.floatPanel(e,n,t),s=o.addListBlock(this.id,i),a=this;o.onShow=function(){this.element.addClass(r);a.setState(CKEDITOR.TRISTATE_ON);a._.on=1;a.editorFocus&&!e.focusManager.hasFocus&&e.focus();if(a.onOpen)a.onOpen();e.once("panelShow",function(){s.focus(!s.multiSelect&&a.getValue())})};o.onHide=function(t){this.element.removeClass(r);a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);a._.on=0;if(!t&&a.onClose)a.onClose()};o.onEscape=function(){o.hide(1)};s.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t);o.hide()};this._.panel=o;this._.list=s;o.getBlock(this.id).onHide=function(){a._.on=0;a.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(e,t){this._.value=e;var i=this.document.getById("cke_"+this.id+"_text");if(i){if(!e&&!t){t=this.label;i.addClass("cke_combo_inlinelabel")}else i.removeClass("cke_combo_inlinelabel");i.setText(typeof t!="undefined"?t:e)}},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,i){this._.items[e]=i||e;this._.list.add(e,t,i)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){if(!this._.committed){this._.list.commit();this._.committed=1;CKEDITOR.ui.fire("ready",this)}this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo");e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",true):t.removeAttribute("aria-disabled");this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){if(this._.state!=CKEDITOR.TRISTATE_DISABLED){this._.lastState=this._.state;this.setState(CKEDITOR.TRISTATE_DISABLED)}}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}});CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,i=e.lang.format,n=t.format_tags.split(";"),r={},o=0,s=[],a=0;a<n.length;a++){var l=n[a],c=new CKEDITOR.style(t["format_"+l]);if(!e.filter.customConfig||e.filter.check(c)){o++;r[l]=c;r[l]._.enterMode=e.config.enterMode;s.push(c)}}o!==0&&e.ui.addRichCombo("Format",{label:i.label,title:i.panelTitle,toolbar:"styles,20",allowedContent:s,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:false,attributes:{"aria-label":i.panelTitle}},init:function(){this.startGroup(i.panelTitle);for(var e in r){var t=i["tag_"+e];this.add(e,r[e].buildPreview(t),t)}},onClick:function(t){e.focus();e.fire("saveSnapshot");var t=r[t],i=e.elementPath();e[t.checkActive(i,e)?"removeStyle":"applyStyle"](t);setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var i=this.getValue(),t=t.data.path;this.refresh();for(var n in r)if(r[n].checkActive(t,e)){n!=i&&this.setValue(n,e.lang.format["tag_"+n]);return}this.setValue("")},this)},onOpen:function(){this.showAll();for(var t in r)e.activeFilter.check(r[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var i in r)if(e.activeFilter.check(r[i]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:false,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){if(!t.blockless){t.addCommand("horizontalrule",e);t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"})}}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand;t.indentationChars=e.config.dataIndentationChars||"\t";e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars="\t";this.selfClosingEnd=" />";this.lineBreakChars="\n";this.sortAttributes=1;this._.indent=0;this._.indentation="";this._.inPre=0;this._.rules={};var e=CKEDITOR.dtd,t;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1});this.setRules("title",{indent:0,breakAfterOpen:0});this.setRules("style",{indent:0,breakBeforeClose:1});this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&(t&&t.needsSpace&&this._.needsSpace)&&this._.output.push("\n");if(this._.indent)this.indentation();else if(t&&t.breakBeforeOpen){this.lineBreak();this.indentation()}this._.output.push("<",e);this._.afterCloser=0},openTagClose:function(e,t){var i=this._.rules[e];if(t){this._.output.push(this.selfClosingEnd);if(i&&i.breakAfterClose)this._.needsSpace=i.needsSpace}else{this._.output.push(">");if(i&&i.indent)this._.indentation=this._.indentation+this.indentationChars}i&&i.breakAfterOpen&&this.lineBreak();e=="pre"&&(this._.inPre=1)},attribute:function(e,t){if(typeof t=="string"){this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&"));t=CKEDITOR.tools.htmlEncodeAttr(t)}this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];if(t&&t.indent)this._.indentation=this._.indentation.substr(this.indentationChars.length);if(this._.indent)this.indentation();else if(t&&t.breakBeforeClose){this.lineBreak();this.indentation()}this._.output.push("</",e,">");e=="pre"&&(this._.inPre=0);if(t&&t.breakAfterClose){this.lineBreak();this._.needsSpace=t.needsSpace}this._.afterCloser=1},text:function(e){if(this._.indent){this.indentation();!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))}this._.output.push(e)},comment:function(e){this._.indent&&this.indentation();this._.output.push("<!--",e,"-->")},lineBreak:function(){!this._.inPre&&this._.output.length>0&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation="";this._.afterCloser=0;this._.inPre=0},setRules:function(e,t){var i=this._.rules[e];i?CKEDITOR.tools.extend(i,t,true):this._.rules[e]=t}}}),function(){function e(e,t){t||(t=e.getSelection().getSelectedElement());if(t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function t(e){var t=e.getStyle("float");if(t=="inherit"||t=="none")t=0;t||(t=e.getAttribute("align"));return t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var i="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(i="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)");t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:i,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]}));t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"});t.on("doubleclick",function(e){var t=e.data.element;if(t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())e.data.dialog="image"});t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}});t.contextMenu&&t.contextMenu.addListener(function(i){if(e(t,i))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function n(n){var r=i.getCommand("justify"+n);if(r){if(n=="left"||n=="right")r.on("exec",function(r){var o=e(i),s;if(o){s=t(o);if(s==n){o.removeStyle("float");n==t(o)&&o.removeAttribute("align")}else o.setStyle("float",n);r.cancel()}});r.on("refresh",function(r){var o=e(i);if(o){o=t(o);this.setState(o==n?CKEDITOR.TRISTATE_ON:n=="right"||n=="left"?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);r.cancel()}})}}if(!i.plugins.image2){n("left");n("right");n("center");n("block")}}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var i=n.exec(e),r=n.exec(t);if(i){if(!i[2]&&r[2]=="px")return r[1];if(i[2]=="px"&&!r[2])return r[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,i=CKEDITOR.tools.cssLength,n=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,r={elements:{$:function(i){var n=i.attributes;if((n=(n=(n=n&&n["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(n)))&&n.children[0])&&i.attributes["data-cke-resizable"]){var r=new t(i).rules,i=n.attributes,o=r.width,r=r.height;o&&(i.width=e(i.width,o));r&&(i.height=e(i.height,r))}return n}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(r,{applyToAll:true})}});CKEDITOR.editor.prototype.createFakeElement=function(e,n,r,o){var s=this.lang.fakeobjects,s=s[r]||s.unknown,n={class:n,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.getAttribute("align")||""};if(!CKEDITOR.env.hc)n.src=CKEDITOR.tools.transparentImageData;r&&(n["data-cke-real-element-type"]=r);if(o){n["data-cke-resizable"]=o;r=new t;o=e.getAttribute("width");e=e.getAttribute("height");o&&(r.rules.width=i(o));e&&(r.rules.height=i(e));r.populate(n)}return this.document.createElement("img",{attributes:n})};CKEDITOR.editor.prototype.createFakeParserElement=function(e,n,r,o){var s=this.lang.fakeobjects,s=s[r]||s.unknown,a;a=new CKEDITOR.htmlParser.basicWriter;e.writeHtml(a);a=a.getHtml();n={class:n,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""};if(!CKEDITOR.env.hc)n.src=CKEDITOR.tools.transparentImageData;r&&(n["data-cke-real-element-type"]=r);if(o){n["data-cke-resizable"]=o;o=e.attributes;e=new t;r=o.width;o=o.height;r!==void 0&&(e.rules.width=i(r));o!==void 0&&(e.rules.height=i(o));e.populate(n)}return new CKEDITOR.htmlParser.element("img",n)};CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var i=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var n=t.getStyle("width"),t=t.getStyle("height");n&&i.setAttribute("width",e(i.getAttribute("width"),n));t&&i.setAttribute("height",e(i.getAttribute("height"),t))}return i}}(),"use strict",function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,i=e.length,n=[],r=0;r<i;r++){t=e.charCodeAt(r);n.push(t)}return"String.fromCharCode("+n.join(",")+")"}function i(t,i){var n=t.plugins.link,r=n.compiledProtectionFunction.params,o,s;s=[n.compiledProtectionFunction.name,"("];for(var a=0;a<r.length;a++){n=r[a].toLowerCase();o=i[n];a>0&&s.push(",");s.push("'",o?e(encodeURIComponent(i[n])):"","'")}s.push(")");return s.join("")}function n(e){var e=e.config.emailProtection||"",t;if(e&&e!="encode"){t={};e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,i,n){t.name=i;t.params=[];n.replace(/[^,\s]+/g,function(e){t.params.push(e)})})}return t}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return i.replace(/%1/g,e=="rtl"?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",i=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)"));CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]"));e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"}));e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"}));e.addCommand("unlink",new CKEDITOR.unlinkCommand);e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand);e.setKeystroke(CKEDITOR.CTRL+76,"link");if(e.ui.addButton){e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"});e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"});e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})}CKEDITOR.dialog.add("link",this.path+"dialogs/link.js");CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js");e.on("doubleclick",function(t){var i=CKEDITOR.plugins.link.getSelectedLink(e)||t.data.element;if(!i.isReadOnly())if(i.is("a")){t.data.dialog=i.getAttribute("name")&&(!i.getAttribute("href")||!i.getChildCount())?"anchor":"link";t.data.link=i}else if(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,i))t.data.dialog="anchor"},null,null,0);e.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)},null,null,20);e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}});e.contextMenu&&e.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t);if(!t&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var i={};t.getAttribute("href")&&t.getChildCount()&&(i={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});if(t&&t.hasAttribute("name"))i.anchor=i.removeAnchor=CKEDITOR.TRISTATE_OFF;return i});this.compiledProtectionFunction=n(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return!t.attributes.name?null:!t.children.length?e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push(function(t,i){if(i=="a"&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var r=/^javascript:/,o=/^mailto:([^?]+)(?:\?(.+))?$/,s=/subject=([^;?:@&=$,\/]*)/,a=/body=([^;?:@&=$,\/]*)/,l=/^#(.*)$/,c=/^((?:http|https|ftp|news):\/\/)?(.*)$/,u=/^(_(?:self|top|parent|blank))$/,d=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,f=/^javascript:([^(]+)\(([^)]+)\)$/,h=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,p=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e){var t=e.getSelection(),i=t.getSelectedElement();if(i&&i.is("a"))return i;if(t=t.getRanges()[0]){t.shrink(CKEDITOR.SHRINK_TEXT);return e.elementPath(t.getCommonAncestor()).contains("a",1)}return null},getEditorAnchors:function(e){for(var t=e.editable(),i=t.isInline()&&!e.plugins.divarea?e.document:t,t=i.getElementsByTag("a"),i=i.getElementsByTag("img"),n=[],r=0,o;o=t.getItem(r++);)if(o.data("cke-saved-name")||o.hasAttribute("name"))n.push({name:o.data("cke-saved-name")||o.getAttribute("name"),id:o.getAttribute("id")});for(r=0;o=i.getItem(r++);)(o=this.tryRestoreFakeAnchor(e,o))&&n.push({name:o.getAttribute("name"),id:o.getAttribute("id")});return n},fakeAnchor:true,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&t.data("cke-real-element-type")=="anchor"){var i=e.restoreRealElement(t);if(i.data("cke-saved-name"))return i}},parseLinkAttributes:function(e,t){var i=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",n=e.plugins.link.compiledProtectionFunction,g=e.config.emailProtection,v,w={};i.match(r)&&(g=="encode"?i=i.replace(d,function(e,t,i){return"mailto:"+String.fromCharCode.apply(String,t.split(","))+(i&&i.replace(/\\'/g,"'"))}):g&&i.replace(f,function(e,t,i){if(t==n.name){w.type="email";for(var e=w.email={},t=/(^')|('$)/g,i=i.match(/[^,\s]+/g),r=i.length,o,s,a=0;a<r;a++){o=decodeURIComponent;s=i[a].replace(t,"").replace(/\\'/g,"'");s=o(s);o=n.params[a].toLowerCase();e[o]=s}e.address=[e.name,e.domain].join("@")}}));if(!w.type)if(g=i.match(l)){w.type="anchor";w.anchor={};w.anchor.name=w.anchor.id=g[1]}else if(g=i.match(o)){v=i.match(s);i=i.match(a);w.type="email";var b=w.email={};b.address=g[1];v&&(b.subject=decodeURIComponent(v[1]));i&&(b.body=decodeURIComponent(i[1]))}else if(i&&(v=i.match(c))){w.type="url";w.url={};w.url.protocol=v[1];w.url.url=v[2]}if(t){if(i=t.getAttribute("target"))w.target={type:i.match(u)?i:"frame",name:i};else if(i=(i=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&i.match(h))for(w.target={type:"popup",name:i[1]};g=p.exec(i[2]);)(g[2]=="yes"||g[2]=="1")&&!(g[1]in{height:1,width:1,top:1,left:1})?w.target[g[1]]=true:isFinite(g[2])&&(w.target[g[1]]=g[2]);var i={},y;for(y in m)(g=t.getAttribute(y))&&(i[m[y]]=g);if(y=t.data("cke-saved-name")||i.advName)i.advName=y;if(!CKEDITOR.tools.isEmpty(i))w.advanced=i}return w},getLinkAttributes:function(n,r){var o=n.config.emailProtection||"",s={};switch(r.type){case"url":var o=r.url&&r.url.protocol!==void 0?r.url.protocol:"http://",a=r.url&&CKEDITOR.tools.trim(r.url.url)||"";s["data-cke-saved-href"]=a.indexOf("/")===0?a:o+a;break;case"anchor":o=r.anchor&&r.anchor.id;s["data-cke-saved-href"]="#"+(r.anchor&&r.anchor.name||o||"");break;case"email":var l=r.email,a=l.address;switch(o){case"":case"encode":var c=encodeURIComponent(l.subject||""),u=encodeURIComponent(l.body||""),l=[];c&&l.push("subject="+c);u&&l.push("body="+u);l=l.length?"?"+l.join("&"):"";if(o=="encode"){o=["javascript:void(location.href='mailto:'+",t(a)];l&&o.push("+'",e(l),"'");o.push(")")}else o=["mailto:",a,l];break;default:o=a.split("@",2);l.name=o[0];l.domain=o[1];o=["javascript:",i(n,l)]}s["data-cke-saved-href"]=o.join("")}if(r.target)if(r.target.type=="popup"){for(var o=["window.open(this.href, '",r.target.name||"","', '"],d=["resizable","status","location","toolbar","menubar","fullscreen","scrollbars","dependent"],a=d.length,c=function(e){r.target[e]&&d.push(e+"="+r.target[e])},l=0;l<a;l++)d[l]=d[l]+(r.target[d[l]]?"=yes":"=no");c("width");c("left");c("height");c("top");o.push(d.join(","),"'); return false;");s["data-cke-pa-onclick"]=o.join("")}else if(r.target.type!="notSet"&&r.target.name)s.target=r.target.name;if(r.advanced){for(var f in m)(o=r.advanced[m[f]])&&(s[f]=o);if(s.name)s["data-cke-saved-name"]=s.name}if(s["data-cke-saved-href"])s.href=s["data-cke-saved-href"];f={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1};r.advanced&&CKEDITOR.tools.extend(f,m);for(var h in s)delete f[h];return{set:s,removed:CKEDITOR.tools.objectKeys(f)}}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(e){var t=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});e.removeStyle(t)},refresh:function(e,t){var i=t.lastElement&&t.lastElement.getAscendant("a",true);i&&i.getName()=="a"&&i.getAttribute("href")&&i.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"};CKEDITOR.removeAnchorCommand=function(){};
CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t=e.getSelection(),i=t.createBookmarks(),n;if(t&&(n=t.getSelectedElement())&&(!n.getChildCount()?CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n):n.is("a")))n.remove(1);else if(n=CKEDITOR.plugins.link.getSelectedLink(e))if(n.hasAttribute("href")){n.removeAttributes({name:1,"data-cke-saved-name":1});n.removeClass("cke_anchor")}else n.remove(1);t.selectBookmarks(i)},requiredContent:"a[name]"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:true,linkShowTargetTab:true})}(),"use strict",function(){function e(e,t,i){return u(t)&&u(i)&&i.equals(t.getNext(function(e){return!(q(e)||Y(e)||d(e))}))}function t(e){this.upper=e[0];this.lower=e[1];this.set.apply(this,e.slice(2))}function i(e){var t=e.element;if(t&&u(t))if((t=t.getAscendant(e.triggers,true))&&e.editable.contains(t)){var i=o(t);if(i.getAttribute("contenteditable")=="true")return t;if(i.is(e.triggers))return i}return null}function n(e,t,i){b(e,t);b(e,i);e=t.size.bottom;i=i.size.top;return e&&i?0|(e+i)/2:e||i}function r(e,t,i){return t=t[i?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!q(t)||u(t)&&!d(t)&&!c(e,t)})}function o(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e;){if(e.data("cke-editable"))break;if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,i=S('<span contenteditable="false" style="'+z+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),n=CKEDITOR.getUrl(this.path+"images/"+(I.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");T(i,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(e.editable,true);return this},lineChildren:[T(S('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:z+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+e.boxColor+";cursor:pointer;"+(I.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(I.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px",1),"top:-17px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","2px 2px 0px 0px",1),"top:-1px;"+CKEDITOR.tools.cssVendorPrefix("border-radius","0px 0px 2px 2px",1)]}),T(S(U,t),{base:V+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),T(S(U,t),{base:V+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){b(e,this);var t=e.holdDistance,i=this.size;return i&&e.mouse.y>i.top-t&&e.mouse.y<i.bottom+t&&e.mouse.x>i.left-t&&e.mouse.x<i.right+t?true:false},place:function(){var t=e.view,i=e.editable,n=e.trigger,r=n.upper,o=n.lower,s=r||o,a=s.getParent(),l={};this.trigger=n;r&&b(e,r,true);o&&b(e,o,true);b(e,a,true);e.inInlineMode&&y(e,true);if(a.equals(i)){l.left=t.scroll.x;l.right=-t.scroll.x;l.width=""}else{l.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0);l.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x;l.right=""}if(r&&o)l.top=r.size.margin.bottom===o.size.margin.top?0|r.size.bottom+r.size.margin.bottom/2:r.size.margin.bottom<o.size.margin.top?r.size.bottom+r.size.margin.bottom:r.size.bottom+r.size.margin.bottom-o.size.margin.top;else if(r){if(!o)l.top=r.size.bottom+r.size.margin.bottom}else l.top=o.size.top-o.size.margin.top;if(n.is(M)||l.top>t.scroll.y-15&&l.top<t.scroll.y+5){l.top=e.inInlineMode?0:t.scroll.y;this.look(M)}else if(n.is(L)||l.top>t.pane.bottom-5&&l.top<t.pane.bottom+15){l.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1;this.look(L)}else{if(e.inInlineMode)l.top=l.top-(t.editable.top+t.editable.border.top);this.look(B)}if(e.inInlineMode){l.top--;l.top=l.top+t.editable.scroll.top;l.left=l.left+t.editable.scroll.left}for(var c in l)l[c]=CKEDITOR.tools.cssLength(l[c]);this.setStyles(l)},look:function(e){if(this.oldLook!=e){for(var t=this.lineChildren.length,i;t--;)(i=this.lineChildren[t]).setAttribute("style",i.base+i.looks[0|e/2]);this.oldLook=e}},wrap:new C("span",e.doc)});for(t=i.lineChildren.length;t--;)i.lineChildren[t].appendTo(i);i.look(B);i.appendTo(i.wrap);i.unselectable();i.lineChildren[0].on("mouseup",function(t){i.detach();a(e,function(t){var i=e.line.trigger;t[i.is(D)?"insertBefore":"insertAfter"](i.is(D)?i.lower:i.upper)},true);e.editor.focus();!I.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView();t.data.preventDefault(true)});i.on("mousedown",function(e){e.data.preventDefault(true)});e.line=i}function a(e,t,i){var n=new CKEDITOR.dom.range(e.doc),r=e.editor,s;if(I.ie&&e.enterMode==CKEDITOR.ENTER_BR)s=e.doc.createText(K);else{s=(s=o(e.element,true))&&s.data("cke-enter-mode")||e.enterMode;s=new C(x[s],e.doc);s.is("br")||e.doc.createText(K).appendTo(s)}i&&r.fire("saveSnapshot");t(s);n.moveToPosition(s,CKEDITOR.POSITION_AFTER_START);r.getSelection().selectRanges([n]);e.hotNode=s;i&&r.fire("saveSnapshot")}function l(e,t){return{canUndo:true,modes:{wysiwyg:1},exec:function(){function n(i){var n=I.ie&&I.version<9?" ":K,r=e.hotNode&&e.hotNode.getText()==n&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;a(e,function(n){r&&e.hotNode&&e.hotNode.remove();n[t?"insertAfter":"insertBefore"](i);n.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t});e.lastCmdDirection=!!t});!I.ie&&e.enterMode!=CKEDITOR.ENTER_BR&&e.hotNode.scrollIntoView();e.line.detach()}return function(s){var s=s.getSelection().getStartElement(),a,s=s.getAscendant(j,1);if(!p(e,s)&&s&&!s.equals(e.editable)&&!s.contains(e.editable)){if((a=o(s))&&a.getAttribute("contenteditable")=="false")s=a;e.element=s;a=r(e,s,!t);var l;if(u(a)&&a.is(e.triggers)&&a.is(W)&&(!r(e,a,!t)||(l=r(e,a,!t))&&u(l)&&l.is(e.triggers)))n(a);else{l=i(e,s);if(u(l))if(r(e,l,!t))(s=r(e,l,!t))&&(u(s)&&s.is(e.triggers))&&n(l);else n(l)}}}}()}}function c(e,t){if(!t||!(t.type==CKEDITOR.NODE_ELEMENT&&t.$))return false;var i=e.line;return i.wrap.equals(t)||i.wrap.contains(t)}function u(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function d(e){if(!u(e))return false;var t;if(!(t=f(e)))if(u(e)){t={left:1,right:1,center:1};t=!(!t[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])}else t=false;return t}function f(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function h(e,t){return u(t)?t.is(e.triggers):null}function p(e,t){if(!t)return false;for(var i=t.getParents(1),n=i.length;n--;)for(var r=e.tabuList.length;r--;)if(i[n].hasAttribute(e.tabuList[r]))return true;return false}function m(e,t,i){t=t[i?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(H)});if(!t)return false;b(e,t);return i?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y}function g(e){var i=e.editable,n=e.mouse,r=e.view,o=e.triggerOffset;y(e);var s=n.y>(e.inInlineMode?r.editable.top+r.editable.height/2:Math.min(r.editable.height,r.pane.height)/2),i=i[s?"getLast":"getFirst"](function(e){return!(q(e)||Y(e))});if(!i)return null;c(e,i)&&(i=e.line.wrap[s?"getPrevious":"getNext"](function(e){return!(q(e)||Y(e))}));if(!u(i)||d(i)||!h(e,i))return null;b(e,i);if(!s&&i.size.top>=0&&n.y>0&&n.y<i.size.top+o){e=e.inInlineMode||r.scroll.y===0?M:B;return new t([null,i,D,A,e])}if(s&&i.size.bottom<=r.pane.height&&n.y>i.size.bottom-o&&n.y<r.pane.height){e=e.inInlineMode||i.size.bottom>r.pane.height-o&&i.size.bottom<r.pane.height?L:B;return new t([i,null,R,A,e])}return null}function v(e){var n=e.mouse,o=e.view,s=e.triggerOffset,a=i(e);if(!a)return null;b(e,a);var s=Math.min(s,0|a.size.outerHeight/2),l=[],c,f;if(n.y>a.size.top-1&&n.y<a.size.top+s)f=false;else if(n.y>a.size.bottom-s&&n.y<a.size.bottom+1)f=true;else return null;if(d(a)||m(e,a,f)||a.getParent().is(F))return null;var p=r(e,a,!f);if(p){if(p&&p.type==CKEDITOR.NODE_TEXT)return null;if(u(p)){if(d(p)||!h(e,p)||p.getParent().is(F))return null;l=[p,a][f?"reverse":"concat"]().concat([P,A])}}else{if(a.equals(e.editable[f?"getLast":"getFirst"](e.isRelevant))){y(e);f&&n.y>a.size.bottom-s&&n.y<o.pane.height&&a.size.bottom>o.pane.height-s&&a.size.bottom<o.pane.height?c=L:n.y>0&&n.y<a.size.top+s&&(c=M)}else c=B;l=[null,a][f?"reverse":"concat"]().concat([f?R:D,A,c,a.equals(e.editable[f?"getLast":"getFirst"](e.isRelevant))?f?L:M:B])}return 0 in l?new t(l):null}function w(e,t,i,n){for(var r=function(){var i=I.ie?t.$.currentStyle:e.win.$.getComputedStyle(t.$,"");return I.ie?function(e){return i[CKEDITOR.tools.cssStyleToDomStyle(e)]}:function(e){return i.getPropertyValue(e)}}(),o=t.getDocumentPosition(),s={},a={},l={},c={},u=J.length;u--;){s[J[u]]=parseInt(r("border-"+J[u]+"-width"),10)||0;l[J[u]]=parseInt(r("padding-"+J[u]),10)||0;a[J[u]]=parseInt(r("margin-"+J[u]),10)||0}(!i||n)&&_(e,n);c.top=o.y-(i?0:e.view.scroll.y);c.left=o.x-(i?0:e.view.scroll.x);c.outerWidth=t.$.offsetWidth;c.outerHeight=t.$.offsetHeight;c.height=c.outerHeight-(l.top+l.bottom+s.top+s.bottom);c.width=c.outerWidth-(l.left+l.right+s.left+s.right);c.bottom=c.top+c.outerHeight;c.right=c.left+c.outerWidth;if(e.inInlineMode)c.scroll={top:t.$.scrollTop,left:t.$.scrollLeft};return T({border:s,padding:l,margin:a,ignoreScroll:i},c,true)}function b(e,t,i){if(!u(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==i&&t.size.date>new Date-$)return null}else t.size={};return T(t.size,w(e,t,i),{date:+new Date},true)}function y(e,t){e.view.editable=w(e,e.editable,t,true)}function _(e,t){if(!e.view)e.view={};var i=e.view;if(t||!(i&&i.date>new Date-$)){var n=e.win,i=n.getScrollPosition(),n=n.getViewPaneSize();T(e.view,{scroll:{x:i.x,y:i.y,width:e.doc.$.documentElement.scrollWidth-n.width,height:e.doc.$.documentElement.scrollHeight-n.height},pane:{width:n.width,height:n.height,bottom:n.height+i.y},date:+new Date},true)}}function E(e,i,n,r){for(var o=r,s=r,a=0,l=false,c=false,u=e.view.pane.height,d=e.mouse;d.y+a<u&&d.y-a>0;){l||(l=i(o,r));c||(c=i(s,r));!l&&d.y-a>0&&(o=n(e,{x:d.x,y:d.y-a}));!c&&d.y+a<u&&(s=n(e,{x:d.x,y:d.y+a}));if(l&&c)break;a=a+2}return new t([o,s,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var n=e.config,o=n.magicline_triggerOffset||30,h={editor:e,enterMode:n.enterMode,triggerOffset:o,holdDistance:0|o*(n.magicline_holdDistance||.5),boxColor:n.magicline_color||"#ff0000",rtl:n.contentsLangDirection=="rtl",tabuList:["data-cke-hidden-sel"].concat(n.magicline_tabuList||[]),triggers:n.magicline_everywhere?j:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},m,b,E;h.isRelevant=function(e){return u(e)&&!c(h,e)&&!d(e)};e.on("contentDom",function(){var o=e.editable(),u=e.document,d=e.window;T(h,{editable:o,inInlineMode:o.isInline(),doc:u,win:d,hotNode:null},true);h.boundary=h.inInlineMode?h.editable:h.doc.getDocumentElement();if(!o.is(k.$inline)){h.inInlineMode&&!f(o)&&o.setStyles({position:"relative",top:null,left:null});s.call(this,h);_(h);o.attachListener(e,"beforeUndoImage",function(){h.line.detach()});o.attachListener(e,"beforeGetData",function(){if(h.line.wrap.getParent()){h.line.detach();e.once("getData",function(){h.line.attach()},null,null,1e3)}},null,null,0);o.attachListener(h.inInlineMode?u:u.getWindow().getFrame(),"mouseout",function(t){if(e.mode=="wysiwyg")if(h.inInlineMode){var i=t.data.$.clientX,t=t.data.$.clientY;_(h);y(h,true);var n=h.view.editable,r=h.view.scroll;if(!(i>n.left-r.x&&i<n.right-r.x)||!(t>n.top-r.y&&t<n.bottom-r.y)){clearTimeout(E);E=null;h.line.detach()}}else{clearTimeout(E);E=null;h.line.detach()}});o.attachListener(o,"keyup",function(){h.hiddenMode=0});o.attachListener(o,"keydown",function(t){if(e.mode=="wysiwyg")switch(t.data.getKeystroke()){case 2228240:case 16:h.hiddenMode=1;h.line.detach()}});o.attachListener(h.inInlineMode?o:u,"mousemove",function(t){b=true;if(!(e.mode!="wysiwyg"||e.readOnly||E)){var i={x:t.data.$.clientX,y:t.data.$.clientY};E=setTimeout(function(){h.mouse=i;E=h.trigger=null;_(h);if(b&&!h.hiddenMode&&e.focusManager.hasFocus&&!h.line.mouseNear()&&(h.element=G(h,true))){if((h.trigger=g(h)||v(h)||X(h))&&!p(h,h.trigger.upper||h.trigger.lower))h.line.attach().place();else{h.trigger=null;h.line.detach()}b=false}},30)}});o.attachListener(d,"scroll",function(){if(e.mode=="wysiwyg"){h.line.detach();if(I.webkit){h.hiddenMode=1;clearTimeout(m);m=setTimeout(function(){if(!h.mouseDown)h.hiddenMode=0},50)}}});o.attachListener(O?u:d,"mousedown",function(){if(e.mode=="wysiwyg"){h.line.detach();h.hiddenMode=1;h.mouseDown=1}});o.attachListener(O?u:d,"mouseup",function(){h.hiddenMode=0;h.mouseDown=0});e.addCommand("accessPreviousSpace",l(h));e.addCommand("accessNextSpace",l(h,true));e.setKeystroke([[n.magicline_keystrokePrevious,"accessPreviousSpace"],[n.magicline_keystrokeNext,"accessNextSpace"]]);e.on("loadSnapshot",function(){var t,i,n,r;for(r in{p:1,br:1,div:1}){t=e.document.getElementsByTag(r);for(n=t.count();n--;)if((i=t.getItem(n)).data("cke-magicline-hot")){h.hotNode=i;h.lastCmdDirection=i.data("cke-magicline-dir")==="true"?true:false;return}}});this.backdoor={accessFocusSpace:a,boxTrigger:t,isLine:c,getAscendantTrigger:i,getNonEmptyNeighbour:r,getSize:w,that:h,triggerEdge:v,triggerEditable:g,triggerExpand:X}}},this)}});var T=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,S=C.createFromHtml,I=CKEDITOR.env,O=CKEDITOR.env.ie&&CKEDITOR.env.version<9,k=CKEDITOR.dtd,x={},D=128,R=64,P=32,A=16,N=8,M=4,L=2,B=1,K=" ",F=k.$listItem,H=k.$tableContent,W=T({},k.$nonEditable,k.$empty),j=k.$block,$=100,z="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",V=z+"border-color:transparent;display:block;border-style:solid;",U="<span>"+K+"</span>";x[CKEDITOR.ENTER_BR]="br";x[CKEDITOR.ENTER_P]="p";x[CKEDITOR.ENTER_DIV]="div";t.prototype={set:function(e,t,i){this.properties=e+t+(i||B);return this},is:function(e){return(this.properties&e)==e}};var G=function(){function e(e,t){var i=e.$.elementFromPoint(t.x,t.y);return i&&i.nodeType?new CKEDITOR.dom.element(i):null}return function(t,i,n){if(!t.mouse)return null;var r=t.doc,o=t.line.wrap,n=n||t.mouse,s=e(r,n);if(i&&c(t,s)){o.hide();s=e(r,n);o.show()}return!s||!(s.type==CKEDITOR.NODE_ELEMENT&&s.$)||I.ie&&I.version<9&&!t.boundary.equals(s)&&!t.boundary.contains(s)?null:s}}(),q=CKEDITOR.dom.walker.whitespaces(),Y=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var r=t.element,o,s,a;if(!u(r)||r.contains(t.editable)||r.isReadOnly())return null;a=E(t,function(e,t){return!t.equals(e)},function(e,t){return G(e,true,t)},r);o=a.upper;s=a.lower;if(e(t,o,s))return a.set(P,N);if(o&&r.contains(o))for(;!o.getParent().equals(r);)o=o.getParent();else o=r.getFirst(function(e){return i(t,e)});if(s&&r.contains(s))for(;!s.getParent().equals(r);)s=s.getParent();else s=r.getLast(function(e){return i(t,e)});if(!o||!s)return null;b(t,o);b(t,s);if(!(t.mouse.y>o.size.top&&t.mouse.y<s.size.bottom))return null;for(var r=Number.MAX_VALUE,l,c,d,f;s&&!s.equals(o);){if(!(c=o.getNext(t.isRelevant)))break;l=Math.abs(n(t,o,c)-t.mouse.y);if(l<r){r=l;d=o;f=c}o=c;b(t,o)}if(!d||!f||!(t.mouse.y>d.size.top&&t.mouse.y<f.size.bottom))return null;a.upper=d;a.lower=f;return a.set(P,N)}function i(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||Y(t)||d(t)||c(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(i){var n=t(i),r;if(r=n){r=n.upper;var o=n.lower;r=!r||!o||d(o)||d(r)||o.equals(r)||r.equals(o)||o.contains(r)||r.contains(o)?false:h(i,r)&&h(i,o)&&e(i,r,o)?true:false}return r?n:null}}(),J=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||e.getName()!="form")return[];for(var t=[],i=["style","className"],n=0;n<i.length;n++){var r=e.$.elements.namedItem(i[n]);if(r){r=new CKEDITOR.dom.element(r);t.push([r,r.nextSibling]);r.remove()}}return t}function t(e,t){if(e&&!(e.type!=CKEDITOR.NODE_ELEMENT||e.getName()!="form")&&t.length>0)for(var i=t.length-1;i>=0;i--){var n=t[i][0],r=t[i][1];r?n.insertBefore(r):n.appendTo(e)}}function i(i,n){var r=e(i),o={},s=i.$;if(!n){o["class"]=s.className||"";s.className=""}o.inline=s.style.cssText||"";if(!n)s.style.cssText="position: static; overflow: visible";t(r);return o}function n(i,n){var r=e(i),o=i.$;if("class"in n)o.className=n["class"];if("inline"in n)o.style.cssText=n.inline;t(r)}function r(e){if(!e.editable().isInline()){var t=CKEDITOR.instances,i;for(i in t){var n=t[i];if(n.mode=="wysiwyg"&&!n.readOnly){n=n.document.getBody();n.setAttribute("contentEditable",false);n.setAttribute("contentEditable",true)}}if(e.editable().hasFocus){e.toolbox.focus();e.focus()}}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=a.getViewPaneSize();e.resize(t.width,t.height,null,true)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o=e.lang,s=CKEDITOR.document,a=s.getWindow(),l,c,u,d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:false,exec:function(){var f=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),h=e.ui.space("contents");if(e.mode=="wysiwyg"){var p=e.getSelection();l=p&&p.getRanges();c=a.getScrollPosition()}else{var m=e.editable().$;l=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd];c=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){a.on("resize",t);u=a.getScrollPosition();for(p=e.container;p=p.getParent();){p.setCustomData("maximize_saved_styles",i(p));p.setStyle("z-index",e.config.baseFloatZIndex-5)}h.setCustomData("maximize_saved_styles",i(h,true));f.setCustomData("maximize_saved_styles",i(f,true));h={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0};s.getDocumentElement().setStyles(h);!CKEDITOR.env.gecko&&s.getDocumentElement().setStyle("position","fixed");(!CKEDITOR.env.gecko||!CKEDITOR.env.quirks)&&s.getBody().setStyles(h);CKEDITOR.env.ie?setTimeout(function(){a.$.scrollTo(0,0)},0):a.$.scrollTo(0,0);f.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute");f.$.offsetLeft;f.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"});f.addClass("cke_maximized");t();h=f.getDocumentPosition();f.setStyles({left:-1*h.x+"px",top:-1*h.y+"px"});CKEDITOR.env.gecko&&r(e)}else if(this.state==CKEDITOR.TRISTATE_ON){a.removeListener("resize",t);h=[h,f];for(p=0;p<h.length;p++){n(h[p],h[p].getCustomData("maximize_saved_styles"));h[p].removeCustomData("maximize_saved_styles")}for(p=e.container;p=p.getParent();){n(p,p.getCustomData("maximize_saved_styles"));p.removeCustomData("maximize_saved_styles")}CKEDITOR.env.ie?setTimeout(function(){a.$.scrollTo(u.x,u.y)},0):a.$.scrollTo(u.x,u.y);f.removeClass("cke_maximized");if(CKEDITOR.env.webkit){f.setStyle("display","inline");setTimeout(function(){f.setStyle("display","block")},0)}e.fire("resize")}this.toggleState();if(p=this.uiItems[0]){h=this.state==CKEDITOR.TRISTATE_OFF?o.maximize.maximize:o.maximize.minimize;p=CKEDITOR.document.getById(p._.id);p.getChild(1).setHtml(h);p.setAttribute("title",h);p.setAttribute("href",'javascript:void("'+h+'");')}if(e.mode=="wysiwyg")if(l){CKEDITOR.env.gecko&&r(e);e.getSelection().selectRanges(l);(m=e.getSelection().getStartElement())&&m.scrollIntoView(true)}else a.$.scrollTo(c.x,c.y);else{if(l){m.selectionStart=l[0];m.selectionEnd=l[1]}m.scrollLeft=c[0];m.scrollTop=c[1]}l=c=null;d=this.state;e.fire("maximize",this.state)},canUndo:false});e.ui.addButton&&e.ui.addButton("Maximize",{label:o.maximize.maximize,command:"maximize",toolbar:"tools,10"});e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),function(){function e(e,t,i){var n=CKEDITOR.cleanWord;if(n)i();else{e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js");CKEDITOR.scriptLoader.load(e,i,null,true)}return!n}function t(e){e.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(i){var n=0,r=this.path;i.addCommand("pastefromword",{canUndo:false,async:true,exec:function(e){var i=this;n=1;e.once("beforePaste",t);e.getClipboardData({title:e.lang.pastefromword.title},function(t){t&&e.fire("paste",{type:"html",dataValue:t.dataValue});e.fire("afterCommandExec",{name:"pastefromword",command:i,returnValue:!!t})})}});i.ui.addButton&&i.ui.addButton("PasteFromWord",{label:i.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});i.on("pasteState",function(e){i.getCommand("pastefromword").setState(e.data)});i.on("paste",function(t){var o=t.data,s=o.dataValue;if(s&&(n||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(s))){var a=e(i,r,function(){if(a)i.fire("paste",o);else if(!i.config.pasteFromWordPromptCleanup||n||confirm(i.lang.pastefromword.confirmCleanup))o.dataValue=CKEDITOR.cleanWord(s,i);n=0});a&&t.cancel()}},null,null,3)}})}(),function(){var e={canUndo:false,async:true,exec:function(t){t.getClipboardData({title:t.lang.pastetext.title},function(i){i&&t.fire("paste",{type:"text",dataValue:i.dataValue});t.fire("afterCommandExec",{name:"pastetext",command:e,returnValue:!!i})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){t.addCommand("pastetext",e);t.ui.addButton&&t.ui.addButton("PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"});if(t.config.forcePasteAsPlainText)t.on("beforePaste",function(e){if(e.data.type!="html")e.data.type="text"});t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t=e._.removeFormatRegex||(e._.removeFormatRegex=RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),i=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),n=CKEDITOR.plugins.removeformat.filter,r=e.getSelection().getRanges(),o=r.createIterator(),s=function(e){return e.type==CKEDITOR.NODE_ELEMENT},a;a=o.getNextRange();){a.collapsed||a.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=a.createBookmark(),c=l.startNode,u=l.endNode,d=function(i){for(var r=e.elementPath(i),o=r.elements,s=1,a;a=o[s];s++){if(a.equals(r.block)||a.equals(r.blockLimit))break;t.test(a.getName())&&n(e,a)&&i.breakParent(a)}};d(c);if(u){d(u);for(c=c.getNextSourceNode(true,CKEDITOR.NODE_ELEMENT);c;){if(c.equals(u))break;if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(s)}else{d=c.getNextSourceNode(false,CKEDITOR.NODE_ELEMENT);if(!(c.getName()=="img"&&c.data("cke-realelement"))&&n(e,c))if(t.test(c.getName()))c.remove(1);else{c.removeAttributes(i);e.fire("removeFormatCleanup",c)}c=d}}}a.moveToBookmark(l)}e.forceNextSelectionCheck();e.getSelection().selectRanges(r)}}},filter:function(e,t){for(var i=e._.removeFormatFilters||[],n=0;n<i.length;n++)if(i[n](t)===false)return false;return true}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){if(!this._.removeFormatFilters)this._.removeFormatFilters=[];this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){var t,i,n,r;function o(o){var s=t,l=i,u=s+(o.data.$.screenX-n)*(c=="rtl"?-1:1),o=l+(o.data.$.screenY-r);d&&(s=Math.max(a.resize_minWidth,Math.min(u,a.resize_maxWidth)));f&&(l=Math.max(a.resize_minHeight,Math.min(o,a.resize_maxHeight)));e.resize(d?s:null,l)}function s(){CKEDITOR.document.removeListener("mousemove",o);CKEDITOR.document.removeListener("mouseup",s);if(e.document){e.document.removeListener("mousemove",o);e.document.removeListener("mouseup",s)}}var a=e.config,l=e.ui.spaceId("resizer"),c=e.element?e.element.getDirection(1):"ltr";!a.resize_dir&&(a.resize_dir="vertical");a.resize_maxWidth===void 0&&(a.resize_maxWidth=3e3);a.resize_maxHeight===void 0&&(a.resize_maxHeight=3e3);a.resize_minWidth===void 0&&(a.resize_minWidth=750);a.resize_minHeight===void 0&&(a.resize_minHeight=250);if(a.resize_enabled!==false){var u=null,d=(a.resize_dir=="both"||a.resize_dir=="horizontal")&&a.resize_minWidth!=a.resize_maxWidth,f=(a.resize_dir=="both"||a.resize_dir=="vertical")&&a.resize_minHeight!=a.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(l){u||(u=e.getResizable());t=u.$.offsetWidth||0;i=u.$.offsetHeight||0;n=l.screenX;r=l.screenY;a.resize_minWidth>t&&(a.resize_minWidth=t);a.resize_minHeight>i&&(a.resize_minHeight=i);CKEDITOR.document.on("mousemove",o);CKEDITOR.document.on("mouseup",s);if(e.document){e.document.on("mousemove",o);e.document.on("mouseup",s)}l.preventDefault&&l.preventDefault()});e.on("destroy",function(){CKEDITOR.tools.removeFunction(h)});e.on("uiSpace",function(t){if(t.data.space=="bottom"){var i="";d&&!f&&(i=" cke_resizer_horizontal");!d&&f&&(i=" cke_resizer_vertical");var n='<span id="'+l+'" class="cke_resizer'+i+" cke_resizer_"+c+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+(c=="ltr"?"◢":"◣")+"</span>";c=="ltr"&&i=="ltr"?t.data.html=t.data.html+n:t.data.html=n+t.data.html}},e,null,100);e.on("maximize",function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,i=t.menu;if(t.state!==CKEDITOR.TRISTATE_DISABLED)if(t.on&&i)i.hide();else{t.previousState=t.state;if(!i){i=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}});i.onHide=CKEDITOR.tools.bind(function(){var i=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!i||i[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED);t.on=0},this);this.onMenu&&i.addListener(this.onMenu)}this.setState(CKEDITOR.TRISTATE_ON);t.on=1;setTimeout(function(){i.show(CKEDITOR.document.getById(t.id),4)},0)}};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel;this.base(t);this.hasArrow=true;this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton","use strict",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(e){var t=this,i=CKEDITOR.plugins.scayt;this.bindEvents(e);this.parseConfig(e);this.addRule(e);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js"));this.addMenuItems(e);var n=e.lang.scayt,r=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:n.text_title,title:e.plugins.wsc?e.lang.wsc.title:n.text_title,modes:{wysiwyg:!(r.ie&&(r.version<8||r.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=i.state[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",function(e){typeof e.data!==void 0&&t.setState(e.data)})},onMenu:function(){var t=e.scayt;e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&i.state[e.name]?"btn_disable":"btn_enable"];t={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};e.config.scayt_uiTabs[0]||delete t.scaytOptions;e.config.scayt_uiTabs[1]||delete t.scaytLangs;e.config.scayt_uiTabs[2]||delete t.scaytDict;return t}});if(e.contextMenu&&e.addMenuItems){e.contextMenu.addListener(function(){var i=e.scayt,n;if(i){var r=i.getSelectionNode();if(r=r?r.getAttribute(i.getNodeAttribute()):r){n=t.menuGenerator(e,r,t);i.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" ."))}}return n});e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,function(t){return function(){var i=e.scayt;i&&i.hideBanner();return t.apply(this)}})}},addMenuItems:function(e){var t=this,i=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");var n=e.config.scayt_contextMenuItemsOrder.split("|");if(n&&n.length)for(var r=0;r<n.length;r++)e.addMenuGroup("scayt_"+n[r],r-10);e.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;i.state[e.name]=!i.state[e.name];i.state[e.name]===true?t||i.createScayt(e):t&&i.destroy(e)}});e.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about";e.lockSelection();e.openDialog(t.dialogName)}});e.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options";e.lockSelection();e.openDialog(t.dialogName)}});e.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs";e.lockSelection();e.openDialog(t.dialogName)}});e.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries";e.lockSelection();e.openDialog(t.dialogName)}});n={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}};if(e.plugins.wsc)n.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,i=e.scayt,n=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();if(n=n.replace(/\s/g,"")){i&&(t.state[e.name]&&i.setMarkupPaused)&&i.setMarkupPaused(true);e.lockSelection();e.execCommand("checkspell")}else alert("Nothing to check!")}};e.addMenuItems(n)},bindEvents:function(e){function t(){var t=e.scayt;if(t){t.removeMarkupInSelectionNode();t.fire("startSpellCheck")}}var i=CKEDITOR.plugins.scayt,n=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,r=function(){i.destroy(e)},o=function(){i.state[e.name]&&(!e.readOnly&&!e.scayt)&&i.createScayt(e)},s=function(){var t=e.editable();t.attachListener(t,"focus",function(){CKEDITOR.plugins.scayt&&!e.scayt&&setTimeout(o,0);var t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[e.name]&&e.scayt,i,r;if((n||t)&&e._.savedSelection)for(var t=e._.savedSelection.getSelectedElement(),t=!t&&e._.savedSelection.getRanges(),s=0;s<t.length;s++){r=t[s];if(typeof r.startContainer.$.nodeValue==="string"){i=r.startContainer.getText().length;(i<r.startOffset||i<r.endOffset)&&e.unlockSelection(false)}}},this,null,-10)},a=function(){if(n){e.on("blur",r);e.on("focus",o);e.focusManager.hasFocus&&o()}else o();s()};e.on("contentDom",a);e.on("beforeCommandExec",function(t){var n;if(t.data.name in i.options.disablingCommandExec&&e.mode=="wysiwyg"){if(n=e.scayt){i.destroy(e);e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)}}else if(t.data.name==="bold"||t.data.name==="italic"||t.data.name==="underline"||t.data.name==="strike"||t.data.name==="subscript"||t.data.name==="superscript"||t.data.name==="enter")if(n=e.scayt){n.removeMarkupInSelectionNode();setTimeout(function(){n.fire("startSpellCheck")},0)}});e.on("beforeSetMode",function(t){if(t.data=="source"){if(t=e.scayt){i.destroy(e);e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED);
}e.document&&e.document.getBody().removeAttribute("_jquid")}});e.on("afterCommandExec",function(t){var i;if(e.mode=="wysiwyg"&&(t.data.name=="undo"||t.data.name=="redo"))(i=e.scayt)&&setTimeout(function(){i.fire("startSpellCheck")},250)});e.on("readOnly",function(t){var n;if(t){n=e.scayt;if(t.editor.readOnly===true)n&&n.fire("removeMarkupInDocument",{});else if(n)n.fire("startSpellCheck");else if(t.editor.mode=="wysiwyg"&&i.state[t.editor.name]===true){i.createScayt(e);t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)}}});e.on("beforeDestroy",r);e.on("setData",function(){r();(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||e.plugins.divarea)&&a()},this,null,50);e.on("insertElement",function(){CKEDITOR.env.ie?setTimeout(function(){t()},50):t()},this,null,50);e.on("insertHtml",function(){t()},this,null,50);e.on("insertText",function(){t()},this,null,50);e.on("scaytDialogShown",function(t){t.data.selectPage(e.scayt.tabToOpen)});e.on("paste",function(){var t=e.scayt;t&&t.removeMarkupInSelectionNode()},null,null,0)},parseConfig:function(e){var t=CKEDITOR.plugins.scayt;t.replaceOldOptionsNames(e.config);if(typeof e.config.scayt_autoStartup!=="boolean")e.config.scayt_autoStartup=false;t.state[e.name]=e.config.scayt_autoStartup;if(!e.config.scayt_contextCommands)e.config.scayt_contextCommands="ignore|ignoreall|add";if(!e.config.scayt_contextMenuItemsOrder)e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control";if(!e.config.scayt_sLang)e.config.scayt_sLang="en_US";if(e.config.scayt_maxSuggestions===void 0||typeof e.config.scayt_maxSuggestions!="number"||e.config.scayt_maxSuggestions<0)e.config.scayt_maxSuggestions=5;if(e.config.scayt_minWordLength===void 0||typeof e.config.scayt_minWordLength!="number"||e.config.scayt_minWordLength<1)e.config.scayt_minWordLength=4;if(e.config.scayt_customDictionaryIds===void 0||typeof e.config.scayt_customDictionaryIds!=="string")e.config.scayt_customDictionaryIds="";if(e.config.scayt_userDictionaryName===void 0||typeof e.config.scayt_userDictionaryName!=="string")e.config.scayt_userDictionaryName=null;if(typeof e.config.scayt_uiTabs==="string"&&e.config.scayt_uiTabs.split(",").length===3){var i=[],n=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(",");CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){if(Number(e)===1||Number(e)===0){n.push(true);i.push(Number(e))}else n.push(false)});e.config.scayt_uiTabs=CKEDITOR.tools.search(n,false)===null?i:[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if(typeof e.config.scayt_serviceProtocol!="string")e.config.scayt_serviceProtocol=null;if(typeof e.config.scayt_serviceHost!="string")e.config.scayt_serviceHost=null;if(typeof e.config.scayt_servicePort!="string")e.config.scayt_servicePort=null;if(typeof e.config.scayt_servicePath!="string")e.config.scayt_servicePath=null;if(!e.config.scayt_moreSuggestions)e.config.scayt_moreSuggestions="on";if(typeof e.config.scayt_customerId!=="string")e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2";if(typeof e.config.scayt_srcUrl!=="string"){t=document.location.protocol;t=t.search(/https?:/)!=-1?t:"http:";e.config.scayt_srcUrl=t+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"}if(typeof CKEDITOR.config.scayt_handleCheckDirty!=="boolean")CKEDITOR.config.scayt_handleCheckDirty=true;if(typeof CKEDITOR.config.scayt_handleUndoRedo!=="boolean")CKEDITOR.config.scayt_handleUndoRedo=true;if(e.config.scayt_disableOptionsStorage){var t=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:typeof e.config.scayt_disableOptionsStorage==="string"?[e.config.scayt_disableOptionsStorage]:void 0,r=["all","options","lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],o=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,a=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],l=!!s(e,"options");if(!s(r,n)||l&&s(o,function(e){if(e==="lang")return false}))return;s(o,n)&&o.splice(a(o,n),1);if(n==="all"||l&&s(e,"lang"))return[];n==="options"&&(o=["lang"])}return t=t.concat(o)}(t)}},addRule:function(e){var t=e.dataProcessor,i=t&&t.htmlFilter,n=e._.elementsPath&&e._.elementsPath.filters,t=t&&t.dataFilter,r=e.addRemoveFormatFilter,o=function(t){var i=CKEDITOR.plugins.scayt;if(e.scayt&&t.hasAttribute(i.options.data_attribute_name))return false},s=function(t){var i=CKEDITOR.plugins.scayt,n=true;e.scayt&&t.hasAttribute(i.options.data_attribute_name)&&(n=false);return n};n&&n.push(o);t&&t.addRules({elements:{span:function(t){var i=CKEDITOR.plugins.scayt;if(i&&i.state[e.name]&&t.classes&&CKEDITOR.tools.search(t.classes,i.options.misspelled_word_class))if(t.classes&&t.parent.type===CKEDITOR.NODE_DOCUMENT_FRAGMENT){delete t.attributes.style;delete t.name}else delete t.classes[CKEDITOR.tools.indexOf(t.classes,i.options.misspelled_word_class)];return t}}});i&&i.addRules({elements:{span:function(t){var i=CKEDITOR.plugins.scayt;if(i&&i.state[e.name]&&t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name]){t.removeClass(i.options.misspelled_word_class);delete t.attributes[i.options.data_attribute_name];delete t.name}return t}}});r&&r.call(e,s)},scaytMenuDefinition:function(e){var t=this,e=e.scayt;return{scayt_ignore:{label:e.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options";e.lockSelection();e.openDialog(t.dialogName)},verification:function(e){return e.config.scayt_uiTabs[0]==1?true:false}},language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs";e.lockSelection();e.openDialog(t.dialogName)},verification:function(e){return e.config.scayt_uiTabs[1]==1?true:false}},dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries";e.lockSelection();e.openDialog(t.dialogName)},verification:function(e){return e.config.scayt_uiTabs[2]==1?true:false}},about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about";e.lockSelection();e.openDialog(t.dialogName)}}}},buildSuggestionMenuItems:function(e,t){var i={},n={},r=e.scayt;if(t.length>0&&t[0]!=="no_any_suggestions")for(var o=0;o<t.length;o++){var s="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[o].replace(" ","_");e.addCommand(s,this.createCommand(CKEDITOR.plugins.scayt.suggestions[o]));if(o<e.config.scayt_maxSuggestions){e.addMenuItem(s,{label:t[o],command:s,group:"scayt_suggest",order:o+1});i[s]=CKEDITOR.TRISTATE_OFF}else{e.addMenuItem(s,{label:t[o],command:s,group:"scayt_moresuggest",order:o+1});n[s]=CKEDITOR.TRISTATE_OFF;if(e.config.scayt_moreSuggestions==="on"){e.addMenuItem("scayt_moresuggest",{label:r.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return n}});i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF}}}else{i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED;e.addCommand("no_scayt_suggest",{exec:function(){}});e.addMenuItem("no_scayt_suggest",{label:r.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0})}return i},menuGenerator:function(e,t){var i=e.scayt,n=this.scaytMenuDefinition(e),r={},o=e.config.scayt_contextCommands.split("|");i.fire("getSuggestionsList",{lang:i.getLang(),word:t});r=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions);if(e.config.scayt_contextCommands=="off")return r;for(var s in n)if(!(CKEDITOR.tools.indexOf(o,s.replace("scayt_",""))==-1&&e.config.scayt_contextCommands!="all")){r[s]=CKEDITOR.TRISTATE_OFF;typeof n[s].verification==="function"&&!n[s].verification(e)&&delete r[s];e.addCommand(s,{exec:n[s].exec});e.addMenuItem(s,{label:e.lang.scayt[n[s].label]||n[s].label,command:s,group:n[s].group,order:n[s].order})}return r},createCommand:function(e){return{exec:function(t){t.scayt.replaceSelectionNode({word:e})}}}}),CKEDITOR.plugins.scayt={state:{},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(e){for(var t in e)if(t in this.backCompatibilityMap){e[this.backCompatibilityMap[t]]=e[t];delete e[t]}},createScayt:function(e){var t=this;this.loadScaytLibrary(e,function(e){var i={lang:e.config.scayt_sLang,container:e.editable().$.nodeName=="BODY"?e.document.getWindow().$.frameElement:e.editable().$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore,minWordLength:e.config.scayt_minWordLength};if(e.config.scayt_serviceProtocol)i.service_protocol=e.config.scayt_serviceProtocol;if(e.config.scayt_serviceHost)i.service_host=e.config.scayt_serviceHost;if(e.config.scayt_servicePort)i.service_port=e.config.scayt_servicePort;if(e.config.scayt_servicePath)i.service_path=e.config.scayt_servicePath;i=new SCAYT.CKSCAYT(i,function(){},function(){});i.subscribe("suggestionListSend",function(e){for(var t={},i=[],n=0;n<e.suggestionList.length;n++)if(!t["word_"+e.suggestionList[n]]){t["word_"+e.suggestionList[n]]=e.suggestionList[n];i.push(e.suggestionList[n])}CKEDITOR.plugins.scayt.suggestions=i});i.subscribe("selectionIsChanged",function(){e.getSelection().isLocked&&e.lockSelection()});e.scayt=i;e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)})},destroy:function(e){e.scayt&&e.scayt.destroy();delete e.scayt;e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var i=this,n;if(typeof window.SCAYT==="undefined"||typeof window.SCAYT.CKSCAYT!=="function"){if(!this.loadingHelper[e.name]){this.loadingHelper[e.name]=t;this.loadingHelper.loadOrder.push(e.name);n=new Date;n=n.getTime();n=e.config.scayt_srcUrl+"?"+n;CKEDITOR.scriptLoader.load(n,function(){var e;CKEDITOR.fireOnce("scaytReady");for(var t=0;t<i.loadingHelper.loadOrder.length;t++){e=i.loadingHelper.loadOrder[t];if(typeof i.loadingHelper[e]==="function")i.loadingHelper[e](CKEDITOR.instances[e]);delete i.loadingHelper[e]}i.loadingHelper.loadOrder=[]})}}else if(window.SCAYT&&typeof window.SCAYT.CKSCAYT==="function"){CKEDITOR.fireOnce("scaytReady");e.scayt||typeof t==="function"&&t(e)}}},CKEDITOR.on("dialogDefinition",function(e){if(e.data.name==="scaytDialog")e.data.definition.dialog.on("cancel",function(){return false},this,null,-1)}),CKEDITOR.on("scaytReady",function(){if(CKEDITOR.config.scayt_handleCheckDirty===true){var e=CKEDITOR.editor.prototype;e.checkDirty=CKEDITOR.tools.override(e.checkDirty,function(e){return function(){var t=null,i=this.scayt;if(!CKEDITOR.plugins.scayt||!CKEDITOR.plugins.scayt.state[this.name]||!this.scayt)t=e.call(this);else if(t=this.status=="ready")var n=i.removeMarkupFromString(this.getSnapshot()),i=i.removeMarkupFromString(this._.previousValue),t=t&&i!==n;return t}});e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(e){return function(){var t=this.scayt;!CKEDITOR.plugins.scayt||!CKEDITOR.plugins.scayt.state[this.name]||!this.scayt?e.call(this):this._.previousValue=t.removeMarkupFromString(this.getSnapshot())}})}if(CKEDITOR.config.scayt_handleUndoRedo===true){var e=CKEDITOR.plugins.undo.Image.prototype,t=typeof e.equalsContent=="function"?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(e){return function(t){var i=t.editor.scayt,n=this.contents,r=t.contents,o=null;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state[t.editor.name]&&t.editor.scayt){this.contents=i.removeMarkupFromString(n)||"";t.contents=i.removeMarkupFromString(r)||""}o=e.apply(this,arguments);this.contents=n;t.contents=r;return o}})}}),function(){var e={preserveState:true,editorFocus:false,readOnly:1,exec:function(e){this.toggleState();this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:[".%1 table.%2,",".%1 table.%2 > tr > td, .%1 table.%2 > tr > th,",".%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,",".%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,",".%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th","{","border : #d3d3d3 1px dotted","}"]).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders ");CKEDITOR.addCss(e)},init:function(t){var i=t.addCommand("showborders",e);i.canUndo=false;t.config.startupShowBorders!==false&&i.setState(CKEDITOR.TRISTATE_ON);t.on("mode",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(t)},null,null,100);t.on("contentDom",function(){i.state!=CKEDITOR.TRISTATE_DISABLED&&i.refresh(t)});t.on("removeFormatCleanup",function(e){e=e.data;t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&(e.is("table")&&(!e.hasAttribute("border")||parseInt(e.getAttribute("border"),10)<=0))&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor,e=t&&t.dataFilter,t=t&&t.htmlFilter;e&&e.addRules({elements:{table:function(e){var e=e.attributes,t=e["class"],i=parseInt(e.border,10);if((!i||i<=0)&&(!t||t.indexOf("cke_show_border")==-1))e["class"]=(t||"")+" cke_show_border"}}});t&&t.addRules({elements:{table:function(e){var e=e.attributes,t=e["class"];t&&(e["class"]=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}});CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;if(t=="table"||t=="tableProperties"){e=e.data.definition;t=e.getContents("info").get("txtBorder");t.commit=CKEDITOR.tools.override(t.commit,function(e){return function(t,i){e.apply(this,arguments);var n=parseInt(this.getValue(),10);i[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}});if(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses")){e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,""))}});e.commit=CKEDITOR.tools.override(e.commit,function(e){return function(t,i){e.apply(this,arguments);parseInt(i.getAttribute("border"),10)||i.addClass("cke_show_border")}})}}})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function i(){var e=r&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle("height",this.getParent().$.clientHeight+"px");this.setStyle("width",this.getParent().$.clientWidth+"px");this.show();e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var n=CKEDITOR.plugins.sourcearea;t.addMode("source",function(n){var r=t.ui.space("contents").getDocument().createElement("textarea");r.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4)));r.setAttribute("dir","ltr");r.addClass("cke_source cke_reset cke_enable_context_menu");t.ui.space("contents").append(r);r=t.editable(new e(t,r));r.setData(t.getData(1));if(CKEDITOR.env.ie){r.attachListener(t,"resize",i,r);r.attachListener(CKEDITOR.document.getWindow(),"resize",i,r);CKEDITOR.tools.setTimeout(i,0,r)}t.fire("ariaWidget",this);n()});t.addCommand("source",n.commands.source);t.ui.addButton&&t.ui.addButton("Source",{label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"});t.on("mode",function(){t.getCommand("source").setState(t.mode=="source"?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var r=CKEDITOR.env.ie&&CKEDITOR.env.version==9}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e);this.status="ready";this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this);this.clearCustomData();this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){e.mode=="wysiwyg"&&e.fire("saveSnapshot");e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED);e.setMode(e.mode=="source"?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js");e.addCommand("specialchar",{exec:function(){var i=e.langCode,i=t.availableLangs[i]?i:t.availableLangs[i.replace(/-.*/,"")]?i.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+i+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[i]);e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:false});e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,i=e.lang.stylescombo,n={},r=[],o=[];e.on("stylesSet",function(i){if(i=i.data.styles){for(var s,a,l,c=0,u=i.length;c<u;c++){s=i[c];if(!(e.blockless&&s.element in CKEDITOR.dtd.$block)){a=s.name;s=new CKEDITOR.style(s);if(!e.filter.customConfig||e.filter.check(s)){s._name=a;s._.enterMode=t.enterMode;s._.type=l=s.assignedTo||s.type;s._.weight=c+(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3)*1e3;n[a]=s;r.push(s);o.push(s)}}}r.sort(function(e,t){return e._.weight-t._.weight})}});e.ui.addRichCombo("Styles",{label:i.label,title:i.panelTitle,toolbar:"styles,10",allowedContent:o,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:true,attributes:{"aria-label":i.panelTitle}},init:function(){var e,t,n,o,s,a;s=0;for(a=r.length;s<a;s++){e=r[s];t=e._name;o=e._.type;if(o!=n){this.startGroup(i["panelTitle"+o]);n=o}this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t)}this.commit()},onClick:function(t){e.focus();e.fire("saveSnapshot");var t=n[t],i=e.elementPath();e[t.checkActive(i,e)?"removeStyle":"applyStyle"](t);e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){for(var i=this.getValue(),t=t.data.path.elements,r=0,o=t.length,s;r<o;r++){s=t[r];for(var a in n)if(n[a].checkElementRemovable(s,true,e)){a!=i&&this.setValue(a);return}}this.setValue("")},this)},onOpen:function(){var t=e.getSelection().getSelectedElement(),t=e.elementPath(t),r=[0,0,0,0];this.showAll();this.unmarkAll();for(var o in n){var s=n[o],a=s._.type;s.checkApplicable(t,e,e.activeFilter)?r[a]++:this.hideItem(o);s.checkActive(t,e)&&this.mark(o)}r[CKEDITOR.STYLE_BLOCK]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_BLOCK]);r[CKEDITOR.STYLE_INLINE]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_INLINE]);r[CKEDITOR.STYLE_OBJECT]||this.hideGroup(i["panelTitle"+CKEDITOR.STYLE_OBJECT])},refresh:function(){var t=e.elementPath();if(t){for(var i in n)if(n[i].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){n={};r=[]}})}})}(),function(){function e(e){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var i=t.getSelection(),n;if(n=new CKEDITOR.dom.elementPath(i.getCommonAncestor(),i.root).contains({td:1,th:1},1)){var i=t.createRange(),r=CKEDITOR.tools.tryThese(function(){var t=n.getParent().$.cells[n.$.cellIndex+(e?-1:1)];t.parentNode.parentNode;return t},function(){var t=n.getParent(),t=t.getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)];return t.cells[e?t.cells.length-1:0]});if(!r&&!e){for(var o=n.getAscendant("table").$,r=n.getParent().$.cells,o=new CKEDITOR.dom.element(o.insertRow(-1),t.document),s=0,a=r.length;s<a;s++)o.append(new CKEDITOR.dom.element(r[s],t.document).clone(false,false)).appendBogus();i.moveToElementEditStart(o)}else if(r){r=new CKEDITOR.dom.element(r);i.moveToElementEditStart(r);(!i.checkStartOfBlock()||!i.checkEndOfBlock())&&i.selectNodeContents(r)}else return true;i.select(true);return true}}return false}}}var t={editorFocus:false,modes:{wysiwyg:1,source:1}},i={exec:function(e){e.container.focusNext(true,e.tabIndex)}},n={exec:function(e){e.container.focusPrevious(true,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(r){for(var o=r.config.enableTabKeyTools!==false,s=r.config.tabSpaces||0,a="";s--;)a=a+" ";if(a)r.on("key",function(e){if(e.data.keyCode==9){r.insertText(a);e.cancel()}});if(o)r.on("key",function(e){(e.data.keyCode==9&&r.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&r.execCommand("selectPreviousCell"))&&e.cancel()});r.addCommand("blur",CKEDITOR.tools.extend(i,t));r.addCommand("blurBack",CKEDITOR.tools.extend(n,t));r.addCommand("selectNextCell",e());r.addCommand("selectPreviousCell",e(true))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var i=t===void 0?this.getTabIndex():t,n,r,o,s,a,l;if(i<=0)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&a.getTabIndex()===0){o=a;break}a=a.getNextSourceNode(false,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(false,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&a.equals(this)){r=true;if(e){if(!(a=a.getNextSourceNode(true,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(a)&&(n=1);if(a.isVisible()&&!((l=a.getTabIndex())<0)){if(n&&l==i){o=a;break}if(l>i&&(!o||!s||l<s)){o=a;s=l}else if(!o&&l===0){o=a;s=l}}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var i=t===void 0?this.getTabIndex():t,n,r,o,s=0,a,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(false,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&l.equals(this)){r=true;if(e){if(!(l=l.getPreviousSourceNode(true,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((a=l.getTabIndex())<0))if(i<=0){if(n&&a===0){o=l;break}if(a>s){o=l;s=a}}else{if(n&&a==i){o=l;break}if(a<i&&(!o||a>s)){o=l;s=a}}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var i=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]}));e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t()));e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var i=t.getParent(),n=e.editable();i.getChildCount()==1&&(!i.is("td","th")&&!i.equals(n))&&(t=i);e=e.createRange();e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);t.remove();e.select()}}}));e.ui.addButton&&e.ui.addButton("Table",{label:i.toolbar,command:"table",toolbar:"insert,30"});CKEDITOR.dialog.add("table",this.path+"dialogs/table.js");CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js");e.addMenuItems&&e.addMenuItems({table:{label:i.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:i.deleteTable,command:"tableDelete",group:"table",order:1}});e.on("doubleclick",function(e){if(e.data.element.is("table"))e.data.dialog="tableProperties"});e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function e(e){function t(e){if(!(i.length>0)&&e.type==CKEDITOR.NODE_ELEMENT&&f.test(e.getName())&&!e.getCustomData("selected_cell")){CKEDITOR.dom.element.setMarker(n,e,"selected_cell",true);i.push(e)}}for(var e=e.getRanges(),i=[],n={},r=0;r<e.length;r++){var o=e[r];if(o.collapsed){o=o.getCommonAncestor();(o=o.getAscendant("td",true)||o.getAscendant("th",true))&&i.push(o)}else{var o=new CKEDITOR.dom.walker(o),s;for(o.guard=t;s=o.next();)if(s.type!=CKEDITOR.NODE_ELEMENT||!s.is(CKEDITOR.dtd.table))if((s=s.getAscendant("td",true)||s.getAscendant("th",true))&&!s.getCustomData("selected_cell")){CKEDITOR.dom.element.setMarker(n,s,"selected_cell",true);i.push(s)}}}CKEDITOR.dom.element.clearAllMarkers(n);return i}function t(t,i){for(var n=e(t),r=n[0],o=r.getAscendant("table"),r=r.getDocument(),s=n[0].getParent(),a=s.$.rowIndex,n=n[n.length-1],l=n.getParent().$.rowIndex+n.$.rowSpan-1,n=new CKEDITOR.dom.element(o.$.rows[l]),a=i?a:l,s=i?s:n,n=CKEDITOR.tools.buildTableMap(o),o=n[a],a=i?n[a-1]:n[a+1],n=n[0].length,r=r.createElement("tr"),l=0;o[l]&&l<n;l++){var c;if(o[l].rowSpan>1&&a&&o[l]==a[l]){c=o[l];c.rowSpan=c.rowSpan+1}else{c=new CKEDITOR.dom.element(o[l]).clone();c.removeAttribute("rowSpan");c.appendBogus();r.append(c);c=c.$}l=l+(c.colSpan-1)}i?r.insertBefore(s):r.insertAfter(s)}function i(t){if(t instanceof CKEDITOR.dom.selection){for(var n=e(t),r=n[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(r),t=n[0].getParent().$.rowIndex,n=n[n.length-1],s=n.getParent().$.rowIndex+n.$.rowSpan-1,n=[],a=t;a<=s;a++){for(var l=o[a],c=new CKEDITOR.dom.element(r.$.rows[a]),u=0;u<l.length;u++){var d=new CKEDITOR.dom.element(l[u]),f=d.getParent().$.rowIndex;if(d.$.rowSpan==1)d.remove();else{d.$.rowSpan=d.$.rowSpan-1;if(f==a){f=o[a+1];f[u-1]?d.insertAfter(new CKEDITOR.dom.element(f[u-1])):new CKEDITOR.dom.element(r.$.rows[a+1]).append(d,1)}}u=u+(d.$.colSpan-1)}n.push(c)}o=r.$.rows;r=new CKEDITOR.dom.element(o[s+1]||(t>0?o[t-1]:null)||r.$.parentNode);for(a=n.length;a>=0;a--)i(n[a]);return r}if(t instanceof CKEDITOR.dom.element){r=t.getAscendant("table");r.$.rows.length==1?r.remove():t.remove()}return null}function n(e,t){for(var i=t?Infinity:0,n=0;n<e.length;n++){var r;r=e[n];for(var o=t,s=r.getParent().$.cells,a=0,l=0;l<s.length;l++){var c=s[l],a=a+(o?1:c.colSpan);if(c==r.$)break}r=a-1;if(t?r<i:r>i)i=r}return i}function r(t,i){for(var r=e(t),o=r[0].getAscendant("table"),s=n(r,1),r=n(r),s=i?s:r,a=CKEDITOR.tools.buildTableMap(o),o=[],r=[],l=a.length,c=0;c<l;c++){o.push(a[c][s]);r.push(i?a[c][s-1]:a[c][s+1])}for(c=0;c<l;c++)if(o[c]){if(o[c].colSpan>1&&r[c]==o[c]){s=o[c];s.colSpan=s.colSpan+1}else{s=new CKEDITOR.dom.element(o[c]).clone();s.removeAttribute("colSpan");s.appendBogus();s[i?"insertBefore":"insertAfter"].call(s,new CKEDITOR.dom.element(o[c]));s=s.$}c=c+(s.rowSpan-1)}}function o(e,t){var i=e.getStartElement();if(i=i.getAscendant("td",1)||i.getAscendant("th",1)){var n=i.clone();n.appendBogus();t?n.insertBefore(i):n.insertAfter(i)}}function s(t){if(t instanceof CKEDITOR.dom.selection){var t=e(t),i=t[0]&&t[0].getAscendant("table"),n;e:{var r=0;n=t.length-1;for(var o={},l,c;l=t[r++];)CKEDITOR.dom.element.setMarker(o,l,"delete_cell",true);for(r=0;l=t[r++];)if((c=l.getPrevious())&&!c.getCustomData("delete_cell")||(c=l.getNext())&&!c.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(o);n=c;break e}CKEDITOR.dom.element.clearAllMarkers(o);c=t[0].getParent();if(c=c.getPrevious())n=c.getLast();else{c=t[n].getParent();n=(c=c.getNext())?c.getChild(0):null}}for(c=t.length-1;c>=0;c--)s(t[c]);n?a(n,true):i&&i.remove()}else if(t instanceof CKEDITOR.dom.element){i=t.getParent();i.getChildCount()==1?i.remove():t.remove()}}function a(e,t){var i=e.getDocument(),n=CKEDITOR.document;if(CKEDITOR.env.ie&&CKEDITOR.env.version==10){n.focus();i.focus()}i=new CKEDITOR.dom.range(i);if(!i["moveToElementEdit"+(t?"End":"Start")](e)){i.selectNodeContents(e);i.collapse(t?false:true)}i.select(true)}function l(e,t,i){e=e[t];if(typeof i=="undefined")return e;for(t=0;e&&t<e.length;t++){if(i.is&&e[t]==i.$)return t;if(t==i)return new CKEDITOR.dom.element(e[t])}return i.is?-1:null}function c(t,i,n){var r=e(t),o;if((i?r.length!=1:r.length<2)||(o=t.getCommonAncestor())&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("table"))return false;var s,t=r[0];o=t.getAscendant("table");var a=CKEDITOR.tools.buildTableMap(o),c=a.length,u=a[0].length,d=t.getParent().$.rowIndex,f=l(a,d,t);if(i){var h;try{var p=parseInt(t.getAttribute("rowspan"),10)||1;s=parseInt(t.getAttribute("colspan"),10)||1;h=a[i=="up"?d-p:i=="down"?d+p:d][i=="left"?f-s:i=="right"?f+s:f]}catch(e){return false}if(!h||t.$==h)return false;r[i=="up"||i=="left"?"unshift":"push"](new CKEDITOR.dom.element(h))}for(var i=t.getDocument(),m=d,p=h=0,g=!n&&new CKEDITOR.dom.documentFragment(i),v=0,i=0;i<r.length;i++){s=r[i];var w=s.getParent(),b=s.getFirst(),y=s.$.colSpan,_=s.$.rowSpan,w=w.$.rowIndex,E=l(a,w,s),v=v+y*_,p=Math.max(p,E-f+y);h=Math.max(h,w-d+_);if(!n){y=s;(_=y.getBogus())&&_.remove();y.trim();if(s.getChildren().count()){if(w!=m&&b&&(!b.isBlockBoundary||!b.isBlockBoundary({br:1})))(m=g.getLast(CKEDITOR.dom.walker.whitespaces(true)))&&(!m.is||!m.is("br"))&&g.append("br");s.moveChildren(g)}i?s.remove():s.setHtml("")}m=w}if(n)return h*p==v;g.moveChildren(t);t.appendBogus();p>=u?t.removeAttribute("rowSpan"):t.$.rowSpan=h;h>=c?t.removeAttribute("colSpan"):t.$.colSpan=p;n=new CKEDITOR.dom.nodeList(o.$.rows);r=n.count();for(i=r-1;i>=0;i--){o=n.getItem(i);if(!o.$.cells.length){o.remove();r++}}return t}function u(t,i){var n=e(t);if(n.length>1)return false;if(i)return true;var n=n[0],r=n.getParent(),o=r.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(o),a=r.$.rowIndex,c=l(s,a,n),u=n.$.rowSpan,d;if(u>1){d=Math.ceil(u/2);for(var u=Math.floor(u/2),r=a+d,o=new CKEDITOR.dom.element(o.$.rows[r]),s=l(s,r),f,r=n.clone(),a=0;a<s.length;a++){
f=s[a];if(f.parentNode==o.$&&a>c){r.insertBefore(new CKEDITOR.dom.element(f));break}else f=null}f||o.append(r)}else{u=d=1;o=r.clone();o.insertAfter(r);o.append(r=n.clone());f=l(s,a);for(c=0;c<f.length;c++)f[c].rowSpan++}r.appendBogus();n.$.rowSpan=d;r.$.rowSpan=u;d==1&&n.removeAttribute("rowSpan");u==1&&r.removeAttribute("rowSpan");return r}function d(t,i){var n=e(t);if(n.length>1)return false;if(i)return true;var n=n[0],r=n.getParent(),o=r.getAscendant("table"),o=CKEDITOR.tools.buildTableMap(o),s=l(o,r.$.rowIndex,n),a=n.$.colSpan;if(a>1){r=Math.ceil(a/2);a=Math.floor(a/2)}else{for(var a=r=1,c=[],u=0;u<o.length;u++){var d=o[u];c.push(d[s]);d[s].rowSpan>1&&(u=u+(d[s].rowSpan-1))}for(o=0;o<c.length;o++)c[o].colSpan++}o=n.clone();o.insertAfter(n);o.appendBogus();n.$.colSpan=r;o.$.colSpan=a;r==1&&n.removeAttribute("colSpan");a==1&&o.removeAttribute("colSpan");return o}var f=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(n){function l(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function f(e,t){var i=n.addCommand(e,t);n.addFeature(i)}var h=n.lang.table;f("cellProperties",new CKEDITOR.dialogCommand("cellProperties",l({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"})));CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");f("rowDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection();a(i(e))}}));f("rowInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection();t(e,true)}}));f("rowInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection();t(e)}}));f("columnDelete",l({requiredContent:"table",exec:function(t){for(var t=t.getSelection(),t=e(t),i=t[0],n=t[t.length-1],t=i.getAscendant("table"),r=CKEDITOR.tools.buildTableMap(t),o,s,l=[],c=0,u=r.length;c<u;c++)for(var d=0,f=r[c].length;d<f;d++){r[c][d]==i.$&&(o=d);r[c][d]==n.$&&(s=d)}for(c=o;c<=s;c++)for(d=0;d<r.length;d++){n=r[d];i=new CKEDITOR.dom.element(t.$.rows[d]);n=new CKEDITOR.dom.element(n[c]);if(n.$){n.$.colSpan==1?n.remove():n.$.colSpan=n.$.colSpan-1;d=d+(n.$.rowSpan-1);i.$.cells.length||l.push(i)}}s=t.$.rows[0]&&t.$.rows[0].cells;o=new CKEDITOR.dom.element(s[o]||(o?s[o-1]:t.$.parentNode));l.length==u&&t.remove();o&&a(o,true)}}));f("columnInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection();r(e,true)}}));f("columnInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection();r(e)}}));f("cellDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection();s(e)}}));f("cellMerge",l({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){a(c(e.getSelection()),true)}}));f("cellMergeRight",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(c(e.getSelection(),"right"),true)}}));f("cellMergeDown",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(c(e.getSelection(),"down"),true)}}));f("cellVerticalSplit",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){a(u(e.getSelection()))}}));f("cellHorizontalSplit",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){a(d(e.getSelection()))}}));f("cellInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection();o(e,true)}}));f("cellInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection();o(e)}}));n.addMenuItems&&n.addMenuItems({tablecell:{label:h.cell.menu,group:"tablecell",order:1,getItems:function(){var t=n.getSelection(),i=e(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:c(t,null,true)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:c(t,"right",true)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:c(t,"down",true)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:u(t,true)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:d(t,true)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:i.length>0?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:h.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:h.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:h.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:h.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:h.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:h.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:h.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:h.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:h.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:h.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:h.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:h.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:h.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:h.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:h.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:h.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:h.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}});n.contextMenu&&n.contextMenu.addListener(function(e,t,i){return(e=i.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:e};CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e){for(var e=e.$.rows,t=-1,i=[],n=0;n<e.length;n++){t++;!i[t]&&(i[t]=[]);for(var r=-1,o=0;o<e[n].cells.length;o++){var s=e[n].cells[o];for(r++;i[t][r];)r++;for(var a=isNaN(s.colSpan)?1:s.colSpan,s=isNaN(s.rowSpan)?1:s.rowSpan,l=0;l<s;l++){i[t+l]||(i[t+l]=[]);for(var c=0;c<a;c++)i[t+l][r+c]=e[n].cells[o]}r=r+(a-1)}}return i},function(){function e(e){function i(){for(var i=n(),o=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),s=0;s<o.length;s++){var a=o[s];if(a!="/"){typeof a=="string"&&(a=o[s]={name:a});var l,c=a.groups;if(c)for(var u=0;u<c.length;u++){l=c[u];(l=i[l])&&r(a,l)}(l=i[a.name])&&r(a,l)}}return o}function n(){var t={},i,n,r;for(i in e.ui.items){n=e.ui.items[i];r=n.toolbar||"others";r=r.split(",");n=r[0];r=parseInt(r[1]||-1,10);t[n]||(t[n]=[]);t[n].push({name:i,order:r})}for(n in t)t[n]=t[n].sort(function(e,t){return e.order==t.order?0:t.order<0?-1:e.order<0?1:e.order<t.order?-1:1});return t}function r(t,i){if(i.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var n;n=i.shift();){n=typeof n=="string"?n:n.name;if(!s||CKEDITOR.tools.indexOf(s,n)==-1)(n=e.ui.create(n))&&e.addFeature(n)&&t.items.push(n)}}}function o(e){var t=[],i,n,o;for(i=0;i<e.length;++i){n=e[i];o={};if(n=="/")t.push(n);else if(CKEDITOR.tools.isArray(n)){r(o,CKEDITOR.tools.clone(n));t.push(o)}else if(n.items){r(o,CKEDITOR.tools.clone(n.items));o.name=n.name;t.push(o)}}return t}var s=e.config.removeButtons,s=s&&s.split(","),a=e.config.toolbar;typeof a=="string"&&(a=e.config["toolbar_"+a]);return e.toolbar=a?o(a):i()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var i=function(){this.toolbars=[];this.focusCommandExecuted=false};i.prototype.focus=function(){for(var e=0,t;t=this.toolbars[e++];)for(var i=0,n;n=t.items[i++];)if(n.focus){n.focus();return}};var n={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){if(e.toolbox){e.toolbox.focusCommandExecuted=true;CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus()}}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var r,o=function(e,i){var n,s=t.lang.dir=="rtl",a=t.config.toolbarGroupCycling,l=s?37:39,s=s?39:37,a=a===void 0||a;switch(i){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;){n=i==9?(n?n.next:e.toolbar.next)||t.toolbox.toolbars[0]:(n?n.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1];if(n.items.length)for(e=n.items[r?n.items.length-1:0];e&&!e.focus;)(e=r?e.previous:e.next)||(n=0)}e&&e.focus();return false;case l:n=e;do{n=n.next;!n&&a&&(n=e.toolbar.items[0])}while(n&&!n.focus);n?n.focus():o(e,9);return false;case 40:if(e.button&&e.button.hasArrow){t.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)});e.execute()}else o(e,i==40?l:s);return false;case s:case 38:n=e;do{n=n.previous;!n&&a&&(n=e.toolbar.items[e.toolbar.items.length-1])}while(n&&!n.focus);if(n)n.focus();else{r=1;o(e,CKEDITOR.SHIFT+9);r=0}return false;case 27:t.focus();return false;case 13:case 32:e.execute();return false}return true};t.on("uiSpace",function(n){if(n.data.space==t.config.toolbarLocation){n.removeListener();t.toolbox=new i;var r=CKEDITOR.tools.getNextId(),s=['<span id="',r,'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',r,'" onmousedown="return false;">'],r=t.config.toolbarStartupExpanded!==false,a,l;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(r?">":' style="display:none">'));for(var c=t.toolbox.toolbars,u=e(t),d=0;d<u.length;d++){var f,h=0,p,m=u[d],g;if(m){if(a){s.push("</span>");l=a=0}if(m==="/")s.push('<span class="cke_toolbar_break"></span>');else{g=m.items||m;for(var v=0;v<g.length;v++){var w=g[v],b;if(w)if(w.type==CKEDITOR.UI_SEPARATOR)l=a&&w;else{b=w.canGroup!==false;if(!h){f=CKEDITOR.tools.getNextId();h={id:f,items:[]};p=m.name&&(t.lang.toolbar.toolbarGroups[m.name]||m.name);s.push('<span id="',f,'" class="cke_toolbar"',p?' aria-labelledby="'+f+'_label"':"",' role="toolbar">');p&&s.push('<span id="',f,'_label" class="cke_voice_label">',p,"</span>");s.push('<span class="cke_toolbar_start"></span>');var y=c.push(h)-1;if(y>0){h.previous=c[y-1];h.previous.next=h}}if(b){if(!a){s.push('<span class="cke_toolgroup" role="presentation">');a=1}}else if(a){s.push("</span>");a=0}f=function(e){e=e.render(t,s);y=h.items.push(e)-1;if(y>0){e.previous=h.items[y-1];e.previous.next=e}e.toolbar=h;e.onkey=o;e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}};if(l){f(l);l=0}f(w)}}if(a){s.push("</span>");l=a=0}h&&s.push('<span class="cke_toolbar_end"></span></span>')}}}t.config.toolbarCanCollapse&&s.push("</span>");if(t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var _=CKEDITOR.tools.addFunction(function(){t.execCommand("toolbarCollapse")});t.on("destroy",function(){CKEDITOR.tools.removeFunction(_)});t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),i=t.getPrevious(),n=e.ui.space("contents"),r=i.getParent(),o=parseInt(n.$.style.height,10),s=r.$.offsetHeight,a=t.hasClass("cke_toolbox_collapser_min");if(a){i.show();t.removeClass("cke_toolbox_collapser_min");t.setAttribute("title",e.lang.toolbar.toolbarCollapse)}else{i.hide();t.addClass("cke_toolbox_collapser_min");t.setAttribute("title",e.lang.toolbar.toolbarExpand)}t.getFirst().setText(a?"▲":"◀");n.setStyle("height",o-(r.$.offsetHeight-s)+"px");e.fire("resize")},modes:{wysiwyg:1,source:1}});t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");s.push('<a title="'+(r?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser');r||s.push(" cke_toolbox_collapser_min");s.push('" onclick="CKEDITOR.tools.callFunction('+_+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>");n.data.html=n.data.html+s.join("")}});t.on("destroy",function(){if(this.toolbox){var e,t=0,i,n,r;for(e=this.toolbox.toolbars;t<e.length;t++){n=e[t].items;for(i=0;i<n.length;i++){r=n[i];r.clickFn&&CKEDITOR.tools.removeFunction(r.clickFn);r.keyDownFn&&CKEDITOR.tools.removeFunction(r.keyDownFn)}}}});t.on("uiReady",function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)});t.addCommand("toolbarFocus",n);t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");t.ui.add("-",CKEDITOR.UI_SEPARATOR,{});t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){t.push('<span class="cke_toolbar_separator" role="separator"></span>');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(e,i,n){var r=t(this.editor),o=i===0,s={name:e};if(n){if(n=CKEDITOR.tools.search(r,function(e){return e.name==n})){!n.groups&&(n.groups=[]);if(i){i=CKEDITOR.tools.indexOf(n.groups,i);if(i>=0){n.groups.splice(i+1,0,e);return}}o?n.groups.splice(0,0,e):n.groups.push(e);return}i=null}i&&(i=CKEDITOR.tools.indexOf(r,function(e){return e.name==i}));o?r.splice(0,0,e):typeof i=="number"?r.splice(i+1,0,s):r.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top","use strict",function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function n(e){s.enabled&&e.data.command.canUndo!==false&&s.save()}function r(){s.enabled=t.readOnly?false:t.mode=="wysiwyg";s.onChange()}var s=t.undoManager=new i(t),a=s.editingHandler=new o(s),l=t.addCommand("undo",{exec:function(){if(s.undo()){t.selectionChange();this.fire("afterUndo")}},startDisabled:true,canUndo:false}),c=t.addCommand("redo",{exec:function(){if(s.redo()){t.selectionChange();this.fire("afterRedo")}},startDisabled:true,canUndo:false});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]);s.onChange=function(){l.setState(s.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);c.setState(s.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};t.on("beforeCommandExec",n);t.on("afterCommandExec",n);t.on("saveSnapshot",function(e){s.save(e.data&&e.data.contentOnly)});t.on("contentDom",a.attachListeners,a);t.on("instanceReady",function(){t.fire("saveSnapshot")});t.on("beforeModeUnload",function(){t.mode=="wysiwyg"&&s.save(true)});t.on("mode",r);t.on("readOnly",r);if(t.ui.addButton){t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"});t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})}t.resetUndo=function(){s.reset();t.fire("saveSnapshot")};t.on("updateSnapshot",function(){s.currentImage&&s.update()});t.on("lockSnapshot",function(e){e=e.data;s.lock(e&&e.dontUpdate,e&&e.forceUpdate)});t.on("unlockSnapshot",s.unlock,s)}});CKEDITOR.plugins.undo={};var i=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=e.config.undoStackSize||20;this.strokesLimit=25;this.editor=e;this.reset()};i.prototype={type:function(e,t){var n=i.getKeyGroup(e),r=this.strokesRecorded[n]+1,t=t||r>=this.strokesLimit;if(!this.typing){this.hasUndo=this.typing=true;this.hasRedo=false;this.onChange()}if(t){r=0;this.editor.fire("saveSnapshot")}else this.editor.fire("change");this.strokesRecorded[n]=r;this.previousKeyGroup=n},keyGroupChanged:function(e){return i.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=false;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=false;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(true);this.hasRedo=!!this.getNextImage(false);this.resetType();this.onChange()},save:function(e,t,i){var r=this.editor;if(this.locked||r.status!="ready"||r.mode!="wysiwyg")return false;var o=r.editable();if(!o||o.status!="ready")return false;o=this.snapshots;t||(t=new n(r));if(t.contents===false)return false;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return false}else i!==false&&r.fire("change");o.splice(this.index+1,o.length-this.index-1);o.length==this.limit&&o.shift();this.index=o.push(t)-1;this.currentImage=t;i!==false&&this.refreshState();return true},restoreImage:function(e){var t=this.editor,i;if(e.bookmarks){t.focus();i=t.getSelection()}this.locked={level:999};this.editor.loadSnapshot(e.contents);if(e.bookmarks)i.selectBookmarks(e.bookmarks);else if(CKEDITOR.env.ie){i=this.editor.document.getBody().$.createTextRange();i.collapse(true);i.select()}this.locked=null;this.index=e.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();t.fire("change")},getNextImage:function(e){var t=this.snapshots,i=this.currentImage,n;if(i)if(e)for(n=this.index-1;n>=0;n--){e=t[n];if(!i.equalsContent(e)){e.index=n;return e}}else for(n=this.index+1;n<t.length;n++){e=t[n];if(!i.equalsContent(e)){e.index=n;return e}}return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(true);var e=this.getNextImage(true);if(e)return this.restoreImage(e),true}return false},redo:function(){if(this.redoable()){this.save(true);if(this.redoable()){var e=this.getNextImage(false);if(e)return this.restoreImage(e),true}}return false},update:function(e){if(!this.locked){e||(e=new n(this.editor));for(var t=this.index,i=this.snapshots;t>0&&this.currentImage.equalsContent(i[t-1]);)t=t-1;i.splice(t,this.index-t+1,e);this.index=t;this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return false;var t=this.snapshots,i=t[t.length-1];if(i.equalsContent(e)&&!i.equalsSelection(e)){this.currentImage=t[t.length-1]=e;return true}return false},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var i=null;if(t)i=true;else{var r=new n(this.editor,true);this.currentImage&&this.currentImage.equalsContent(r)&&(i=r)}this.locked={update:i,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;this.locked=null;if(e===true)this.update();else if(e){var t=new n(this.editor,true);e.equalsContent(t)||this.update()}}}};i.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};i.keyGroups={PRINTABLE:0,FUNCTIONAL:1};i.isNavigationKey=function(e){return!!i.navigationKeyCodes[e]};i.getKeyGroup=function(e){var n=i.keyGroups;return t[e]?n.FUNCTIONAL:n.PRINTABLE};i.getOppositeKeyGroup=function(e){var t=i.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL};i.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&i.getKeyGroup(e)==i.keyGroups.FUNCTIONAL};var n=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e;e.fire("beforeUndoImage");var i=e.getSnapshot();CKEDITOR.env.ie&&i&&(i=i.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=i;if(!t)this.bookmarks=(i=i&&e.getSelection())&&i.createBookmarks2(true);e.fire("afterUndoImage")},r=/\b(?:href|src|name)="[^"]*?"/gi;n.prototype={equalsContent:function(e){var t=this.contents,e=e.contents;if(CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)){t=t.replace(r,"");e=e.replace(r,"")}return t!=e?false:true},equalsSelection:function(e){var t=this.bookmarks,e=e.bookmarks;if(t||e){if(!t||!e||t.length!=e.length)return false;for(var i=0;i<t.length;i++){var n=t[i],r=e[i];if(n.startOffset!=r.startOffset||n.endOffset!=r.endOffset||!CKEDITOR.tools.arrayCompare(n.start,r.start)||!CKEDITOR.tools.arrayCompare(n.end,r.end))return false}}return true}};var o=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e;this.ignoreInputEvent=false;this.keyEventsStack=new s;this.lastKeydownImage=null};o.prototype={onKeydown:function(t){var r=t.data.getKey();if(r!==229)if(CKEDITOR.tools.indexOf(e,t.data.getKeystroke())>-1)t.data.preventDefault();else{this.keyEventsStack.cleanUp(t);t=this.undoManager;this.keyEventsStack.getLast(r)||this.keyEventsStack.push(r);this.lastKeydownImage=new n(t.editor);if(i.isNavigationKey(r)||this.undoManager.keyGroupChanged(r))if(t.strokesRecorded[0]||t.strokesRecorded[1]){t.save(false,this.lastKeydownImage,false);t.resetType()}}},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=false;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0));this.keyEventsStack.increment(e.keyCode);if(this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit){this.undoManager.type(e.keyCode,true);this.keyEventsStack.resetInputs()}}},onKeyup:function(e){var t=this.undoManager,e=e.data.getKey(),r=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e);if(!i.ieFunctionalKeysBug(e)||!this.lastKeydownImage||!this.lastKeydownImage.equalsContent(new n(t.editor,true)))if(r>0)t.type(e);else if(i.isNavigationKey(e))this.onNavigationKey(true)},onNavigationKey:function(e){var t=this.undoManager;(e||!t.save(true,null,false))&&t.updateSelection(new n(t.editor));t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=true},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),n=this;t.attachListener(t,"keydown",function(e){n.onKeydown(e);if(i.ieFunctionalKeysBug(e.data.getKey()))n.onInput()},null,null,999);t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999);t.attachListener(t,"keyup",n.onKeyup,n,null,999);t.attachListener(t,"paste",n.ignoreInputEventListener,n,null,999);t.attachListener(t,"drop",n.ignoreInputEventListener,n,null,999);t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999);t.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var s=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};s.prototype={push:function(e){return this.stack[this.stack.push({keyCode:e,inputs:0})-1]},getLastIndex:function(e){if(typeof e!="number")return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){e=this.getLastIndex(e);return e!=-1?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){e=this.getLastIndex(e);e!=-1&&this.stack.splice(e,1)},resetInputs:function(e){if(typeof e=="number")this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t=t+this.stack[e].inputs;return t},cleanUp:function(e){e=e.data.$;!e.ctrlKey&&!e.metaKey&&this.remove(17);e.shiftKey||this.remove(16);e.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish=typeof e.config.wsc_onFinish==="function"?e.config.wsc_onFinish:function(){};e.config.wsc_onClose=typeof e.config.wsc_onClose==="function"?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk";e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"";e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"";e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell";CKEDITOR.config.wsc_version="v4.3.0-master-aa00a1e";CKEDITOR.config.wsc_removeGlobalVariable=true},init:function(e){var t=CKEDITOR.env;this.parseConfig(e);this.parseApi(e);e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(t.ie&&(t.version<8||t.quirks))};typeof e.plugins.scayt=="undefined"&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"});CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),function(){function e(e){var i=this.editor,n=e.document,r=n.body,o=n.getElementById("cke_actscrpt");o&&o.parentNode.removeChild(o);(o=n.getElementById("cke_shimscrpt"))&&o.parentNode.removeChild(o);(o=n.getElementById("cke_basetagscrpt"))&&o.parentNode.removeChild(o);r.contentEditable=true;if(CKEDITOR.env.ie){r.hideFocus=true;r.disabled=true;r.removeAttribute("disabled")}delete this._.isLoadingData;this.$=r;n=new CKEDITOR.dom.document(n);this.setup();this.fixInitialSelection();if(CKEDITOR.env.ie){n.getDocumentElement().addClass(n.$.compatMode);i.config.enterMode!=CKEDITOR.ENTER_P&&this.attachListener(n,"selectionchange",function(){var e=n.getBody(),t=i.getSelection(),r=t&&t.getRanges()[0];r&&(e.getHtml().match(/^<p>(?:&nbsp;|<br>)<\/p>$/i)&&r.startContainer.equals(e))&&setTimeout(function(){r=i.getSelection().getRanges()[0];if(!r.startContainer.equals("body")){e.getFirst().remove(1);r.moveToElementEditEnd(e);r.select()}},0)})}if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&CKEDITOR.env.version>10)n.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})});t(i);try{i.document.$.execCommand("2D-position",false,true)}catch(e){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&i.document.$.compatMode=="CSS1Compat")&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(t==33||t==34)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[t==33?"moveToElementEditStart":"moveToElementEditEnd"](this);n.select();e.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(n,"blur",function(){try{n.$.selection.empty()}catch(e){}});CKEDITOR.env.iOS&&this.attachListener(n,"touchend",function(){e.focus()});r=i.document.getElementsByTag("title").getItem(0);r.data("cke-title",r.getText());if(CKEDITOR.env.ie)i.document.$.title=this._.docTitle;CKEDITOR.tools.setTimeout(function(){if(this.status=="unloaded")this.status="ready";i.fire("contentDom");if(this._.isPendingFocus){i.focus();this._.isPendingFocus=false}setTimeout(function(){i.fire("dataReady")},0);CKEDITOR.env.ie&&setTimeout(function(){if(i.document){var e=i.document.$.body;e.runtimeStyle.marginBottom="0px";e.runtimeStyle.marginBottom=""}},1e3)},0,this)}function t(e){function t(){var t;e.editable().attachListener(e,"selectionChange",function(){var n=e.getSelection().getSelectedElement();if(n){if(t){t.detachEvent("onresizestart",i);t=null}n.$.attachEvent("onresizestart",i);t=n.$}})}function i(e){e.returnValue=false}if(CKEDITOR.env.gecko)try{var n=e.document.$;n.execCommand("enableObjectResizing",false,!e.config.disableObjectResizing);n.execCommand("enableInlineTableEditing",false,!e.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&(CKEDITOR.env.version<11&&e.config.disableObjectResizing)&&t(e)}function i(){var e=[];if(CKEDITOR.document.$.documentMode>=8){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t=[],i;for(i in CKEDITOR.dtd.$removeEmpty)t.push("html.CSS1Compat "+i+"[contenteditable=false]");e.push(t.join(",")+"{display:inline-block}")}else if(CKEDITOR.env.gecko){e.push("html{height:100% !important}");e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}e.push("html{cursor:text;*cursor:auto}");e.push("img,input,textarea{cursor:default}");return e.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"});e.addMode("wysiwyg",function(t){function i(i){i&&i.removeListener();e.editable(new n(e,o.$.contentWindow.document.body));e.setData(e.getData(1),t)}var r="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",r=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent(r)+"}())":"",o=CKEDITOR.dom.element.createFromHtml('<iframe src="'+r+'" frameBorder="0"></iframe>');o.setStyles({width:"100%",height:"100%"});o.addClass("cke_wysiwyg_frame cke_reset");var s=e.ui.space("contents");s.append(o);if(r=CKEDITOR.env.ie||CKEDITOR.env.gecko)o.on("load",i);var a=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(a){CKEDITOR.env.ie&&l&&(a=a+(", "+l));o.setAttribute("title",a)}if(l){var a=CKEDITOR.tools.getNextId(),c=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+l+"</span>");s.append(c,1);o.setAttribute("aria-describedby",a)}e.on("beforeModeUnload",function(e){e.removeListener();c&&c.remove()});o.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"});!r&&i();if(CKEDITOR.env.webkit){r=function(){s.setStyle("width","100%");o.hide();o.setSize("width",s.getSize("width"));s.removeStyle("width");o.show()};o.setCustomData("onResize",r);CKEDITOR.document.getWindow().on("resize",r)}e.fire("ariaWidget",o)})}});CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,i=t.contentsCss;if(!CKEDITOR.tools.isArray(i))t.contentsCss=i?[i]:[];t.contentsCss.push(e)};var n=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this);this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var n=this.editor;if(t){this.setHtml(e);this.fixInitialSelection();n.fire("dataReady")}else{this._.isLoadingData=true;n._.dataStore={id:1};var r=n.config,o=r.fullPage,s=r.docType,a=CKEDITOR.tools.buildStyleHtml(i()).replace(/<style>/,'<style data-cke-temp="1">');o||(a=a+CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var l=r.baseHref?'<base href="'+r.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){n.docType=s=e;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){n.xmlDeclaration=e;return""}));e=n.dataProcessor.toHtml(e);if(o){/<body[\s|>]/.test(e)||(e="<body>"+e);/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>");/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>");l&&(e=e.replace(/<head[^>]*?>/,"$&"+l));e=e.replace(/<\/head\s*>/,a+"$&");e=s+e}else e=r.docType+'<html dir="'+r.contentsLangDirection+'" lang="'+(r.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+a+"</head><body"+(r.bodyId?' id="'+r.bodyId+'"':"")+(r.bodyClass?' class="'+r.bodyClass+'"':"")+">"+e+"</body></html>";if(CKEDITOR.env.gecko){
e=e.replace(/<body/,'<body contenteditable="true" ');CKEDITOR.env.version<2e4&&(e=e.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))}r='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>";CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(r=r+'<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>');l&&(CKEDITOR.env.ie&&CKEDITOR.env.version<10)&&(r=r+'<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>');e=e.replace(/(?=\s*<\/(:?head)>)/,r);this.clearCustomData();this.clearListeners();n.fire("contentDomUnload");var c=this.getDocument();try{c.write(e)}catch(t){setTimeout(function(){c.write(e)},0)}}},getData:function(e){if(e)return this.getHtml();var e=this.editor,t=e.config,i=t.fullPage,n=i&&e.docType,r=i&&e.xmlDeclaration,o=this.getDocument(),i=i?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/<br>(?=\s*(:?$|<\/body>))/,""));i=e.dataProcessor.toDataFormat(i);r&&(i=r+"\n"+i);n&&(i=n+"\n"+i);return i},focus:function(){this._.isLoadingData?this._.isPendingFocus=true:n.baseProto.focus.call(this)},detach:function(){var e=this.editor,t=e.document,e=e.window.getFrame();n.baseProto.detach.call(this);this.clearCustomData();t.getDocumentElement().clearCustomData();e.clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);(t=e.removeCustomData("onResize"))&&t.removeListener();e.remove()}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.contentsCss=CKEDITOR.getUrl("contents.css"),CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea",CKEDITOR.config.skin="moono",function(){var e=function(e,t){for(var i=CKEDITOR.getUrl("plugins/"+t),e=e.split(","),n=0;n<e.length;n++)CKEDITOR.skin.icons[e[n]]={path:i,offset:-e[++n],bgsize:e[++n]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,creatediv,456,,docprops-rtl,480,,docprops,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,justifyblock,1080,,justifycenter,1104,,justifyleft,1128,,justifyright,1152,,language,1176,,anchor-rtl,1200,,anchor,1224,,link,1248,,unlink,1272,,bulletedlist-rtl,1296,,bulletedlist,1320,,numberedlist-rtl,1344,,numberedlist,1368,,mathjax,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastefromword-rtl,1536,,pastefromword,1560,,pastetext-rtl,1584,,pastetext,1608,,placeholder,1632,,preview-rtl,1656,,preview,1680,,print,1704,,removeformat,1728,,save,1752,,scayt,1776,,selectall,1800,,showblocks-rtl,1824,,showblocks,1848,,smiley,1872,,source-rtl,1896,,source,1920,,sourcedialog-rtl,1944,,sourcedialog,1968,,specialchar,1992,,table,2016,,templates-rtl,2040,,templates,2064,,uicolor,2088,,redo-rtl,2112,,redo,2136,,undo-rtl,2160,,undo,2184,,simplebox,4416,auto,spellchecker,2232,","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,creatediv,456,auto,docprops-rtl,480,auto,docprops,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,justifyblock,1080,auto,justifycenter,1104,auto,justifyleft,1128,auto,justifyright,1152,auto,language,1176,auto,anchor-rtl,1200,auto,anchor,1224,auto,link,1248,auto,unlink,1272,auto,bulletedlist-rtl,1296,auto,bulletedlist,1320,auto,numberedlist-rtl,1344,auto,numberedlist,1368,auto,mathjax,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastefromword-rtl,1536,auto,pastefromword,1560,auto,pastetext-rtl,1584,auto,pastetext,1608,auto,placeholder,1632,auto,preview-rtl,1656,auto,preview,1680,auto,print,1704,auto,removeformat,1728,auto,save,1752,auto,scayt,1776,auto,selectall,1800,auto,showblocks-rtl,1824,auto,showblocks,1848,auto,smiley,1872,auto,source-rtl,1896,auto,source,1920,auto,sourcedialog-rtl,1944,auto,sourcedialog,1968,auto,specialchar,1992,auto,table,2016,auto,templates-rtl,2040,auto,templates,2064,auto,uicolor,2088,auto,redo-rtl,2112,auto,redo,2136,auto,undo-rtl,2160,auto,undo,2184,auto,simplebox,2208,auto,spellchecker,2232,auto","icons.png")}()})();e.exports=CKEDITOR},function(e,t){e.exports='<div class="commerce-elements-wrapper {{publish_class}}"  {{#publish_class}}data-page-id="{{page_id}}" data-page-element-id="{{page_element_id}}"{{/publish_class}}>\n\t<div class="pagination__overlay"></div>\n\t<div class="commerce-layout-wrapper">\n\t\t{{{layout_html}}}\n\t</div>\n\t{{#show_pagination}}\n\t\t{{#show_more_link}}\n\t\t\t{{>elements/commerce-elements/pagination/show-more}}\n\t\t{{/show_more_link}}\n\t\t{{^show_more_link}}\n\t\t\t{{>elements/commerce-elements/pagination/pagination}}\n\t\t{{/show_more_link}}\n\t{{/show_pagination}}\n</div>'},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(68),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",s=[];i=n.values&&n.values.length||1;if(r.length>i){r.slice(i).remove();r=r.slice(0,i)}for(t=r.length;t<i;t++){s.push(o)}this.handles=r.add(e(s.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";if(t.range){if(t.range===true){if(!t.values){t.values=[this._valueMin(),this._valueMin()]}else if(t.values.length&&t.values.length!==2){t.values=[t.values[0],t.values[0]]}else if(e.isArray(t.values)){t.values=t.values.slice(0)}}if(!this.range||!this.range.length){this.range=e("<div></div>").appendTo(this.element);i="ui-slider-range"+" ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(i+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,o,s,a,l,c,u=this,d=this.options;if(d.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();i={x:t.pageX,y:t.pageY};n=this._normValueFromMouse(i);r=this._valueMax()-this._valueMin()+1;this.handles.each(function(t){var i=Math.abs(n-u.values(t));if(r>i||r===i&&(t===u._lastChangedValue||u.values(t)===d.min)){r=i;o=e(this);s=t}});a=this._start(t,s);if(a===false){return false}this._mouseSliding=true;this._handleIndex=s;o.addClass("ui-state-active").focus();l=o.offset();c=!e(t.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(t,s,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);this._slide(e,this._handleIndex,i);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,o;if(this.orientation==="horizontal"){t=this.elementSize.width;i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{t=this.elementSize.height;i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}n=i/t;if(n>1){n=1}if(n<0){n=0}if(this.orientation==="vertical"){n=1-n}r=this._valueMax()-this._valueMin();o=this._valueMin()+n*r;return this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(t);i.values=this.values()}return this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,o;if(this.options.values&&this.options.values.length){n=this.values(t?0:1);if(this.options.values.length===2&&this.options.range===true&&(t===0&&i>n||t===1&&i<n)){i=n}if(i!==this.values(t)){r=this.values();r[t]=i;o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r});n=this.values(t?0:1);if(o!==false){this.values(t,i)}}}else{if(i!==this.value()){o=this._trigger("slide",e,{handle:this.handles[t],value:i});if(o!==false){this.value(i)}}}},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(t);i.values=this.values()}this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){i.value=this.values(t);i.values=this.values()}this._lastChangedValue=t;this._trigger("change",e,i)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,i){var n,r,o;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i);this._refreshValue();this._change(null,t);return}if(arguments.length){if(e.isArray(arguments[0])){n=this.options.values;r=arguments[0];for(o=0;o<n.length;o+=1){n[o]=this._trimAlignValue(r[o]);this._change(null,o)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(t)}else{return this.value()}}}else{return this._values()}},_setOption:function(t,i){var n,r=0;if(t==="range"&&this.options.range===true){if(i==="min"){this.options.value=this._values(0);this.options.values=null}else if(i==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(e.isArray(this.options.values)){r=this.options.values.length}if(t==="disabled"){this.element.toggleClass("ui-state-disabled",!!i)}this._super(t,i);switch(t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(i==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(n=0;n<r;n+=1){this._change(null,n)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var t,i,n;if(arguments.length){t=this.options.values[e];t=this._trimAlignValue(t);return t}else if(this.options.values&&this.options.values.length){i=this.options.values.slice();for(n=0;n<i.length;n+=1){i[n]=this._trimAlignValue(i[n])}return i}else{return[]}},_trimAlignValue:function(e){if(e<=this._valueMin()){return this._valueMin()}if(e>=this._valueMax()){return this._valueMax()}var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;if(Math.abs(i)*2>=t){n+=i>0?t:-t}return parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t;this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);if(this.options.min!==null){e=Math.max(e,this._precisionOf(this.options.min))}return e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff?a.animate:false,u={};if(this.options.values&&this.options.values.length){this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100;u[l.orientation==="horizontal"?"left":"bottom"]=i+"%";e(this).stop(1,1)[c?"animate":"css"](u,a.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(n===0){l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate)}if(n===1){l.range[c?"animate":"css"]({width:i-t+"%"},{queue:false,duration:a.animate})}}else{if(n===0){l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate)}if(n===1){l.range[c?"animate":"css"]({height:i-t+"%"},{queue:false,duration:a.animate})}}}t=i})}else{n=this.value();r=this._valueMin();o=this._valueMax();i=o!==r?(n-r)/(o-r)*100:0;u[this.orientation==="horizontal"?"left":"bottom"]=i+"%";this.handle.stop(1,1)[c?"animate":"css"](u,a.animate);if(s==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate)}if(s==="max"&&this.orientation==="horizontal"){this.range[c?"animate":"css"]({width:100-i+"%"},{queue:false,duration:a.animate})}if(s==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate)}if(s==="max"&&this.orientation==="vertical"){this.range[c?"animate":"css"]({height:100-i+"%"},{queue:false,duration:a.animate})}}},_handleEvents:{keydown:function(t){var i,n,r,o,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=true;e(t.target).addClass("ui-state-active");i=this._start(t,s);if(i===false){return}}break}o=this.options.step;if(this.options.values&&this.options.values.length){n=r=this.values(s)}else{n=r=this.value()}switch(t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax()){return}r=this._trimAlignValue(n+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin()){return}r=this._trimAlignValue(n-o);break}this._slide(t,s,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(t,i);this._change(t,i);e(t.target).removeClass("ui-state-active")}}}})})},function(e,t,i){var n,r;!(n=[i(1),i(403),i(9)],r=function(e,t,i){var n={animation:200,draggable:".group__item",ghostClass:"group__ghost"};var r=i.View.extend.call(t,{constructor:function(i,r){i=e(i);if(i.length===0){throw new Error("No element provided")}r=e.extend({},n,r);t.call(this,i[0],r)}});r.create=function(e,t){return new r(e,t)};return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(6),i(7),i(230),i(31),i(42),i(180),i(22)],r=function(e,t,i,n,r,o){var s={};function a(e){if(!e.view){e.view=new o({el:e.el,uploadOptions:{target:e.target}}).on({start:h,"upload:start:video":p,"error:size":u,"error:type":f,error:d})}var i="all";if(e.type=="audio"){i="audio"}else if(e.type=="image"||e.type=="background"||e.type=="gallery"||e.type=="slideshow"||e.type=="headerslideshow"||e.areaType=="logo"||e.areaType=="image"){i="image"}else if(e.type=="doc"){i="doc"}else if(e.type=="video"){i="video"}else if(e.type=="flash"){i="flash"}var r={type:i,params:{cookies:document.cookie.match(/WeeblySession=[^;]+(;|$)/)[0],newid:function(){return Math.floor(Math.random()*10000001)},type:e.type||"",width:e.size||"",ucfid:e.ucfid||"",ucfpid:e.ucfpid||"",area_page_id:e.areaPageID||"",area_type:e.areaType||"",area_name:e.areaName||"",height:e.height||"",photoeditorFormat:true}};e.view.off("success");if(typeof e.successCallback==="function"){e.view.on("success",function(t,i){l.call(this,t,i,e.successCallback)})}else if(typeof e.successCallback==="string"){e.view.on("success",function(i,n){l.call(this,i,n,function(){t.execute(e.successCallback,null,i)})})}else{e.view.on("success",l)}e.view.off("error");if(typeof e.errorCallback==="function"){e.view.on("error",e.errorCallback)}else if(typeof e.errorCallback==="string"){e.view.on("error",function(i,n){t.execute(e.errorCallback,null,i)})}e.view.off("abort");if(typeof e.abortCallback==="function"){e.view.on("abort",e.abortCallback)}else if(typeof e.abortCallback==="string"){e.view.on("abort",function(i,n){t.execute(e.abortCallback,null,i)})}if(e.type=="video"){r.maxFileSize=Math.floor(n.accessValue("video_upload_limit")/1e3)}else{r.maxFileSize=Math.floor(n.accessValue("file_upload_limit")/1e3)}if(e.type=="gallery"||e.type=="slideshow"||e.type=="headerslideshow"||e.multipleFiles===true){r.multipleFiles=true}else{r.multipleFiles=false}e.view.setUploadOptions(r);return e.view}s.setupFileUploader=a;t.reqres.setHandlers({"dontSave:get":function(){return window.dontSave},"xhrUploading:get":function(){return window.xhrUploading}});t.commands.setHandlers({"dontSave:set":function(e){window.dontSave=e},"xhrUploading:set":v});e.commands.setHandlers({"xhrUploading:set":v});function l(e,t,i){if(e==="%%TOOMANYPHOTOS%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_2"))}else if(e==="%%TOOLARGE%%"){u(t)}else if(e==="%%LARGESITE%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_4"))}else if(e==="%%LARGESITESOFTLIMIT%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_5"))}else if(e==="%%INVALIDFILETYPE%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_6"))}else if(e==="%%CLIENTSTORAGEUPRADE%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_7"))}else if(e==="%%TOOBIG%%"){window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_17"))}else if(i){i(e,t)}else{c.call(this,e,t)}}function c(i,n){var r=n.params;if(r.type=="image"){t.execute("updateImageElement",i,r.ucfid,r.ucfpid)}else if(r.type=="file"||r.type=="audio"||r.type=="gallery"||r.type=="doc"||r.type=="flash"||r.type=="slideshow"){if(r.type==="gallery"||r.type==="file"||r.type=="doc"||r.type=="audio"){e.execute("dragndrop:dialog:close")}window.dontSave=1;window.updateList(window.currentPage);t.once("editor:middle",function(){window.dontSave=0})}else if(r.type=="video"){t.execute("refreshVideoElement",r.ucfid)}this.trigger("upload:complete:"+r.type)}function u(e){if(e.type=="video"){m()}else{var t=n.accessValue("file_upload_limit");var i=Math.floor(t/1024e3);var r=n.getNextLevel(n.level);if(r&&!isClientSite){window.modalProFeatures(_W.utl("html.weebly.libraries.weebly_uploads_9")+i+"MB. "+_W.utl("html.weebly.libraries.weebly_uploads_10"),"main",r)}else{window.showWarning(_W.utl("html.weebly.libraries.weebly_uploads_11")+i+"MB")}}}function d(t,r){if(t=="%%VIRUS%%"){e.execute("dragndrop:dialog:close");e.showDialog(new i)}else{window.showError("<p>"+_W.utl("html.weebly.libraries.weebly_uploads_13")+".<br /><br />"+(n.isClientSite?"":_W.utl("html.weebly.libraries.weebly_uploads_14")+"<br/><a href='http://kb.weebly.com/troubleshoot-upload.html' target='_blank'>"+_W.utl("html.weebly.libraries.weebly_uploads_15")+"</a> "+_W.utl("html.weebly.libraries.weebly_uploads_16"))+"</p>","",true)}window.fireTrackingEvent("WeeblyError","Upload Error",t)}function f(e){if(e.type=="video"){g()}}function h(e){var t=e.params.type;var i=e.params.ucfid;v(i);this.trigger("upload:start:"+t,i)}function p(e){t.execute("refreshVideoElement",e,true)}function m(){new r("video-size-error",{modal:true}).open()}function g(){new r("video-type-error",{modal:true}).open()}function v(e){window.xhrUploading=e}return s}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(5)],r=function(e){function t(e){var t=this;var i;var n={};var r=[];t.register=o;t.load=l;function o(e,t){if(e===true){i=t}else if(typeof e=="function"){r.push([e,t])}else if(typeof e=="string"){n[e]=t}else if(typeof e=="object"){e.each(function(e){n[e]=t})}}function s(t){return a(t)||n[t[e]]||i}function a(e){var t;r.find(function(i){if(i[0](e)){t=i[1];return true}});return t}function l(e,t,i,n){var r=s(e);if(r){return new r(e,t,i,n)}}}e.GenericLoader=t;return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(228),i(7),i(17),i(21)],r=function(e,t,i,n,r,o,s){var a=function(e,t){this.searchElements=e;this.cssClasses="inside-hover-highlight";if(t){this.cssClasses+=" ";this.cssClasses+=t}};a.prototype.testPoint=function(i,n){var o=this;var s=this.searchElements instanceof e;var a=this.found;this.found=null;var l=5;t.each(this.searchElements,function(t){var a;var c;var u;var d;if(s){t=e(t);if(t.hasClass("platform-element-child")){return false}var f=t.offset();a=f.left;c=f.top;u=t.width();d=t.height()}else{a=t.left;c=t.top;u=t.width;d=t.height}if(i>=a+l&&i<=a+u-l&&n>=c+l&&n<=c+d-l){var h=e("#inside_"+t.id);if(h.length){t=h}else{t=e("<div>",{id:t.id,css:{width:u,height:d,left:a,top:c},data:{is_site_wide:t.is_site_wide,parentString:t.parentString,area:t.area}});t.offset=function(){return{left:a,top:c}};t.addClass=function(e){r.execute("combiner:addClass",this[0].id,e)};t.removeClass=function(e){r.execute("combiner:removeClass",this[0].id,e)}}o.found=t;return false}});if(a&&(!this.found||a[0].id!==this.found[0].id)){a.removeClass(this.cssClasses)}if(this.found){this.found.addClass(this.cssClasses)}return this.found};r.commands.setHandlers({"combiner:addClass":function(t,i){e("#inside_"+t).addClass(i)},"combiner:removeClass":function(t,i){e("#inside_"+t).removeClass(i)}});a.prototype.callMethod=function(t,s){this.found.removeClass(this.cssClasses);var a=this.found[0].id.replace(/[\D]/g,"");var l=o.getElementObject(a).elData;var c=l.parentString;var u=l.area.name;var d=l.area.is_site_wide;var f;var h;var p;if(s instanceof e){s.hide();var m=s.find(".element");if(m.length){i.execute("xhrUploading:set",m[0].id)}f=s[0].id.replace(/[\D]/g,"");var g=o.getElementObject(f).elData;h=g.area.name;p=g.parentString}else{f=s.id;h=u;p=""}i.loading.start("CombineUtils::"+t);Weebly.Editor.RPC.Elements[t](window.currentPage,d,h,f,p,u,a,c).always(function(){i.loading.stop("CombineUtils::"+t);this.constructor.afterRPC()}.bind(this));var v=false;if(p.match(/-col/)!==null){v=true}if(s instanceof e){if(v){r.execute("removeEmptyColumns")}r.request("page:navigate",window.currentPage)}else{if(v){n.removeEmptyColumns()}i.build.updateList(window.currentPage)}};a.afterRPC=function(){if(s.inEditorContext()){i.execute("xhrUploading:set",null)}else{r.execute("xhrUploading:set",null)}};return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2)],r=function(e){return function(t,i){e.each(i,function(i){var n=i.events;var r=i.from;var o=i.to;t.listenTo(r,e.reduce(n,function(t,i){t[i]=function(){var t=e.toArray(arguments);t.unshift(i);o.trigger.apply(o,t)};return t},{}))})}}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;(function(o){!(n=[i(104)],r=function(e){var t={themeCache:new n(i("gettheme","",true,{format:"mustache"})),mobileThemeCache:new n(i("getmobiletheme","",true,{format:"mustache"}))};function i(t,i,n,r){return function(s,a){var l=r?o.extend({},r):{};l.pos=t;l[i||"keys"]=s;l.cookie=document.cookie;l.token=Weebly.RequestToken;new Ajax.Request(e.ajax,{parameters:l,onSuccess:function(e){if(n){a(e.responseText.evalJSON())}else{a(e.responseText)}},onFailure:e.errFunc})}}function n(e){var t=this;var i={};t.getCachedValue=function(e){if(e in i){return i[e]}else{return null}};t.get=function(t,n){if(t in i){n(i[t])}else{e(t,function(e){if(e[t]){e=e[t]}i[t]=e;n(e)})}};t.insert=function(e,t){i[e]=t};t.clear=function(e){if(e!==undefined){delete i[e]}else{i={}}}}Weebly.themeCache=t.themeCache;return t}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(1))},function(e,t,i){var n,r;!(n=[i(2),i(13),i(270)],r=function(e,t,i){var n=t.Panel.extend({hasContentLegacyStyles:false,initialize:function(){this.pageView=new i({options:e.defaults(this.options,{disableNewWindow:true,disableSearch:true,disableContributors:true,thisPageID:window.currentPage,hideThisPage:false,disableThisPage:false})})},destroy:function(){this.pageView.close();t.Panel.prototype.destroy.apply(this,arguments)},setPageViewOption:function(e,t){this.pageView.options[e]=t},renderContent:function(e){this.pageView.render();this.stopListening(this.pageView);this.listenTo(this.pageView,{"page:selected":this.onPageSelected});e.html(this.pageView.$el)},onPageSelected:function(t){if(!e.isArray(t)&&!t.pageID){return}this.trigger("page:selected",t)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(6),i(119),i(325),i(770),i(330)],r=function(e,t,i,n,r,o){var s;var a;var l=i.module("build.ui.view");l.on("start",function(){s=e(t.render(o)).insertAfter(n.getElement());a=e(t.render(r)).css({position:"absolute"}).appendTo(s);i.vent.trigger("build:view:ui:ready")});l.on("stop",function(){s.remove();s=null;a=null});l.getContainer=function(){return s?s:e("body")};l.getControls=function(){return a?a:e("body")};return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(14),i(7),i(185),i(186),i(29),i(18),i(23),i(22),i(17),i(173)],r=function(e,t,i,n,r,o,s,a,l,c){var u={};u.removeEmptyColumns=function(){i.loading.start("EditorBuildUtils::removeEmptyColumns::start");return e.when(c.getActiveContentAreas(),l.getCurrentThemeData(a.isMobileView)).always(function(){i.loading.stop("EditorBuildUtils::removeEmptyColumns::start")}).then(function(e,t){i.loading.start("EditorBuildUtils::removeEmptyColumns::request");return Weebly.Editor.RPC.Elements.removeEmptyColumns(window.currentPage,o.getAreaSummary(window.currentPage.replace(/\/.*/,""),t),window.currentBlog.postId,e[0].parentString,i.request("blog:current")!==undefined?1:0).always(function(){i.loading.stop("EditorBuildUtils::removeEmptyColumns::request")})})};r.commands.setHandler("removeEmptyColumns",u.removeEmptyColumns);u.parseMiddleData=function(e,i,n){if(!t.isObject(e)){try{e=JSON.parse(e)}catch(t){d(e,i,n);return false}}else if(t.isEmpty(e)){d(e,i,n);return false}return e};function d(e,t,r){if(typeof r=="undefined"){r=window.currentPage}var o=false;var a={};e=e.replace(/<!--%%(PAGELOCKED|PAGELOCKDATA)%%:(.*?)-->/,function(e,t,i){try{a=JSON.parse(i)}catch(e){return""}if(t=="PAGELOCKED"){o=true}return""});e=e.replace(/<!--%%PAGES%%:(.*?)-->/,function(e,t){try{s.updatePageData(JSON.parse(t))}catch(e){}return""});e=e.replace(/<!-- %%ALREADY_PUBLISHED%%:(.*?) -->/,function(e,t){if(t){i.vent.trigger("blog:already_published",t)}return""});if(e.match(/^Authentication error/)&&Weebly.Permissions.isContributor&&window.hasAllowedPages()&&!o){window.reloadAllowedPages()}var l=n.getPage(r);var c=l.get("kind")==="store"&&!Weebly.Permissions.store_edit;if(e.match(/^Authentication error/)&&window.hasAllowedPages()||o||c){var u=window._W.utl("javascript.editor.build.utils_1");var d="";if(o){var f=a[r];u=window._W.utl("javascript.editor.build.utils_8");if(!f||!f.email){d=window._W.utl("javascript.editor.build.utils_6")}else{d=window._W.utl("javascript.editor.build.utils_7",f.email)}}else if(window.externalLibariesLoaded){u=window._W.utl("javascript.editor.build.utils_4")}window.showPageChooser(u,d,{page_locked:o,page_locks:a,initial_load:t})}}u.setProperty=function(e,t){return window.setContentFieldProperty(Weebly.Elements.ucfid,e,t)};return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(10)],r=function(e){var t={};t.DESIGN_OPTIONS_SELECTORS={global:".wsite-elements.wsite-not-footer:not(.wsite-header-elements) div.paragraph, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) p:not(.wsite-image-placeholder-text), "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-block .product-title, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-description, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .weebly-form-field label, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .wsite-form-field label, "+"#secondlist div.paragraph, "+"#secondlist p p:not(.wsite-image-placeholder-text), "+"#secondlist .product-block .product-title, "+"#secondlist .product-description, "+"#secondlist .weebly-form-field label, "+"#secondlist .wsite-form-field label",globalColor:"#secondlist div.paragraph, "+"#secondlist p p:not(.wsite-image-placeholder-text), "+"#secondlist .product-block .product-title, "+"#secondlist .product-description, "+"#secondlist .weebly-form-field label, "+"#secondlist .wsite-form-field label",footerGlobal:".wsite-elements.wsite-footer div.paragraph, "+".wsite-elements.wsite-footer p, "+".wsite-elements.wsite-footer .product-block .product-title, "+".wsite-elements.wsite-footer .product-description, "+".wsite-elements.wsite-footer .weebly-form-field label, "+".wsite-elements.wsite-footer .wsite-form-field label",
header:".wsite-elements.wsite-not-footer:not(.wsite-header-elements) h2, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-long .product-title, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-large .product-title, "+".wsite-elements.wsite-not-footer:not(.wsite-header-elements) .product-small .product-title, "+"#secondlist h2, "+"#secondlist .product-long .product-title, "+"#secondlist .product-large .product-title, "+"#secondlist .product-small .product-title",headerColor:"#secondlist h2, "+"#secondlist .product-long .product-title, "+"#secondlist .product-large .product-title, "+"#secondlist .product-small .product-title",footerHeader:".wsite-elements.wsite-footer h2, "+".wsite-elements.wsite-footer .product-long .product-title, "+".wsite-elements.wsite-footer .product-large .product-title, "+".wsite-elements.wsite-footer .product-small .product-title",siteTitle:"#wsite-title",navMenu:".wsite-menu-default a",flyoutMenu:".wsite-menu a",imageCaptions:".wsite-image div, .wsite-caption",galleryCaptions:".galleryCaptionInnerText",lightboxGalleryCaptions:".fancybox-title",slideshowCaptions:".wslide-caption-text",phone:".wsite-phone",headline:".wsite-headline,"+"."+e.HEADER_SECTION_CLASS_NAME+" .wsite-content-title",subHeadline:".wsite-headline-paragraph,"+"."+e.HEADER_SECTION_CLASS_NAME+" .paragraph",button:".wsite-button-inner",blockquote:".wsite-not-footer blockquote",footerBlockquote:".wsite-footer blockquote",blogPostTitle:".blog-header h2 a",productHighlight:".wsite-product",productTitle:"#secondlist h2.wsite-product-title",productPrice:".wsite-product .wsite-product-price a",navButton:"[for=navTrigger], [for=nav-trigger], [for=mobile-input], [for=mobile-trigger], #header #nav-trigger, .hamburger, .wsite-menubutton .wsite-menu-button .wsite-menu-button-bars"};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(4),i(3),i(674)],r=function(e,t,i,n){"use strict";var r=t.Marionette.ItemView.extend({dialog:{dialogClass:"upload-virus-error",title:e.utl("javascript.editor.dialogs.UploadVirusError_1"),size:"550x250",buttons:[{group:"pull-right",buttons:[{text:e.utl("javascript.editor.dialogs.UploadVirusError_2"),className:"btn-com btn-info"}]}]},triggers:{"click .btn-info":"dialog:close"},template:i.compile(n)});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(123),i(64)],r=function(e,t){var i={bootstrapData:null,abTestCollection:null,getBootstrapData:function(){var t=this.isLoadedInSpringboard();if(this.bootstrapData){return t?this.bootstrapData.bootstrap:this.bootstrapData}if(t){this.bootstrapData=e("store-app/app")}else{this.bootstrapData=e("editor/app")}return t?this.bootstrapData.bootstrap:this.bootstrapData},getABTestCollection:function(){if(this.abTestCollection){return this.abTestCollection}var e=this.getBootstrapData();var i=e.ab_test_data||e.abTestData;this.abTestCollection=(new t).fromBackendData(i);return this.abTestCollection},getRawABTestData:function(){var e=this.getBootstrapData();var t=e.ab_test_data||e.abTestData||{};var i={};Object.keys(t).forEach(function(e){i[e]={segment:t[e].user.segment,variables:t[e].user.variables}});return i},isCommerceFunnel:function(){if(!this.getBootstrapData().site){return false}return this.getBootstrapData().site.funnel_experience==="ecommerce"},isLoadedInSpringboard:function(){return!window.editorApp||!window.editorApp.commerce},isFunnelTemplateSelected:function(){return!!this.getBootstrapData().site.funnel_template_selected},setFunnelTemplateSelected:function(){this.getBootstrapData().site.funnel_template_selected=true},isInitializedWithoutVertical:function(){return!!this.getBootstrapData().site.initialized_without_vertical},setInitializedWithVertical:function(){this.getBootstrapData().site.initialized_without_vertical=false},hasFinishedOnboardingSteps:function(){return this.getBootstrapData().site.remaining_onboarding_steps===0},setRemainingOnboardingSteps:function(e){this.getBootstrapData().site.remaining_onboarding_steps=e},showCommerceDrivenEditor:function(){return this.getABTestCollection().getTestVariable("ecommerceFunnelTest","showCommerceDrivenEditor")},isCloudOrDesignerPlatformUser:function(){return window.user&&window.user.isCloudOrDesignerPlatformUser},isNonCommerce3User:function(){return!!this.getBootstrapData().user.non_commerce_3},hasUserSelectedTheme:function(){return!!this.getBootstrapData().site.has_user_selected_theme},setHasUserSelectedTheme:function(){this.getBootstrapData().site.has_user_selected_theme=true}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(284),i(140),i(183)],r=function(e,t,i,n){var r=Class.create(t,{TEXT_LOADING_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_1"),TEXT_LOADING_BODY:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_2"),TEXT_SUCCESS_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.BlogPost_3"),success:function($super,e){if(e.indexOf("%%PUBLISH_DISABLED%%")!==-1){this.close();return this}return $super(e)},createShareButton:function($super,e,t,r){var o=this.getBodyElement().select(".publish-share")[0];var s=o.readAttribute("data-post-id");var a={facebook:i,twitter:n};return new e(t,{shareHandler:"ajax",shareOptions:{type:r,pos:"blogpostshare",post_id:s},authWindow:a[r.toLowerCase()]})}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(232)],r=function(e,t){var i=Class.create(t,{TEXT_LOADING_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_1"),TEXT_LOADING_BODY:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_2"),TEXT_SUCCESS_TITLE:e.utl("html.weebly.libraries.classes.PublishWindow.NewBlogPost_3")});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5)],r=function(e){return{has:function(t){return e.Permissions[t]}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(11),i(265),i(92),i(17),i(22)],r=function(e,t,i,n,r){var o={topLevelDroppables:[],allDroppables:[]};i.vent.on({"editor:middle editor:spotlight:open editor:spotlight:close":s});function s(){a();e(c()).addClass("weebly-area-active");window.repositionElements()}function a(){e(o.topLevelDroppables).removeClass("weebly-area-active");l()}function l(){o.topLevelDroppables.length=0;o.allDroppables.length=0}function c(){var t;var i=r.getCurrent();if(i){if(i.container.context.tagName==="UL"){t=i.container.filter(".weebly-content-area, .formlist").eq(0).get()}else{t=i.container.find("ul").filter(".weebly-content-area, .formlist").eq(0).get()}}else if(Weebly.pageContext&&Weebly.pageContext.kind==="blog"){if(Weebly.pageContext.post_id&&Weebly.pageContext.post_id!="0"){t=e("#secondlist-blog").eq(0).get()}else{t=e(".columnlist-blog,"+".weebly-area:not(.weebly-spotlighted, #secondlist, .wsite-platform-area) .weebly-content-area").get()}}else{t=e(".weebly-area:not(.weebly-spotlighted, .wsite-platform-area) .weebly-content-area, .wsite-custom-content, .wsite-com-long-description").get()}l();o.topLevelDroppables.push.apply(o.topLevelDroppables,t);o.allDroppables.push.apply(o.allDroppables,o.topLevelDroppables);o.allDroppables.push.apply(o.allDroppables,f());o.allDroppables.push.apply(o.allDroppables,h());return o.topLevelDroppables}o.buildTopLevelDroppables=c;function u(e,t){return t.depth-e.depth}function d(){return{element:this,depth:e(this).parents().length}}function f(){var i=[];var r;if(n.isEditing){r=e(o.topLevelDroppables).find(".columnlist")}else{r=e(o.topLevelDroppables).find(".columnlist:not(.formlist .columnlist)")}var s=r.map(d).get().sort(u);i.push.apply(i,t.pluck(s,"element"));return i}function h(){var t=e(o.topLevelDroppables).find(".content-area-element .content-area-list");return t}function p(t){for(var i=0;i<o.topLevelDroppables.length;i++){if(e.contains(o.topLevelDroppables[i],t)){return o.topLevelDroppables[i]}}return null}o.getElementsInDroppable=function(t){if(t instanceof e){t=t[0]}return e(p(t)).find("li.inside")};return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(3),i(12),i(11),i(14),i(305),i(146),i(158),i(137),i(15),i(106),i(18),i(229),i(7),i(75),i(36),i(105),i(29),i(185),i(181),i(17),i(738),i(737),i(736),i(735),i(372),i(10),i(23),i(333),i(195),i(371),i(331),i(641)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E,T,C,S,I,O,k,x,D){var R=o.module("themes");R.forceThemeRerender=false;R.currentStyleNum=Math.floor(Math.random()*10000000001);function P(){R.forceThemeRerender=true}var A="";var N="";function M(){N=""}R.on("start",function(){o.vent.on({forceThemeRerender:P,applyDesignStyle:R.applyDesignStyle,processPageDataHook:se});m.on({forceThemeRerender:P,changeTheme:M});m.commands.setHandlers({forceThemeRerender:P,highlightText:R.highlightText,unhighlightText:R.unhighlightText,applyDesignStyle:R.applyDesignStyle,addBodyClass:R.addBodyClass,removeBodyClass:R.removeBodyClass,removeBodyClassesMatching:R.removeBodyClassesMatching,toggleBodyClass:R.toggleBodyClass});m.reqres.setHandlers({"type:styles:get":R.getStylesByType,"font:family:default":R.getDefaultFont});A=t("body")[0].className;if(r.chromeless){A+=" "+k.MOBILE_EDITOR_BODY_CLASS}});R.addBodyClass=function(e){t("body").addClass(e)};R.removeBodyClassesMatching=function(e){var i=t("body");var n=i.attr("class").split(" ");n.forEach(function(t){if(t.match(e)){i.removeClass(t)}})};R.removeBodyClass=function(e){t("body").removeClass(e)};R.toggleBodyClass=function(e,i){t("body").toggleClass(e,i)};R.renderPage=function(n,r,s,a,l){function u(){var e=[];if(l){e=t("img").map(x.whenImageLoaded).get()}t.when.apply(t,e).always(function(){if(n){n()}o.vent.trigger("pageRendered");m.trigger("pageRendered")})}m.execute("setElementsPageType");W=a?a.icontentPageLink:"";var f=ae();if(R.forceThemeRerender){R.forceThemeRerender=false;R.renderTheme(false,u,r,s,a);return}if(i.isEmpty(h.currentThemeData)){R.renderTheme(false,u,r,s,a);return}if(a.kind==="store"||f!==window.currentPageType){window.currentPageType=f;R.renderTheme(true,u,r,s,a);return}d.globalBeforeRender();i.each([e.siteContext,e.pageContext],function(e){if(e._oldContext){e._oldContext.unrender();e.renderAreas(e._oldContext.getAreas());delete e._oldContext}});d.globalAfterRender();K();j();c.updateFooter();window.disableFlyouts=false;ne(true);refreshNavCondense();E.repositionElements();u()};R.renderThemeFunc=function(n,o,s,l){if(!e.siteContext&&!e.pageContext){return}if(!e.pageContext){return}t("body")[0].className=A;if(r.chromeless){t("body").addClass(k.MOBILE_EDITOR_BODY_CLASS)}if(s&&typeof s==="object"){h.setCurrentTheme(s.theme_id,b.isMobileView)}i.each([e.siteContext,e.pageContext],function(e){var t=e._oldContext||e;if(t.unrender){t.unrender()}delete e._oldContext});if(!n&&l){R.setThemeStyle(currentTheme,currentThemeColor,l,s)}if(s&&typeof s==="object"){h.setCurrentThemeData(s)}m.execute("theme:upgrading",h.currentThemeData);if(window.navFlyoutMenu){window.disableFlyouts=true;window.navFlyoutMenu.destroy()}i.each(h.currentThemeData.fonts,function(e){u.loadFont(e)});window.currentPageType=ae();var c=h.currentThemeData.page_type_templates[window.currentPageType];F(c.body,h.currentThemeData).done(function(e){if(!N){N=t("body")[0].className;if(r.chromeless){N+=" "+k.MOBILE_EDITOR_BODY_CLASS}}if(!n){L(e).always(j)}else{j()}m.execute("mobile:updateAreaOptions");B(e).done(o)});var d=Q(h.currentThemeData);if(d!=""){$(d)}else if(c.needs_light_test){c.needs_light_test=false;window.whenThemeCSSLoaded(function(){var e=X();if(!e){c.body_attrs=c.body_attrs.replace(/wsite-theme-(light|dark)/,"wsite-theme-dark")}else{c.body_attrs=c.body_attrs.replace(/wsite-theme-(light|dark)/,"wsite-theme-light")}j();m.execute("theme:light:set",e?"1":"0")})}if(e.pageContext.is_blog){a.init()}};R.renderTheme=i.throttle(R.renderThemeFunc,1500);function L(n){if(!n||!n.plugins||r.chromeless){var o=new t.Deferred;return o.reject().promise()}return e.Editor.RPC.ThemeOption.getSavedThemeOptions().done(function(e){O.clearPluginOptionValues();n.plugins.forEach(function(e){if(!i.isObject(e)){e={name:e}}var t=i.omit(e,"name","default","defaults");i.each(t,function(t,i){O.setPluginOptionValue(e.name+"/"+i,t,false)})});e.forEach(function(e){O.setPluginOptionValue(e.name,e.value,false)});m.off("theme:optionChanged");m.on({"theme:optionChanged":function(e,t){O.setPluginOptionValue(e,t,true)}})}).fail(window.errFunc)}function B(i){var n=new t.Deferred;var r=re().current_item_id;window.whenThemeCSSLoaded(function(){var s=t('[class*="wsite-header"]:not(.wsite-header-section)');l.reportHeaderElement(s);K();c.updateFooter();e.siteContext.afterRender();e.pageContext.afterRender();d.globalAfterRender();window.disableFlyouts=false;ne(true);var a=y.getAreaSummary(currentPage.replace(/\/.*/,""),i)||[];var u={};for(var f=0,h=a.length;f<h;f++){if(a[f]["type"]==="membership"){u.hasCustomMembership=true}else if(a[f]["type"]==="minicart"){u.hasCustomMinicart=true}}if(window.ENABLE_PAGE_HIERARCHY){u.templates=R.getPartials(i);window.initEditorFlyoutMenus(r,u)}E.repositionElements();if(b.isMobileView){m.trigger("setMobileView")}n.resolve();o.vent.trigger("themeRendered",currentTheme,window.currentPageType);m.trigger("themeRendered",currentTheme,window.currentPageType)});return n.promise()}function K(){var e=g.getCurrentHeader();if(e){l.setCurrentHeaderImage(e,true)}}function F(i,o){var s=new t.Deferred;var a=h.currentThemeData.enableEditorJS&&!r.chromeless;var l=false;var c=t("#icontent").empty();v.clearAreaBatch();d.globalBeforeRender();e.siteContext.beforeRender();e.pageContext.beforeRender();var u=n.render(i,{links:z(),area:function(){return function(e){var i=JSON.parse(e);return t("<custom_area>",{type:i.type,name:i.name,attrs:JSON.stringify(i.attrs)})[0].outerHTML}}},R.getPartials(o));if(a){u=t(u)}else{c[0].innerHTML=u}c.append('<div id="wsite-menus"></div>');if(a){c.prepend(u)}c.find("custom_area").each(function(){var e=t(this);var i=e.attr("name");var n=e.attr("type");var r=e.attr("attrs");var o;r=r?JSON.parse(r):{};o=H(n,i,r);if(!l){if(typeof o==="string"){var s=t("<div>");s[0].innerHTML=o;s.find("script").not(".element-script").remove();o=s.children()}else{t(o).find("script").not(".element-script").remove()}}e.replaceWith(o);t(o).find("script.element-script").data("evaluated",true)});U(c);v.batchFetchNeededAreas(function(){s.resolve(o)});return s.promise()}function H(t,i,n){var r=n["global"];var o=r?e.siteContext:e.pageContext;if(t=="credits"){return"<span id='weeblyfooterattribution' style='display:none;margin:1em 0 0;padding:0 0 1em;font-size:.8em'></span>"}else if(i=="header"||t=="header"){}else{return o.getAreaHTML(t,i,n)}}var W="";function j(){if(N){t("body")[0].className=N;if(r.chromeless){N+=" "+k.MOBILE_EDITOR_BODY_CLASS}}var e=h.currentThemeData.page_type_templates[window.currentPageType];var i=e.body_attrs.replace(/^.*class\s*=\s*[\'"](.*?)[\'"].*$/,"$1");var n=t("#icontent")[0];var o=n.className+" wsite-background";var s=(W||"")+" "+i+(b.isMobileView?" wsite-mobile":"");t("body").removeClass(o).addClass(s);s=s.replace(/(^| )wsite-background( |$)/," ");n.className="icontent "+s;O.init({editor:true});m.trigger("theme:classes:updated")}function $(e){var i=t("body");var n=e=="light";i.toggleClass("wsite-theme-light",n);i.toggleClass("wsite-theme-dark",!n)}function z(e){e=e||s.toJSON();return i.chain(e).filter(function(e){return!e.hidden}).map(function(e){var t=z(e.children);return{children:t,has_children:t&&t.length>0,id:"pg"+e.id,is_current:window.currentPage&&e.id==window.currentPage,title_html:e.title.replace("\\'","'").replace('\\"','"'),url:"page://"+e.id,target:false,membership_required:e.membership_required}}).value()}function V(e){e=e||currentThemeData;var t=re().normal_item_template;var i=objectify(e.partials_templates);i["navigation/list"]=i["navigation/list"]||T;i["navigation/item"]=t||i["navigation/item"]||C;i["navigation/flyout/list"]=i["navigation/flyout/list"]||S;i["navigation/flyout/item"]=i["navigation/flyout/item"]||I;return i}R.getPartials=V;function U(e){e.find('a[href^="page://"]').each(function(e,i){var n=t(i);var r=n.attr("href").match(/^page\:\/\/(.*)$/)[1];var o=s.getPage(r).toJSON();n.attr("href","#").removeAttr("data-membership-required");if(b.isMobileView){return}if(o.extlink){q(n,o)}else if(o.nonclickable){Y(n,o)}else{G(n,o)}})}R.processNavLinks=U;function G(e,i){e.on({click:function(e){if(r.chromeless){var n=t(e.target.parentNode);if(window.navFlyoutMenu){var s=n.attr("id");if(!window.navFlyoutMenu.mouseoverItems.any(function(e){return e.attr("id")==s})){window.navFlyoutMenu.contract()}}if(n.hasClass("wsite-nav-more")||!n.data("isExpanded")&&n.data("hasChildren")){n.trigger("mouseover")}else{o.vent.trigger("navClicked",i.id)}}else{if(window.navFlyoutMenu){window.navFlyoutMenu.contract()}noJump=1;o.vent.trigger("navClicked",i.id)}e.preventDefault()}})}function q(e,t){e.on({click:function(e){if(r.chromeless){o.vent.trigger("navClicked",t.id)}e.preventDefault()},mouseover:function(e){f.onExternalLinkHover(t,e)},mouseout:function(){f.hideNavTooltip()}})}function Y(e,t){e.on("click",false)}function X(){var e=t("<div>",{class:"paragraph"});t("#secondlist").append(e);var i=new D(e.css("color"));e.remove();var n=J(i.r,i.g,i.b);return n[2]<.57}function J(e,t,i){e/=255;t/=255;i/=255;var n=Math.max(e,t,i),r=Math.min(e,t,i);var o,s,a=(n+r)/2;if(n==r){o=s=0}else{var l=n-r;s=a>.5?l/(2-n-r):l/(n+r);switch(n){case e:o=(t-i)/l+(t<i?6:0);break;case t:o=(i-e)/l+2;break;case i:o=(e-t)/l+4;break}o/=6}return[o,s,a]}function Q(e){if(e["variations"]){var t=e["variations"];for(var i=0;i<t.length;i++){if(t[i]["value"]===currentThemeColor){if(t[i]["is-dark"]===true){return"dark"}else if(t[i]["is-dark"]===false){return"light"}}}}if(e["is-dark"]===true){return"dark"}else if(e["is-dark"]===false){return"light"}return""}R.setThemeStyle=function(e,i,n,o){if(window.siteType=="myspace"){R.currentStyleNum=Math.floor(Math.random()*10000000001)}if(r.chromeless&&n){n=n.replace(/\/\/cdn/g,"http://cdn")}var s=t("#wsite-base-style");var a=o!=null?o.base_stylesheet_url:window.currentThemeData.base_stylesheet_url;var l=s.attr("href");if(a!==l){s.attr("href",a)}var c=t("style[title=wsite-theme-css], link[title=wsite-theme-css]");var u=te(e,n);t("head").append(u);c.remove();var d=t('link[href*="social-icons"]');if(o){if(!_.isUsingGlyphIcons(o)&&d.length){d.remove()}else if(_.isUsingGlyphIcons(o)&&!d.length){t(u).before(ie())}}if(Prototype.Browser.Gecko){ee(e)}};var Z=0;function ee(e,i){setTimeout(function(){try{t("#wsite-theme-"+e+"-file")[0].sheet.cssRules;var n=w.getCurrentStyles("links");if(n.visited==i){throw"Same Color"}t("#themeStyle")[0].update("#secondlist .editable-text a:link{color:"+n.link+" !important;}");Z=0}catch(t){Z++;if(Z<10){if(i==null&&window.externalLibariesLoaded){var n=w.getCurrentStyles("links");i=n.visited}ee(e,i)}else{Z=0}}},250)}function te(e,t){var i=document.createElement("style");i.innerHTML=t;i.id="wsite-theme-"+e+"-file";i.title="wsite-theme-css";i.rel="stylesheet";i.type="text/css";return i}function ie(){var e=document.createElement("link");var t=r.chromeless?"social-icons-native-mobile.css":"//"+ASSETS_BASE+"/css/social-icons.css?buildTime="+window.buildTime;e.href=t;e.media="screen,projection";e.rel="stylesheet";e.type="text/css";return e}function ne(){var e=re().current_item_id;var i=t('[id="'+e+'"]');var n=i.data("saved-id");var r="pg"+currentPage;if(r==n){return}var o=t('[id="'+r+'"]');if(i.length){i.attr("id",i.data("saved-id"))}if(o.length){o.data("saved-id",o.attr("id"));o.attr("id",e)}}function re(){var e=ae();return h.currentThemeData.page_type_templates[e]}var oe=null;function se(e){oe=e.page_layout||null}function ae(){var e=h.currentThemeData;var t=currentPage.replace(/\/.*/,"");if(oe&&oe in e.page_type_templates){return oe}return f.getPageType(t,e,b.isMobileView)}R.applyDesignStyle=function(e){var i=t("#designOptionsStyle");if(!i.length){var n=t("<style/>",{type:"text/css",id:"designOptionsStyle"});t("head").append(n);i=n}if(i[0].styleSheet){i[0].styleSheet.cssText+=e}else{i.html("").append(e)}refreshNavCondense()};var le="box-shadow: 0 0 1px 3px rgba(85, 185, 255, .6); border-radius: 3px;";function ce(){var e="";t.each(p.DESIGN_OPTIONS_SELECTORS,function(t,i){if(t.match(/Color$/))return;var n=i.split(/\s*,\s*/);for(var r=0;r<n.length;r++){n[r]=".highlight-"+t+" "+n[r]}i=n.join(", ");e+=i+" { "+le+" } "});e+=".highlight-a .wsite-not-footer h2.wsite-content-title a,"+".highlight-a .wsite-not-footer .paragraph a,"+".highlight-a .wsite-not-footer blockquote a,"+".highlight-a .wsite-not-footer .blog-sidebar a,"+".highlight-a .wsite-not-footer .blog-comments a,"+".highlight-a .wsite-not-footer .blog-comments-bottom a { "+le+" } ";e+=".highlight-footerA .wsite-footer h2.wsite-content-title a,"+".highlight-footerA .wsite-footer .paragraph a,"+".highlight-footerA .wsite-footer blockquote a { "+le+" } ";t("head").append("<style>"+e+"</style>")}var ue={"site-title":"siteTitle","paragraph-title":"header","paragraph-text":"global",links:"a","navigation-menu-text":"navMenu","image-captions":"imageCaptions","photo-gallery-captions":"galleryCaptions","slideshow-captions":"slideshowCaptions","phone-number-field":"phone","landing-page-headline":"headline","landing-page-sub-headline":"subHeadline",button:"button",blockquote:"blockquote","footer-paragraph-title":"footerHeader","footer-paragraph-text":"footerGlobal","footer-links":"footerA","footer-blockquote":"footerBlockquote","blog-post-title":"blogPostTitle",product:"productHighlight"};var de=false;R.highlightText=function(e){if(!de){ce();de=true}t("body").addClass("highlight-"+ue[e])};R.unhighlightText=function(e){t("body").removeClass("highlight-"+ue[e])};R.getStylesByType=function(e){var n=t(p.DESIGN_OPTIONS_SELECTORS[ue[e]]).eq(0);var r=n.children("font");if(n.length===0){return{}}var o=window.getComputedStyle(n.get(0));o=i.pick(o,"fontFamily","size","color","textTransform");if(r.length>0){o.color=r.eq(0).css("color")}return o},R.getDefaultFont=function(e){var i=t(p.DESIGN_OPTIONS_SELECTORS[ue[e]]).eq(0);var n=t("head");var r=n.find("style");var o=0;var s=t("#designOptionsStyle");var o=r.index(s);s.remove();var a=i.css("fontFamily")||"";o=o<=0?1:o-1;s.insertAfter(r.eq(o));return a.split(",")[0]};window.processNavLinks=R.processNavLinks;return R}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(11),i(7),i(93)],r=function(e,t,i,n,r,o){var s=t.extend({},i.Events,{show:function(i){i=t.extend({},{opacity:"0",zIndex:13,element:e()},i);if(!i.element.length){return}this.destroy();this.instance=new o(i);this.instance.show();this.setElement();this.bindEvents();this.pollHeight();return this.instance},hide:function(){if(this.instance){this.instance.hide()}},bindEvents:function(){this.instance.container.on("click.spotlight",this.destroy.bind(this));this.listenTo(n.vent,"element:options:dialog:close",this.destroy);this.listenTo(r,"site:overlays:hide",this.destroy)},setElement:function(){this.$el=this.instance.elements[0]},pollHeight:function(){var e=this.$el.outerHeight();this.interval=setInterval(function(){var t=this.$el.outerHeight();if(t!==e){e=t;this.instance.position()}}.bind(this),200)},destroy:function(){if(this.instance){clearInterval(this.interval);this.stopListening();this.instance.container.off("click.spotlight");this.instance.destroy();delete this.$el;delete this.instance;this.trigger("destroy")}}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(10),i(7)],r=function(e,t,i,n){var r={};var o=null;var s=false;var a={};a[i.POSITION_TOP]="top";a[i.POSITION_RIGHT]="right";a[i.POSITION_BOTTOM]="bottom";a[i.POSITION_LEFT]="left";r.removeMarker=function(){if(o){if(o.$el){c(o,s,-15)}e("#sortableMarker").remove();o=null;s=false}};r.createMarkerFromEdge=function(t){if(o){r.removeMarker()}var n=e("#_editor-ui").offset().top;if(!t.elementId){l(t.x1,t.y1-n,t.x2-t.x1,t.y2-t.y1)}else{var a=e("#"+t.elementId);if(!a.length){a=e("#inside_"+t.elementId);if(!a.length){return}}var u=a.is(".wsite-multicol-col:first-child");var d=a.is(".wsite-multicol-col:last-child");var f=a.is("li.inside:last-child:not(.wsite-multicol-col li)");var h=t.position===i.POSITION_LEFT;var p=t.position===i.POSITION_RIGHT;var m=t.position===i.POSITION_BOTTOM;var g=0;if((u||d)&&(h||p)){var v=parseInt(a.closest(".wsite-multicol-table-wrap").css("margin-left"),10);if(u&&h){g=-v}else if(d&&p){g=v}}l(t.x1+g,t.y1-n,t.x2-t.x1,t.y2-t.y1);t.$el=a;if(h||p||f&&m){c(t,f,15)}s=f}o=t};function l(t,i,n,r){var o=e("#_editor-ui");var s=e("#sortableMarker");if(!s.length){s=e(f());o.append(s)}s.css({top:i+"px",left:t+"px",width:n?n+"px":"",height:r?r+"px":""})}function c(e,t,n){var r;var o;var s=e.position===i.POSITION_LEFT;var l=e.position===i.POSITION_RIGHT;var c=e.position===i.POSITION_BOTTOM;u.call(e.$el,"");if(e.$el.is(".wsite-multicol-col")){if(s){o=e.$el;r=e.$el.prev()}else if(l){r=e.$el;o=e.$el.next()}else{return}d.call(r,"right",n);d.call(o,"left",n)}else if(c&&t){u.call(e.$el,-(n/3))}else{d.call(e.$el,a[e.position],n)}}function u(e){if(e){this.css("transform","translateY("+e+"px)")}else{this.css("transform","")}}function d(e,t){if(this.length===0){return}var i="padding-"+e;var n=this.prop("style")[i];if(n){n=parseInt(n,10)}else{n=0}this.css(i,n+t+"px")}function f(){return e("<div>").attr("id","sortableMarker").addClass("sortableMarker")}t.extend(window,r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(4),i(3),i(54),i(162),i(161),i(769),i(768)],r=function(e,t,i,n,r,o,s,a,l,c){var u=n.View.extend({events:{"click #cancel-button":"cancel","click #choose-button":"choose","click #w-theme-preview-colors a":"switchColor"},tagName:"div",id:"w-theme-preview",iframe:undefined,initialize:function(e){this.initializeTemplate();this.user=e.user||typeof window.userID!=="undefined"?window.userID:"";this.site=e.site||typeof window.currentSite!=="undefined"?window.currentSite:"";this.page=e.page||"";this.theme=e.theme;this.themeForOptions=e.themeForOptions;this.merchSiteId=e.merchSiteId;this.colors=e.colors||[];this.selectedColor=e.selectedColor||"";this.callback=e.callback;this.isUpgrade=e.isUpgrade;this.customChangeTheme=e.customChangeTheme;this.inEditor=e.inEditor;this.cancelCallback=e.cancelCallback;this.initializeFrame();this.create()},initializeFrame:function(){var i=this;i.navigate();i.iframe=document.createElement("iframe");i.iframe.src=window.bridgeTarget+"/editor/preview.php";i.relay=new s;i.bridge=new a(window.bridgeTarget);i.frameReady=e.Deferred();i.relay.commands.setHandlers({"preview:navigate":function(e){i.page=t.result(e,"page_id");i.route=e.route||"";i.navigate()}});i.iframe.onload=function(){i.frameReady=i.bridge.setup(i.relay.incoming,i.iframe.contentWindow,i.relay.outgoing)}},initializeTemplate:function(){var e=this;this.isWhiteLabeled=false;if(window.inEditor&&window.inEditor()){this.isWhiteLabeled=o.isWhiteLabeled()}this.templateTopbar=r.compile(l);this.templatePalette=r.compile(c)},render:function(){var e,t;if(this.colors.length>1&&!this.merchSiteId){t=this.templatePalette({colors:this.colors})}e=this.templateTopbar({palette:t,isWhiteLabeled:this.isWhiteLabeled});this.$el.append(e).append(this.iframe);var i=this.selectedColor||"";i=i.replace(/'/g,"\\'");if(i){this.$el.find("#w-theme-preview-colors a[data-color='"+i+"']").addClass("selected")}else{this.$el.find("#w-theme-preview-colors a[data-color]").first().addClass("selected")}return this},navigate:function(){var t=this,i=t.generateURL();t.trigger("preview:navigate",i);return e.get(i).then(function(e){return t.frameReady.then(function(){return t.relay.request("preview:render",e)})}).done(function(){t.show()})},show:function(){var t=this;e(document.body).addClass("noscroll");t.trigger("preview:show");t.$el.addClass("show")},generateURL:function(){var e=this.theme.match(/^custom_(.*)_(\d+)$/);var t=this.selectedColor?"&color="+this.selectedColor:"";var i=this.themeForOptions;var n=this.page;var r=this.route;return"/theme_browser/preview.php"+"?user_id="+this.user+"&site_id="+this.site+(e?"&theme_id="+e[2]+"&custom_theme_name="+e[1]+t:"&theme_id="+this.theme+t)+(i?"&theme_id_for_options="+i:"")+(n?"&page_id="+n:"")+(r?"&route="+r:"")+(this.merchSiteId?"&merchSiteId="+this.merchSiteId:"")},create:function(){var t=this;this.render();e(parent.document.body).append(this.el)},cancel:function(){var t=this;t.$el.removeClass("show");e(document.body).removeClass("noscroll");t.destroyBridge();setTimeout(function(){t.remove()},350);if(typeof this.callback!=="undefined"){this.callback(false);this.callback=undefined}if(typeof this.cancelCallback==="function"){this.cancelCallback()}},destroyBridge:function(){var e=this;e.bridge.destroy();e.relay.commands.removeHandlers(["preview:navigate"])},choose:function(){var e=this;var t=e.customChangeTheme||window.changeTheme;if(e.isUpgrade){i.themeCache.get(e.theme,function(i){i.is_downgradable=true;if(e.inEditor){t(e.theme,e.selectedColor,null,null,e.merchSiteId)}else{t(e.theme,e.selectedColor,e.merchSiteId)}})}else{if(e.inEditor){t(e.theme,e.selectedColor,null,null,e.merchSiteId)}else{t(e.theme,e.selectedColor,e.merchSiteId)}}if(typeof e.callback!=="undefined"){e.callback(true);e.callback=undefined}if(e.user){window.Pages.go("editMenu");e.cancel()}if(window.AragornAnalytics){window.AragornAnalytics.track({type:"standard",location:"weebly.home",object_category:"theme",action:"select",object_instance:e.theme,property:"self"})}else{Relay.execute("analytics:track:event",{object_category:"theme",action:"select",object_instance:e.theme,property:"self"})}},switchColor:function(t){this.$el.find("#w-theme-preview-colors").find("a.selected").removeClass("selected");e(t.currentTarget).addClass("selected");this.selectedColor=t.currentTarget.getAttribute("data-color");this.navigate();t.preventDefault()}});return u}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){(function(e){(function(e,t,i){var n={beforeShow:p,move:p,change:p,show:p,hide:p,autoExpand:false,color:false,flat:false,showInput:false,showButtons:true,containerOffsetX:0,containerOffsetY:0,clickoutFiresChange:false,clickPaletteToClose:true,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,dontHideBoundElement:false,localStorageKey:false,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:false,id:"",className:"",showAlpha:false,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:false},r=[],o=!!/msie/i.exec(e.navigator.userAgent),s=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div");var i=t.style;i.cssText="background-color:rgba(0,0,0,.5)";return e(i.backgroundColor,"rgba")||e(i.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var e="";if(o){for(var t=1;t<=6;t++){e+="<div class='sp-"+t+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-input-container'>","<span class='sp-custom-el' type='text' spellcheck='false'>","<span class='sp-custom-inner'></span>","</span>","<span class='sp-expand'><span class='sp-expand-inner'></span></span>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color-outer'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","</div>","<div class='sp-hue-outer'>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<span class='sp-custom-el' type='text' spellcheck='false'>","<span class='sp-custom-inner'></span>","</span>","<input class='sp-input' type='text' spellcheck='false'  />","<span class='sp-collapse'><span class='sp-collapse-inner'></span></span>","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("");
}();function c(e,t,i){var n=[];for(var r=0;r<e.length;r++){var o=tinycolor(e[r]);var a=o.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";a+=tinycolor.equals(t,e[r])?" sp-thumb-active":"";var l=s?"background-color:"+o.toRgbString():"filter:"+o.toFilter();n.push('<span title="'+o.toRgbString()+'" data-color="'+o.toRgbString()+'" class="'+a+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}return"<div class='sp-cf "+i+"'>"+n.join("")+"</div>"}function u(){for(var e=0;e<r.length;e++){if(r[e]){r[e].hide()}}}function d(e,i){var r=t.extend({},n,e);r.callbacks={move:g(r.move,i),change:g(r.change,i),show:g(r.show,i),hide:g(r.hide,i),beforeShow:g(r.beforeShow,i)};return r}function f(n,f){var p=d(f,n),g=p.flat,b=p.parent,y=p.containerOffsetY,_=p.containerOffsetX,E=p.clickPaletteToClose,T=p.showSelectionPalette,C=p.localStorageKey,S=p.theme,I=p.callbacks,O=w(Ve,10),k=false,x=0,D=0,R=0,P=0,A=0,N=0,M=0,L=0,B=0,K=0,F=0,H=1,W=p.palette.slice(0),j=t.isArray(W[0])?W:[W],$=p.selectionPalette.slice(0),z=p.maxSelectionSize,V="sp-dragging";var U=n.ownerDocument,G=U.body,q=t(b).length?t(b):U.body,Y=t(n),X=false,J=t(l,U).addClass(S),Q=J.find(".sp-color"),Z=J.find(".sp-dragger"),ee=J.find(".sp-hue"),te=J.find(".sp-slider"),ie=J.find(".sp-alpha-inner"),ne=J.find(".sp-alpha"),re=J.find(".sp-alpha-handle"),oe=J.find(".sp-input"),se=J.find(".sp-picker-container"),ae=J.find(".sp-palette"),le=J.find(".sp-initial"),ce=J.find(".sp-cancel"),ue=J.find(".sp-choose"),de=J.find(".sp-expand"),fe=J.find(".sp-collapse"),he=J.find(".sp-custom-inner"),pe=Y.is("input"),me=pe&&!g,ge=me?t(a).addClass(S):t([]),ve=me?ge:Y,we=ge.find(".sp-preview-inner"),be=p.color||pe&&Y.val(),ye=false,_e=p.preferredFormat,Ee=_e,Te=!p.showButtons||p.clickoutFiresChange;function Ce(){J.toggleClass("sp-flat",g);J.toggleClass("sp-input-disabled",!p.showInput);J.toggleClass("sp-alpha-enabled",p.showAlpha);J.toggleClass("sp-buttons-disabled",!p.showButtons||g);J.toggleClass("sp-palette-disabled",!p.showPalette);J.toggleClass("sp-palette-only",p.showPaletteOnly);J.toggleClass("sp-initial-disabled",!p.showInitial);J.addClass(p.className);J.attr("id",p.id);Ve()}function Se(){if(o){J.find("*:not(input)").attr("unselectable","on")}Ce();if(me){Y.hide().after(ge)}if(g){Y.after(J).hide()}else{t(q).append(J)}if(C&&e.localStorage){try{var i=e.localStorage[C].split(",#");if(i.length>1){delete e.localStorage[C];t.each(i,function(e,t){Ie(t)})}}catch(e){}try{$=e.localStorage[C].split(";")}catch(e){}}ve.bind("click.spectrum touchstart.spectrum",function(e){if(!X){Ae()}e.stopPropagation();if(!t(e.target).is("input")){e.preventDefault()}});if(Y.is(":disabled")||p.disabled===true){Ye()}J.click(m);oe.change(Pe);oe.bind("paste",function(){setTimeout(Pe,1)});oe.keydown(function(e){if(e.keyCode==13){Pe();e.preventDefault()}});ce.text(p.cancelText);ce.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Me("cancel")});ue.text(p.chooseText);ue.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(Fe()){ze(true);Me()}});de.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Je()});fe.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Xe()});v(ne,function(e,t,i){H=e/N;if(i.shiftKey){H=Math.round(H*10)/10}We()});v(ee,function(e,t){B=parseFloat(t/P);We()},De,Re);v(Q,function(e,t){K=parseFloat(e/x);F=parseFloat((D-t)/D);We()},De,Re);if(!!be){Be(be);je();Ee=_e||tinycolor(be).format;Ie(be)}else{je()}if(g){Ne()}function n(e){if(e.data&&e.data.ignore){Be(t(this).data("color"));We()}else{Be(t(this).data("color"));ze(true);We();if(E){Me()}}return false}var r=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ae.delegate(".sp-thumb-el",r,n);le.delegate(".sp-thumb-el:nth-child(1)",r,{ignore:true},n)}function Ie(i){if(T){var n=tinycolor(i).toRgbString();if(t.inArray(n,$)===-1){$.push(n);while($.length>z){$.shift()}}if(C&&e.localStorage){try{e.localStorage[C]=$.join(";")}catch(e){}}}}function Oe(){var e=[];var t=$;var i={};var n;if(p.showPalette){for(var r=0;r<j.length;r++){for(var o=0;o<j[r].length;o++){n=tinycolor(j[r][o]).toRgbString();i[n]=true}}for(r=0;r<t.length;r++){n=tinycolor(t[r]).toRgbString();if(!i.hasOwnProperty(n)){e.push(t[r]);i[n]=true}}}return e.reverse().slice(0,p.maxSelectionSize)}function ke(){var e=Ke();var i=t.map(j,function(t,i){return c(t,e,"sp-palette-row sp-palette-row-"+i)});if($){i.push(c(Oe(),e,"sp-palette-row sp-palette-row-selection"))}ae.html(i.join(""))}function xe(){if(p.showInitial){var e=ye;var t=Ke();le.html(c([e,t],t,"sp-palette-row-initial"))}}function De(){if(D===0||x===0||P===0){Ve()}J.addClass(V)}function Re(){J.removeClass(V)}function Pe(){var e=tinycolor(oe.val());if(e.ok){if(Be(e)){I.move(e)}}else{oe.addClass("sp-validation-error")}}function Ae(){if(k){Me()}else{Ne()}}function Ne(){var i=t.Event("beforeShow.spectrum");if(k){Ve();return}Y.trigger(i,[Ke()]);if(I.beforeShow(Ke())===false||i.isDefaultPrevented()){return}u();k=true;t(U).bind("click.spectrum",Me);t(e).bind("resize.spectrum",O);ge.addClass("sp-active");J.removeClass("sp-hidden");if(p.autoExpand){if(He()){Xe()}else{Je()}}if(p.showPalette){ke()}Ve();je();ye=Ke();xe();I.show(ye);Y.trigger("show.spectrum",[ye])}function Me(i){if(i&&i.type=="click"&&i.button==2){return}if(!k||g){return}k=false;t(U).unbind("click.spectrum",Me);t(e).unbind("resize.spectrum",O);ge.removeClass("sp-active");J.addClass("sp-hidden");var n=!tinycolor.equals(Ke(),ye);if(n){if(Te&&i!=="cancel"){ze(true)}else{Le()}}I.hide(Ke());if(!p.dontHideBoundElement){Y.trigger("hide.spectrum",[Ke()])}}function Le(){Be(ye,true)}function Be(e,t){if(tinycolor.equals(e,Ke())){return false}var i=tinycolor(e);var n=i.toHsv();B=n.h;K=n.s;F=n.v;H=n.a;je();if(i.ok&&!t){Ee=_e||i.format}return true}function Ke(){return tinycolor.fromRatio({h:B,s:K,v:F,a:Math.round(H*100)/100})}function Fe(){return!oe.hasClass("sp-validation-error")}function He(e){var t=false,e=e||Ke();e:for(var i=0;i<j.length;i++){for(var n=0;n<j[i].length;n++){t=tinycolor.equals(e,j[i][n]);if(t)break e}}return t}function We(){je();I.move(Ke());Y.trigger("move.spectrum",[Ke()])}function je(){oe.removeClass("sp-validation-error");$e();var e=tinycolor({h:B,s:"1.0",v:"1.0"});Q.css("background-color",e.toHexString());var t=Ee;if(H<1){if(t==="hex"||t==="name"){t="rgb"}}var i=Ke(),n=i.toHexString(),r=i.toRgbString();if(s||i.alpha===1){we.css("background-color",r)}else{we.css("background-color","transparent");we.css("filter",i.toFilter())}if(p.showAlpha){var a=i.toRgb();a.a=0;var l=tinycolor(a).toRgbString();var c="linear-gradient(left, "+l+", "+n+")";if(o){ie.css("filter",tinycolor(l).toFilter({gradientType:1},n))}else{ie.css("background","-webkit-"+c);ie.css("background","-moz-"+c);ie.css("background","-ms-"+c);ie.css("background",c)}}if(p.showInput){if(H<1){if(t==="hex"||t==="name"){t="rgb"}}oe.val(i.toString(t))}he.css("background-color",i.toString(t));if(p.showPalette){ke()}xe()}function $e(){var e=K;var t=F;var i=e*x;var n=D-t*D;i=Math.max(-R,Math.min(x-R,i-R));n=Math.max(-R,Math.min(D-R,n-R));Z.css({top:n,left:i});var r=H*N;re.css({left:r-M/2});var o=B*P;te.css({top:o-L})}function ze(e){var t=Ke();if(pe){Y.val(t.toString(Ee)).change()}var i=!tinycolor.equals(t,ye);ye=t;Ie(t);if(e&&i){I.change(t);Y.trigger("change.spectrum",[t])}}function Ve(){x=Q.width();D=Q.height();R=Z.height();A=ee.width();P=ee.height();L=te.height();N=ne.width();M=re.width();if(!g){J.offset(h(J,ve,_,y))}$e()}function Ue(){Y.show();ve.unbind("click.spectrum touchstart.spectrum");J.remove();ge.remove();r[Qe.id]=null}function Ge(e,n){if(e===i){return t.extend({},p)}if(n===i){return p[e]}p[e]=n;Ce()}function qe(){X=false;Y.attr("disabled",false);ve.removeClass("sp-disabled")}function Ye(){Me();X=true;Y.attr("disabled",true);ve.addClass("sp-disabled")}function Xe(){se.hide();de.show();J.find(".sp-palette-input-container").show().find(".sp-custom-el").toggle(!He());Ve()}function Je(){se.show();J.find(".sp-palette-input-container").hide();Ve()}Se();var Qe={show:Ne,hide:Me,toggle:Ae,reflow:Ve,option:Ge,enable:qe,disable:Ye,collapse:Xe,expand:Je,set:function(e){Be(e);ze()},get:Ke,destroy:Ue,container:J,isPaletteColor:function(e){return He(e)}};Qe.id=r.push(Qe)-1;return Qe}function h(e,i,n,r){var o=0;var s=function(){var i=0;e.children(":visible").each(function(){i+=t(this).outerWidth()});return i}();var a=e.outerHeight();var l=i.outerHeight();var c=i.outerWidth();var u=e[0].ownerDocument;var d=u.documentElement;var f=d.clientWidth+t(u).scrollLeft();var h=d.clientHeight+t(u).scrollTop();var p=i.offset();p.top+=l;p.left-=Math.min(p.left,p.left+s>f&&f>s?Math.abs(p.left+s-f-(c+p.left-f)):0);p.left+=n;p.top-=Math.min(p.top,p.top+a>h&&h>a?Math.abs(a+l-o):o);p.top+=r;return p}function p(){}function m(e){e.stopPropagation()}function g(e,t){var i=Array.prototype.slice;var n=i.call(arguments,2);return function(){return e.apply(t,n.concat(i.call(arguments)))}}function v(i,n,r,s){n=n||function(){};r=r||function(){};s=s||function(){};var a=i.ownerDocument||document;var l=false;var c={};var u=0;var d=0;var f="ontouchstart"in e;var h={};h["selectstart"]=p;h["dragstart"]=p;h[f?"touchmove":"mousemove"]=m;h[f?"touchend":"mouseup"]=v;function p(e){if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}e.returnValue=false}function m(e){if(l){if(o&&document.documentMode<9&&!e.button){return v()}var t=e.originalEvent.touches;var r=t?t[0].pageX:e.pageX;var s=t?t[0].pageY:e.pageY;var a=Math.max(0,Math.min(r-c.left,d));var h=Math.max(0,Math.min(s-c.top,u));if(f){p(e)}n.apply(i,[a,h,e])}}function g(e){var n=e.which?e.which==3:e.button==2;var o=e.originalEvent.touches;if(!n&&!l){if(r.apply(i,arguments)!==false){l=true;u=t(i).height();d=t(i).width();c=t(i).offset();t(a).bind(h);t(a.body).addClass("sp-dragging");if(!f){m(e)}p(e)}}}function v(){if(l){t(a).unbind(h);t(a.body).removeClass("sp-dragging");s.apply(i,arguments)}l=false}t(i).bind(f?"touchstart":"mousedown",g)}function w(e,t,i){var n;return function(){var r=this,o=arguments;var s=function(){n=null;e.apply(r,o)};if(i)clearTimeout(n);if(i||!n)n=setTimeout(s,t)}}var b="spectrum.id";t.fn.spectrum=function(e,i){if(typeof e=="string"){var n=this;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=r[t(this).data(b)];if(i){var s=i[e];if(!s){throw new Error("Spectrum: no such method: '"+e+"'")}if(e=="get"){n=i.get()}else if(e=="container"){n=i.container}else if(e=="option"){n=i.option.apply(i,o)}else if(e=="destroy"){i.destroy();t(this).removeData(b)}else if(e=="isPaletteColor"){n=i.isPaletteColor.apply(i,o)}else{s.apply(i,o)}}});return n}return this.spectrum("destroy").each(function(){var i=f(this,e);t(this).data(b,i.id)})};t.fn.spectrum.load=true;t.fn.spectrum.loadOpts={};t.fn.spectrum.draggable=v;t.fn.spectrum.defaults=n;t.spectrum={};t.spectrum.localization={};t.spectrum.palettes={};t.fn.spectrum.processNativeColorInputs=function(){var e=t("<input type='color' value='#ffffff' />")[0];var i=e.type==="color"&&e.value!="#ffffff";if(!i){t("input[type=color]").spectrum({preferredFormat:"hex6"})}};(function(e){var t=/^[\s,#]+/,i=/\s+$/,n=0,r=Math,o=r.round,s=r.min,a=r.max,l=r.random,c=e.parseFloat;function u(e,t){if(typeof e=="object"&&e.hasOwnProperty("_tc_id")){return e}var i=d(e);var r=i.r,s=i.g,a=i.b,l=c(i.a),f=i.format;return{ok:i.ok,format:f,_tc_id:n++,alpha:l,toHsv:function(){var e=m(r,s,a);return{h:e.h,s:e.s,v:e.v,a:l}},toHsvString:function(){var e=m(r,s,a);var t=o(e.h*360),i=o(e.s*100),n=o(e.v*100);return l==1?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+l+")"},toHsl:function(){var e=h(r,s,a);return{h:e.h,s:e.s,l:e.l,a:l}},toHslString:function(){var e=h(r,s,a);var t=o(e.h*360),i=o(e.s*100),n=o(e.l*100);return l==1?"hsl("+t+", "+i+"%, "+n+"%)":"hsla("+t+", "+i+"%, "+n+"%, "+l+")"},toHex:function(){return v(r,s,a)},toHexString:function(e){return"#"+v(r,s,a,e)},toRgb:function(){return{r:o(r),g:o(s),b:o(a),a:l}},toRgbString:function(){return l==1?"rgb("+o(r)+", "+o(s)+", "+o(a)+")":"rgba("+o(r)+", "+o(s)+", "+o(a)+", "+l+")"},toName:function(){return b[v(r,s,a)]||false},toFilter:function(e,t){var i=v(r,s,a,true);var n=i;var o=Math.round(c(l)*255).toString(16);var d=o;var f=e&&e.gradientType?"GradientType = 1, ":"";if(t){var h=u(t);n=h.toHex();d=Math.round(c(h.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr=#"+I(o)+i+",endColorstr=#"+I(d)+n+")"},toString:function(e){e=e||this.format;var t=false;if(e==="rgb"){t=this.toRgbString()}if(e==="hex"){t=this.toHexString()}if(e==="hex6"){t=this.toHexString(true)}if(e==="name"){t=this.toName()}if(e==="hsl"){t=this.toHslString()}if(e==="hsv"){t=this.toHsvString()}return t||this.toHexString(true)}}}u.fromRatio=function(e){if(typeof e=="object"){for(var t in e){if(e[t]===1){e[t]="1.0"}}}return u(e)};function d(e){var t={r:0,g:0,b:0};var i=1;var n=false;var r=false;if(typeof e=="string"){e=k(e)}if(typeof e=="object"){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")){t=f(e.r,e.g,e.b);n=true;r="rgb"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")){t=g(e.h,e.s,e.v);n=true;r="hsv"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){t=p(e.h,e.s,e.l);n=true;r="hsl"}if(e.hasOwnProperty("a")){i=e.a}}t.r=s(255,a(t.r,0));t.g=s(255,a(t.g,0));t.b=s(255,a(t.b,0));if(t.r<1){t.r=o(t.r)}if(t.g<1){t.g=o(t.g)}if(t.b<1){t.b=o(t.b)}return{ok:n,format:e&&e.format||r,r:t.r,g:t.g,b:t.b,a:i}}function f(e,t,i){return{r:_(e,255)*255,g:_(t,255)*255,b:_(i,255)*255}}function h(e,t,i){e=_(e,255);t=_(t,255);i=_(i,255);var n=a(e,t,i),r=s(e,t,i);var o,l,c=(n+r)/2;if(n==r){o=l=0}else{var u=n-r;l=c>.5?u/(2-n-r):u/(n+r);switch(n){case e:o=(t-i)/u+(t<i?6:0);break;case t:o=(i-e)/u+2;break;case i:o=(e-t)/u+4;break}o/=6}return{h:o,s:l,l:c}}function p(e,t,i){var n,r,o;e=_(e,360);t=_(t,100);i=_(i,100);function s(e,t,i){if(i<0)i+=1;if(i>1)i-=1;if(i<1/6)return e+(t-e)*6*i;if(i<1/2)return t;if(i<2/3)return e+(t-e)*(2/3-i)*6;return e}if(t===0){n=r=o=i}else{var a=i<.5?i*(1+t):i+t-i*t;var l=2*i-a;n=s(l,a,e+1/3);r=s(l,a,e);o=s(l,a,e-1/3)}return{r:n*255,g:r*255,b:o*255}}function m(e,t,i){e=_(e,255);t=_(t,255);i=_(i,255);var n=a(e,t,i),r=s(e,t,i);var o,l,c=n;var u=n-r;l=n===0?0:u/n;if(n==r){o=0}else{switch(n){case e:o=(t-i)/u+(t<i?6:0);break;case t:o=(i-e)/u+2;break;case i:o=(e-t)/u+4;break}o/=6}return{h:o,s:l,v:c}}function g(e,t,i){e=_(e,360)*6;t=_(t,100);i=_(i,100);var n=r.floor(e),o=e-n,s=i*(1-t),a=i*(1-o*t),l=i*(1-(1-o)*t),c=n%6,u=[i,a,s,s,l,i][c],d=[l,i,i,a,s,s][c],f=[s,s,l,i,i,a][c];return{r:u*255,g:d*255,b:f*255}}function v(e,t,i,n){var r=[I(o(e).toString(16)),I(o(t).toString(16)),I(o(i).toString(16))];if(!n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)){return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)}return r.join("")}u.equals=function(e,t){if(!e||!t){return false}return u(e).toRgbString()==u(t).toRgbString()};u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};u.desaturate=function(e,t){var i=u(e).toHsl();i.s-=(t||10)/100;i.s=E(i.s);return u(i)};u.saturate=function(e,t){var i=u(e).toHsl();i.s+=(t||10)/100;i.s=E(i.s);return u(i)};u.greyscale=function(e){return u.desaturate(e,100)};u.lighten=function(e,t){var i=u(e).toHsl();i.l+=(t||10)/100;i.l=E(i.l);return u(i)};u.darken=function(e,t){var i=u(e).toHsl();i.l-=(t||10)/100;i.l=E(i.l);return u(i)};u.complement=function(e){var t=u(e).toHsl();t.h=(t.h+.5)%1;return u(t)};u.triad=function(e){var t=u(e).toHsl();var i=t.h*360;return[u(e),u({h:(i+120)%360,s:t.s,l:t.l}),u({h:(i+240)%360,s:t.s,l:t.l})]};u.tetrad=function(e){var t=u(e).toHsl();var i=t.h*360;return[u(e),u({h:(i+90)%360,s:t.s,l:t.l}),u({h:(i+180)%360,s:t.s,l:t.l}),u({h:(i+270)%360,s:t.s,l:t.l})]};u.splitcomplement=function(e){var t=u(e).toHsl();var i=t.h*360;return[u(e),u({h:(i+72)%360,s:t.s,l:t.l}),u({h:(i+216)%360,s:t.s,l:t.l})]};u.analogous=function(e,t,i){t=t||6;i=i||30;var n=u(e).toHsl();var r=360/i;var o=[u(e)];n.h*=360;for(n.h=(n.h-(r*t>>1)+720)%360;--t;){n.h=(n.h+r)%360;o.push(u(n))}return o};u.monochromatic=function(e,t){t=t||6;var i=u(e).toHsv();var n=i.h,r=i.s,o=i.v;var s=[];var a=1/t;while(t--){s.push(u({h:n,s:r,v:o}));o=(o+a)%1}return s};u.readable=function(e,t){var i=u(e).toRgb(),n=u(t).toRgb();return(n.r-i.r)*(n.r-i.r)+(n.g-i.g)*(n.g-i.g)+(n.b-i.b)*(n.b-i.b)>10404};var w=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var b=u.hexNames=y(w);function y(e){var t={};for(var i in e){if(e.hasOwnProperty(i)){t[e[i]]=i}}return t}function _(e,t){if(C(e)){e="100%"}var i=S(e);e=s(t,a(0,c(e)));if(i){e=e*(t/100)}if(r.abs(e-t)<1e-6){return 1}else if(e>=1){return e%t/c(t)}return e}function E(e){return s(1,a(0,e))}function T(e){return parseInt(e,16)}function C(e){return typeof e=="string"&&e.indexOf(".")!=-1&&c(e)===1}function S(e){return typeof e==="string"&&e.indexOf("%")!=-1}function I(e){return e.length==1?"0"+e:""+e}var O=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var i="(?:"+t+")|(?:"+e+")";var n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";var r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function k(e){e=e.replace(t,"").replace(i,"").toLowerCase();var n=false;if(w[e]){e=w[e];n=true}else if(e=="transparent"){return{r:0,g:0,b:0,a:0}}var r;if(r=O.rgb.exec(e)){return{r:r[1],g:r[2],b:r[3]}}if(r=O.rgba.exec(e)){return{r:r[1],g:r[2],b:r[3],a:r[4]}}if(r=O.hsl.exec(e)){return{h:r[1],s:r[2],l:r[3]}}if(r=O.hsla.exec(e)){return{h:r[1],s:r[2],l:r[3],a:r[4]}}if(r=O.hsv.exec(e)){return{h:r[1],s:r[2],v:r[3]}}if(r=O.hex6.exec(e)){return{r:T(r[1]),g:T(r[2]),b:T(r[3]),format:n?"name":"hex"}}if(r=O.hex3.exec(e)){return{r:T(r[1]+""+r[1]),g:T(r[2]+""+r[2]),b:T(r[3]+""+r[3]),format:n?"name":"hex"}}return false}e.tinycolor=u})(this);t(function(){if(t.fn.spectrum.load){t.fn.spectrum.processNativeColorInputs()}});function y(){e.console&&(y=Function.prototype.bind?Function.prototype.bind.call(console.log,console):function(){Function.prototype.apply.call(console.log,console,arguments)},y.apply(this,arguments))}if(t.ui&&t.ui.dialog){t.widget("ui.dialog",t.ui.dialog,{_allowInteraction:function(e){if(t(e.target).closest(".sp-container").length)return true;return this._super(e)}})}})(window,e)}).call(t,i(1))},,,,,function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",r=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},o=function(t){var i=t.name,n=t.form,r=e([]);if(i){i=i.replace(/'/g,"\\'");if(n){r=e(n).find("[name='"+i+"'][type=radio]")}else{r=e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})}}return r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,r);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var n=this,s=this.options,a=this.type==="checkbox"||this.type==="radio",l=!a?"ui-state-active":"";if(s.label===null){s.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()}this._hoverable(this.buttonElement);this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(s.disabled){return}if(this===t){e(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(s.disabled){return}e(this).removeClass(l)}).bind("click"+this.eventNamespace,function(e){if(s.disabled){e.preventDefault();e.stopImmediatePropagation()}});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});if(a){this.element.bind("change"+this.eventNamespace,function(){n.refresh()})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled){return false}})}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled){return false}e(this).addClass("ui-state-active");n.buttonElement.attr("aria-pressed","true");var t=n.element[0];o(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(s.disabled){return false}e(this).addClass("ui-state-active");t=this;n.document.one("mouseup",function(){t=null})}).bind("mouseup"+this.eventNamespace,function(){if(s.disabled){return false}e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(s.disabled){return false}if(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER){e(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(t){if(t.keyCode===e.ui.keyCode.SPACE){e(this).click()}})}}this._setOption("disabled",s.disabled);this._resetButton()},_determineButtonType:function(){var e,t,i;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else if(this.element.is("[type=radio]")){this.type="radio"}else if(this.element.is("input")){this.type="input"}else{this.type="button"}if(this.type==="checkbox"||this.type==="radio"){e=this.element.parents().last();t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t);if(!this.buttonElement.length){e=e.length?e.siblings():this.element.siblings();this.buttonElement=e.filter(t);if(!this.buttonElement.length){this.buttonElement=e.find(t)}}this.element.addClass("ui-helper-hidden-accessible");i=this.element.is(":checked");if(i){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",i)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){this.widget().toggleClass("ui-state-disabled",!!t);this.element.prop("disabled",!!t);if(t){if(this.type==="checkbox"||this.type==="radio"){this.buttonElement.removeClass("ui-state-focus")}else{this.buttonElement.removeClass("ui-state-focus ui-state-active")}}return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(t!==this.options.disabled){this._setOption("disabled",t)}if(this.type==="radio"){o(this.element[0]).each(function(){if(e(this).is(":checked")){e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,o=r.primary&&r.secondary,s=[];if(r.primary||r.secondary){if(this.options.text){s.push("ui-button-text-icon"+(o?"s":r.primary?"-primary":"-secondary"))}if(r.primary){t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>")}if(r.secondary){t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>")}if(!this.options.text){s.push(o?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){t.attr("title",e.trim(i))}}}else{s.push("ui-button-text-only")}t.addClass(s.join(" "))}});e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){if(e==="disabled"){this.buttons.button("option",e,t)}this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl",i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button();n.button("refresh");this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});return e.ui.button})},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(39),i(246),i(99),i(68),i(155),i(174)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){return e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"Close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;if(i<0){e(this).css("top",t.top-i)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&e.fn.draggable){this._makeDraggable()}if(this.options.resizable&&e.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var t=this.options.appendTo;if(t&&(t.jquery||t.nodeType)){return e(t)}return this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}e=t.parent.children().eq(t.index);if(e.length&&e[0]!==this.element[0]){e.before(this.element)}else{t.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(!this._isOpen||this._trigger("beforeClose",t)===false){return}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length){try{i=this.document[0].activeElement;if(i&&i.nodeName.toLowerCase()!=="body"){e(i).blur()}}catch(e){}}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=false,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);if(o>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",o+1);n=true}if(n&&!i){this._trigger("focus",t)}return n},open:function(){var t=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=e(this.document[0].activeElement);this._size();this._position();this._createOverlay();
this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;if(!e){e=this.element.find("[autofocus]")}if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);if(!i){this._focusTabbable()}}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode!==e.ui.keyCode.TAB||t.isDefaultPrevented()){return}var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");if((t.target===r[0]||t.target===this.uiDialog[0])&&!t.shiftKey){this._delay(function(){n.focus()});t.preventDefault()}else if((t.target===n[0]||t.target===this.uiDialog[0])&&t.shiftKey){this._delay(function(){r.focus()});t.preventDefault()}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){if(!e(t.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(e.isEmptyObject(i)||e.isArray(i)&&!i.length){this.uiDialog.removeClass("ui-dialog-buttons");return}e.each(i,function(i,n){var r,o;n=e.isFunction(n)?{click:n,text:i}:n;n=e.extend({type:"button"},n);r=n.click;n.click=function(){r.apply(t.element[0],arguments)};o={icons:n.icons,text:n.showText};delete n.icons;delete n.showText;e("<button></button>",n).button(o).appendTo(t.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var t=this,i=this.options;function n(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",i,n(r))},drag:function(e,i){t._trigger("drag",e,n(i))},stop:function(r,o){var s=o.offset.left-t.document.scrollLeft(),a=o.offset.top-t.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" "+"top"+(a>=0?"+":"")+a,of:t.window};e(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",r,n(o))}})},_makeResizable:function(){var t=this,i=this.options,n=i.resizable,r=this.uiDialog.css("position"),o=typeof n==="string"?n:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,n){e(this).addClass("ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,s(n))},resize:function(e,i){t._trigger("resize",e,s(i))},stop:function(n,r){var o=t.uiDialog.offset(),a=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(l>=0?"+":"")+l,of:t.window};e(this).removeClass("ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",n,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);if(i!==-1){t.splice(i,1)}},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");if(!e){e=[];this.document.data("ui-dialog-instances",e)}return e},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(t){var i=this,n=false,r={};e.each(t,function(e,t){i._setOption(e,t);if(e in i.sizeRelatedOptions){n=true}if(e in i.resizableRelatedOptions){r[e]=t}});if(n){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",r)}},_setOption:function(e,t){var i,n,r=this.uiDialog;if(e==="dialogClass"){r.removeClass(this.options.dialogClass).addClass(t)}if(e==="disabled"){return}this._super(e,t);if(e==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(e==="buttons"){this._createButtons()}if(e==="closeText"){this.uiDialogTitlebarClose.button({label:""+t})}if(e==="draggable"){i=r.is(":data(ui-draggable)");if(i&&!t){r.draggable("destroy")}if(!i&&t){this._makeDraggable()}}if(e==="position"){this._position()}if(e==="resizable"){n=r.is(":data(ui-resizable)");if(n&&!t){r.resizable("destroy")}if(n&&typeof t==="string"){r.resizable("option","handles",t)}if(!n&&t!==false){this._makeResizable()}}if(e==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(n.minWidth>n.width){n.width=n.minWidth}e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();t=Math.max(0,n.minHeight-e);i=typeof n.maxHeight==="number"?Math.max(0,n.maxHeight-e):"none";if(n.height==="auto"){this.element.css({minHeight:t,maxHeight:i,height:"auto"})}else{this.element.height(Math.max(0,n.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(t){if(e(t.target).closest(".ui-dialog").length){return true}return!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var t=true;this._delay(function(){t=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(e){if(t){return}if(!this._allowInteraction(e)){e.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){var e=this.document.data("ui-dialog-overlays")-1;if(!e){this.document.unbind("focusin").removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",e)}this.overlay.remove();this.overlay=null}}})})},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(85)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){return e.effects.effect.slide=function(t,i){var n=e(this),r=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),s=o==="show",a=t.direction||"left",l=a==="up"||a==="down"?"top":"left",c=a==="up"||a==="left",u,d={};e.effects.save(n,r);n.show();u=t.distance||n[l==="top"?"outerHeight":"outerWidth"](true);e.effects.createWrapper(n).css({overflow:"hidden"});if(s){n.css(l,c?isNaN(u)?"-"+u:-u:u)}d[l]=(s?c?"+=":"-=":c?"-=":"+=")+u;n.animate(d,{queue:false,duration:t.duration,easing:t.easing,complete:function(){if(o==="hide"){n.hide()}e.effects.restore(n,r);e.effects.removeWrapper(n);i()}})}})},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(49),i(68),i(39)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(jQuery)}})(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(e,t){this._super(e,t);if(e==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(t,i){var n=null,r=false,o=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o){n=e(this);return false}});if(e.data(t.target,o.widgetName+"-item")===o){n=e(t.target)}if(!n){return false}if(this.options.handle&&!i){e(this.options.handle,n).find("*").addBack().each(function(){if(this===t.target){r=true}});if(!r){return false}}this.currentItem=n;this._removeCurrentsFromItems();return true},_mouseStart:function(t,i,n){var r,o,s=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(s.containment){this._setContainment()}if(s.cursor&&s.cursor!=="auto"){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",s.cursor);this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)}if(s.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",s.opacity)}if(s.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",s.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",t,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!n){for(r=this.containers.length-1;r>=0;r--){this.containers[r]._trigger("activate",t,this._uiHash(this))}}if(e.ui.ddmanager){e.ui.ddmanager.current=this}if(e.ui.ddmanager&&!s.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var i,n,r,o,s=this.options,a=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed}else if(t.pageY-this.overflowOffset.top<s.scrollSensitivity){this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed}else if(t.pageX-this.overflowOffset.left<s.scrollSensitivity){this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed}}else{if(t.pageY-this.document.scrollTop()<s.scrollSensitivity){a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed)}else if(this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity){a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)}if(t.pageX-this.document.scrollLeft()<s.scrollSensitivity){a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed)}else if(this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity){a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed)}}if(a!==false&&e.ui.ddmanager&&!s.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(i=this.items.length-1;i>=0;i--){n=this.items[i];r=n.item[0];o=this._intersectsWithPointer(n);if(!o){continue}if(n.instance!==this.currentContainer){continue}if(r!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],r):true)){this.direction=o===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(n)){this._rearrange(t,n)}else{break}this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,i){if(!t){return}if(e.ui.ddmanager&&!this.options.dropBehaviour){e.ui.ddmanager.drop(this,t)}if(this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};if(!o||o==="x"){s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!o||o==="y"){s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else{this._clear(t,i)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}e.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){e(this.domPosition.prev).after(this.currentItem)}else{e(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];t=t||{};e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);if(i){n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}});if(!n.length&&t.key){n.push(t.key+"=")}return n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];t=t||{};i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")});return n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d=this.options.axis==="x"||n+c>a&&n+c<l,f=this.options.axis==="y"||t+u>o&&t+u<s,h=d&&f;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]){return h}else{return o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l}},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();if(!n){return false}return this.floating?o&&o==="right"||r==="down"?2:1:r&&(r==="down"?2:1)},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();if(this.floating&&r){return r==="right"&&i||r==="left"&&!i}else{return n&&(n==="down"&&t||n==="up"&&!t)}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,o,s=[],a=[],l=this._connectWith();if(l&&t){for(i=l.length-1;i>=0;i--){r=e(l[i],this.document[0]);for(n=r.length-1;n>=0;n--){o=e.data(r[n],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}}}}a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function c(){s.push(this)}for(i=a.length-1;i>=0;i--){a[i][0].each(c)}return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++){if(t[i]===e.item[0]){return false}}return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(i=f.length-1;i>=0;i--){r=e(f[i],this.document[0]);for(n=r.length-1;n>=0;n--){o=e.data(r[n],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]);this.containers.push(o)}}}}for(i=d.length-1;i>=0;i--){s=d[i][1];a=d[i][0];for(n=0,c=a.length;n<c;n++){l=e(a[n]);l.data(this.widgetName+"-item",s);u.push({item:l,instance:s,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var i,n,r,o;for(i=this.items.length-1;i>=0;i--){n=this.items[i];if(n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]){continue}r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item;if(!t){n.width=r.outerWidth();n.height=r.outerHeight()}o=r.offset();n.left=o.left;n.top=o.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(i=this.containers.length-1;i>=0;i--){o=this.containers[i].element.offset();this.containers[i].containerCache.left=o.left;this.containers[i].containerCache.top=o.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}}return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;if(!n.placeholder||n.placeholder.constructor===String){i=n.placeholder;n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(n==="tbody"){t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r))}else if(n==="tr"){t._createTrPlaceholder(t.currentItem,r)}else if(n==="img"){r.attr("src",t.currentItem.attr("src"))}if(!i){r.css("visibility","hidden")}return r},update:function(e,r){if(i&&!n.forcePlaceholderSize){return}if(!r.height()){r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10))}if(!r.width()){r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,r,o,s,a,l,c,u,d,f=null,h=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(f&&e.contains(this.containers[i].element[0],f.element[0])){continue}f=this.containers[i];h=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",t,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!f){return}if(this.containers.length===1){if(!this.containers[h].containerCache.over){this.containers[h]._trigger("over",t,this._uiHash(this));this.containers[h].containerCache.over=1}}else{r=1e4;o=null;u=f.floating||this._isFloating(this.currentItem);s=u?"left":"top";a=u?"width":"height";d=u?"clientX":"clientY";for(n=this.items.length-1;n>=0;n--){if(!e.contains(this.containers[h].element[0],this.items[n].item[0])){continue}if(this.items[n].item[0]===this.currentItem[0]){continue}l=this.items[n].item.offset()[s];c=false;if(t[d]-l>this.items[n][a]/2){c=true}if(Math.abs(t[d]-l)<r){r=Math.abs(t[d]-l);o=this.items[n];this.direction=c?"up":"down"}}if(!o&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[h]){if(!this.currentContainer.containerCache.over){this.containers[h]._trigger("over",t,this._uiHash());this.currentContainer.containerCache.over=1}return}o?this._rearrange(t,o,null,true):this._rearrange(t,null,this.containers[h].element,true);this._trigger("change",t,this._uiHash());this.containers[h]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[h];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[h]._trigger("over",t,this._uiHash(this));this.containers[h].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):i.helper==="clone"?this.currentItem.clone():this.currentItem;if(!n.parents("body").length){e(i.appendTo!=="parent"?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0])}if(n[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!n[0].style.width||i.forceHelperSize){n.width(this.currentItem.width())}if(!n[0].style.height||i.forceHelperSize){n.height(this.currentItem.height())}return n},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;if(r.containment==="parent"){r.containment=this.helper[0].parentNode}if(r.containment==="document"||r.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,r.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(r.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(r.containment)){t=e(r.containment)[0];i=e(r.containment).offset();n=e(t).css("overflow")!=="hidden";this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,i){if(!i){i=this.position}var n=t==="absolute"?1:-1,r=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,o=t.pageX,s=t.pageY,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(a[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(t.pageX-this.offset.click.left<this.containment[0]){o=this.containment[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<this.containment[1]){s=this.containment[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>this.containment[2]){o=this.containment[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>this.containment[3]){s=this.containment[3]+this.offset.click.top}}if(r.grid){i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1];s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i;n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0];o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:a.scrollTop()),
left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){if(r===this.counter){this.refreshPositions(!n)}})},_clear:function(e,t){this.reverting=false;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!t){n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t){n.push(function(e){this._trigger("update",e,this._uiHash())})}if(this!==this.currentContainer){if(!t){n.push(function(e){this._trigger("remove",e,this._uiHash())});n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}}function r(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(i=this.containers.length-1;i>=0;i--){if(!t){n.push(r("deactivate",this,this.containers[i]))}if(this.containers[i].containerCache.over){n.push(r("out",this,this.containers[i]));this.containers[i].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!t){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!t){for(i=0;i<n.length;i++){n[i].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(e.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})},function(e,t,i){var n,r;(function(o){if(true){return!(n=[i(1)],r=function(e){return o(e,window,document)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof t==="object"){return e.exports=o(require("jquery"),window,document)}else{return o(jQuery,window,document)}})(function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E,T,C,S,I,O,k,x,D,R,P,A;S={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",enabledClass:"has-scrollbar",flashedClass:"flashed",activeClass:"active",iOSNativeScrolling:false,preventPageScrolling:false,disableResize:false,alwaysVisible:false,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null};y="scrollbar";b="scroll";d="mousedown";f="mouseenter";h="mousemove";m="mousewheel";p="mouseup";w="resize";a="drag";l="enter";E="up";v="panedown";o="DOMMouseScroll";s="down";T="wheel";c="keydown";u="keyup";_="touchmove";n=t.navigator.appName==="Microsoft Internet Explorer"&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject;r=null;x=t.requestAnimationFrame;C=t.cancelAnimationFrame;R=i.createElement("div").style;A=function(){var e,t,i,n,r,o;n=["t","webkitT","MozT","msT","OT"];for(e=r=0,o=n.length;r<o;e=++r){i=n[e];t=n[e]+"ransform";if(t in R){return n[e].substr(0,n[e].length-1)}}return false}();P=function(e){if(A===false){return false}if(A===""){return e}return A+e.charAt(0).toUpperCase()+e.substr(1)};D=P("transform");O=D!==false;I=function(){var e,t,n;e=i.createElement("div");t=e.style;t.position="absolute";t.width="100px";t.height="100px";t.overflow=b;t.top="-9999px";i.body.appendChild(e);n=e.offsetWidth-e.clientWidth;i.body.removeChild(e);return n};k=function(){var e,i,n;i=t.navigator.userAgent;e=/(?=.+Mac OS X)(?=.+Firefox)/.test(i);if(!e){return false}n=/Firefox\/\d{2}\./.exec(i);if(n){n=n[0].replace(/\D+/g,"")}return e&&+n>23};g=function(){function c(n,o){this.el=n;this.options=o;r||(r=I());this.$el=e(this.el);this.doc=e(this.options.documentContext||i);this.win=e(this.options.windowContext||t);this.body=this.doc.find("body");this.$content=this.$el.children("."+this.options.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.previousPosition=0;if(this.options.iOSNativeScrolling&&this.el.style.WebkitOverflowScrolling!=null){this.nativeScrolling()}else{this.generate()}this.createEvents();this.addEvents();this.reset()}c.prototype.preventScrolling=function(e,t){if(!this.isActive){return}if(e.type===o){if(t===s&&e.originalEvent.detail>0||t===E&&e.originalEvent.detail<0){e.preventDefault()}}else if(e.type===m){if(!e.originalEvent||!e.originalEvent.wheelDelta){return}if(t===s&&e.originalEvent.wheelDelta<0||t===E&&e.originalEvent.wheelDelta>0){e.preventDefault()}}};c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.iOSNativeScrolling=true;this.isActive=true};c.prototype.updateScrollValues=function(){var e,t;e=this.content;this.maxScrollTop=e.scrollHeight-e.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=e.scrollTop;t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same";this.previousPosition=this.contentScrollTop;if(t!=="same"){this.$el.trigger("update:nano",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t})}if(!this.iOSNativeScrolling){this.maxSliderTop=this.paneHeight-this.sliderHeight;this.sliderTop=this.maxScrollTop===0?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop}};c.prototype.setOnScrollStyles=function(){var e;if(O){e={};e[D]="translate(0, "+this.sliderTop+"px)"}else{e={top:this.sliderTop}}if(x){if(C&&this.scrollRAF){C(this.scrollRAF)}this.scrollRAF=x(function(t){return function(){t.scrollRAF=null;return t.slider.css(e)}}(this))}else{this.slider.css(e)}};c.prototype.createEvents=function(){this.events={down:function(e){return function(t){e.isBeingDragged=true;e.offsetY=t.pageY-e.slider.offset().top;if(!e.slider.is(t.target)){e.offsetY=0}e.pane.addClass(e.options.activeClass);e.doc.bind(h,e.events[a]).bind(p,e.events[E]);e.body.bind(f,e.events[l]);return false}}(this),drag:function(e){return function(t){e.sliderY=t.pageY-e.$el.offset().top-e.paneTop-(e.offsetY||e.sliderHeight*.5);e.scroll();if(e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop){e.$el.trigger("scrollend")}else if(e.contentScrollTop===0&&e.prevScrollTop!==0){e.$el.trigger("scrolltop")}return false}}(this),up:function(e){return function(t){e.isBeingDragged=false;e.pane.removeClass(e.options.activeClass);e.doc.unbind(h,e.events[a]).unbind(p,e.events[E]);e.body.unbind(f,e.events[l]);return false}}(this),resize:function(e){return function(t){e.reset()}}(this),panedown:function(e){return function(t){e.sliderY=(t.offsetY||t.originalEvent.layerY)-e.sliderHeight*.5;e.scroll();e.events.down(t);return false}}(this),scroll:function(e){return function(t){e.updateScrollValues();if(e.isBeingDragged){return}if(!e.iOSNativeScrolling){e.sliderY=e.sliderTop;e.setOnScrollStyles()}if(t==null){return}if(e.contentScrollTop>=e.maxScrollTop){if(e.options.preventPageScrolling){e.preventScrolling(t,s)}if(e.prevScrollTop!==e.maxScrollTop){e.$el.trigger("scrollend")}}else if(e.contentScrollTop===0){if(e.options.preventPageScrolling){e.preventScrolling(t,E)}if(e.prevScrollTop!==0){e.$el.trigger("scrolltop")}}}}(this),wheel:function(e){return function(t){var i;if(t==null){return}i=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail;if(i){e.sliderY+=-i/3}e.scroll();return false}}(this),enter:function(e){return function(t){var i;if(!e.isBeingDragged){return}if((t.buttons||t.which)!==1){return(i=e.events)[E].apply(i,arguments)}}}(this)}};c.prototype.addEvents=function(){var e;this.removeEvents();e=this.events;if(!this.options.disableResize){this.win.bind(w,e[w])}if(!this.iOSNativeScrolling){this.slider.bind(d,e[s]);this.pane.bind(d,e[v]).bind(""+m+" "+o,e[T])}this.$content.bind(""+b+" "+m+" "+o+" "+_,e[b])};c.prototype.removeEvents=function(){var e;e=this.events;this.win.unbind(w,e[w]);if(!this.iOSNativeScrolling){this.slider.unbind();this.pane.unbind()}this.$content.unbind(""+b+" "+m+" "+o+" "+_,e[b])};c.prototype.generate=function(){var e,i,n,o,s,a,l;o=this.options;a=o.paneClass,l=o.sliderClass,e=o.contentClass;if(!(s=this.$el.children("."+a)).length&&!s.children("."+l).length){this.$el.append('<div class="'+a+'"><div class="'+l+'" /></div>')}this.pane=this.$el.children("."+a);this.slider=this.pane.find("."+l);if(r===0&&k()){n=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,"");i={right:-14,paddingRight:+n+14}}else if(r){i={right:-r};this.$el.addClass(o.enabledClass)}if(i!=null){this.$content.css(i)}return this};c.prototype.restore=function(){this.stopped=false;if(!this.iOSNativeScrolling){this.pane.show()}this.addEvents()};c.prototype.reset=function(){var e,t,i,o,s,a,l,c,u,d,f,h;if(this.iOSNativeScrolling){this.contentHeight=this.content.scrollHeight;return}if(!this.$el.find("."+this.options.paneClass).length){this.generate().stop()}if(this.stopped){this.restore()}e=this.content;o=e.style;s=o.overflowY;if(n){this.$content.css({height:this.$content.height()})}t=e.scrollHeight+r;d=parseInt(this.$el.css("max-height"),10);if(d>0){this.$el.height("");this.$el.height(e.scrollHeight>d?d:e.scrollHeight)}l=this.pane.outerHeight(false);u=parseInt(this.pane.css("top"),10);a=parseInt(this.pane.css("bottom"),10);c=l+u+a;h=Math.round(c/t*l);if(h<this.options.sliderMinHeight){h=this.options.sliderMinHeight}else if(this.options.sliderMaxHeight!=null&&h>this.options.sliderMaxHeight){h=this.options.sliderMaxHeight}if(s===b&&o.overflowX!==b){h+=r}this.maxSliderTop=c-h;this.contentHeight=t;this.paneHeight=l;this.paneOuterHeight=c;this.sliderHeight=h;this.paneTop=u;this.slider.height(h);this.events.scroll();this.pane.show();this.isActive=true;if(e.scrollHeight===e.clientHeight||this.pane.outerHeight(true)>=e.scrollHeight&&s!==b){this.pane.hide();this.isActive=false}else if(this.el.clientHeight===e.scrollHeight&&s===b){this.slider.hide()}else{this.slider.show()}this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""});i=this.$content.css("position");if(i==="static"||i==="relative"){f=parseInt(this.$content.css("right"),10);if(f){this.$content.css({right:"",marginRight:f})}}return this};c.prototype.scroll=function(){if(!this.isActive){return}this.sliderY=Math.max(0,this.sliderY);this.sliderY=Math.min(this.maxSliderTop,this.sliderY);this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop);if(!this.iOSNativeScrolling){this.updateScrollValues();this.setOnScrollStyles()}return this};c.prototype.scrollBottom=function(e){if(!this.isActive){return}this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(m);this.stop().restore();return this};c.prototype.scrollTop=function(e){if(!this.isActive){return}this.$content.scrollTop(+e).trigger(m);this.stop().restore();return this};c.prototype.scrollTo=function(e){if(!this.isActive){return}this.scrollTop(this.$el.find(e).get(0).offsetTop);return this};c.prototype.stop=function(){if(C&&this.scrollRAF){C(this.scrollRAF);this.scrollRAF=null}this.stopped=true;this.removeEvents();if(!this.iOSNativeScrolling){this.pane.hide()}return this};c.prototype.destroy=function(){if(!this.stopped){this.stop()}if(!this.iOSNativeScrolling&&this.pane.length){this.pane.remove()}if(n){this.$content.height("")}this.$content.removeAttr("tabindex");if(this.$el.hasClass(this.options.enabledClass)){this.$el.removeClass(this.options.enabledClass);this.$content.css({right:""})}return this};c.prototype.flash=function(){if(this.iOSNativeScrolling){return}if(!this.isActive){return}this.reset();this.pane.addClass(this.options.flashedClass);setTimeout(function(e){return function(){e.pane.removeClass(e.options.flashedClass)}}(this),this.options.flashDelay);return this};return c}();e.fn.nanoScroller=function(t){return this.each(function(){var i,n;if(!(n=this.nanoscroller)){i=e.extend({},S,t);this.nanoscroller=n=new g(this,i)}if(t&&typeof t==="object"){e.extend(n.options,t);if(t.scrollBottom!=null){return n.scrollBottom(t.scrollBottom)}if(t.scrollTop!=null){return n.scrollTop(t.scrollTop)}if(t.scrollTo){return n.scrollTo(t.scrollTo)}if(t.scroll==="bottom"){return n.scrollBottom(0)}if(t.scroll==="top"){return n.scrollTop(0)}if(t.scroll&&t.scroll instanceof e){return n.scrollTo(t.scroll)}if(t.stop){return n.stop()}if(t.destroy){return n.destroy()}if(t.flash){return n.flash()}}return n.reset()})};e.fn.nanoScroller.Constructor=g})},function(e,t,i){var n,r,o;(function(i){if(true){!(r=[],n=i,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof t==="object"){e.exports=i()}else{window.noUiSlider=i()}})(function(){"use strict";function e(e){return e.filter(function(e){return!this[e]?this[e]=true:false},{})}function t(e,t){return Math.round(e/t)*t}function i(e){var t=e.getBoundingClientRect(),i=e.ownerDocument,n=i.documentElement,r=d();if(/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)){r.x=0}return{top:t.top+r.y-n.clientTop,left:t.left+r.x-n.clientLeft}}function n(e){return typeof e==="number"&&!isNaN(e)&&isFinite(e)}function r(e,t,i){l(e,t);setTimeout(function(){c(e,t)},i)}function o(e){return Math.max(Math.min(e,100),0)}function s(e){return Array.isArray(e)?e:[e]}function a(e){var t=e.split(".");return t.length>1?t[1].length:0}function l(e,t){if(e.classList){e.classList.add(t)}else{e.className+=" "+t}}function c(e,t){if(e.classList){e.classList.remove(t)}else{e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}}function u(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function d(){var e=window.pageXOffset!==undefined,t=(document.compatMode||"")==="CSS1Compat",i=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,n=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:i,y:n}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function h(e,t){return 100/(t-e)}function p(e,t){return t*100/(e[1]-e[0])}function m(e,t){return p(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function g(e,t){return t*(e[1]-e[0])/100+e[0]}function v(e,t){var i=1;while(e>=t[i]){i+=1}return i}function w(e,t,i){if(i>=e.slice(-1)[0]){return 100}var n=v(i,e),r,o,s,a;r=e[n-1];o=e[n];s=t[n-1];a=t[n];return s+m([r,o],i)/h(s,a)}function b(e,t,i){if(i>=100){return e.slice(-1)[0]}var n=v(i,t),r,o,s,a;r=e[n-1];o=e[n];s=t[n-1];a=t[n];return g([r,o],(i-s)*h(s,a))}function y(e,i,n,r){if(r===100){return r}var o=v(r,e),s,a;if(n){s=e[o-1];a=e[o];if(r-s>(a-s)/2){return a}return s}if(!i[o-1]){return r}return e[o-1]+t(r-e[o-1],i[o-1])}function _(e,t,i){var r;if(typeof t==="number"){t=[t]}if(Object.prototype.toString.call(t)!=="[object Array]"){throw new Error("noUiSlider: 'range' contains invalid value.")}if(e==="min"){r=0}else if(e==="max"){r=100}else{r=parseFloat(e)}if(!n(r)||!n(t[0])){throw new Error("noUiSlider: 'range' value isn't numeric.")}i.xPct.push(r);i.xVal.push(t[0]);if(!r){if(!isNaN(t[1])){i.xSteps[0]=t[1]}}else{i.xSteps.push(isNaN(t[1])?false:t[1])}}function E(e,t,i){if(!t){return true}i.xSteps[e]=p([i.xVal[e],i.xVal[e+1]],t)/h(i.xPct[e],i.xPct[e+1])}function T(e,t,i,n){this.xPct=[];this.xVal=[];this.xSteps=[n||false];this.xNumSteps=[false];this.snap=t;this.direction=i;var r,o=[];for(r in e){if(e.hasOwnProperty(r)){o.push([e[r],r])}}if(o.length&&typeof o[0][0]==="object"){o.sort(function(e,t){return e[0][0]-t[0][0]})}else{o.sort(function(e,t){return e[0]-t[0]})}for(r=0;r<o.length;r++){_(o[r][1],o[r][0],this)}this.xNumSteps=this.xSteps.slice(0);for(r=0;r<this.xNumSteps.length;r++){E(r,this.xNumSteps[r],this)}}T.prototype.getMargin=function(e){return this.xPct.length===2?p(this.xVal,e):false};T.prototype.toStepping=function(e){e=w(this.xVal,this.xPct,e);if(this.direction){e=100-e}return e};T.prototype.fromStepping=function(e){if(this.direction){e=100-e}return b(this.xVal,this.xPct,e)};T.prototype.getStep=function(e){if(this.direction){e=100-e}e=y(this.xPct,this.xSteps,this.snap,e);if(this.direction){e=100-e}return e};T.prototype.getApplicableStep=function(e){var t=v(e,this.xPct),i=e===100?2:1;return[this.xNumSteps[t-2],this.xVal[t-i],this.xNumSteps[t-i]]};T.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var C={to:function(e){return e!==undefined&&e.toFixed(2)},from:Number};function S(e,t){if(!n(t)){throw new Error("noUiSlider: 'step' is not numeric.")}e.singleStep=t}function I(e,t){if(typeof t!=="object"||Array.isArray(t)){throw new Error("noUiSlider: 'range' is not an object.")}if(t.min===undefined||t.max===undefined){throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.")}if(t.min===t.max){throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.")}e.spectrum=new T(t,e.snap,e.dir,e.singleStep)}function O(e,t){t=s(t);if(!Array.isArray(t)||!t.length||t.length>2){throw new Error("noUiSlider: 'start' option is incorrect.")}e.handles=t.length;e.start=t}function k(e,t){e.snap=t;if(typeof t!=="boolean"){throw new Error("noUiSlider: 'snap' option must be a boolean.")}}function x(e,t){e.animate=t;if(typeof t!=="boolean"){throw new Error("noUiSlider: 'animate' option must be a boolean.")}}function D(e,t){e.animationDuration=t;if(typeof t!=="number"){throw new Error("noUiSlider: 'animationDuration' option must be a number.")}}function R(e,t){if(t==="lower"&&e.handles===1){e.connect=1}else if(t==="upper"&&e.handles===1){e.connect=2}else if(t===true&&e.handles===2){e.connect=3}else if(t===false){e.connect=0}else{throw new Error("noUiSlider: 'connect' option doesn't match handle count.")}}function P(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function A(e,t){if(!n(t)){throw new Error("noUiSlider: 'margin' option must be numeric.")}if(t===0){return}e.margin=e.spectrum.getMargin(t);if(!e.margin){throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}}function N(e,t){if(!n(t)){throw new Error("noUiSlider: 'limit' option must be numeric.")}e.limit=e.spectrum.getMargin(t);if(!e.limit){throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}}function M(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function L(e,t){if(typeof t!=="string"){throw new Error("noUiSlider: 'behaviour' must be a string containing options.")}var i=t.indexOf("tap")>=0,n=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,s=t.indexOf("hover")>=0;if(n&&!e.connect){throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.")}e.events={tap:i||o,drag:n,fixed:r,snap:o,hover:s}}function B(e,t){var i;if(t===false){return}else if(t===true){e.tooltips=[];for(i=0;i<e.handles;i++){e.tooltips.push(true)}}else{e.tooltips=s(t);if(e.tooltips.length!==e.handles){throw new Error("noUiSlider: must pass a formatter for all handles.")}e.tooltips.forEach(function(e){if(typeof e!=="boolean"&&(typeof e!=="object"||typeof e.to!=="function")){throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}})}}function K(e,t){e.format=t;if(typeof t.to==="function"&&typeof t.from==="function"){return true}throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(e,t){if(t!==undefined&&typeof t!=="string"&&t!==false){throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.")}e.cssPrefix=t}function H(e,t){if(t!==undefined&&typeof t!=="object"){throw new Error("noUiSlider: 'cssClasses' must be an object.")}if(typeof e.cssPrefix==="string"){e.cssClasses={};for(var i in t){if(!t.hasOwnProperty(i)){continue}e.cssClasses[i]=e.cssPrefix+t[i]}}else{e.cssClasses=t}}function W(e){var t={margin:0,limit:0,animate:true,animationDuration:300,format:C},i;i={step:{r:false,t:S},start:{r:true,t:O},connect:{r:true,t:R},direction:{r:true,t:M},snap:{r:false,t:k},animate:{r:false,t:x},animationDuration:{r:false,t:D},range:{r:true,t:I},orientation:{r:false,t:P},margin:{r:false,t:A},limit:{r:false,t:N},behaviour:{r:true,t:L},format:{r:false,t:K},tooltips:{r:false,t:B},cssPrefix:{r:false,t:F},cssClasses:{r:false,t:H}};var n={connect:false,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};Object.keys(i).forEach(function(r){if(e[r]===undefined&&n[r]===undefined){if(i[r].r){throw new Error("noUiSlider: '"+r+"' is required.")}return true}i[r].t(t,e[r]===undefined?n[r]:e[r])});t.pips=e.pips;t.style=t.ort?"top":"left";return t}function j(t,n,h){var p=f(),m=t,g=[-1,-1],v,w,b=n.spectrum,y=[],_={},E;function T(e,t,i){var n=e+t[0],r=e+t[1];if(i){if(n<0){r+=Math.abs(n)}if(r>100){n-=r-100}return[o(n),o(r)]}return[n,r]}function C(e,t){e.preventDefault();var i=e.type.indexOf("touch")===0,n=e.type.indexOf("mouse")===0,r=e.type.indexOf("pointer")===0,o,s,a=e;if(e.type.indexOf("MSPointer")===0){r=true}if(i){o=e.changedTouches[0].pageX;s=e.changedTouches[0].pageY}t=t||d();if(n||r){o=e.clientX+t.x;s=e.clientY+t.y}a.pageOffset=t;a.points=[o,s];a.cursor=n||r;return a}function S(e,t){var i=document.createElement("div"),r=document.createElement("div"),o=[n.cssClasses.handleLower,n.cssClasses.handleUpper];if(e){o.reverse()}l(r,n.cssClasses.handle);l(r,o[t]);l(i,n.cssClasses.origin);i.appendChild(r);return i}function I(e,t,i){switch(e){case 1:l(t,n.cssClasses.connect);l(i[0],n.cssClasses.background);break;case 3:l(i[1],n.cssClasses.background);case 2:l(i[0],n.cssClasses.connect);case 0:l(t,n.cssClasses.background);break}}function O(e,t,i){var n,r=[];for(n=0;n<e;n+=1){r.push(i.appendChild(S(t,n)))}return r}function k(e,t,i){l(i,n.cssClasses.target);if(e===0){l(i,n.cssClasses.ltr)}else{l(i,n.cssClasses.rtl)}if(t===0){l(i,n.cssClasses.horizontal)}else{l(i,n.cssClasses.vertical)}var r=document.createElement("div");l(r,n.cssClasses.base);i.appendChild(r);return r}function x(e,t){if(!n.tooltips[t]){return false}var i=document.createElement("div");i.className=n.cssClasses.tooltip;return e.firstChild.appendChild(i)}function D(){if(n.dir){n.tooltips.reverse()}var e=w.map(x);if(n.dir){e.reverse();n.tooltips.reverse()}Z("update",function(t,i,r){if(e[i]){e[i].innerHTML=n.tooltips[i]===true?t[i]:n.tooltips[i].to(r[i])}})}function R(e,t,i){if(e==="range"||e==="steps"){return b.xVal}if(e==="count"){var n=100/(t-1),r,o=0;t=[];while((r=o++*n)<=100){t.push(r)}e="positions"}if(e==="positions"){return t.map(function(e){return b.fromStepping(i?b.getStep(e):e)})}if(e==="values"){if(i){return t.map(function(e){return b.fromStepping(b.getStep(b.toStepping(e)))})}return t}}function P(t,i,n){function r(e,t){return(e+t).toFixed(7)/1}var o=b.direction,s={},a=b.xVal[0],l=b.xVal[b.xVal.length-1],c=false,u=false,d=0;b.direction=0;n=e(n.slice().sort(function(e,t){return e-t}));if(n[0]!==a){n.unshift(a);c=true}if(n[n.length-1]!==l){n.push(l);u=true}n.forEach(function(e,o){var a,l,f,h=e,p=n[o+1],m,g,v,w,y,_,E;if(i==="steps"){a=b.xNumSteps[o]}if(!a){a=p-h}if(h===false||p===undefined){return}for(l=h;l<=p;l=r(l,a)){m=b.toStepping(l);g=m-d;y=g/t;_=Math.round(y);E=g/_;for(f=1;f<=_;f+=1){v=d+f*E;s[v.toFixed(5)]=["x",0]}w=n.indexOf(l)>-1?1:i==="steps"?2:0;if(!o&&c){w=0}if(!(l===p&&u)){s[m.toFixed(5)]=[l,w]}d=m}});b.direction=o;return s}function A(e,t,i){var r=document.createElement("div"),o="",s=[n.cssClasses.valueNormal,n.cssClasses.valueLarge,n.cssClasses.valueSub],a=[n.cssClasses.markerNormal,n.cssClasses.markerLarge,n.cssClasses.markerSub],c=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],u=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];l(r,n.cssClasses.pips);l(r,n.ort===0?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical);function d(e,t){var i=t===n.cssClasses.value,r=i?c:u,o=i?s:a;return t+" "+r[n.ort]+" "+o[e]}function f(e,t,i){return'class="'+d(i[1],t)+'" style="'+n.style+": "+e+'%"'}function h(e,r){if(b.direction){e=100-e}r[1]=r[1]&&t?t(r[0],r[1]):r[1];o+="<div "+f(e,n.cssClasses.marker,r)+"></div>";if(r[1]){o+="<div "+f(e,n.cssClasses.value,r)+">"+i.to(r[0])+"</div>"}}Object.keys(e).forEach(function(t){h(t,e[t])});r.innerHTML=o;return r}function N(e){var t=e.mode,i=e.density||1,n=e.filter||false,r=e.values||false,o=e.stepped||false,s=R(t,r,o),a=P(i,t,s),l=e.format||{to:Math.round};return m.appendChild(A(a,n,l))}function M(){var e=v.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return n.ort===0?e.width||v[t]:e.height||v[t]}function L(e,t,i){var r;for(r=0;r<n.handles;r++){if(g[r]===-1){return}}if(t!==undefined&&n.handles!==1){t=Math.abs(t-n.dir)}Object.keys(_).forEach(function(n){var r=n.split(".")[0];if(e===r){_[n].forEach(function(e){e.call(E,s(X()),t,s(B(Array.prototype.slice.call(y))),i||false,g)})}})}function B(e){if(e.length===1){return e[0]}if(n.dir){return e.reverse()}return e}function K(e,t,i,r){var o=function(t){if(m.hasAttribute("disabled")){return false}if(u(m,n.cssClasses.tap)){return false}t=C(t,r.pageOffset);if(e===p.start&&t.buttons!==undefined&&t.buttons>1){return false}if(r.hover&&t.buttons){return false}t.calcPoint=t.points[n.ort];i(t,r)},s=[];e.split(" ").forEach(function(e){t.addEventListener(e,o,false);s.push([e,o])});return s}function F(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&e.buttons===0&&t.buttonsProperty!==0){return H(e,t)}var i=t.handles||w,n,r=false,o=(e.calcPoint-t.start)*100/t.baseSize,s=i[0]===w[0]?0:1,a;n=T(o,t.positions,i.length>1);r=G(i[0],n[s],i.length===1);if(i.length>1){r=G(i[1],n[s?0:1],false)||r;if(r){for(a=0;a<t.handles.length;a++){L("slide",a)}}}else if(r){L("slide",s)}}function H(e,t){var i=v.querySelector("."+n.cssClasses.active),r=t.handles[0]===w[0]?0:1;if(i!==null){c(i,n.cssClasses.active)}if(e.cursor){document.body.style.cursor="";document.body.removeEventListener("selectstart",document.body.noUiListener)}var o=document.documentElement;o.noUiListeners.forEach(function(e){o.removeEventListener(e[0],e[1])});c(m,n.cssClasses.drag);L("set",r);L("change",r);if(t.handleNumber!==undefined){L("end",t.handleNumber)}}function j(e,t){if(e.type==="mouseout"&&e.target.nodeName==="HTML"&&e.relatedTarget===null){H(e,t)}}function $(e,t){var i=document.documentElement;if(t.handles.length===1){if(t.handles[0].hasAttribute("disabled")){return false}l(t.handles[0].children[0],n.cssClasses.active)}e.preventDefault();e.stopPropagation();var r=K(p.move,i,F,{start:e.calcPoint,baseSize:M(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[g[0],g[w.length-1]]}),o=K(p.end,i,H,{handles:t.handles,handleNumber:t.handleNumber});var s=K("mouseout",i,j,{handles:t.handles,handleNumber:t.handleNumber});i.noUiListeners=r.concat(o,s);if(e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor;if(w.length>1){l(m,n.cssClasses.drag)}var a=function(){return false};document.body.noUiListener=a;document.body.addEventListener("selectstart",a,false)}if(t.handleNumber!==undefined){L("start",t.handleNumber)}}function z(e){var t=e.calcPoint,o=0,s,a;e.stopPropagation();w.forEach(function(e){o+=i(e)[n.style]});s=t<o/2||w.length===1?0:1;if(w[s].hasAttribute("disabled")){s=s?0:1}t-=i(v)[n.style];a=t*100/M();if(!n.events.snap){r(m,n.cssClasses.tap,n.animationDuration)}if(w[s].hasAttribute("disabled")){return false}G(w[s],a);L("slide",s,true);L("set",s,true);L("change",s,true);if(n.events.snap){$(e,{handles:[w[s]]})}}function V(e){var t=e.calcPoint-i(v)[n.style],r=b.getStep(t*100/M()),o=b.fromStepping(r);Object.keys(_).forEach(function(e){if("hover"===e.split(".")[0]){_[e].forEach(function(e){e.call(E,o)})}})}function U(e){if(!e.fixed){w.forEach(function(e,t){K(p.start,e.children[0],$,{handles:[e],handleNumber:t})})}if(e.tap){K(p.start,v,z,{handles:w})}if(e.hover){K(p.move,v,V,{hover:true})}if(e.drag){var t=[v.querySelector("."+n.cssClasses.connect)];l(t[0],n.cssClasses.draggable);if(e.fixed){t.push(w[t[0]===w[0]?1:0].children[0])}t.forEach(function(e){K(p.start,e,$,{handles:w})})}}function G(e,t,i){var r=e!==w[0]?1:0,s=g[0]+n.margin,a=g[1]-n.margin,u=g[0]+n.limit,d=g[1]-n.limit;if(w.length>1){t=r?Math.max(t,s):Math.min(t,a)}if(i!==false&&n.limit&&w.length>1){t=r?Math.min(t,u):Math.max(t,d)}t=b.getStep(t);t=o(t);if(t===g[r]){return false}if(window.requestAnimationFrame){window.requestAnimationFrame(function(){e.style[n.style]=t+"%"})}else{e.style[n.style]=t+"%"}if(!e.previousSibling){c(e,n.cssClasses.stacking);if(t>50){l(e,n.cssClasses.stacking)}}g[r]=t;y[r]=b.fromStepping(t);L("update",r);return true}function q(e,t){var i,r,o;if(n.limit){e+=1}for(i=0;i<e;i+=1){r=i%2;o=t[r];if(o!==null&&o!==false){if(typeof o==="number"){o=String(o)}o=n.format.from(o);if(o===false||isNaN(o)||G(w[r],b.toStepping(o),i===3-n.dir)===false){L("update",r)}}}}function Y(e,t){var i,o=s(e),a;t=t===undefined?true:!!t;if(n.dir&&n.handles>1){o.reverse()}if(n.animate&&g[0]!==-1){r(m,n.cssClasses.tap,n.animationDuration)}i=w.length>1?3:1;if(o.length===1){i=1}q(i,o);for(a=0;a<w.length;a++){if(o[a]!==null&&t){L("set",a)}}}function X(){var e,t=[];for(e=0;e<n.handles;e+=1){t[e]=n.format.to(y[e])}return B(t)}function J(){for(var e in n.cssClasses){if(!n.cssClasses.hasOwnProperty(e)){continue}c(m,n.cssClasses[e])}while(m.firstChild){m.removeChild(m.firstChild)}delete m.noUiSlider}function Q(){var e=g.map(function(e,t){var i=b.getApplicableStep(e),n=a(String(i[2])),r=y[t],o=e===100?null:i[2],s=Number((r-i[2]).toFixed(n)),l=e===0?null:s>=i[1]?i[2]:i[0]||false;return[l,o]});return B(e)}function Z(e,t){_[e]=_[e]||[];_[e].push(t);if(e.split(".")[0]==="update"){w.forEach(function(e,t){L("update",t)})}}function ee(e){var t=e&&e.split(".")[0],i=t&&e.substring(t.length);Object.keys(_).forEach(function(e){var n=e.split(".")[0],r=e.substring(n.length);if((!t||t===n)&&(!i||i===r)){delete _[e]}})}function te(e,t){var i=X(),r=W({start:[0,0],margin:e.margin,limit:e.limit,step:e.step===undefined?n.singleStep:e.step,range:e.range,animate:e.animate,snap:e.snap===undefined?n.snap:e.snap});["margin","limit","range","animate"].forEach(function(t){
if(e[t]!==undefined){n[t]=e[t]}});r.spectrum.direction=b.direction;b=r.spectrum;g=[-1,-1];Y(e.start||i,t)}if(m.noUiSlider){throw new Error("Slider was already initialized.")}v=k(n.dir,n.ort,m);w=O(n.handles,n.dir,v);I(n.connect,m,w);if(n.pips){N(n.pips)}if(n.tooltips){D()}E={destroy:J,steps:Q,on:Z,off:ee,get:X,set:Y,updateOptions:te,options:h,target:m,pips:N};U(n.events);return E}function $(e,t){if(!e.nodeName){throw new Error("noUiSlider.create requires a single element.")}var i=W(t,e),n=j(e,i,t);n.set(i.start);e.noUiSlider=n;return n}return{create:$}})},function(e,t,i){var n,r;!(n=[i(1),i(40),i(416),i(253),i(404)],r=function(e,t,i,n,r){var o=t.extend({className:"color-picker",template:'<div class="color-picker__controls">\n'+'<div class="color-picker__slider color-picker__slider--hue">\n'+'<div class="color-picker__slider-indicator">\n'+'<div class="color-picker__slider-indicator-handle js-handle"></div>\n'+"</div>\n"+"</div>\n"+'<div class="color-picker__mixer color-mixer">\n'+'<div class="color-mixer__container">\n'+'<div class="color-mixer__lightness"></div>\n'+'<div class="color-mixer__darkness"></div>\n'+'<div class="color-mixer__indicator">\n'+'<div class="color-mixer__indicator-handle js-handle"></div>\n'+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n",DEFAULT_COLOR:"#1B87D0",initialize:function(e){this.color=new i;this.initialColor=e.color;return this},onAttach:function(){this.createColorInput();this.cacheElementsData();this.enableDragging(this.slider);this.enableDragging(this.picker);this.setColor(this.initialColor||this.DEFAULT_COLOR);this.updatePickerColor();this.listenToColorChange()},setColor:function(e){this.color.set("hex",e);var t=this.color.get("hsv");this.computeDimensions();this.positionIndicator(this.slider,this.sliderPosition(t));this.positionIndicator(this.picker,this.pickerPosition(t))},pickColor:function(e){this.setColor(e);this.trigger("pick",this.color.toJSON())},cacheElementsData:function(){var e=this.$(".color-picker__slider");var t=this.$(".color-mixer");this.slider={el:e,indicator:e.find(".color-picker__slider-indicator"),callback:this.sliderListener.bind(this),dragAxis:"x"};this.picker={el:t,indicator:t.find(".color-mixer__indicator"),callback:this.pickerListener.bind(this),dragAxis:false};this.computeDimensions()},computeDimensions:function(){this.slider.width=this.slider.el.width();this.picker.width=this.picker.el.width();this.picker.height=this.picker.el.height();if(this.slider.width&&this.picker.width&&this.picker.height){this.computeDimensions=Function.prototype}},listenToColorChange:function(){this.listenTo(this.color,"change",function(e,t){this.updatePickerColor();this.trigger("change",e.toJSON())})},enableDragging:function(e){var t=this;var i=new r(e.indicator[0],{containment:true,axis:e.dragAxis,handle:".js-handle"});i.on("dragMove",function(){var t={x:Math.abs(Math.floor(i.position.x)),y:Math.abs(Math.floor(i.position.y))};e.callback(t)});i.on("dragEnd",function(){t.trigger("pick",t.color.toJSON())});e.el.on("mousedown",function(n){if(n.target.className.indexOf("js-handle")===-1){var r=t.mousePosition(n);t.positionIndicator(e,r);i.pointerDown(n,n);e.callback(r);t.trigger("pick",t.color.toJSON())}})},createColorInput:function(){var e=this.queryOption("hasInput");if(e){new o.Input({model:this.color,picker:this})}},updatePickerColor:function(){var e=this.color.get("hsv");var t=this.color.hsv2hex({h:e.h,s:1,v:1});this.picker.el.css("background-color",t)},sliderListener:function(e){this.computeDimensions();var t=this.slider.width;var i=this.color.get("hsv");this.color.set("hsv",{h:e.x/t*360,s:i.s,v:i.v})},pickerListener:function(e){this.computeDimensions();var t=this.picker.width;var i=this.picker.height;var n=this.color.get("hsv");this.color.set("hsv",{h:n.h,s:e.x/t,v:(i-e.y)/i})},sliderPosition:function(e){return{x:e.h*this.slider.width/360,y:0}},pickerPosition:function(e){return{x:e.s*this.picker.width,y:this.picker.height-e.v*this.picker.height}},positionIndicator:function(e,t){if(t){e.indicator.css("left",t.x+"px");if(e.dragAxis!=="x"){e.indicator.css("top",t.y+"px")}}},mousePosition:function(e){return{x:e.offsetX,y:e.offsetY}}});var s=t.extend({template:'<h4 class="form-header">{{inputLabel}}</h4>\n'+'<div class="form-control form-control--color">\n'+'<div class="form-control__item">\n'+'<span class="form-control--color__swatch"></span>\n'+"</div>\n"+'<div class="form-control__item form-control__item--right">\n'+'<input type="text" class="js-input-hex" data-prefix="#" maxlength="6" />\n'+"</div>\n"+"</div>\n",initialize:function(e){this.picker=e.picker;this.render()},events:{"focusout .js-input-hex":"onFocusOutHexInput","focusin .js-input-hex":"onFocusHexInput"},render:function(){var e=this;t.prototype.render.call(this);e.picker.$el.after(e.$el);e.$inputEl=e.$(".js-input-hex");e.$inputEl.on({input:e.validateHexInput.bind(e),blur:function(){e.setHexInput(e.model.get("hex"))}});new n({el:e.$inputEl});e.$swatchEl=e.$(".form-control--color__swatch");e.updateColorInput();e.listenToColorPickerChange()},getRenderData:function(){return{inputLabel:this.picker.queryOption("inputLabel")}},listenToColorPickerChange:function(){this.listenTo(this.model,"change",function(){this.updateColorInput()})},updateColorInput:function(){var e=this.model.get("hex");this.setSwatchColor(e);this.setHexInput(e)},setSwatchColor:function(e){this.$swatchEl.css("background-color",e)},setHexInput:function(e){e=e.substring(1);if(this.$inputEl.val().toLowerCase()!==e.toLowerCase()){this.$inputEl.val(e)}},validateHexInput:function(e){var t=this.$inputEl.val();if(this.model.isHexColor(t)){t="#"+t;this.picker.pickColor(t)}},setHexInput:function(){var e=this.model.get("hex");this.$inputEl.val(e.substring(1))},onFocusHexInput:function(e){this.$el.find(".form-control--color").addClass("is-active")},onFocusOutHexInput:function(e){this.$el.children(".form-control--color").removeClass("is-active")}});o.Input=s;return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(417),i(69)],r=function(e,t,i,n,r){var o=i.View.extend({type:"prefix",initialize:function(e){if(this.$el.length===0){throw new Error("Please select a specific input element")}if(this.$el.length>1){return this.spawnInstances(e)}if(this.$el.prop("tagName")!=="INPUT"){throw new Error("Please select an input element")}var t=e.text||this.$el.data(this.type);if(!t){throw new Error("Please pass in the affixed text")}var i=this.type+"Instance";var n=this.$el.data(i);if(n){this.remove();n.waitTillAttached();return n}var r=this;this.$el.data(i,this);this.createAffixEl(t);this.attachAffix();this.waitTillAttached()},waitTillAttached:function(){if(this.waitAttach){n.unwatch(this.el,this.waitAttach)}var e=this;this.waitAttach=n.watch(this.el,1e3*60);this.waitAttach.then(function(){e.applyStyles()}).catch(function(){})},spawnInstances:function(e){var t=this;var i=this.$el.splice(0).map(function(i){var n=Object.create(e);n.el=i;return new t.constructor(n)});this.remove();return i},attachAffix:function(){if(this.$el.parent().length===0){throw new Error("Cannot insert prefix because the element does not have a parent.")}this.$affix.insertBefore(this.$el)},createAffixEl:function(t){this.$affix=e("<span></span>",{class:"form-control__"+this.type,text:r.unescapeHtmlEntities(t)})},alignAffix:function(){this.$affix.css({lineHeight:this.$el.outerHeight()+"px",top:this.$el.position().top});this.affixWidth=this.$affix.outerWidth()},applyStyles:function(){this.alignAffix();this.elPaddingLeft=this.elPaddingLeft||+this.$el.css("padding-left").slice(0,-2);this.$affix.css("left",this.elPaddingLeft);this.$el.css("padding-left",this.affixWidth+this.elPaddingLeft)},remove:function(){this.events=null;this.undelegateEvents();if(this.$affix){this.$affix.remove()}if(this.waitAttach){n.unwatch(this.el,this.waitAttach)}this.stopListening();return this}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(2),i(5),i(6),i(607),i(377),i(335)],r=function(e,t,i,n,r,o){var s=function(s){var a,l={action:"",parameters:{}};var c=[];var u=0;var d=0;var f,h;s=s||{};s=e.extend(e.clone(l),s);h=new n;f=new r;a=new o({action:s.action,parameters:s.parameters,abort:function(e){g(s.abort,e);f.clearAll();window.updateList(window.currentPage)},error:function(e){if(typeof s.error==="function"){s.error.apply(this,arguments)}else{window.errFunc(e)}},progress:function(e){g(s.progress,e);if(e.lengthComputable){var t=e.loaded/e.total;t=(t+u)/(c.length||1);h.progress(t*100)}},load:function(e){g(s.load,e);if(c.length>++u){f.next()}else{f.say({title:t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_1"),body:p(c.length),duration:500,now:true});i.execute("xhrUploading:set",null)}},loadstart:function(e){g(s.loadstart,e);f.say({title:t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_2"),body:p(d++),duration:9999999})},success:function(e){g(s.success,e)}});function p(e){var i,n;i=document.createElement("div");n=document.createElement("a");n.href="#";n.className="cancel__button";n.innerHTML=t.utl("html.weebly.libraries.weebly_uploader_ajax_progress_3");n.addEventListener("click",function(){a.abort()},false);var r=document.createElement("span");r.className="upload-status";r.innerHTML=e+" / "+c.length;i.appendChild(h.render());i.appendChild(r);i.appendChild(n);return i}function m(e){if(e instanceof Array){c.push.apply(c,e);for(var t=0;t<e.length;t++){a.send(e[t])}}else{c.push(e);a.send(e)}}function g(e,t){if(typeof e==="function"){e(t)}}return{setParameters:function(e){a.setParameters(e);return this},send:function(e){m(e);return this}}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){_W.Analytics=window._W.Analytics||{trackers:{}};var e;var t={getGA:function(){var e=window.ga;var t=window.gaTrackingId;if(typeof t!=="undefined"&&typeof e!=="undefined"){return e}else{return function(){}}},getWeeblyGA:function(){var e=window[_W.Analytics.trackers.wGA];if(typeof e!=="undefined"){return function(){e.push(Array.prototype.slice.call(arguments))}}else{return function(){}}},getSP:function(){var e=window[_W.Analytics.trackers.wSP];if(typeof e!=="undefined"){return function(){e.apply(this,arguments)}}else{return function(){}}},getKeen:function(){var e=window.Keen;if(typeof e!=="undefined"){return function(){e.addEvent.apply(e,arguments)}}else{return function(){}}},getMixpanel:function(){var e=window.mixpanel&&window.mixpanel.wsite;if(typeof e!=="undefined"){return function(){e.track.apply(e,arguments)}}else{return function(){}}},getIdPrefix:function(t){if(e){return e}e="";if(t){e="buy:"}if(_W.Analytics.user_id){e+=_W.Analytics.user_id}if(_W.Analytics.site_id){e+=":"+_W.Analytics.site_id}return e},fireTrackingCode:function(e,t){var i=document.getElementById("tracking-pixel-"+e);if(i!=null){var n=document.createElement("iframe");n.setAttribute("src","about:blank");n.setAttribute("style","width: 0; height: 0; border: none; overflow: hidden;");document.querySelector("body").appendChild(n);var r=this.decodeHtml(i.innerHTML);if(t){r=r.replace(/{txid}/g,t.get("site_order_id"));r=r.replace(/{tax}/g,t.get("order_tax_total"));r=r.replace(/{shipping}/g,t.get("order_shipping_subtotal"));r=r.replace(/{subtotal}/g,t.get("order_subtotal"));r=r.replace(/{total}/g,t.get("order_total"))}var o="<!DOCTYPE html>"+"<head></head>"+"<body>"+r+"</body></html>";setTimeout(function(){var e=n.contentDocument;e.open().write(o);e.close()},500)}},trackPageView:function(e,t){var i=this.getGA();var n=this.getWeeblyGA();var r=this.getSP();var o=this.getKeen();var s=this.getMixpanel();i("send","pageview",{page:e,title:t});n("_trackPageview",e,t);r("trackPageView",t);o("wsite-views",{title:t});s("wsite-views",{title:t})},trackTransaction:function(e){var t=this.getGA();var i=this.getSP();var n=this.getKeen();var r=this.getMixpanel();var o={id:e.get("site_order_id"),revenue:e.get("order_total"),shipping:e.get("order_shipping_total"),tax:e.get("order_tax_total")};if(typeof window.gaAffiliation!=="undefined"){o["affiliation"]=window.gaAffiliation}t("require","ecommerce","ecommerce.js");t("ecommerce:addTransaction",o);i("addTrans",o.id,null,o.revenue,o.tax,o.shipping);n("wsite-order",{order:o});r("wsite-order",{order:o});var s=e.get("items");if(Array.isArray(s)){for(var a=0;a<s.length;a++){var l=s[a];var c={id:l.site_order_id,name:l.name,sku:l.sku,quantity:l.quantity,price:l.total_price/l.quantity};t("ecommerce:addItem",c);i("addItem",l.site_order_id,l.site_product_id+"-"+l.site_product_sku_id,l.name,l.sku,l.total_price/l.quantity,l.quantity);n("wsite-order-items",{item:c});r("wsite-order-items",{item:c})}}else{s.each(function(e){var o={id:e.get("site_order_id"),name:e.get("name"),sku:e.get("sku"),quantity:e.get("quantity"),price:e.get("total_price")/e.get("quantity")};t("ecommerce:addItem",o);i("addItem",e.get("site_order_id"),e.get("site_product_id")+"-"+e.get("site_product_sku_id"),e.get("name"),e.get("sku"),e.get("total_price")/e.get("quantity"),e.get("quantity"));n("wsite-order-items",{item:o});r("wsite-order-items",{item:o})})}t("ecommerce:send");i("trackTrans")},viewProductDetail:function(e){e.list="product_detail";this.addEnhancedImpressionContext(e);this.addEnhancedProductContext(e);this.trackEcommerceAction("detail",{list:"product_detail"})},trackCheckoutLanding:function(e){this.addProductContextsForOrder(e);this.trackEcommerceAction("view",{site_order_id:e.get("site_order_id"),list:"view:checkout",affiliation:"shopping.checkout"})},trackAddToCart:function(e,t,i){this.trackCartModification("add",e,t,i)},trackRemoveFromCart:function(e,t,i){this.trackCartModification("remove",e,t,i)},trackCartModification:function(e,t,i,n){if(t){n.list=t;i.list=t}this.addEnhancedProductContext(i);this.trackEcommerceAction(e,n)},trackCheckoutProgress:function(e,t,i){this.addProductContextsForOrder(i);this.trackEcommerceAction("checkout",{site_order_id:i.get("site_order_id"),revenue:i.get("order_total"),tax:i.get("order_tax_total"),shipping:i.get("order_shipping_total"),step:e,list:t})},trackBuyLinkCheckoutOrder:function(e,t,i,n){this.addProductContextsForOrder(i);this.trackEcommerceAction("checkout",{site_order_id:i.get("site_order_id"),revenue:i.get("order_total"),tax:i.get("order_tax_total"),shipping:i.get("order_shipping_total"),affiliation:"spi.checkout",step:e,list:t,payment_token:i.get("token"),link_share_source:n},true)},trackCheckoutOption:function(e,t,i,n){this.trackEcommerceAction("checkout_option",{site_order_id:n.get("site_order_id"),revenue:n.get("order_total"),tax:n.get("order_tax_total"),step:e,option:i,list:t})},addProductContextsForOrder:function(e){var t=this;e.get("items").each(function(e){t.addEnhancedProductContext({site_product_id:e.get("site_product_id"),site_product_sku_id:e.get("site_product_sku_id"),name:e.get("name"),optionshash:e.get("options"),price:e.get("current_price"),quantity:e.get("quantity")})})},addEnhancedImpressionContext:function(e){var t=this.getSP()},trackEcommerceNativePaymentCheckoutStarted:function(e,t){var i=this.getSP();if(t.site_order_id){t.id=this.getIdPrefix()+":"+t.site_order_id}i("trackStructEvent",e,"start_checkout",null,t.id,null)},trackEcommerceABTestSegment:function(e,t,i){var n=this.getSP();if(i.site_order_id){i.id=this.getIdPrefix()+":"+i.site_order_id}n("trackStructEvent","ab_segment",e,t,i.id,null)},trackEcommerceCheckoutInstrument:function(e,t){var i=this.getSP();if(t.site_order_id){t.id=this.getIdPrefix()+":"+t.site_order_id}i("trackStructEvent","commerce","checkout","instrument",t.id,e)},trackNativePaymentError:function(e,t){var i=this.getSP();i("trackStructEvent","native_payment","error",e||"",this.getIdPrefix()+":"+t,null)},trackClosedNativePayment:function(e){var t=this.getSP();t("trackStructEvent","native_payment","user_closed","",this.getIdPrefix()+":"+e,null)},trackStoredPaymentAction:function(e,t,i){this.trackEcommerceAction(e,{site_order_id:i,list:t,affiliation:"shopping.checkout"})},trackEcommerceAction:function(e,t,i){var n=this.getSP();var r=["click","detail","add","remove","checkout","checkout_option","purchase","refund","promo_click","view"];if(r.indexOf(e)===-1){e="view"}if(t){if(t.site_order_id){t.id=this.getIdPrefix(i)+":"+t.site_order_id}if(i){t.id+=":"+t.payment_token;if(t.link_share_source){t.id+=":"+t.link_share_source}}n("addEnhancedEcommerceActionContext",t.id||"",t.affiliation||"",t.revenue||"",t.tax||"",t.shipping||"",t.coupon||"",t.list||"",t.step||"",t.affiliation||"")}n("trackEnhancedEcommerceAction",e)},addEnhancedProductContext:function(e){var t=this.getSP();if(e.optionshash){e.variant=Object.values(e.optionshash||{}).join("/")}if(e.site_product_id){e.id=this.getIdPrefix()+":"+e.site_product_id}if(e.site_product_sku_id){e.id+=":"+e.site_product_sku_id}t("addEnhancedEcommerceProductContext",e.id||"",e.name||"",e.list||"",e.brand||"",e.category||"",e.variant||"",e.price||"",e.quantity||"",e.coupon||"",e.position||"")},trackCustomerAccountsAction:function(e){var t=this.getSP();t("trackStructEvent","customer_accounts",e,"",this.getIdPrefix(),null)},trackPageAction:function(e,t,i,n,r){if(!e){throw new Error("Missing param 1. Category must be defined")}if(!t){throw new Error("Missing param 2. Action must be defined")}var o=this.getSP();o("trackStructEvent",e,t,i?i:null,n?n:null,r?r:null)},decodeHtml:function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes.length===0?"":t.childNodes[0].nodeValue}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(477),i(476),i(478),i(479),i(474),i(464),i(256),i(134),i(133),i(320),i(471),i(472),i(470),i(469)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g){function v(e){return t("<div>",{id:"wsite-com-issue-overlay",append:function(){return[t("<div>",{class:"close-overlay"}),t("<p>",{class:"warning-message",html:e})]},appendTo:"body",click:function(){t(this).remove()}})}function w(t,i,n){var r=t.popover({content:i?i:e.stl("javascript.commerce.site.view.ProductPageView_5"),trigger:"manual",placement:"top",container:"body"}).popover("show");if(n){window.setTimeout(function(){r.popover("hide")},n)}return r}function b(t,i,n){var r=t.popover({content:i?i:e.stl("javascript.commerce.site.view.BaseProductPageView_9"),trigger:"manual",placement:"top",container:"body"}).popover("show");if(n){window.setTimeout(function(){r.popover("hide")},n)}return r}var y={el:null,$el:null,selectors:{variationData:null,modifiersData:null,productElementContainer:null,productPageContainer:null,siteProductIdElement:null,productTitle:null,modifiersSelector:null,purchaseSourceSelector:null},options:{salePriceClass:null,nonSalePriceClass:null,soldOutPriceClass:null,priceRangeClass:null,unavailablePriceClass:null},ui:{},variationData:[],modifiersData:[],modifiersAggregate:null,initialize:function(){this.initializeUI();a.initialize(this.buy.bind(this));if(!this.$el.length){return}this.initializeVariations();this.initializeModifiers();if(this.variationData.length||this.modifiersAggregate){this.update()}c.viewProductDetail({site_product_id:t(this.selectors.siteProductIdElement).attr("data-id"),name:t(this.selectors.productTitle).eq(0).text().trim()})},initializeUI:function(){this.$el=t(this.el);if(!this.$el.length){return}this.el=this.$el[0];i.each(this.ui,function(e,t){this.ui[t]=this.$el.find(e)},this);t.event.trigger("viewproduct",[t(this.selectors.siteProductIdElement).attr("data-id")])},initializeVariations:function(){var e=this.$el.find(this.selectors.variationData)[0];this.variationData=e?JSON.parse(e.value):[];var i,a=this;this.ui["option-groups"].each(function(e,l){switch(l.getAttribute("data-type")){case"color":i=new r;break;case"radio":i=new o;break;case"text":i=new s;break;case"dropdown":default:i=new n;break}i.initialize({el:l,onChange:function(e){a.update.apply(a,arguments)}});t(l).data("renderer",i)})},initializeModifiers:function(){if(!this.selectors.modifiersSelector){return}var e=this.$el.find(this.selectors.modifiersSelector);var i={text:p,dropdown:m,checkbox:g};var n=new h;var r=this;n.onChange(function(e,t){r.update.apply(r,arguments)});e.each(function(){var e=t(this);var r=e.data("type");if(typeof i[r]!=="undefined"){var o=new i[r];o.initialize(e);n.add(o)}});this.modifiersAggregate=n},updateImage:function(){},update:function(t){if(t){if(this.modifiersAggregate){this.modifiersAggregate.modifiers.forEach(function(e){if(e.isValid()){e.element.popover("destroy")}})}if(this.ui["add-to-cart"]){this.ui["add-to-cart"].popover("destroy")}if(t.$el){t.$el.popover("destroy")}else{i.each(t,function(e,t){this.$el.find('[data-option-name="'+t+'"]').popover("destroy")},this)}}var n=this.getValues();var r=this.getCurrentRecord(n);var o=i.pluck(this.variationData,"options");this.updateAvailability(this.ui["option-groups"],o,n);var s=this.modifiersAggregate?this.modifiersAggregate.getPriceDelta():0;if(r){this.ui["price-area"].removeClass();if(this.options.salePriceClass){this.ui["price-area"].toggleClass(this.options.salePriceClass,!i.isNull(r.sale_price))}if(this.options.nonSalePriceClass){this.ui["price-area"].toggleClass(this.options.nonSalePriceClass,i.isNull(r.sale_price))}var a=u.formatCurrency(r.price+s,d.customerLocale,d.storeCurrency);this.ui["price-amount"].text(u.formatCurrency(r.price+s,d.customerLocale,d.storeCurrency));this.ui["price-sale-amount"].text(i.isNull(r.sale_price)?"":u.formatCurrency(r.sale_price+s,d.customerLocale,d.storeCurrency));if(r.inventory===0){this.ui["price-area"].addClass(this.options.soldOutPriceClass)}var l=this.modifiersAggregate?this.modifiersAggregate.isValid():true;var c=typeof r.inventory==="undefined"||r.inventory>0;var f=true;if(r.fulfillment_options&&r.fulfillment_options.length===1&&r.fulfillment_options[0]==="pickup"&&!r.pickup_location){f=false}var h=c&&l&&f;if(h){this.ui["add-to-cart"].removeClass("wsite-com-product-disabled").attr("tabindex",0)}else{this.ui["add-to-cart"].addClass("wsite-com-product-disabled").attr("tabindex",-1)}this.updateImage(r);return r}var p=this.getAvailableOptions(n,this.variationData);if(p.length===0){this.ui["price-area"].removeClass().addClass(this.options.unavailablePriceClass);if(this.ui["inventory-message"]){this.ui["inventory-message"].text(e.stl("javascript.commerce.site.view.ProductPageView_4"))}this.ui["price-amount"].empty();this.ui["price-sale-amount"].empty()}else{var m=i.find(p,function(e){return!i.isEmpty(e.image_order)});if(m!==undefined){this.updateImage({image_order:m.image_order})}this.updateProductLevelPricing(s);this.ui["price-area"].removeClass().addClass(this.options.priceRangeClass)}return null},getBasePurchasablePriceRange:function(){var e=this.variationData.map(function(e){return e.sale_price!==null?e.sale_price:e.price});return{min:i.min(e)||0,max:i.max(e)||0}},getPurchasablePriceRange:function(e){var t=this.getBasePurchasablePriceRange();return{min:t.min+e,max:t.max+e}},getFormattedPurchasablePriceRange:function(e){var t=this.getPurchasablePriceRange(e);return{min:u.formatCurrency(t.min,d.customerLocale,d.storeCurrency),max:u.formatCurrency(t.max,d.customerLocale,d.storeCurrency)}},updateProductLevelPricing:function(e){var t=this.getBasePurchasablePriceRange();var n=this.getFormattedPurchasablePriceRange(e);if(t.min!==t.max){this.ui["price-range-amount"].text(n.min+" - "+n.max)}else{this.ui["price-range-amount"].text(n.min)}var r=i.pluck(this.variationData,"price");var o=i.min(r)||0;var s=o+e;this.ui["price-amount"].text(u.formatCurrency(s,d.customerLocale,d.storeCurrency))},buy:function(n,r){var o=t(n.currentTarget);var s=this;n.stopPropagation();n.preventDefault();var a=t.Deferred().reject().promise();if(window.inEditor&&window.inEditor()){return a}var l=o.closest(this.selectors.productElementContainer);var u=true;if(!l.length){u=false;l=o.closest(this.selectors.productPageContainer)}l.find(".wsite-com-product-option").popover("destroy");o.popover("destroy");if(o.hasClass("wsite-soldout-product-button")){w(o);return a}if(this.ui.options&&!u){var d=this.getAllValues();var f=this.getUnmatchedValues(d);f.forEach(function(t){l.find('[data-option-name="'+t+'"]').popover({content:e.stl("javascript.commerce.site.view.ProductPageView_6",t),trigger:"manual",placement:s.placeOptionPopover,container:"body"}).popover("show")})}if(!u&&this.modifiersAggregate&&!this.modifiersAggregate.isValid()){this.modifiersAggregate.modifiers.map(function(e){if(!e.isValid()){e.element.popover({content:e.getSelectionMessage(),trigger:"manual",placement:s.placeOptionPopover,container:"body"}).popover("show")}})}var h;if(u){h={price:parseFloat(o.data("price")),sale_price:o.data("sale-price")?parseFloat(o.data("sale-price")):null,site_product_sku_id:o.data("site-product-sku-id"),site_product_id:o.data("site-product-id")};if(o.data("sale-price")===0){h.sale_price=0}}else{h=this.variationData.length===1?this.variationData[0]:this.getCurrentRecord(this.getValues(),this.variationData)}if(!h){return a}if(h.inventory===0){w(o);return a}if(h.fulfillment_options&&h.fulfillment_options.length===1&&h.fulfillment_options[0]==="pickup"&&!h.pickup_location){b(o);return a}if(o.hasClass("wsite-com-product-disabled")){return a}var p=h.sale_price!==null&&h.sale_price!==undefined?h.sale_price:h.price;if(p===null||p===undefined){return a}h.site_product_id=h.site_product_id||t(this.selectors.siteProductIdElement).attr("data-id");var m;if(!u){m=this.ui.quantity.val()}else{m=1}if(m<=0){return a}var g=false;h.custom_options=h.custom_options||{};if(r&&r.length){t.each(r,function(e,i){var n=s.validateTextInput(i);t(i).siblings(".text-option-error-message").text(n);if(n.length){g=true}h.custom_options[i.getAttribute("name")]=i.value})}if(g){return a}var y=o.find(".wsite-button-inner");var _=y.html();var E=this.$el.find("#wsite-com-product-quantity-limit-custom-message");return e.Commerce.RPC.Checkout.addItem(h.site_product_id,h.site_product_sku_id,m,h.custom_options,this.getModifiersSelection(),this.getPurchaseSource()).then(function(n){if(!n.success){if(n.data&&n.data.has_payment===false){v(n.message)}else{var r=n.data&&n.data.custom_exceeded_message;if(Boolean(r)){E.text(r)}w(o,n.message,3e3)}y.html(_);o.removeClass("wsite-disabled");return a}var l={};i.each(h.options,function(e,t){l[t]=e.choices});return e.Commerce.RPC.Checkout.getMiniCart().then(function(i){var r=e.Commerce.hasCart?"product_detail":"buy_now";c.trackAddToCart(r,{site_product_id:h.site_product_id,site_product_sku_id:h.site_product_sku_id,name:t(s.selectors.productTitle).eq(0).text().trim(),optionshash:l,quantity:m,price:p},{site_order_id:i.data.order.site_order_id});t.event.trigger("addtocart",[h.site_product_id]);return t.Deferred().resolve(n,false,i).promise()})}).fail(function(e,i){var n=t.parseJSON(i.responseText);if(n.error.code!=-1){v(e);y.html(_);o.removeClass("wsite-disabled")}return a})},getPurchaseSource:function(){if(!this.selectors.purchaseSourceSelector){return}var e=this.$el.find(this.selectors.purchaseSourceSelector);if(e.length>0){return e[0].value}return},getModifiersSelection:function(){if(!this.modifiersAggregate){return[]}return this.modifiersAggregate.getSelection()},updateAvailability:function(e,n,r){var o=this;var s,a,l;e.each(function(e,c){s={};l=c.getAttribute("data-option-name");a=i.omit(r,l);i.each(n,function(e){if(o.objectContains(e,a)){i.each(e,function(e,t){if(t===l){var i=e["renderer"]==="text"?r[l]||"":e.choices;s[i]={available:true,options:e}}})}});t(c).data("renderer").update(s)})},getValues:function(){var e;if(this.ui.options.is("form")){e=this.ui.options}else{e=this.ui.options.find("[name]")}var t=e.serializeArray();var n={};i.each(t,function(e){n[e.name]=e.value});return n},getAllValues:function(){var e={};this.ui.options.find("[name]").each(function(){if(!e[this.name]){e[this.name]=[]}e[this.name].push(this)});var n={};i.each(e,function(e,i){n[i]=null;var r=t(e).serializeArray();if(r.length){n[i]=r[0].value}});return n},getCurrentRecord:function(e,t){var n;this.variationData=t||this.variationData;i.each(this.variationData,function(t){var r={};t.custom_options={};i.each(t.options,function(i,n){r[n]=i["choices"];if(i["renderer"]==="text"&&!s.prototype.validateTextOption(i,e[n]).length){r[n]=t.custom_options[n]=e[n]}});if(i.isEqual(r,e)){n=t;return false}});return n},getUnmatchedValues:function(e){var t=Object.keys(e);i.each(this.variationData,function(n){i.each(n.options,function(i,n){var r=t.indexOf(n);if(r===-1){return}var o=i.choices;if(i.renderer==="text"&&!s.prototype.validateTextOption(i,e[n]).length){o=e[n]}if(e[n]===o){t.splice(r,1)}})});return t},getAvailableOptions:function(e,t){this.variationData=t||this.variationData;var n=i.filter(this.variationData,function(t){return i.every(e,function(e,i){return t.options[i].renderer=="text"||e==""||e==t.options[i].choices})});return n},validateTextInput:function(t){var i=!!t.getAttribute("data-required");var n=t.getAttribute("data-max-length");if(t.value===undefined){}else if(i&&t.value.length===0){return e.stl("javascript.commerce.site.view.BaseProductPageView_7")}else if(n&&t.value.length>n){return e.stl("javascript.commerce.site.view.BaseProductPageView_8",n)}return""},objectContains:function(e,t){var n=true;i.each(e,function(e,i){if(t[i]&&e["renderer"]!=="text"&&t[i]!==e["choices"]){n=false}});return n}};return y}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2)],r=function(e,t,i){if(!e.Commerce.Site.Category)e.Commerce.Site.Category={};if(!e.Commerce.Site.Category.View)e.Commerce.Site.Category.View={};var n=e.Commerce.Site.Category,r=n.View;n.initialize=function(){r.ProductList.initialize();var e=false;if(t("body.wsite-mobile").length>0){t(document).resize(function(){if(e){r.ProductList.clearHeights();r.ProductList.setHeights()}e=true})}};r.ProductList={Pager:{page:0,onChange:function(i,o,s){var a=t("#wsite-com-category-product-group-pagelimit").val();s=s===undefined?this.page:s,i.stopPropagation();i.preventDefault();e.Commerce.RPC.Category.generateProductList(o,s,a).done(function(i){t("#wsite-com-category-product-group").replaceWith(i.content);t("#wsite-com-category-product-group-pagelist").html(i.pagelist);r.ProductList.total=i.total;r.ProductList.offset=s*a;r.ProductList.setHeights();t("body").scrollTop(0);t("html").scrollTop(0);if(e.Commerce&&e.Commerce.Editor){if(typeof n.onPageChange==="function"){n.onPageChange(s)}}})}},initialize:function(){r.ProductList.offset=0;this.setHeights();var e=t("#wsite-com-category-id").val();t("#wsite-com-category-product-group-pagelist").off("click.pagechange").on("click.pagechange","a",function(t){var i=t.target,n=i.getAttribute("data-page");r.ProductList.Pager.onChange(t,e,n)})},setHeights:function(){var e=t(".wsite-com-category-product-featured,.wsite-com-category-product"),i=t(".wsite-com-category-subcategory-featured,.wsite-com-category-subcategory"),n="#wsite-com-category-product-group",r=".wsite-com-category-subcategory-group",o,s,a=[e,i],l=[n,r];for(var c=0;c<a.length;c++){var u=a[c];var d=l[c];o=[];s=-1;if(u.length){var f=Math.round(t(d).width()/u.width());if(f>1){for(var h=0;h<u.length;h++){if(h%f==0)s++;o[s]=Math.max(u.eq(h).height(),o[s]||0)}for(var p=0;p<o.length;p++){u.slice(f*p,f*(p+1)).each(function(){t(this).height(o[p])})}}}}},clearHeights:function(){t(".wsite-com-category-product-featured,.wsite-com-category-product").each(function(){t(this).css("height","")})}};t(document).ready(n.initialize);return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(257),i(473),i(475),i(260)],r=function(e,t,i,n,r,o,s){var a=function(){};a.prototype=Object.create(n);a.prototype=i.extend(a.prototype,{el:"#wsite-com-product-gen",selectors:{variationData:"#wsite-com-product-view-variation-data",modifiersData:"#wsite-com-product-view-modifiers-data",productElementContainer:".wsite-product, .product",productPageContainer:"#wsite-com-product-info",siteProductIdElement:"#wsite-com-product-gen",productTitle:"#wsite-com-product-title",modifiersSelector:".wsite-com-product-modifier",purchaseSourceSelector:"#wsite-com-purchase-source"},options:{salePriceClass:"wsite-com-product-show-price-on-sale",
priceRangeClass:"wsite-com-product-show-price-range",unavailablePriceClass:"wsite-com-product-show-price-unavailable",nonSalePriceClass:""},initialize:function(){var e=this;n.initialize.apply(this,arguments);var t=this.$el.length;if(t){r.initialize(this.$el);o.initialize(this.$el);this.$el.find("#wsite-com-product-add-to-cart").on({click:this.buy.bind(this),keypress:function(t){if(t.which===32||t.which===13){e.buy(t)}}})}},ui:{"images-strip":"#wsite-com-product-images-strip",sku:"#wsite-com-product-sku","sku-value":"#wsite-com-product-sku-value",options:"#wsite-com-product-options","option-groups":"#wsite-com-product-options .wsite-com-product-option","price-area":"#wsite-com-product-price-area",price:"#wsite-com-product-price","price-sale":"#wsite-com-product-price-sale","price-unavailable":"#wsite-com-product-price-unavailable","price-amount":"#wsite-com-product-price .wsite-com-product-price-amount","price-sale-amount":"#wsite-com-product-price-sale .wsite-com-product-price-amount","price-range-amount":"#wsite-com-product-price-range .wsite-com-product-price-amount","inventory-legacy-message":"#wsite-com-product-inventory-message","inventory-out-of-stock-message":"#wsite-com-product-inventory-out-of-stock-message","inventory-low-stock-message":"#wsite-com-product-inventory-low-stock-message",quantity:"#wsite-com-product-quantity-input","add-to-cart":"#wsite-com-product-add-to-cart","fulfillment-options-container":"#wsite-com-product-fulfillment-options-container","fulfillment-options":"#wsite-com-product-fulfillment-options","fulfillment-options-tooltip":"#wsite-com-product-fulfillment-options__tooltip","fulfillment-options-tooltip-text":"#wsite-com-product-fulfillment-options__tooltip_text","on-sale":"#wsite-com-product-on-sale"},updateImage:function(e){var t=e.image_order?this.ui["images-strip"].find("#wsite-com-product-images-secondary-"+e.image_order[0]):this.ui["images-strip"].children(":first-child");t.trigger("click")},update:function(){var t=n.update.apply(this,arguments);var r="";var o="";var s="";if(t===null||t.pickup_location===null){this.ui["fulfillment-options-container"].hide()}if(t){if(t.inventory===0){if(this.ui["inventory-out-of-stock-message"].length===0){r=e.stl("javascript.commerce.site.view.ProductPageView_1")}o=e.stl("ecommerce.common.out_of_stock")}else if(t.inventory<=5){if(this.ui["inventory-low-stock-message"].length===0){r=e.stl("javascript.commerce.site.view.ProductPageView_2",t.inventory)}s=e.stl("ecommerce.common.low_stock_with_count",t.inventory)}if(t.pickup_location!==null&&t.product_type==="physical"){this.ui["fulfillment-options-tooltip-text"].html(e.stl("ecommerce.common.pickup_address_header")+"<br />"+t.pickup_location);this.ui["fulfillment-options-container"].show();if(!t.fulfillment_options.includes("pickup")){this.ui["fulfillment-options-tooltip"].hide()}else{this.ui["fulfillment-options-tooltip"].show()}}if(t.product_type!=="physical"){this.ui["fulfillment-options-container"].hide()}this.ui["inventory-legacy-message"].text(r);this.ui["inventory-out-of-stock-message"].text(o);this.ui["inventory-low-stock-message"].text(s);this.ui["fulfillment-options"].text(t.fulfillment_message);var a=this.ui["quantity"].val();var l=a>t.inventory||t.inventory===0?t.inventory:parseInt(a)||1;this.ui["quantity"].toggleClass("wsite-com-product-disabled",t.inventory===0).attr("max",t.inventory).attr("disabled",t.inventory===0).val(l);if(t.inventory===undefined){this.ui["quantity"].removeAttr("max")}this.ui["on-sale"].toggleClass("wsite-com-product-on-sale-visible",!i.isNull(t.sale_price));this.ui["sku"].toggleClass("wsite-com-product-sku-none",!t.sku);this.ui["sku-value"].text(t.sku)}else{this.ui["sku"].toggleClass("wsite-com-product-sku-none",true);this.ui["sku-value"].empty();this.ui["add-to-cart"].toggleClass("wsite-com-product-disabled",true);this.ui["quantity"].toggleClass("wsite-com-product-disabled",true).attr("max",0).attr("disabled",true).val(0);var c=i.pluck(this.variationData,"inventory");var u=i.reduce(c,function(e,t){return e+t},0);var d=i.min(c);if(u===0){if(this.ui["inventory-out-of-stock-message"].length===0){r=e.stl("javascript.commerce.site.view.ProductPageView_1")}o=e.stl("ecommerce.common.out_of_stock")}else if(d<=5){s=e.stl("ecommerce.common.low_stock")}this.ui["inventory-legacy-message"].text(r);this.ui["inventory-out-of-stock-message"].text(o);this.ui["inventory-low-stock-message"].text(s);var f=i.pluck(this.variationData,"price");var h=i.max(f);var p=i.min(f);var m=i.pluck(this.variationData,"sale_price");this.ui["on-sale"].toggleClass("wsite-com-product-on-sale-visible",Boolean(m.length));if(i.compact(m).length){var g=h==p&&h>i.max(m);if(g){this.ui["price-area"].removeClass().addClass("wsite-com-product-show-price-range-on-sale")}}}},placeOptionPopover:function(e,i){i=t(i);e=t(e);e.appendTo(this.options.container);if(i.offset().left>=e.width()){return"left"}return"bottom"},buy:function(){n.buy.apply(this,arguments).done(function(t,i,n){if(!t.success){return}if(e.Commerce.hasCart){s.cart.populate(t.data.mini_cart);s.cart.showCart(true);s.cart.scrollToCart();s.cart.focusOnCheckoutButton()}else{window.location.href=n.data.checkout_url}})}});t(document).ready(function(){if(window.inEditor&&window.inEditor()||window.inPreview){return}(new a).initialize()});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(9),i(2),i(3),i(339),i(467),i(134),i(133),i(195)],r=function(e,t,i,n,r,o,s,a,l){var c=i.View.extend({id:"wsite-mini-cart",className:"wsite-cart-contents",initialize:function(){t("body").append(this.$el);if(e.Commerce.RPC.Checkout){e.Commerce.RPC.Checkout.getMiniCart().done(this.populate.bind(this))}else if(e.Commerce.RPC.Order){e.Commerce.RPC.Order.getMiniCart().done(this.populate.bind(this))}this.$el.hide();this.bindCartNav();var i=this;t(window).on("resize",function(){i.positionCart()})},populate:function(t){var i;if(!t.success){return}this.cart_template=this.cart_template||t.data.cart_template;this.item_template=this.item_template||t.data.cart_item_template;this.currency=this.currency||t.data.currency;if(t.data.checkout_url){this.checkout_url=t.data.checkout_url}this.item_empty_template=this.item_empty_template||t.data.cart_item_empty_template;this.order=t.data.order;if(this.OrderItems){i=n.reduce(t.data.order.items,function(e,t){return e+t.quantity},0);this.OrderItems.off();e.events.trigger("minicart:add",i);e.events.trigger("minicart:change",i)}this.OrderItems=new o;this.OrderItems.on("reset",this.render,this);this.OrderItems.on("change",function(){this.render();this.showCart();i=window.getCartCount();e.events.trigger("minicart:remove",i);e.events.trigger("minicart:change",i)},this);var r=this;window.getCartCount=function(){var e=0;for(var t=0;t<r.OrderItems.length;t++){e+=r.OrderItems.at(t).get("quantity")}return e};if(window.refreshPublishedFlyoutMenus!==undefined){window.refreshPublishedFlyoutMenus()}this.OrderItems.reset(t.data.order.items);this.positionCart()},hideCart:function(){var e=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");this.$el.fadeOut(200);e.attr("id","");this.cartPinned=false},showCart:function(e){var i=this;this.cartPinned=this.cartPinned||e;var n=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");this.$el.fadeIn(200);this.setEllipsis();n.attr("id","active");i.positionCart();if(this.cartPinned){var r=function(e){var n=t(e.target);if(n.parents("#wsite-mini-cart").length===0&&!n.is(".wsite-remove-button")){i.hideCart()}else{t(document).one("click",r)}};var o=function(e){if(e.keyCode===27){i.hideCart()}else{t(document).one("keydown",o)}};t(document).one("keydown",o);t(document).one("click",r)}},scrollToCart:function(){var e=t(".wsite-nav-cart");if(t(window).scrollTop()>e.offset().top){t("html, body").animate({scrollTop:e.offset().top-25},"slow")}else if(t(window).scrollTop()+t(window).height()<e.offset().top+e.height()){t("html, body").animate({scrollTop:e.offset().top+this.$el.height()+25},"slow")}},positionCart:function(){var i=t("#wsite-nav-cart-a").parents(".wsite-nav-cart");if(!i.length){return}var n=i.offset();var r=this.$el.offsetParent();if(typeof window.safeCumulativeOffset!=="undefined"){var o=window.safeCumulativeOffset(r);n.left-=o.left;n.top-=o.top;n.top+=r.scrollTop();n.left+=r.scrollLeft()}if(e.Menus&&e.Menus.inVerticalList(i,true,"active")){this.$el.addClass("arrow-left");var s=n.top+i.outerHeight()/2-this.$el.outerHeight()*.2;var a=n.left+i.outerWidth()+8;s=Math.max(s,0);a=Math.max(a,9)}else{this.$el.addClass("arrow-top");s=n.top+i.outerHeight()+8;if(i.offset().left+i.outerWidth()/2<this.$el.outerWidth()*.8){this.$el.addClass("arrow-top-left");a=n.left+i.outerWidth()/2-this.$el.outerWidth()*.2}else{this.$el.removeClass("arrow-top-left");a=n.left+i.outerWidth()/2-this.$el.outerWidth()*.8}s=Math.max(s,9);a=Math.max(a,0)}this.$el.css({position:"absolute",left:a+"px",top:s+"px"})},focusOnCheckoutButton:function(){t("#wsite-com-minicart-checkout-button").focus()},setEllipsis:function(){var e=this.$el;var t=e.find(".wsite-product-description");var i=e.find(".wsite-product-option");i.hide();var n=t.width();t.width(n);i.show()},bindCartNav:function(){var e=this;var i=window.getCartNavElement();if(!i){window.reportCartNavElement=function(t){e.bindCartNav()};return}t(i).on("click",function(){if(e.cartPinned){e.hideCart()}else{e.showCart(true)}return false});var n=function(t){if(t.type==="mouseleave"&&!e.cartPinned){window.clearTimeout(e.fadeTimeout);e.fadeTimeout=window.setTimeout(function(){e.hideCart()},200)}else{window.clearTimeout(e.fadeTimeout);e.showCart()}return false};e.positionCart();t(i).on("hover",n);this.$el.on("hover",n)},render:function(){t("#wsite-nav-cart-num").text(window.getCartCount());this.$el.empty();var e=new s({collection:this.OrderItems,template:this.item_template,emptyTemplate:this.item_empty_template,currency:this.currency});this.$el.html(e.el);var i=this.checkout_url;var n={price_number:a.formatCurrency(this.OrderItems.subtotal(),l.customerLocale,this.currency),checkout_url:i};var o=r.render(this.cart_template,n);this.$el.append(o)}});var u={};t(function(){if(window.inEditor&&window.inEditor()||window.inPreview){return}i.$=t;u.cart=new c});return u}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(2),i(12),i(11),i(108),i(303),i(194),i(568),i(7),i(10),i(25),i(56),i(103),i(110)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){"use strict";var p="";var m=null;var g=Class.create(f,{control:null,afterRender:function($super){this.$sectionEl=e(this.section.generateSelector());u.resizeEmptyMessage(this.$sectionEl,this.section.getHeight());if(this.section.hasBackgroundEffects()){var t=this.section.getBackgroundEffects();d.applyBackgroundEffects(this.$sectionEl,t,true)}if(!i.chromeless){this.attachListeners()}if(this.section.generateSelector()===p){this.showEditMode();this.control.hide()}$super()},unrender:function($super){$super();this.detachListeners()},getWrapperClassNames:function($super){var e=[$super()];if(this.section){if(this.section.hasBackgroundVideo()){e.push(c.SECTION_BACKGROUND_VIDEO_CLASS_NAME)}else if(this.section.hasBackgroundImage()){e.push(c.SECTION_BACKGROUND_IMAGE_CLASS_NAME)}else if(this.section.hasBackgroundColor()){e.push(c.SECTION_BACKGROUND_COLOR_CLASS_NAME)}else if(this.section.hasBackgroundGradient()){e.push(c.SECTION_BACKGROUND_GRADIENT_CLASS_NAME)}}return e.join(" ")},initializeSpotlightResize:function(e){var t=e.parents("."+c.SECTION_WRAP_NAME);m=o.showSectionSpotlights(e);m.container.on("mouseup",".spotlight-bg",this.hideEditMode.bind(this));n.vent.once("editor:spotlight:open",this.hideEditMode,this);a.destroy(e);a.initialize(e,{edgeParent:t,showResizeHandle:this.section.isBackgroundResizeable(),showResizeTipAbove:this.control&&this.control.options.preferBottom,onStart:function(){if(this.control){this.control.hide()}}.bind(this),onStop:function(e,i){var r;if(i.saveAutoHeight){r={height:"auto"}}else{r={height:i.size.height+"px"}}this.section.setBaseStyle(r);if(this.control){this.control.show();this.control.reposition(t)}n.vent.trigger("editor:elements:changed");l.trigger("editor:elements:changed")}.bind(this),onResize:function(){m.reposition()}})},showEditMode:function(){p=this.section.generateSelector();this.attachEditModeListeners();this.initializeSpotlightResize(this.$sectionEl)},hideEditMode:function(){if(this.section.generateSelector()!==p){return e.Deferred().resolve()}return r.close("section:chooseSectionLayout").done(function e(){if(this.section){a.destroy(this.$sectionEl)}clearInterval(this.controlPositioningInterval);if(n.sectionDialog){n.sectionDialog.close();this.control=null}if(m){m.destroy();m=null}if(this.moveCopyDialog){this.moveCopyDialog.close();this.moveCopyDialog=null}if(this.boundInitResize){n.vent.off("pageRendered",this.boundInitResize)}p="";this.detachEditModeListeners()}.bind(this)).fail(function t(){if(this.boundInitResize){n.vent.off("pageRendered",this.boundInitResize)}this.boundInitResize=function(){var t=e(this.section.generateSelector());this.initializeSpotlightResize(t);this.boundInitResize=null}.bind(this);n.vent.once("pageRendered",this.boundInitResize)}.bind(this))},attachListeners:function(){this.$sectionEl.on({"mouseup.section-area":function e(t){r.close("section:chooseSectionLayout");if(u.shouldShowEditMode(t)){this.showEditMode()}}.bind(this),"mouseenter.section-area":function e(){this.$sectionEl.addClass("section-hover")}.bind(this),"mouseleave.section-area":function e(){this.$sectionEl.removeClass("section-hover")}.bind(this)})},detachListeners:function(){this.$sectionEl.off("mouseup");this.detachEditModeListeners()},attachEditModeListeners:function(){l.on({"site:overlays:hide":this.hideEditMode,"editor:updateList":this.hideEditMode},this);n.vent.on({"editor:element:resize":t.throttle(this.hideEditMode,300),"editor:element:dragStart":this.hideEditMode,"editor:element:text:modify":this.hideEditMode,"editor:element:delete:after":this.hideEditMode,"editor:elements:options:show":this.hideEditMode},this)},detachEditModeListeners:function(){l.off(["site:overlays:hide","editor:updateList"].join(" "),null,this);n.vent.off(["editor:element:resize","editor:element:dragStart","editor:element:text:modify","editor:element:delete:after","editor:elements:options:show"].join(" "),null,this)},setStyle:function(e,t){this.section.set(t,{silent:true});this.applyStyle(this.section)},applyStyle:function(){var e=this.section.getBackgroundContent();var t=this.section.getBaseStyle()||{};u.clearSectionStyling(this.$sectionEl);this.$sectionEl.css(t);if(this.section.hasBackgroundVideo()){var i=e.background_url;var r=e.encoding_done===false;var o=u.generateVideoStillImage(i,r);var s=Boolean(this.$sectionEl.data("in-preview"));d.applyBackgroundVideo(this.$sectionEl,e,s);this.applyVideoStillImage(o);this.$sectionEl.addClass(c.SECTION_BACKGROUND_VIDEO_CLASS_NAME);n.vent.trigger("section:background:video:render")}else if(this.section.hasBackgroundImage()){this.$sectionEl.addClass(c.SECTION_BACKGROUND_IMAGE_CLASS_NAME);n.vent.trigger("section:background:image:render",this.$sectionEl.attr("class"))}else if(this.section.hasBackgroundColor()){this.$sectionEl.css(e).addClass(c.SECTION_BACKGROUND_COLOR_CLASS_NAME)}else if(this.section.hasBackgroundGradient()){var a=this.$sectionEl.attr("style");var f=a+h.generateCSS(e);this.$sectionEl.attr("style",f).addClass(c.SECTION_BACKGROUND_GRADIENT_CLASS_NAME)}if(this.section.hasBackgroundEffects()){var p=this.section.getBackgroundEffects();d.applyBackgroundEffects(this.$sectionEl,p,true)}n.vent.trigger("editor:elements:changed");l.trigger("editor:elements:changed")},clearSection:function(){this.removeAllElements()},initializeControlView:function(e){var t=new s(e);t.on({"section:control:background:extend":this.onControlBackgroundExtend,"section:control:background:open":this.onControlBackgroundOpen,"section:control:layout:add":this.onControlLayoutAdd,"section:control:layout:change":this.onControlLayoutChange,"section:control:baseStyle:set":this.onControlBaseStyleSet,"section:control:remove":this.onControlRemove,"section:control:clear":this.onControlClear,"section:control:move":this.onControlMove},this);n.sectionDialog.show(t);t.reposition(this.$sectionEl);clearInterval(this.controlPositioningInterval);this.controlPositioningInterval=setInterval(function(){if(t.isClosed){clearInterval(this.controlPositioningInterval)}else{t.reposition(this.$sectionEl)}}.bind(this),c.SECTION_SPOTLIGHT_REPOSITION_INTERVAL);return t},onControlBackgroundExtend:function(e){n.execute("themeBackground:extend",e)},onControlBaseStyleSet:function(e){this.section.setBaseStyle(e)},onControlLayoutAdd:function(){this.control.close();this.chooseSectionLayout()},onControlLayoutChange:t.noop,onControlBackgroundOpen:t.noop,onControlRemove:t.noop,onControlClear:t.noop,onControlMove:t.noop});return g}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(12),i(19),i(94),i(167),i(79),i(61),i(7),i(23),i(138)],r=function(e,t,i,n,r,o,s,a){var l=Class.create(i,{tagName:"span",getInnerHTML:function(){var e=this.attrs;if(!this.data){this.data={}}var t=this.data;var i=t.isImage;if(t.type){i=t.type==="image"&&t.image}if(i){var n=t.url;if(n&&!n.match("://")){n="/uploads/"+n}var r=t.link;if(t.type){n=t.image.editorUrl}var o="<img"+" src='"+n+"'"+" style='"+(e["max-width"]?"max-width:"+e["max-width"]+"px;":"")+(e["max-height"]?"max-height:"+e["max-height"]+"px;":"")+"'"+"/>";if(r){o="<a href='"+r+"' onclick='return false'>"+o+"</a>"}return o}else{return"<table"+" class='weebly-image-area-placeholder'"+" style='"+"width:"+(e["max-width"]||e["max-height"]||100)+"px;"+"height:"+(e["max-height"]||e["max-width"]||100)+"px;"+"'"+">"+"<tbody>"+"<tr><td><img src='/weebly/images/image_placeholder.png' /></td></tr>"+"</tbody>"+"</table>"}},afterRender:function($super){$super();var e=this.el.down();if(e.tagName=="TABLE"){e.observe("click",function(){o.hide();this.chooseImage({type:"area",area_page_id:this.context.pageID||"",area_type:this.type,area_name:this.name,width:this.attrs["max-width"]||"",height:this.attrs["max-height"]||""})}.bind(this));o.init(e,"Click to add image")}else if(!t.chromeless){this.renderToolbar()}},chooseImage:function(e){a.request("chooseImage",e).done(function(e){this.data=e;this.rerender()}.bind(this))},renderToolbar:function(){var t=this;var i=t.toolbar=new n({targetElement:t.el,parent:"_editor-ui"});var r=i.getInnerElement();var l=t.data;e(r).addClass("image-area-toolbar");var c=e("<span>",{class:"hover-toolbar-link"+(l.link?" hover-toolbar-link-pressed":""),appendTo:r}).on("click",function(e){e.stopPropagation();i.hide();o.hide();a.request("linker:open",{remove:true,existing:s.parseLinkString(l.image.link)}).done(function(e){if(!e){delete l.image.link}else{l.image.link=e}t.save();t.rerender()})});var u=e("<span>",{class:"hover-toolbar-remove",appendTo:r}).on("click",function(){o.hide();t.data.type="text";t.save();t.rerender()});var d=t.el;var f=d.down("img");var h=e("<span>",{class:"hover-toolbar-edit",html:"Edit",prependTo:r}).on("click",function(){this.toolbar.hide();o.hide();var e={mode:"area",imageEditorData:this.data,area:{page_id:this.context.pageID||"",type:this.type,name:this.name}};this.editImage(e)}.bind(this));c=c[0];h=h[0];u=u[0];o.init(c,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_2"));o.init(h,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_3"));o.init(u,_W.utl("javascript.editor-site-shared.build.areas.ImageArea_4"))},editImage:function(e){r.edit(e).done(function(e){this.data=e;this.rerender()}.bind(this))},unrender:function($super){$super();if(this.toolbar){this.toolbar.destroy();delete this.toolbar}}});Weebly.ImageArea=l;i.register("image",l);return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(12),i(7),i(15),i(196),i(21),i(683),i(216),i(689),i(688),i(687),i(690),i(691),i(692),i(684),i(686),i(685)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w){var b=window.Class.create(o,{PROPERTIES_TO_PARSE:["IMAGEDATA","SEQUENCE"],models:null,initialize:function($super,e){$super(e);t.defaults(this,{models:[],maxPage:1});i.compilePartial("elements/commerce-elements/pagination/pagination",p);i.compilePartial("elements/commerce-elements/pagination/show-more",m)},renderHTML:function($super,e){if(n.chromeless){var t,r,o;var s=this.getContentField();if(this.models.length>0){this.propertiesModel=this.propertiesToModel(s);this.propertiesModel["models"]=this.models;t=this.renderModels(s)}else{t=i.render(e)}s.content=i.render(l,{ucfid:s.ucfid,contentHTML:t})}return $super()},afterRender:function($super,t,i){$super(t,i);this.$li=e(t);if(!a.inEditorContext()){if(!this.propertiesModel){this.propertiesModel=this.propertiesToModel(this.getContentField())}this.$initialPaginationEl=this.$li.find(".product-pagination").clone();this.bindEventListeners()}},unrender:function($super){$super();if(!a.inEditorContext()){s.removeListeners(this.$li)}},mapProperties:function(t,i){var n=this.propertiesToModel(t);n["models"]=this.models;if(this.models&&!this.shouldFetchModels(t,i)){return e.Deferred().resolve(n)}return this.fetchModelsPage(n,0).then(function(e){this.models=n["models"]=e;return n}.bind(this))},fetchModelsPage:function(e,t){throw"Please override this method in subclasses"},renderModels:function(e){var n=this.propertiesModel["LAYOUT"];var r=this.propertiesModel["PAGINATIONOPTS"];var o=r==="showMoreLink";var a=this.maxPage>1&&n!=="singlerow";t.extend(this.propertiesModel,{show_pagination:a,show_more_link:o});if(this.maxPage>1){t.extend(this.propertiesModel,s.getPaginationData(1,this.maxPage))}var l=this.renderLayout(this.propertiesModel);return i.render(c,t.extend({},this.propertiesModel,{layout_html:l}))},renderLayout:function(e){var t;var n=e["LAYOUT"];e["models_html"]=this.renderModelsHtml(e);switch(n){case"masonry":t=i.render(d,e);break;case"multiimage":t=i.render(u,e);break;case"singlerow":t=i.render(h,e);break;case"grid":default:t=i.render(f,e);break}return t},renderModelsHtml:function(e){var t=e["INFOPLACEMENT"];var n;switch(t){case"above":case"left":n=i.render(g,e);break;case"over":case"hover":n=i.render(v,e);break;case"below":case"right":default:n=i.render(w,e);break}return n},renderItemsPage:function(t,i){this.propertiesModel["models"]=i;var n=this.propertiesModel["LAYOUT"];var r=this.propertiesModel["SHOWSLIDESHOW"];var o=this.propertiesModel["PAGINATIONOPTS"];var a=t.find(".commerce-layout-wrapper");var l=t.find(".product-grid-single-row__wrapper");var c=e(this.renderLayout(this.propertiesModel));var u=t.find(".pagination__overlay");if(l.length){l.append(c.find(".product-grid__item"))}else if(o==="showMoreLink"){a.children(":first").append(c.children());t.find(".product-grid__more").removeClass("disabled");u.hide()}else{e("body, html").animate({scrollTop:t.offset().top-70+"px"},300);a.html(c);u.hide()}var d=n==="singlerow"||n==="grid";if(r&&d){s.bindSlideshowListener(t)}if(n==="masonry"){s.initializeMasonry(t)}},bindEventListeners:function(){var e=this.propertiesModel["LAYOUT"].toLowerCase();if(this.maxPage>1){this.bindPaginationListeners()}var t=this.propertiesModel["SHOWSLIDESHOW"];if(t&&(e==="grid"||e==="singlerow")){s.bindSlideshowListener(this.$li)}if(e==="singlerow"){s.assignRowScrollListener(this.$li,this.maxPage,this.paginationCallback.bind(this))}else if(e==="masonry"&&this.propertiesModel["SHOWIMAGE"]){s.initializeMasonry(this.$li)}this.assignEmptyElementListener(this.getContentField())},bindPaginationListeners:function(){var e=this.propertiesModel["PAGINATIONOPTS"];if(e==="numberedPages"){var t=this.$li.find("[data-page]");t.eq(0).addClass("wsite-selected");s.listenToPagination(this.$li,this.maxPage,this.paginationCallback.bind(this))}else if(e==="showMoreLink"){s.assignShowMorePagination(this.$li,this.maxPage,this.paginationCallback.bind(this))}},assignEmptyElementListener:function(e){if(!this.models||this.models.length===0){this.$li.off("click.commerce-element",".empty-commerce-element").on("click.commerce-element",".empty-commerce-element",function(){this.openSequenceSelectDialog(e)}.bind(this))}},afterAdd:function($super,e){$super(e);this.openSequenceSelectDialog(this.getContentField())},propertiesToModel:function(e){var i={};t.each(t.values(e.properties),function(e){var n=e.reference_property.match(/<!(.*?)!>/)[1];if(e.property_result==="true"||e.property_result==="false"){i[n]=e.property_result==="true"}else if(t.indexOf(this.PROPERTIES_TO_PARSE,n)>-1){i[n]=JSON.parse(e.property_result)}else{i[n]=e.property_result}}.bind(this));var n=i["LAYOUT"];i["is_multi_image"]=n==="multiimage";i["is_masonry"]=n==="masonry";i["can_view_slideshow"]=i["SHOWSLIDESHOW"]&&n!=="multiimage"&&n!=="masonry";return i}});return b}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(12),i(45),i(92),i(15),i(7),i(36)],r=function(e,t,i,n,r,o,s,a){var l=Class.create(n,{initialize:function($super,e,t){$super(e,t);this.context=t},afterRender:function($super,n,o){$super(n,o);var a=this;n=e(n);t.each(this.children,function(e){var t=n.find("li#inside_"+e.id);if(t.length){e.afterRender(t[0],o)}});if(i.chromeless){return}var c=a.spotlight=new r({element:{id:this.id},container:n.find(".element")[0],uid:"form"+a.id,zIndex:8,elementsPage:"form",onOpen:function(){l.isEditing=true;c.getControlsInner().addClass("form-controls").append(e("<span class='btn'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_2")+"</span>").on("click",function(){s.execute("viewFormData",a.getContentField().ucfid)})).append(e("<span class='btn btn-info'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_3")+"</span>").on("click",function(){Weebly.Elements.selectElement(n.find(".element")[0])})).append(e("<span class='btn btn-primary'>"+_W.utl("javascript.editor-site-shared.build.elements.FormElement_4")+"</span>").on("click",function(){c.close();s.trigger("displayPromoteFormHelpy")}))},onClose:function(){l.isEditing=false;c.getControlsInner().empty()}});c.cover.attr("title",_W.utl("javascript.editor-site-shared.build.elements.FormElement_5"))},reposition:function($super){$super();if(this.spotlight){this.spotlight.resize()}},unrender:function($super){$super();if(this.spotlight){this.spotlight.destroy();delete this.spotlight}},addChild:function(t,i,n,r){if(i<0){return false}var o=this.context.loadElement(t);var s;if(this.li){if(!o.li){o.li=e(o.renderHTML())[0]}var l=e(this.li).find("#"+n);var c=l.children("li.inside").eq(i);if(!c.length){l.append(o.li)}else{c.before(o.li)}o.afterRender(o.li);s=a.getAreaInstanceForElement(e(o.li).closest(".weebly-area")[0])}else if(this.elData){s=a.getAreaInstance(null,this.elData.area.type,this.elData.area.name)}if(r){s=s.getAreaFromSectionId(r)}s.spliceExistingElements([o]);this.children.splice(i,0,o);if(s&&s.elements){var u=s.elements.indexOf(o);if(u!==-1){s.elements.splice(u,1)}}return true}});Weebly.FormElement=l;o.register("7423607",l);return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(222),i(10),i(15),i(268),i(45),i(23)],r=function(e,t,i,n,r,o,s,a){function l(e){return o.element_ids.indexOf(e.element_id)!==-1}var c=window.Class.create(s,{initialize:function($super,e,t){$super(e,t);a.init(t.currentApp)},startDrag:function(){var e=this;a.getActiveContentAreas().done(function(n){e.combiner=new i(t.filter(a.flattenElements(n,true),l),"wsite-image-combine")})},onDrag:function($super,e,t,i){i=$super(e,t,i);if(this.combiner&&this.combiner.testPoint(e.pageX,e.pageY)){var n=this.combiner.found.offset();t.originalPosition.left=n.left;t.originalPosition.top=n.top;var r=t.helper.find("#weebly_image_extras_helper");if(!r.length){r=t.helper}if(r.css("position")==="absolute"){n=r.offsetParent().offset();t.originalPosition.left-=n.left;t.originalPosition.top-=n.top}else{t.originalPosition.left-=t.offset.left-t.position.left;t.originalPosition.top-=t.offset.top-t.position.top}var o=this.getPropertyResult("<!ALIGN!>");if(o==="right"){this.combiner.found.addClass("wsite-image-combine-right");t.originalPosition.left+=this.combiner.found.outerWidth()-r.outerWidth()}else{this.combiner.found.removeClass("wsite-image-combine-right")}return null}return i},stopDrag:function(t,i){if(this.combiner&&this.combiner.found){i.noDrop=true;if(this.isNew===true){this.combiner.callMethod("replaceWithImageTextElement",{id:this.eid,parentString:""})}else if(this.imageText===true){this.combiner.callMethod("moveImageTextElementImage",e(this.li))}else{this.combiner.callMethod("combineImageTextElements",e(this.li))}}},afterRender:function($super,t,i){$super(t,i);e(t).addClass("wsite-image")},"<!SRC!>":function(){var e;try{e=JSON.parse(this.getPropertyResult("<!DATA!>"))}catch(e){}if(e&&e.image){return e.image.editorUrl}return this.getPropertyResult("<!SRC!>")}});for(var u=0;u<n.STANDALONE_IMAGE_ELEMENTS.length;u++){r.register(n.STANDALONE_IMAGE_ELEMENTS[u],c)}return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(11),i(12),i(708),i(707),i(15),i(78),i(109),i(23),i(17),i(36)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f){function h(){var t=e(this);return parseInt(t.css("left"),10)+t.offsetParent().offset().left}var p=window.Class.create(a,{cachedColumnElements:null,initialize:function($super,t,i){$super(t,i);this.cachedColumnElements=[];this.columns=e.map(this.columns,function(t){t=[i.loadElements(t)];e.each(t[0],function(t){var i=f.getAreaInstanceForElement(e(t).closest(".weebly-area")[0]);if(i&&i.elements){i.spliceElement(t.id)}});return t});var n=this.getContentField();var o;var s;var a;if(n){o=n.getProperty("<!DATA!>");s=n.getProperty("<!LEFTWIDTH!>");a=n.getProperty("<!RIGHTWIDTH!>")}if(o&&o.property_result){try{t=JSON.parse(o.property_result)}catch(e){t={}}}else{t={}}var l=this.isLegacy=s&&a;if(!t.widths){if(l&&s&&a){this.doLegacyPadding=true;t.widths=[parseFloat(s.property_result)/100,parseFloat(a.property_result)/100]}else{t.widths=[.5,.5]}}if(!l&&!r.chromeless&&n){var c=n.getProperty("<!SPACING!>");if(t.spacing){c.property_result=t.spacing;delete t.spacing;n.saveProperties()}}this.context=i;this.data=t;this.normalizeWidths()},getDimensions:function($super){var e=this.getColumns();return t.defaults({columns:t.map(this.columns,function(i,n){var r=e.eq(n);var o=r.offset();o=o||{};return{top:o.top,left:o.left,height:r.outerHeight(false),width:r.outerWidth(false),elements:t.invoke(i,"getDimensions")}})},$super())},"<!COLUMNS!>":function(e,t){var n={in_editor:true,columns:[],margin:"0 -"+this.getSpacing()};if(this.data){for(var r=0;r<this.data.widths.length;r++){n.columns.push(this.getColumnData(r,t))}}return i.render(o,n,{"elements/multicolumn-column":s})},getSpacing:function(e,t){var i,e=this.isLegacy,t=this.getContentField();if(!e&&t){i=t.getProperty("<!SPACING!>");if(i){i=i.property_result}else{i="5px"}}else{i="5px"}return i},getColumnData:function(e,t){var i=this.getContentField();var n;if(i){n=i.ucfid+"-col"+e;if(this.isLegacy){if(e===0){n=i.ucfid+"-lhs"}else if(e===1){n=i.ucfid+"-rhs"}}}var r="";if(!t||!this.cachedColumnElements[e]){r=a.renderElementsHTML(this.columns[e]||[])}return{id:n,width:this.data.widths[e]*100+"%",padding:"0 "+this.getSpacing(),elementsHTML:r}},beforeRender:function($super,e){$super(e);this.cacheColumnElements(true)},cacheColumnElements:function(e){this.cachedColumnElements.length=0;if(this.li){var t=this.getColumns().children();if(e){t.detach()}this.cachedColumnElements.push.apply(this.cachedColumnElements,t.get())}},afterRender:function($super,i,r){$super(i,r);if(r){var o=this.getColumns();e.each(this.cachedColumnElements,function(e,t){o.eq(e).append(t)})}i=e(i);if(!r){i.addClass(this.constructor.CLASS_PREFIX+"-li");var s=this.constructor.HOVER_CLASS;var a=this;i.on({mouseenter:function(){if(!window.isDraggingElement&&!this.constructor.isResizing){e(this).addClass(s).parents("."+s).removeClass(s);a.positionDividers()}},mouseleave:function(){if(!window.isDraggingElement&&!this.constructor.isResizing){e(this).removeClass(s)}}})}if(this.doLegacyPadding){i.find("."+this.constructor.CLASS_PREFIX).eq(0).css("width","98.8%");
}this.updateViewElements();n.vent.on("setMobileView setStandardView",this.updateViewElements,this);this.constructor.allElements=this.constructor.allElements.not("#"+i.attr("id")).add(i);t.each(this.columns,function(e){t.each(e,function(e){var t=i.find("li#inside_"+e.id);if(t.length){e.afterRender(t[0],r)}})})},updateWidths:function(t){if(e.isArray(t)){this.data.widths=t}var i=this.getColumns();for(var n=0;n<this.data.widths.length;n++){i.eq(n).css("width",this.data.widths[n]*100+"%")}this.updateTinyColumns();this.clearDividers()},addColumn:function(r,o,a){this.data.widths.splice(r,0,o);var l={in_editor:true};var c=e("#inside_"+a.id);var u=false;if(c.length>0){if(this.cachedColumnElements.length===0){this.cacheColumnElements()}this.cachedColumnElements.splice(r,0,true);l.elementsHTML=c[0].outerHTML;c.remove();u=true;this.columns.splice(r,0,[a])}else{this.columns.splice(r,0,[this.context.loadElement(a)])}if(typeof this.li==="undefined"){return}var d=i.render(s,t.extend(this.getColumnData(r,u),l));var f=this.getColumns();var h;var p;if(r>=f.length){h=f.eq(f.length-1);h.after(d);p=h.next()}else{h=f.eq(r);h.before(d);p=h.prev();p.nextAll().attr("id",function(e,t){return t.split("-")[0]+"-col"+(r+e+1)})}if(u){this.cachedColumnElements[r]=p.children()}else{this.cachedColumnElements.splice(r,0,p.children());if(this.columns[r][0].afterRender){this.columns[r][0].afterRender(p.find("li.inside"))}}var m=1-o;t.each(this.data.widths,function(e,t,i){if(t===r){return}i[t]*=m});this.clearDividers();this.updateWidths();if(c.length===0){n.vent.trigger("editor:elements:newElement")}return this.data.widths},removeColumn:function(e){var i=this.data.widths.splice(e,1);i=i[0];this.columns.splice(e,1);this.cachedColumnElements.splice(e,1);var n=this.getColumns();n.eq(Math.min(e,n.length-1)).remove();var r=1-i;t.each(this.data.widths,function(e,t,i){i[t]/=r});this.clearDividers();this.updateWidths();return this.data.widths},removeEmptyColumns:function(t){var i=this.getColumns();var n=i.filter(function(){var t=e(this);return!t.children().length||!t.children("ul").children().length});var r=i.not(n);var o=f.getAreaInstanceForElement(e(this.li).closest(".weebly-area")[0]);if(t){o=o.getAreaFromSectionId(t)}if(r.length===1){e(this.li).before(r.children().children());var s=i.index(r[0]);o.replaceElement(this,this.columns[s]);r=e()}if(r.length===0){o.context.deleteElement(this.id);return false}if(n.length===0){return null}var a=this;n.each(function(){a.removeColumn(i.index(this))});return true},addChild:function(i,n,r){if(n<0){return false}var o=this.context.loadElement(i);var s=r.match(/-col(\d+)$/i);if(s){s=parseInt(s[1],10);if(t.isNaN(s)){return false}}else{return false}this.columns[s].splice(n,0,o);var a;if(this.li){var l=e(this.li);var c=l.find("#"+r);var u=c.find("li.inside").eq(0);if(!u.length){return false}if(!o.li){o.li=e(o.renderHTML())[0]}c=c.children("ul");u=c.children().eq(n);if(!u.length){c.append(o.li)}else{u.before(o.li)}o.afterRender(o.li);a=f.getAreaInstanceForElement(e(o.li).closest(".weebly-area")[0])}else if(this.elData){a=f.getAreaInstance(this.elData.area.is_site_wide,this.elData.area.type,this.elData.area.name)}if(a&&a.elements){var d=a.elements.indexOf(o);if(d!==-1){a.elements.splice(d,1)}}return true},updateViewElements:function(){var t=e(this.li);if(Weebly.view.isMobileView||r.chromeless){t.find("."+this.constructor.DIVIDER_CLASS).css("display","none")}else{t.find("."+this.constructor.DIVIDER_CLASS).css("display","");this.reposition()}},reposition:function($super){$super();var t=e(this.li);var i=t.hasClass("inside-hover")||t.hasClass("inside-active");if(i){this.positionDividers()}else{this.clearDividers()}this.updateTinyColumns()},updateTinyColumns:function(){var t=this.getColumns();var i=this.constructor.TINY_COLUMN_WIDTH;var n=this.constructor.TINY_COLUMN_CLASS;t.each(function(){var t=e(this);if(t.outerWidth()<i){t.addClass(n)}else{t.removeClass(n)}})},clearDividers:function(){e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).children("."+this.constructor.DIVIDER_CLASS+", ."+this.constructor.DRAG_COVER_CLASS).remove();this.dividers=null},renderDividers:function(){this.clearDividers();if(!window.elementControlsEnabled||this.columnsAreVertical()){return}var i=e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0);var r=this;var o=this.getColumns();this.dividers=[];o.each(function(s){if(s){var a=e(this);var u;var f=e("<div/>",{class:r.constructor.DIVIDER_CLASS}).on({mousedown:function(p){u=false;r.constructor.isResizing=true;l.disable();var m=i.offset();var g=o.eq(s-1).outerWidth();var v=r.data.widths[s-1];var w=a.outerWidth();var b=r.data.widths[s];var y=parseInt(f.css("left"),10);var _=p.pageX;var E=h.call(this);var T=m.left+(s>1?parseInt(r.dividers[s-2].css("left"),10):0);var C=m.left+(s<r.dividers.length?parseInt(r.dividers[s].css("left"),10):i.outerWidth());if(o.eq(s-1).find("."+r.constructor.LIST_CLASS).eq(0).find("> li.inside:not(.wsite-spacer-li)").length){T+=50}else{T+=5}if(a.find("."+r.constructor.LIST_CLASS).eq(0).find("> li.inside:not(.wsite-spacer-li)").length){C-=50}else{C-=5}e(this).siblings("."+r.constructor.DRAG_COVER_CLASS).addBack().addClass("dragging");var S;var I=e();var O=e(this).closest("."+r.constructor.CLASS_PREFIX+"-li");var k=O.prev();var x=O.next();if(k.hasClass("."+r.constructor.CLASS_PREFIX+"-li")){I=k.find("."+r.constructor.CLASS_PREFIX).eq(0).children("."+r.constructor.DIVIDER_CLASS).addClass(r.constructor.GUIDE_CLASS)}if(x.hasClass("."+r.constructor.CLASS_PREFIX+"-li")){I=I.add(x.find("."+r.constructor.CLASS_PREFIX).eq(0).children("."+r.constructor.DIVIDER_CLASS).addClass(r.constructor.GUIDE_CLASS))}if(I.length){S=I.map(h).get()}var D=Math.round(e(this).closest(".weebly-area, ul."+r.constructor.LIST_CLASS).width()/12);var R=e("<div>",{html:window._W.utl("html.weebly.libraries.classes.elements.MultiColumnElement_1"),class:"wsite-multicol-tooltip"}).hide().appendTo("#_editor-ui").fadeIn();function P(e){u=true;Weebly.Elements.unselectElement();var i=Math.max(Math.min(e.pageX,C),T)-_;var n=E+i;if(!e.ctrlKey&&!e.shiftKey){i=Math.round((y+i)/D)*D-y;if(E+i<T||E+i>C){return}if(S){var l=t.find(S,function(e){return Math.abs(e-n)<10});if(l){i=l-E}}}var d=(g+i)/(g+w)*(v+b);var h=(w-i)/(g+w)*(v+b);if(r.data.widths[s-1]!=d||r.data.widths[s]!=h){r.data.widths[s-1]=d;r.data.widths[s]=h;o.eq(s-1).css("width",d*100+"%");a.css("width",h*100+"%");f.css("left",y+i+"px");r.updateTinyColumns();c.unsetDimensions(o.eq(s-1).add(o.eq(s)))}}function A(){R.fadeOut(400,function(){e(this).remove()});if(u){n.vent.trigger("editor:elements:changed")}f.siblings("."+r.constructor.DRAG_COVER_CLASS).addBack().removeClass("dragging");if(I.length){I.removeClass(r.constructor.GUIDE_CLASS)}r.constructor.isResizing=false;l.enable();e(document).off(N);r.saveData();r.killLegacyPadding();d.repositionElements()}var N={mousemove:P,mouseup:A};e(document).on(N);return false},click:function(){if(!u){Weebly.Elements.selectElement(this.up(".element"))}}}).appendTo(i);r.dividers.push(f)}});e("<div>",{class:this.constructor.DRAG_COVER_CLASS,appendTo:i})},positionDividers:function(){if(!window.elementControlsEnabled||this.columnsAreVertical()){if(this.dividers){t.invoke(this.dividers,"hide")}return}var i=this;if(!i.dividers||!e.contains(document,i.dividers[0][0])){i.renderDividers()}var n=e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).offset();this.getColumns().each(function(t){if(t){var r=i.dividers[t-1];var o=Math.round(e(this).offset().left-n.left);r.css("left",o+"px").show()}})},normalizeWidths:function(){var e=this.data.widths;var t=e.length;var i=0;var n;for(n=0;n<t;n++){if(typeof e[n]!=="number"){e[n]=1/t}}for(n=0;n<t;n++){i+=e[n]}for(n=0;n<t;n++){e[n]/=i}this.data.widths=e},columnsAreVertical:function(){var e=this.getColumns();return e.eq(0).offset().top<e.last().offset().top},getColumns:function(){return e(this.li).find("."+this.constructor.COLUMN_WRAPPER_CLASS).eq(0).children("."+this.constructor.COLUMN_CLASS)},killLegacyPadding:function(){if(this.doLegacyPadding){delete this.doLegacyPadding;e(this.li).find("."+this.constructor.CLASS_PREFIX).eq(0).css("width","")}},saveData:function(){var e=this.getContentField();e.getProperty("<!DATA!>").property_result=JSON.stringify(this.data);e.saveProperties()},unrender:function($super){this.constructor.allElements=this.constructor.allElements.not(this.li);n.vent.off("setMobileView setStandardView",this.updateViewElements,this);$super()},onDrag:function($super,e,t,i){i=$super(e,t,i);if(!i||!i.el||!this.elData){return i}if(u.isChildOf(i.el,this.elData.id)){return null}return i}});p.TINY_COLUMN_WIDTH=100;p.CLASS_PREFIX="wsite-multicol";p.TINY_COLUMN_CLASS=p.CLASS_PREFIX+"-col-tiny";p.DIVIDER_CLASS=p.CLASS_PREFIX+"-divider";p.DRAG_COVER_CLASS=p.CLASS_PREFIX+"-drag-cover";p.HOVER_CLASS=p.CLASS_PREFIX+"-li-hover";p.COLUMN_CLASS=p.CLASS_PREFIX+"-col";p.COLUMN_WRAPPER_CLASS=p.CLASS_PREFIX+"-tr";p.GUIDE_CLASS=p.CLASS_PREFIX+"-guide";p.LIST_CLASS="columnlist";p.allElements=e();p.resizeColumns=function(t){if(e.isNumeric(t)){t=this}else if(typeof t==="string"&&t[0]!=="#"){t="#"+t}t=e(t);if(t.length&&t[0].id.match(/lhs-list/)){var i=e("#"+t[0].id.replace(/lhs/,"rhs"));if(i.length){t.css("height","auto");i.css("height","auto");var n=t.height();var r=i.height();if(n<100&&r<100){t.css("height","100px");i.css("height","100px")}else if(n>r){i.css("height",n-2+"px")}else if(r>n){t.css("height",r-2+"px")}i.closest(".column").nextUntil(".splitpane-divider").last().next().css("height",Math.max(100,n,r)+"px")}}};p.resizeAllColumns=function(){this.allElements.each(this.resizeColumns)};n.vent.on({"imageElementUpdated slideshowRerendered scriptFrameResized imageResizeStopped":function(){p.resizeAllColumns()}});window.resizeColumns=e.proxy(p.resizeColumns,p);window.resizeAllColumns=e.proxy(p.resizeAllColumns,p);window.MultiColumnElement=p;a.register(function(e){return"columns"in e},p);e(document).on("load",".columnlist .element img",function(){var t=this.up(".columnlist");if(t){if(t.id.match(/rhs-list/)){t=e(t.id.replace(/rhs-list/,"lhs-list"))}p.resizeColumns(t)}});return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(222),i(10),i(15),i(45),i(23)],r=function(e,t,i,n,r,o,s){function a(e){return n.STANDALONE_IMAGE_ELEMENTS.indexOf(e.element_id)!==-1}var l=window.Class.create(o,{initialize:function($super,e,t){$super(e,t);s.init(t.currentApp)},startDrag:function(){var e=this;s.getActiveContentAreas().done(function(n){e.combiner=new i(t.filter(s.flattenElements(n,true),a),"wsite-text-combine")})},onDrag:function($super,e,t,i){i=$super(e,t,i);if(this.combiner&&this.combiner.testPoint(e.pageX,e.pageY)){var n=this.combiner.found.offset();t.originalPosition.left=n.left;t.originalPosition.top=n.top;if(t.helper.css("position")==="absolute"){n=t.helper.offsetParent().offset();t.originalPosition.left-=n.left;t.originalPosition.top-=n.top}else{t.originalPosition.left-=t.offset.left-t.position.left;t.originalPosition.top-=t.offset.top-t.position.top}return null}return i},stopDrag:function(t,i){if(this.combiner&&this.combiner.found){i.noDrop=true;if(this.isNew===true){this.combiner.callMethod("replaceWithImageTextElement",{id:this.eid,parentString:""})}else{this.combiner.callMethod("combineTextImageElements",e(this.li))}}},afterRender:function($super,t,i){$super(t,i);e(t).addClass("wsite-text")}});l.element_ids=["44785763","4884809","39750678"];l.element_ids.forEach(function(e){r.register(e,l)});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(7),i(13),i(87),i(526),i(523),i(270),i(525),i(522),i(521),i(520),i(524)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p={init:function(t){var n=this;e.extend(n,t);n.saved=false;n.closed=true;n.baseModel=new i.Model(n.existing);n.cmsEnabled=_W.siteProperties&&_W.siteProperties.cms_enabled;n.showGiftCardUrl=t.showGiftCardUrl;n.giftCardUrl=t.giftCardUrl;if(window.editorApp&&window.editorApp.commerce){n.parent=e("<div>",{class:"ui-framework linker"}).appendTo(document.body)}else{n.parent=e("<div>",{class:"orbit-legacy linker"}).appendTo(document.body)}},open:function(t){var i=this;i.init(t);i.closed=false;var o=function(e){e.stopPropagation();if(e.target.getAttribute("data-command")==="promptLink"||e.target.hasClassName("w-link")||e.target.tagName==="OBJECT"){return}i.close()};i.container=new r({initialPanel:i.getSwitcherPanel(),size:"small",width:350,height:this.cmsEnabled?250:350,pointAt:t.coordinates||null,isDraggable:true,allowLeftRight:false,preferBottom:true,onOpen:function(){this.listenTo(n,"frame:overlays:hide",this.close);e("body").on("click.linker-clickaway",":not(.linker , .linker *)",o)}});i.container.on("close",function(){i.close(true);e("body").off("click.linker-clickaway",":not(.linker , .linker *)",o)});i.container.open({parent:i.parent})},close:function(e){var t=this;if(t.closed){return}if(t.container&&!e){t.container.close()}if(t.parent){t.parent.remove()}if(!t.saved&&t.onCancel){t.onCancel.call(t.context)}t.closed=true},getLinkerView:function(e){var i=this,n;e["appendingPanels"]=true;i.init(e);n=i.getSwitcherPanel(e["appendingPanels"]);n.on("before:pop",function(){t.bind(i.prepareSave,this,i,false)()});return n},getSwitcherPanel:function(e){var t=this,i=[],n=t.getSwitcherValueFromExisting();if(this.cmsEnabled){i=[new o.Panel({content:new s({model:t.baseModel,options:t}),selected:n==="url"}),new o.Panel({content:new h({model:t.baseModel,options:t}),selected:n==="phone"})]}else{i=[new o.Panel({content:new s({model:t.baseModel,options:t}),selected:n==="url"}),new o.Panel({content:new l({model:t.baseModel,options:t}),selected:n==="pageID"}),new o.Panel({content:new c({model:t.baseModel,options:t}),selected:n==="store"}),new o.Panel({content:new f({model:t.baseModel,options:t}),selected:n==="blogPost"}),new o.Panel({content:new h({model:t.baseModel,options:t}),selected:n==="phone"})]}if(!t.disableFile&&!this.cmsEnabled){i.push(new o.Panel({content:new u({model:t.baseModel,options:t}),selected:n==="location"}))}if(!t.disableEmail||this.cmsEnabled){i.push(new o.Panel({content:new d({model:t.baseModel,options:t}),selected:n==="email"}))}if(this.showGiftCardUrl){i.splice(1,0,new o.Panel({content:new a({model:t.baseModel,options:t}),selected:n==="giftCard"}))}var p=new o({panels:i,height:this.cmsEnabled?200:300});t.switcherPanel=new r.Panel({content:p,backLink:e?{isDirectional:true}:false,title:_W.utl("javascript.editor-site-shared.build.linker.Linker_2")});t.switcherPanel.on("before:leave",function(){t.prepareSave.apply(this,[t,false])});return t.switcherPanel},getSwitcherValueFromExisting:function(){var e=this,t=e.existing||{url:""},i;if(e.showGiftCardUrl&&t["giftCard"]&&t["giftCard"]===e.giftCardUrl){i="giftCard"}else if(t["url"]&&t["url"]!=="http://"){i="url"}else if(t["pageID"]){i="pageID"}else if(t["store"]){i="store"}else if(t["email"]){i="email"}else if(t["location"]){i="location"}else if(t["blogPost"]){i="blogPost"}else if(t["phone"]){i="phone"}return i},prepareSave:function(e,t){var i=this,n=this.contentView.currentPanel;if(n){var r=n.contentView;e.save(r,t)}if(t){if(e.appendingPanels){i.popPanel()}else{i.close()}}},save:function(e,i){var n=this,r=i?"":e.getValue();if(typeof r!=="undefined"){n.saved=true;if(n.onChoose){if(t.isArray(r)){n.onChoose.apply(n.context,r)}else{n.onChoose.apply(n.context,[r,false])}}}}};return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(3),i(2),i(59),i(86),i(14),i(663),i(660)],r=function(e,t,i,n,r,o,s,a,l){var c=r.extend({getTemplate:function(){return i.compile(a)},PAGE_LINK_PREPEND:"http://weebly-link/",switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.StandardPageView_1"),icon:"pagepage"},ui:{searchInput:".js-search",pagesWrapper:".pages-wrapper",currentPageWrapper:".el-options-url-group",pageSelector:".page-selector",currentPageInput:".current-page-input",unlink:".js-unlink"},events:{"click .js-page":"pageClickHandler","click .js-window":"newWindowHandler","keydown @ui.searchInput":"searchResults","click @ui.currentPageWrapper":"toggleViews","click @ui.unlink":"unlink"},PAGE_INDENTATION_AMOUNT:20,initialize:function(t){this.options=t.options;if(this.options.selection){this.selectionData=n.clone(this.options.selection)}else{this.selectionData=this.options.multiSelect?[]:{}}if(!this.options.disablePageKinds){this.options.disablePageKinds=[]}if(!this.options.disablePageLayouts){this.options.disablePageLayouts=[]}this.pages=s;this.loaded=false;if(this.pages.length>0){this.loaded=true}else{var i=e.Editor.RPC.Page?e.Editor.RPC.Page:e.Commerce.RPC.ComLinker;i.getPageHierarchy().done(function(e){this.pages.reset(e.data);this.loaded=true;this.render()}.bind(this))}},templateHelpers:function(){var e=this,t=e.model&&e.model.get("pageID"),i;if(t){var n=s.getPage(t);if(n){i=n.get("title")}}return{disableNewWindow:e.options.disableNewWindow,disableSearch:e.options.disableSearch,currentPageTitle:i,selectorTitle:e.options.selectorTitle}},onRender:function(){var e=this,t=s.toJSON();if(!this.loaded)return false;if(!e.options.disableSearch){e.search=o.initialize(e.ui.searchInput);e.search.on("inputsearch:clear",function(){e.ui.searchInput.keydown()})}if(t&&t.length>0){if(e.model){e.model.unset("pages")}e.pages=null;e.parsePages(t,0)}e.renderPages();e.delegateEvents()},parsePages:function(e,t){var i=this,r=i.model&&i.model.get("pageID");var o=i.options.thisPageID;n.each(e,function(e){if(e["kind"]==="member-login"||e["kind"]==="member-logout"){return}if(r===e["id"]){e["checked"]=true}if(o===e.id){if(i.options.hideThisPage){return}e.thisPage=true;e.disabled=i.options.disableThisPage}if(i.options.disablePageKinds.indexOf(e.kind)!==-1||i.options.disablePageKinds.indexOf(e.page_kind)!==-1||i.options.disablePageLayouts.indexOf(e.layout)!==-1){e.disabled=true}if(i.options.enablePageLayouts&&i.options.enablePageLayouts.indexOf(e.layout)===-1){e.disabled=true}if(i.options.disableContributors){var s=window.Weebly.Permissions;if(s.isContributor&&!s.allow_pages&&!n.contains(s.allowed_pages,e.id)&&s.allowed_pages){e.disabled=true}}e["margin"]=t*i.PAGE_INDENTATION_AMOUNT;if(i.pages){i.pages.push(e)}else{i.pages=[e]}if(e["children"]){i.parsePages(e["children"],t+1)}})},renderPages:function(){var e=this,t;if(e.pages){e.ui.pagesWrapper.empty();t=i.render(l,{pages:e.pages,multi:this.options.multiSelect});e.ui.pagesWrapper.append(t)}if(e.selectionData){if(this.options.multiSelect){this.selectionData.forEach(function(e){this.setPageSelected(this.$("input[value="+e+"]"))}.bind(this))}else if(e.selectionData.pageID){e.setPageSelected(e.$("input[value="+e.selectionData.pageID+"]"))}}},pageClickHandler:function(e){var i=this;var n=t(e.currentTarget);var r=n.find("input");var o=r.val();var s=n.find(".js-name").text();e.preventDefault();if(r.is(":disabled")){o=null}if(this.options.multiSelect){if(r.is(":checked")){this.selectionData.splice(this.selectionData.indexOf(o),1);i.setPageDeselected(r)}else{this.selectionData.push(o);i.setPageSelected(r)}}else{i.selectionData.value=i.PAGE_LINK_PREPEND+o;i.selectionData.pageID=o;i.setPageSelected(r)}if(i.model){if(this.options.multiSelect){i.model.set("pages",this.selectionData)}else{if(i.model.get("pageID")!==o){i.model.set(i.selectionData);i.ui.currentPageInput.val(s)}i.toggleViews()}}else{i.trigger("page:selected",i.selectionData)}},setPageSelected:function(e){if(!e.is(":disabled")){e.prop("checked",true)}},setPageDeselected:function(e){if(!e.is(":disabled")){e.prop("checked",false)}},newWindowHandler:function(e){var i=this,n=t(e.currentTarget),r=i.$el.find(".js-page input:checked").val();if(r){i.selectionData.value=i.PAGE_LINK_PREPEND+r;if(i.model){i.model.set("value",i.selectionData.value)}}i.selectionData.newWindow=n.prop("checked");if(i.model){i.model.set("newWindow",i.selectionData.newWindow)}},getValue:function(){if(this.options.multiSelect){return this.selectionData}var e=this,t=e.selectionData.value,i=e.selectionData.newWindow===true;return t?[t,i]:t},filterSearchResults:function(e){var t=this;e=e.toLowerCase();n.each(t.pages,function(t){if(e===""||t["title"].toLowerCase().indexOf(e)>-1){t["hiddenPage"]=false}else{t["hiddenPage"]=true}});t.ui.pagesWrapper.empty();t.renderPages()},toggleViews:function(){var e=this,t=e.ui.currentPageWrapper.is(":visible");if(t){e.ui.currentPageWrapper.hide();e.ui.pageSelector.slideToggle(200,"swing")}else{e.ui.pageSelector.slideToggle(200,"swing",function(){e.ui.currentPageWrapper.show()})}}});return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(14),i(6),i(11),i(65),i(66)],r=function(e,t,i,n,r,o){var s={};function a(e,t){t=typeof t==="undefined"?false:t;var i=e.replace("//$/","");i=i.replace(/.*\//,"");if(t){i=i.replace(/\.\w+$/,"")}return i}s.getGiftCardData=function(){if(i.commerce){return{showGiftCardUrl:!i.commerce.storefrontSettings.uiAccessible("giftCards:show")&&i.commerce.storefrontSettings.get("external_gift_cards_configured"),giftCardUrl:i.commerce.storefrontSettings.get("external_gift_card_url")}}else if(n.commerce){return{showGiftCardUrl:!n.commerce.storefrontSettings.uiAccessible("giftCards:show")&&n.commerce.storefrontSettings.get("external_gift_cards_configured"),giftCardUrl:n.commerce.storefrontSettings.get("external_gift_card_url")}}};s.getBlogPostDetailsFromLink=function(e){var t=e.split("/");return{pageId:t[3],postId:t[4],title:t[5]}};s.getNameFromStoreLink=function(e,t){if(!e){return}if(t){var i=e.split("/",3);if(i&&i[1]){var n=i[1];var s=n[0];var a=n.substring(1);if(s=="c"){var l=r.findOrCreate({site_category_id:a});l.fetch().done(function(){var e=l.get("name");if(e){t(e)}else{var i=l.get("site_link");if(i){t(i)}}})}else if(s=="p"){var c=o.findOrCreate({site_product_id:a});c.fetch().done(function(){var e=c.get("name");if(e){t(e)}else{var i=c.get("site_link");if(i){t(i)}}})}}}};s.getNameFromParsedLink=function(e,i){if(!e){return}if(i){if(e.url){i(e.url.replace(/^\w+:\/\//,""))}else if(e.pageID){var n=t.getPage(e.pageID);if(n){i(n.get("title"))}else{i("Page")}}else if(e.store){this.getNameFromStoreLink(e.store,i)}else if(e.blogPost){i(this.getBlogPostDetailsFromLink(e.blogPost).title)}else if(e.location){i(a(e.location))}else if(e.phone){i(e.phone)}else if(e.email){i(e.email)}}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(4),i(14),i(527),i(89)],r=function(e,t,i,n,r){var o=t.Model.extend({idAttribute:"header_setting_id",TARGET_PAGE:0,TARGET_SEARCH:1,TARGET_STORE_CATEGORY:2,TARGET_STORE_PRODUCT:3,TARGET_STORE_CHECKOUT:4,PRODUCT_PAGE_REGEX:/^0\/store\/p([0-9]+)\/.+/,CATEGORY_PAGE_REGEX:/^0\/store\/c([0-9]+)\/.+/,getTargetType:function(e,t){var n;if(e==="page"||e==="blog"){n=this.TARGET_PAGE}else if(e==="store"){if(/^\d+$/.test(t)){var r=i.getPage(t);var o=r.get("page_kind");if(o==="category"||o==="store"){n=this.TARGET_STORE_CATEGORY}else{n=this.TARGET_STORE_PRODUCT}}else if(this.CATEGORY_PAGE_REGEX.test(t)){n=this.TARGET_STORE_CATEGORY}else if(this.PRODUCT_PAGE_REGEX.test(t)){n=this.TARGET_STORE_PRODUCT}}else{console.error("Target type not found")}return n},getTargetId:function(e,t){var n;if(e==="page"||e==="blog"){n=t}else if(e==="store"){if(/^\d+$/.test(t)){var r=i.getPage(t);n=r.get("store_page_kind_id")}else if(this.CATEGORY_PAGE_REGEX.test(t)){n=t.match(this.CATEGORY_PAGE_REGEX)[1]}else if(this.PRODUCT_PAGE_REGEX.test(t)){n=t.match(this.PRODUCT_PAGE_REGEX)[1]}}else{console.error("Target type not found")}return n},defaults:function(){var e=this.getTargetId(window.currentPageKind,window.currentPage);var t=this.getTargetType(window.currentPageKind,window.currentPage);return{user_id:window.userID,site_id:window.currentSite,target_id:e,target_type:t,base_setting:null,setting:new n}},initialize:function(t){this.on({change:this.onChange});this.listenTo(this.get("setting"),{change:this.onChange});var i=function(){var t=this.get("setting");var i=e.toArray(arguments);var n=i.shift();return t[n].apply(t,i)};e.each(r,function(t,n){if(e.isUndefined(this[n])&&e.isFunction(t)){this[n]=e.partial(i,n)}},this)},set:function(i,r,o){var s;if(i==null)return this;if(typeof i==="object"){s=i;o=r}else{(s={})[i]=r}if(typeof s.base_setting==="string"){s.base_setting=JSON.parse(s.base_setting)}if(s.setting&&!(s.setting instanceof n)){if(e.isArray(s.setting)){s.setting=s.setting[0]}if(this.get("setting")instanceof n){this.get("setting").set(s.setting,{silent:true});delete s.setting}else{s.setting=new n(s.setting)}}return t.Model.prototype.set.call(this,s,o)},toJSON:function(){var e=t.Model.prototype.toJSON.apply(this,arguments);e.setting=e.setting.toJSON();return e}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(23),i(21),i(10),i(7),i(46),i(29)],r=function(e,t,i,n,r,o,s,a,l){var c={};var u=[];var d=[];i.vent.on({"editor:elements:changed viewChange":h,"section:add:after section:remove:after":h});s.on({"editor:elements:changed pageRendered":h,"editor:spotlight:open editor:spotlight:close":p,"section:add:after section:remove:after":h});s.on(a.EVENTS.DOCUMENT_RESIZED,h);var f;c.init=function(e){if(f){return}f=e;f.vent.on("editor:spotlight:open editor:spotlight:close",p);n.init(f);if(r.inEditorContext()){s.on("editor:middle",h)}else{f.vent.on("editor:middle",h)}};function h(){u.length=0;d.length=0;p()}function p(){T.length=0}c.buildDroppableEdges=function(){h();return n.getAreasWhere().then(m)};function m(e){t.each(e,g);return u}function g(e){if(!e||e.headerSection&&e.isBlogPost){return}if(e.empty&&!e.sections&&!e.headerSection){u.push({area:e,position:o.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:true})}else if(e.empty&&e.headerSection){var i=8;var n=3;u.push({area:e,position:o.POSITION_TOP,x1:e.headerSection.left+n,y1:e.headerSection.top+i,x2:e.headerSection.left+e.headerSection.width-n,y2:e.headerSection.top+e.headerSection.height+i,_useElement:true})}if(e.sections){t.each(e.sections,function(t){v(t,e)})}else{t.each(e.elements,w)}}function v(e,i){if(e){if(e.elements.length){t.each(e.elements,w)}else{u.push({area:i,section_id:e.section_id,position:o.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:true})}}}function w(e){var i;if(e.section_id){i=e.section_id}else if(e.parentColumn||e.parent){i=E(e).section_id}u.push({area:e.area,el:e,section_id:i,position:o.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top,_useElement:false});if(!l.isMobileView&&!e.columns&&!(e.parentColumn&&e.parentColumn.elements.length===1)){u.push({area:e.area,el:e,section_id:i,position:o.POSITION_RIGHT,x1:e.left+e.width,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:false},{area:e.area,el:e,section_id:i,position:o.POSITION_LEFT,x1:e.left,y1:e.top,x2:e.left,y2:e.top+e.height,_useElement:false})}var n=e.platform_element_id?t.sortBy(e.children,"page_element_order"):e.children;t.each(n,function(e,t){if(e.element_id===o.CONTENT_AREA_ELEMENT_ID){b(e,i)}else{w(e)}});t.each(e.columns,y);u.push({area:e.area,el:e,section_id:i,position:o.POSITION_BOTTOM,x1:e.left,y1:e.top+e.height,x2:e.left+e.width,y2:e.top+e.height,_useElement:false})}function b(e,i){u.push({area:e.area,el:e,section_id:i,position:o.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top,_useElement:false,insideContentAreaElement:true});t.each(e.children,function(e){if(e.element_id===o.CONTENT_AREA_ELEMENT_ID){b(e,i)}else{w(e)}});t.each(u,function(t){if(t.el&&t.el.parentString&&t.el.parentString===e.content_field_id){t.insideContentAreaElement=true}})}function y(e,i){u.push({area:e.el.area,section_id:E(e.el).section_id,column:e,column_id:e.el.content_field_id+"-col"+i,column_index:i,el:e.el,position:o.POSITION_LEFT,x1:e.left,y1:e.top,x2:e.left,y2:e.top+e.height,_useElement:false});t.each(e.elements,w);u.push({area:e.el.area,section_id:E(e.el).section_id,column:e,column_id:e.el.content_field_id+"-col"+i,column_index:i,el:e.el,position:o.POSITION_RIGHT,x1:e.left+e.width,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:false})}function _(){return n.getSectionData().then(function(e){if(e.length===0){return[]}e=t.sortBy(e,"section_order");d=e.map(function(e){return{section_id:e.section_id,section_order:e.section_order,position:o.POSITION_TOP,x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,_useElement:true}});var i=e[e.length-1];d.push({section_id:i.section_id,section_order:i.section_order+1,position:o.POSITION_BOTTOM,x1:i.left,y1:i.top+i.height,x2:i.left+i.width,y2:i.top+i.height,_useElement:true});return d})}c.buildSectionEdges=_;c.getEdge=function(i,n){return e.when(u.length?true:c.buildDroppableEdges()).then(function(){var e=null;if(!u.length){return e}t.each(u,function(t){if(n===t.position&&!t.area.empty&&t.el&&i.id===t.el.id){e=t;return false}});return e})};function E(e){if(e.parentColumn){return E(e.parentColumn.el)}else if(e.parent){return E(e.parent)}else{return e}}var T=[];function C(e,i){var n=e.area;var r=e.el;if(n&&n.spotlighted&&i.indexOf(n)===-1){return false}var o;if(r&&r.parent){o=r.parent}if(r&&r.parentColumn){o=r.parentColumn.el}if(o&&o.spotlighted){return!!t.findWhere(i,{element:o})}if(o){return C({el:o,area:n},i)}return i.indexOf(n)!==-1}function S(){return e.when(n.getActiveContentAreas(),u.length?u:c.buildDroppableEdges()).then(function(e,i){t.each(i,function(t){if(!C(t,e)){return}var i=t.el;var n;if(i){n=i.parent}if(n&&n.platform_element_id&&(i.element_id!==o.CONTENT_AREA_ELEMENT_ID||!i.droppable)){return}T.push(t)});return T})}c.findClosestDroppableSectionEdge=function(t){return e.when(d.length?d:_()).then(function(e){var i=true;return I(t,e,2,i)})};c.findClosestDroppableEdge=function(i){return e.when(n.getElements(),T.length?T:S()).then(function(e,n){var r=null;t.each(e,function(e){if(i.pageX>e.left&&i.pageY>e.top&&i.pageX<e.left+e.width&&i.pageY<e.top+e.height){r=e.width/e.height*.9;return false}});return I(i,n,r)})};function I(e,i,n,r){var s=null;if(!i.length){return s}if(t.isNull(n)){n=2}var a=e.pageX;var l=e.pageY;t.each(i,function(e){if(e._useElement===true&&(a>=e.x1&&a<=e.x2&&l>=e.y1&&l<=e.y2||r&&l<=e.y1&&e.section_order&&e.section_order===1)){s=t.clone(e);switch(e.position){case o.POSITION_LEFT:s.x2=s.x1;break;case o.POSITION_TOP:s.y2=s.y1;break;case o.POSITION_RIGHT:s.x1=s.x2;break;case o.POSITION_BOTTOM:s.y1=s.y2;break}return false}e._d=null;if(e.y1===e.y2&&a>=e.x1&&a<=e.x2){e._d=Math.abs(l-e.y1)+Math.abs(a-(e.x1+e.x2)/2)*.01}else if(e.x1===e.x2&&l>=e.y1&&l<=e.y2){e._d=Math.abs(a-e.x1)/n+Math.abs(l-(e.y1+e.y2)/2)*.01}if(e._d===null){return}if(!s||e._d<s._d){s=e}});return s}return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(528),i(198)],r=function(e,t){var i=Class.create(e,{WINDOW_WIDTH:400,WINDOW_HEIGHT:400,CALLBACK_PREFIX:"weebly_social_auth_cb_",POPUP_URL:"/editor/social_auth.php?cb={callback}&{params}",initialize:function($super,e){e=t.mergeOptions({id:this.generateId(),width:this.WINDOW_WIDTH,height:this.WINDOW_HEIGHT,autoopen:true,onSuccess:null,onFailure:null,onCancel:null,params:{}},e);this.callback=this.CALLBACK_PREFIX+e.id;this.registerCallback(this.callback);$super(this.buildUrl(this.callback,e.params),e);if(this.options.onSuccess){this.events.addListener("success",this.options.onSuccess)}if(this.options.onFailure){this.events.addListener("failure",this.options.onFailure)}if(this.options.onCancel){this.events.addListener("cancel",this.options.onCancel)}},open:function($super){$super();this.registerCancelObserver()},cancel:function(){this.events.fireEvent("cancel")},registerCallback:function(e){this.callbackCalled=false;window[e]=function(e,t){this.callbackCalled=true;this.events.fireEvent(e,t)}.bind(this)},registerCancelObserver:function(){setTimeout(function(){this.invokeCancelObserver()}.bind(this),250)},invokeCancelObserver:function(){if(this.callbackCalled){return}if(!this.handle||(!this.handle.location||this.handle.closed)){this.cancel()}else{this.registerCancelObserver()}},buildUrl:function(e,t){return this.POPUP_URL.replace("{callback}",e).replace("{params}",o.param(t||{}));
}});return i}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(1))},,function(e,t,i){var n,r;!(n=[i(2),i(3)],r=function(e,t){var i={};var n={};i.setThemePartials=function(t){if(n===t){return}for(var i in n){delete n[i]}e.extend(n,t)};i.render=function(r,o,s,a){var l=e.toArray(arguments).slice(1);l[0]=i.getTemplate(r)||o;if(n.length){l[2]=e.extend(a||{},n)}return t.render.apply(t,l)};i.getTemplate=function(e){e=e+".tpl";if(e[0]==="/"){e=e.substring(1)}if(n[e]){return n[e]}return null};return i}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(226),i(534)],r=function(e,t){var i=e.extend({topbar:new t,initialize:function(){e.prototype.initialize.apply(this,arguments);this.mode=this.constructor.MODE_MOVE},renderContent:function(){e.prototype.renderContent.apply(this,arguments);this.delegateTopBarEvents();if(this.mode===this.constructor.MODE_COPY){this.topbar.setActiveCopy()}else if(this.mode===this.constructor.MODE_MOVE){this.topbar.setActiveMove()}},delegateTopBarEvents:function(){this.stopListening(this.topbar);this.listenTo(this.topbar,{"change:mode:copy":this.setCopyMode,"change:mode:move":this.setMoveMode})},setCopyMode:function(){this.mode=this.constructor.MODE_COPY;this.setPageViewOption("disableThisPage",false);this.renderContent(this.$contentInnerEl)},setMoveMode:function(){this.mode=this.constructor.MODE_MOVE;this.setPageViewOption("disableThisPage",true);this.renderContent(this.$contentInnerEl)},onPageSelected:function(e){if(!e.pageID){return}this.trigger("page:selected",this.mode,e)}},{MODE_COPY:"copy",MODE_MOVE:"move"});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(2),i(278),i(226),i(533),i(672)],r=function(e,t,i,n,r,o){var s=i.extend({events:{"click .js-this":"onClickThisPage","click .js-another":"onClickAnotherPage"},renderContent:function(t){if(this.mode===this.constructor.MODE_COPY){i.prototype.renderContent.apply(this,arguments)}else if(this.mode===this.constructor.MODE_MOVE){this.delegateTopBarEvents();this.topbar.setActiveMove();t.html(e.render(o))}},onClickThisPage:function(){this.pushPanel(new r({section:this.options.section,title:_W.utl("sections.movecopy.on_this_page_title"),forwardLink:false,backLink:{isDirectional:true}}))},onClickAnotherPage:function(){var e=n.extend({onPageSelected:function(e){if(!e.pageID){return}this.trigger("page:selected",i.MODE_MOVE,e)}});this.pushPanel(new e(t.extend({},this.options,{selectorTitle:"",title:_W.utl("sections.movecopy.to_another_page_title"),forwardLink:false,backLink:{isDirectional:true},hideThisPage:true})))}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(4),i(3),i(675)],r=function(e,t,i){var n=e.Marionette.ItemView.extend({template:t.compile(i),className:"app-tutorial-steps app-tutorial",templateHelpers:function(){var e=this;return{steps:function(){var t=e.model.get("content");return t.map(function(e,t){return{index:_W.utl("platform.Editor.Element.Settings.TutorialModal.StepLabel",t+1),value:e}})}}},onRender:function(){this.$el.find("a").attr("target","_blank")}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(44),i(678)],r=function(e,t,i,n){var r=e.Marionette.ItemView.extend({template:t.compile(n),className:"app-tutorial-video app-tutorial",ui:{videoPlaceholder:".app-tutorial-video-placeholder"},events:{"click @ui.videoPlaceholder":"openAppVideoTutorial"},openAppVideoTutorial:function(){var e=this;this.currentElement=Weebly.Elements.currentElement;Weebly.Elements.currentElement=null;var t='<iframe class="app-tutorial-ytplayer" type="text/html" src="https://www.youtube.com/embed/'+this.model.get("content")+'?autoplay=1"></iframe>';var n=new i({hasContentLegacyStyles:false,hasProgressBar:false,width:1180,height:600,isModal:true,content:t,title:"Tutorial",wrapClassName:"ui-framework",onBack:function(){e.resetElement();this.close()}});n.open()},resetElement:function(){Weebly.Elements.setCurrentElement(this.currentElement)}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(198)],r=function(e,t,i){var n=new Class.create({STATE_UNSHARED:"unshared",STATE_SHARING:"sharing",STATE_SHARED:"shared",TEXT_FAIL:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_1"),TEXT_DENY:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_2"),TEXT_REAUTH:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_3"),TEXT_EPREV:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_4"),TEXT_CLICK:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_5"),TEXT_RETRY:t.utl("html.weebly.libraries.classes.PublishWindow.ShareButton.Standard_6"),options:{shareHandler:"none",shareOptions:{},authWindow:null,authCallback:null},initialize:function(e,t){this.element=e;this.service=e.readAttribute("data-service");this.options=i.mergeOptions(this.options,t);this.bindEvents();if(this.hasPreviousError()){this.setError(this.TEXT_EPREV,this.TEXT_RETRY,this.share.bind(this))}},click:function(){if(this.getState()!=this.STATE_UNSHARED)return;this.setState(this.STATE_SHARING);if(this.isAuthenticated()){this.share()}else{this.auth()}},share:function(){var t=this.options.shareHandler,i=this.options.shareOptions;if(t=="ajax"){e.ajax({type:"POST",url:window.ajax,data:i||{},dataType:"json"}).done(this.shareSuccess.bind(this)).fail(this.shareFailure.bind(this))}else if(t=="callback"&&i["fn"]){i["fn"].apply(null,i["args"]||{})}},shareSuccess:function(e){if(e.status=="success"){this.setState(this.STATE_SHARED);return}if(e.status=="failure"&&e.reason=="reauthorize"){this.setState(this.STATE_UNSHARED);this.setError(this.TEXT_REAUTH,this.TEXT_CLICK,this.reauth.bind(this));return}this.setState(this.STATE_UNSHARED);this.setError(this.TEXT_FAIL)},shareFailure:function(e,t){console&&console.log(e,t);this.setState(this.STATE_UNSHARED);this.setError(this.TEXT_FAIL)},auth:function(){if(this.options.authWindow){new this.options.authWindow({onSuccess:this.authSuccess.bind(this),onFailure:this.authFailure.bind(this),onCancel:this.resetState.bind(this)})}else if(this.options.authCallback){this.options.authCallback()}},authSuccess:function(){this.setAuthenticated(true);this.share()},authFailure:function(e){this.setState(this.STATE_UNSHARED);var t=e.group=="external"&&e.error=="user_denied";this.setMessage(t?this.TEXT_DENY:this.TEXT_FAIL)},adjustSpacing:function(t){if(this.service.toLowerCase()=="twitter"){var i=e(this).closest("#publish-window-header").siblings("#publish-window-footer");if(t){i.addClass("twitter-failure")}else{i.removeClass("twitter-failure")}}},reauth:function(){this.setState(this.STATE_SHARING);this.auth()},isAuthenticated:function(){return this.element.readAttribute("data-has-auth")==="1"},setAuthenticated:function(e){this.element.writeAttribute("data-has-auth",e?"1":"0")},setMessage:function(e,t,i){var n=this.element.down(".publish-share-message");if(!n)return;this.adjustSpacing(Boolean(e));e=e.replace(/\{service\}/g,this.service);n.removeClassName("publish-share-message-error").setInnerText(e+" ");if(t&&i){var r=new Element("a",{href:"#"});r.setInnerText(t).observe("click",function(e){e.stop();i()});n.insert(r)}},setError:function(e,t,i){var n=this.element.down(".publish-share-message");if(!n)return;this.setMessage(e,t,i);n.addClassName("publish-share-message-error")},resetMessage:function(){this.setMessage("")},getState:function(){var e=this.element,t=[this.STATE_SHARED,this.STATE_SHARING,this.STATE_UNSHARED],i="publish-share-button-";for(var n=0;n<t.length;n++){if(!e.hasClassName(i+t[n]))continue;return t[n]}return null},setState:function(e){this.resetMessage();var t="publish-share-button-",i=this.element;i.removeClassName(t+this.STATE_UNSHARED).removeClassName(t+this.STATE_SHARING).removeClassName(t+this.STATE_SHARED).addClassName(t+e)},resetState:function(){this.setState(this.STATE_UNSHARED);this.resetMessage()},bindEvents:function(){this.element.observe("click",function(e){e.stop();this.click()}.bind(this))},hasPreviousError:function(){return this.element.readAttribute("data-prev-error")==="1"}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(32),i(541),i(542),i(543),i(140),i(183),i(349),i(6),i(603),i(455),i(397),i(22)],r=function(e,t,i,n,r,o,s,a,l,c,u,d){var f=Class.create(n,{TEXT_DOMAIN_AVAILABLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_20"),TEXT_CLICK_TO_CONTINUE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_21"),TEXT_VERIFY_NOTICE_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_22"),TEXT_UPGRADE_NOTICE_MESSAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_23"),TEXT_UPGRADE_NOTICE_MESSAGE_ELEMENT:"html.weebly.libraries.classes.PublishWindow.Website_24",TEXT_UPGRADE_NOTICE_UPGRADE_PRO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_25"),TEXT_UPGRADE_NOTICE_UPGRADE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_26"),TEXT_UPGRADE_NOTICE_PUBLISH:t.utl("html.weebly.libraries.classes.PublishWindow.Website_27"),TEXT_CAPTCHA_REQUIRED:t.utl("html.weebly.libraries.classes.PublishWindow.Website_28"),TEXT_PUBLISH_SITE_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_29"),TEXT_OK_PUBLISH_MY_SITE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_30"),TEXT_CAPTCHA_ERROR:t.utl("html.weebly.libraries.classes.PublishWindow.Website_31"),TEXT_CAPTCHA_GET_IMAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_32"),TEXT_CAPTCHA_GET_AUDIO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_33"),TEXT_CAPTCHA_GET_HELP:t.utl("html.weebly.libraries.classes.PublishWindow.Website_34"),TEXT_CAPTCHA_INSTRUCTIONS_AUDIO:t.utl("html.weebly.libraries.classes.PublishWindow.Website_35"),TEXT_CAPTCHA_INSTRUCTIONS_IMAGE:t.utl("html.weebly.libraries.classes.PublishWindow.Website_36"),URL_DOMAIN_DROPDOWN_BUTTON:"http://"+window.editorStatic+"/weebly/images/gray-drop-down-larger.jpg",success:function($super,n,r){if(n.match(/Error\s/i)){this.close();window.showWarning(n);i.go("main");return}if(n.match(/BlogVerifyWarning\s/i)){this.close({skipGoMain:true});window.showWarning(n);this.createVerifyNotice(false);if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/verify-account",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_16")})}return}if(n.match(/VerifyWarning\s/i)){this.close();window.showWarning(n);this.createVerifyNotice();if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/verify-account",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_16")})}i.go("main");return}if(n.match(/CaptchaRequired\s/i)){this.renderCaptcha("#exportText",l.LOCATION_SITE_PUBLISH,this.handleCaptcha);return}if(n.match(/%%UPGRADEELEMENTS%%/)){var o=n.replace(/%%UPGRADEELEMENTS%%/g,"").replace(/\s*/g,"");this.createUpgradeNotice(JSON.parse(o));if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/upgrade-required",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_18")})}return}if(n.match(/%%PUBLISHRATELIMITED%%/)){this.createRateLimitNotice();if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/publish-rate-limited",title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_37")})}return}$super(n);var s=new d({el:"#publish-window-footer",usedFeatures:r});var a=e("#siteLocation");if(a.length){window.currentSiteLocation=a.html();this.createDomainSelector(this.getBodyElement());var u=e("#client-preview-button");if(u.length){e("#client-go-live-button").hide();e("#publish-button").show()}}this.dialog.positionDialog();var f={responseText:n};var h=e("#exportText");handleDesignerPublishCodes(f,window.currentSite,h[0]);var p=this.getBodyElement().select(".publish-share");if(p.length){this.attachShareButtons(p[0])}c.trackEditorEvent({object_category:"site",action:"publish",object_instance:window.currentSite,property:"self"});if(typeof window.ga=="function"){var m="no";if(t.isFirstPublish){m="yes"}window.ga("send","pageview",{page:"/publish?first-time="+m,title:t.utl("html.weebly.libraries.classes.PublishWindow.Website_19")})}t.isFirstPublish=false;return this},createDomainSelector:function(e){if(this.isDropdownNew()){this.loadNewDropDown(e)}else{this.defaultTLDs=u.getOptimizedTLDs(userCountryCode);this.loadOldDropDown(e)}},defaultTLDs:[],isDropdownNew:function(){var t=e("#publish_domain_tld");if(t.length){return t.data().hasOwnProperty("dropdown")}},loadNewDropDown:function(t){var i=e("#publish_domain_tld");var n=e("#publish_domain_sld");var r=e("#export-title-text");var o=e("#publish_domain_tld").wSelectbox({theme:"com"});o.on("change",window.checkDomain);var s=e(t).find(".domain-check-success").eq(0).is(":visible");var a=r.length&&r.html().match(/\.net.*available/);if(s&&a){i.val("net");o.val("net")}else{i.val("com")}setTimeout(function(){n.trigger("focus")},50);if(s){var l='<a style="color: green;">'+self.TEXT_DOMAIN_AVAILABLE+"</a>";e("#domainStatus").html(l)}},loadOldDropDown:function(t){var i=e("#publish_domain_tld");var n=e("#publish_domain_sld");var r=e("#export-title-text");var o=[];this.defaultTLDs.each(function(e){o.push([e,"."+e])});if(i.length){var s=new Weebly.DropDown(i[0],{availableValues:o,width:"65",height:"28",openWidth:"65",dropDownButton:{src:this.URL_DOMAIN_DROPDOWN_BUTTON,width:"21",height:"25"},updateFunction:window.checkDomain});var a=e(t).find(".domain-check-success").eq(0).is(":visible");var l=r.length&&r.html().match(/\.net.*available/);if(a&&l){i.val("net");s.setValue("net")}else{i.val("com")}setTimeout(function(){n.trigger("focus")},50);if(a){var c='<a style="color: green;">'+self.TEXT_DOMAIN_AVAILABLE+"</a>";e("#domainStatus").html(c)}}},createVerifyNotice:function(t){if(typeof t=="undefined"){t=true}$error=e("#orange-error-title");$notice=e("#verifyNotice");var i=e("<a/>",{class:"orange-button-29",href:"#"});$error.html(this.TEXT_VERIFY_NOTICE_TITLE).css("font-size","24px");i.html('<span class="bi">'+this.TEXT_CLICK_TO_CONTINUE+"</span>").on("click",function(e){openVerifyWindow(t);warningDialog.close();return false});$notice.after("<br />",i)},fixErrorTitle:function(){e("#orange-error-title").html("Publish Temporarily Disabled").css("font-size","24px")},renderCaptcha:function(e,t,i){l.setCaptchaMarkup(e).render(t,i)},handleCaptcha:function(e){if(e===true){l.teardown();doExport()}else{l.reset()}},createUpgradeNotice:function(e){var i="";var n=0;var r=this.TEXT_UPGRADE_NOTICE_UPGRADE_PRO;var o=this.TEXT_UPGRADE_NOTICE_MESSAGE;if(e){if(e.level){n=e.level}if(e.restrictionID&&e.elementName){i=", restrictionID:"+e.restrictionID;r=this.TEXT_UPGRADE_NOTICE_UPGRADE;o=t.utl(this.TEXT_UPGRADE_NOTICE_MESSAGE_ELEMENT,e.elementName)}}this.setBody('<div class="publish-upgrade-notice">'+'<div class="publish-upgrade-notice-title">'+o+"</div>"+'<div class="publish-upgrade-notice-publish">'+'<a class="btn btn-default btn-large" href="#" onclick="doExport(); return false;">'+this.TEXT_UPGRADE_NOTICE_PUBLISH+"</a>"+"</div>"+'<div class="publish-upgrade-notice-upgrade">'+'<a class="btn btn-large btn-primary" href="#" onclick="editorApp.vent.trigger(\'billing:upgrade:window\', { refer:\'publish_notice\', level:'+n+i+'}); return false;">'+'<img class="old-button-bg" src="http://'+window.editorStatic+"/weebly/images/upgrade_large.gif"+'" alt="'+"Upgrade"+'" style="border:none;" />'+'<span class="label">'+r+"</span>"+"</a>"+"</div>"+"</div>")},createRateLimitNotice:function(){this.setBody('<div class="publish-upgrade-notice">'+'<div class="publish-upgrade-notice-publish">'+t.utl("html.weebly.libraries.classes.PublishWindow.Website_38")+"</div>"+"</div>")},attachShareButtons:function(e){this.buttons={};var t={twitter:o};["twitter"].each(function(i){var n=e.down(".publish-share-"+i);if(!n)return;var r=this.createShareButton(t[i],n,i);this.buttons[i]=r}.bind(this))},createShareButton:function(e,t,i){var n=this.getBodyElement().select(".publish-share")[0];var r=n.readAttribute("data-site-id");var o={facebook:s,twitter:a};return new e(t,{shareHandler:"ajax",shareOptions:{type:i,pos:"publishshare",site_id:r,token:Weebly.RequestToken},authWindow:o[i.toLowerCase()]})}});return f}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(6),i(3),i(189),i(35),i(10)],r=function(e,t,i,n,r,o,s,a){var l=o.extend({initialize:function(e){var t=this;o.prototype.initialize.call(this);n.reqres.setHandlers({"element:options:get:ucfpid":function(e){return s.getPropertyByKey(t.collection,"ucfpid",e)}});n.vent.on({"element:options:set:ucfpid":function(e,i,n){s.setPropertyByKey(t.collection,"ucfpid",e,i);if(n){n()}}});t.initPropertyValues();t.initGroups()},initPropertyValues:function(){var t=this,i=function(t){var i,n=t["cfpid"],r=t["ucfpid"],o=t["ucfid"];if(t["values"]){var s=e.filter(t["values"],function(e){return e["trigger"]});if(s.length>0){var l=t["default"];e.each(s,function(e){var i=e["trigger"],n=i["cfpid"],r=Weebly.Elements.uproperty["properties"][n].property_result||i["default"];i["ucfpid"]=Weebly.Elements.uproperty["properties"][n]["ucfpid"];i["ucfid"]=Weebly.Elements.uproperty.ucfid;if(i["type"]==="int"){r=parseInt(r)||t["default"]||0}i["value"]=r;if(r!==i["default"]){l=e["value"]}});t["value"]=l}}if(n&&typeof Weebly.Elements.uproperty["properties"][n]!=="undefined"){i=Weebly.Elements.uproperty["properties"][n].property_result||t["default"];t["ucfpid"]=Weebly.Elements.uproperty["properties"][n]["ucfpid"];if(e.contains(a.IMAGE_LINK_LIGHTBOX_CFPIDS,n)){t["ucfpid"]+="-"+t["name"]}if(t["type"]==="int"){i=parseInt(i)||t["default"]||0}t["value"]=i}t["ucfid"]=Weebly.Elements.uproperty.ucfid};e.each(t.collection.models,function(e){s.propertyIterator(e,i)})},prepareSettingsSave:function(){var t=this,i={};t.collection.each(function(t){e.each(t.get("properties"),function(e){var t=e.default||null;var n=typeof e.value==="undefined"?t:e.value;i[e.name]=n})});return i}});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(77),i(34),i(711)],r=function(e,t,i,n,r,o,s){var a=o.extend({template:n.compile(s),events:{"click .inline-selector__option ":"setActive"},ui:{active:".is-selected",options:".inline-selector__option "},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("tooltip");return{leftValue:function(){return e.getValueFromValues("left")},centerValue:function(){return e.getValueFromValues("center")},rightValue:function(){return e.getValueFromValues("right")},label:r.truncateLabel(_W.utl(t)),tooltip:r.formTooltip(_W.utl(t),i)}},setActive:function(e){e.preventDefault();this.ui.options.removeClass("is-selected");this.ui.options.filter("[value="+e.currentTarget.getAttribute("value")+"]").addClass("is-selected");this.saveValue()},onRender:function(){o.prototype.onRender.call(this);var e=this.model.get("value"),i=this.model.get("values");if(i){var n=t.find(i,function(t){return t["value"]===e.toString()});e=n?n["name"]:e}var r=e||this.model.get("default")||"left";this.ui.options.filter('*[value="'+r+'"]').addClass("is-selected")},getValue:function(){if(this.model.get("ucfpid")){return this.ui.options.filter(".is-selected").data("value")}else{return this.ui.options.filter(".is-selected").attr("value")}},getValueFromValues:function(e){var i=this,n=i.model.get("values");if(n){return t.find(n,function(t){return t["name"]===e})["value"]}else{return e}}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(1),i(34),i(714),i(241)],r=function(e,t,i,n,r){var o=n.extend({template:t.compile(r),events:{"change @ui.input":"saveValue"},ui:{input:"input"},templateHelpers:function(){var e=this,t=e.model.get("label");return{label:_W.utl(t)}},onRender:function(){n.prototype.onRender.call(this);var e=this;var t=e.getDefaultColor();var i=e.ui.input;if(e.model.get("value")===undefined){e.model.set("value",e.getDefaultColor())}i.wColorChooser({color:t,flat:true,showPaletteOnly:true,showPalette:true,togglePaletteOnly:false,showInput:true,showButtons:false,onBeforeShow:function(){var t=e.getDefaultColor();i.wColorChooser("smart");if(t){i.spectrum("set",t)}},onChange:function(){i.spectrum("hide")}});e.$el.find(".sp-palette-input-container").prepend(e.ui.input);e.$el.find(".sp-expand").remove()},changeHandler:function(){var e=this;e.saveValue();e.render()},getValue:function(){var e=this,t=e.model.get("stripPoundSign");var n=e.ui.input==="input"?null:e.ui.input.val();if(n){n=n.trim();if(t){n=n.replace("#","")}else{var r=i("<div>").css("background-color",n);if(!r.css("background-color")){n="#"+n}}}return n},getDefaultColor:function(){return this.model.get("value")||this.model.get("default")||"#FFF"}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(6),i(54),i(90),i(35),i(299),i(34),i(10),i(716),i(710)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f){var h=c.extend({itemViewContainer:"div.group",getTemplate:function(){n.compilePartial("elements/settings/group-item",f);return n.compile(d)},templateHelpers:function(){var e=this,i=e.model.get("label"),n=e.model.get("description");if(t.isObject(n)){if(n["whitelabel"]){n=o.isWhiteLabeled()?_W.utl(n["whitelabel"]):_W.utl(n["text"])}}else{n=n?_W.utl(n):false}return{label:!i?i:_W.utl(i),description:n}},onRender:function(){var e=c.prototype.onRender.call(this);if(e)return;var i=this,n=i.model.get("properties"),r=["select","checkbox","radio","text"];n=t.filter(n,function(e){return!e["hidden"]&&!e["detached"]});i.$el.removeClass("group__item");if(n.length===1&&t.contains(r,n[0]["type"])){var o=i.renderProperty(n[0],false);i.$el.html(o)}else{i.renderPropertiesGroup(n)}i.renderDetachedItems()},renderProperty:function(e,i){var n=l.getItemView(e);var r=new s(e);var o=this.collection||this.model.collection;if(o){this.listenTo(r,"change",function(e){a.setPropertyByKey(o,"name",e.get("name"),e.get("value"));if(t.contains(u.IMAGE_LINK_LIGHTBOX_CFPIDS,e.get("cfpid"))){a.setPropertyByKey(o,"ucfpid",e.get("ucfpid").split("-")[0]+"-link","")}})}var c=new n({model:r,collection:o,isInGroup:i}).render().$el;return c},renderPropertiesGroup:function(e){var i=this.$el.find(this.itemViewContainer).eq(0);t.each(e,function(e){var t=this.renderProperty(e,true);i.append(t)}.bind(this))},renderDetachedItems:function(){var i=this.model.get("properties");i=t.filter(i,function(e){return e["detached"]&&!e["hidden"]});t.each(i,function(t){var i=this.renderProperty(t,false);var r=n.render(f,{isDropdown:!!t["values"]});$detachedGroupEl=e(r);$detachedGroupEl.append(i);if($detachedGroupEl.children().length>0){this.$el.append($detachedGroupEl)}},this)}});return h}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(34)],r=function(e,t,i){var n=i.extend({template:t.compile("<div></div>"),attributes:function(){return{class:"hidden"}},onBeforeRender:function(){this.$el.remove()},getValue:function(){return this.model.get("value")},isValid:function(){return false}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(77),i(34),i(717)],r=function(e,t,i,n,r,o){var s=r.extend({template:i.compile(o),events:{"keypress @ui.input":"onKeyPress","blur @ui.input":"inputBlur","click .stepper__step":"stepHandler"},ui:{input:"input",increase:"[data-role=increase]",decrease:"[data-role=decrease]"},initialize:function(){r.prototype.initialize.call(this);this.stepAmount=this.model.get("step")?this.model.get("step"):1},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("tooltip");return{default:e.model.get("default")||0,label:n.truncateLabel(_W.utl(t)),tooltip:n.formTooltip(_W.utl(t),i)}},onKeyPress:function(e){if(!this.isKeyNumeric(e.which)){e.preventDefault()}},stepHandler:function(t){var i=e(t.target),n=i.attr("data-role")||i.parent().attr("data-role");if(n==="increase"){this.stepUp(t)}else if(n==="decrease"){this.stepDown(t)}},stepUp:function(e){e.preventDefault();var t=this.getValueOrDefault(),i=parseInt(this.model.get("max"))||Number.MAX_SAFE_INTEGER,n=parseInt(this.stepAmount,10);if(t>=i){this.ui.increase.addClass("is-disabled");return}this.ui.decrease.removeClass("is-disabled");this.ui.input.val(t+n);this.ui.input.blur()},stepDown:function(e){e.preventDefault();var t=this.getValueOrDefault(),i=parseInt(this.model.get("min"))||0,n=parseInt(this.stepAmount,10);if(t<=i){this.ui.decrease.addClass("is-disabled");return}this.ui.increase.removeClass("is-disabled");this.ui.input.val(t-n);this.ui.input.blur()},getValueOrDefault:function(){var e=this.getValue();if(isNaN(e)||e===null||e===undefined){return parseInt(this.model.get("default"),10)||0}return e},getValue:function(){return parseInt(this.ui.input.val(),10)},isKeyNumeric:function(e){return String.fromCharCode(e)%1===0},inputBlur:function(){var e=this.getValueOrDefault(),t=parseInt(this.model.get("max"),10),i=parseInt(this.model.get("min"),10);if(this.model.get("step")){step=parseInt(this.model.get("step"),10)}if(e>t){e=t}if(e<i){e=i}this.ui.input.val(e);this.saveValue()}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(11),i(10),i(35),i(34),i(269),i(14),i(65),i(66),i(271),i(718)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p=a.extend({template:n.compile(h),templateHelpers:function(){return{label:_W.utl(this.model.get("label"))}},events:{click:"openLinker"},ui:{subLabel:".link-item-sublabel"},onRender:function(){var e=this;e.updateSubLabel()},openLinker:function(){var e=this,t=e.model.get("ucfid"),i=e.model.get("cfpid"),n={};n.ucfid=t;n.remove=true;n.context=e;n.existing=e.generateParsedLink();n.onChoose=e.onChoose;if(o.FORM_CONFIRMATION_LINK_CFPID===i){n.disableFile=true;n.disableEmail=true;n.disableNewWindow=true;n.remove=false}e.container=r.request("element:options:dialog:get:current");e.container.getContainerEl().parent().addClass("linker");n=Object.assign(f.getGiftCardData(),n);var s=l.getLinkerView(n);e.container.pushPanel(s)},generateParsedLink:function(){var i=this,n=i.model.get("value"),r=Weebly.Elements.getPropertyByReference("<!TARGET!>").property_result,s=Weebly.Elements.getPropertyByReference("<!LINK!>").property_result,a=i.model.get("cfpid"),l={};if(t.contains(o.IMAGE_LINK_LIGHTBOX_CFPIDS,a)&&s.indexOf("weebly-image-full")>-1){l=window.parseLinkString("")}else if(t.contains(o.IMAGE_LINK_LIGHTBOX_CFPIDS,a)&&s.indexOf("href")>-1){l=window.parseLinkString(e(s).attr("href"))}else{l=window.parseLinkString(n)}if(r&&r.search(/(target=["']_blank["'])/)!==-1||s&&s.search(/(target=["']_blank["'])/)!==-1){l["newWindow"]=true}return l},updateSubLabel:function(){var e=this;f.getNameFromParsedLink(e.generateParsedLink(),function(t){e.showSubLabel(t)})},showSubLabel:function(e){var t=this;t.ui.subLabel.html(e)},onChoose:function(i,n){var r=this,a=r.model.get("cfpid"),l=Weebly.Elements.getPropertyByReference("<!TARGET!>"),c=l["cfpid"];if(t.contains(o.IMAGE_LINK_LIGHTBOX_CFPIDS,a)){var u=r.model.get("ucfpid").split("-")[0];e("#"+u+"-lightbox").prop("checked",false).removeClass("checked");s.setPropertyByKey(r.collection,"ucfpid",u+"-link","<a"+(i?" href='"+i+"'":"")+(n?" target='_blank'":"")+">");s.setPropertyByKey(r.collection,"ucfpid",u+"-lightbox","0");Weebly.Elements.continueOnChange()}else{if(a){Weebly.Elements.uproperty.properties[a].property_result=i||"javascript:;"}if(c){Weebly.Elements.uproperty.properties[c].property_result=n?'target="_blank"':""}r.model.set("value",i);Weebly.Elements.saveProperties()}}});return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(1),i(2),i(3),i(90),i(13),i(218),i(35),i(142),i(34),i(720),i(719)],r=function(e,t,i,n,r,o,s,a,l,c,u,d){var f=c.extend({template:n.compile(u),events:{"click @ui.addOption":"insertNewOption","blur @ui.options":"saveValue","click @ui.deleteButtons":"deleteOption","sort @ui.optionGroup":"saveValue","click .open-predefined":"openPredefinedOptions"},ui:{optionGroup:".js-form-option-group",addOption:".js-add-option",options:".js-option",deleteButtons:".js-delete-option"},onBeforeRender:function(){var e=this;e.dialog.onBeforeForward=function(){e.toggleEdit()}},onShow:function(){var e=this;e.isEditing=false;e.initSortable()},templateHelpers:function(){var e=this;return{options:function(){var t=e.model.get("value")?e.model.get("value").split("||"):[];return t}}},getValue:function(){var e=this,t=[];e.bindUIElements();i.each(e.ui.options.find("input[name=std]"),function(e){var i=e.value.trim();if(i.length>0){t.push(i)}});return t.join("||")},insertNewOption:function(){var e=this,i=n.render(d);if(t(e.ui.options[0]).hasClass("is-editing")){e.toggleEdit()}e.ui.options.last().after(i);e.bindUIElements();e.$el.find(".group__item").eq(-1).find("input").focus()},deleteOption:function(e){var i=this;t(e.currentTarget).parent().remove();i.bindUIElements();i.saveValue()},initSortable:function(){var e=this;this.sortedGroup=new s.create(e.ui.optionGroup)},toggleEdit:function(){var e=this,t=e.dialog;e.ui.optionGroup.toggleClass("is-sorting is-deletable");if(e.isEditing){t.$headerEl.find(".topbar").removeClass("is-activated");t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_1"))}else{t.$headerEl.find(".topbar").addClass("is-activated");t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_2"))}e.isEditing=!e.isEditing},openPredefinedOptions:function(){var e=this,t=this.dialog,i,n=[{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_138",value:"Gender"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_139",value:"Age"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_140",value:"Income"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_141",value:"Marketing Reference"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_142",value:"Answer"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_143",value:"Education"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_144",value:"Employment"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_145",value:"Days of the Week"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_146",value:"Months of the Year"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_147",value:"U.S. States"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_148",value:"How Often"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_149",value:"How Long"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_150",value:"Satisfaction"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_151",value:"Importance"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_152",value:"Agreement"},{name:"javascript.element.editor.view.settings.item-views.OptionsItemView_153",value:"Comparison"}],s={Gender:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_8"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_9")],Age:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_10"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_11"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_12"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_13"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_14"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_15"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_16")],Income:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_17"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_18"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_19"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_20"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_21"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_22")],
"Marketing Reference":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_23"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_24"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_25"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_26")],Answer:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_3"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_4"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_5")],Education:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_27"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_28"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_29"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_30"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_31"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_32"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_33")],Employment:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_34"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_35"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_36"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_37")],"Days of the Week":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_38"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_39"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_40"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_41"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_42"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_43"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_44")],"Months of the Year":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_45"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_46"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_47"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_48"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_49"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_50"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_51"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_52"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_53"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_54"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_55"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_56")],"U.S. States":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_57"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_58"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_59"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_60"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_61"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_62"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_63"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_64"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_65"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_66"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_67"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_68"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_69"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_70"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_71"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_72"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_73"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_74"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_75"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_76"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_77"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_78"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_79"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_80"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_81"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_82"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_83"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_84"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_85"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_86"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_87"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_88"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_89"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_90"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_91"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_92"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_93"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_94"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_95"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_96"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_97"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_98"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_99"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_100"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_101"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_102"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_103"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_104"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_105"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_106"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_107")],"How Often":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_108"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_109"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_110"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_111"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_112")],"How Long":[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_113"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_114"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_115"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_116"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_117")],Satisfaction:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_118"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_119"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_120"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_121"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_122")],Importance:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_123"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_124"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_125"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_126"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_127")],Agreement:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_128"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_129"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_130"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_131"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_132")],Comparison:[_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_133"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_134"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_135"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_136"),_W.stl("javascript.element.editor.view.settings.item-views.OptionsItemView_137")]},c;i=new l({model:new r({values:n,type:"optionItems"})});i["dialogOptions"]={title:_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_6"),backLink:_W.utl("javascript.element.editor.view.settings.item-views.OptionsItemView_7")};c=new o.Panel(i);c.listenTo(c,"before:pop",function(e){var t=i.model.get("value");if(t){var n=s[t].join("||"),r=e.contentView.model.get("ucfpid"),o=e.contentView.model.get("cfpid");a.setPropertyByKey(e.contentView.collection,"ucfpid",r,n);e.contentView.model.set("value",n);Weebly.Elements.onChange(r,o)}});t.pushPanel(c)}});return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(4),i(3),i(142),i(722)],r=function(e,t,i,n){var r=i.extend({template:t.compile(n),events:{"change @ui.input":"saveValue"},templateHelpers:function(){var e=this,t=e.model.get("label");return o.extend({label:_W.utl(t)},i.prototype.templateHelpers.call(this))},ui:{input:"input"},getValue:function(){return this.$el.find("input:checked").val()},isValid:function(){return true}});return r}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(77),i(34),i(724),i(217)],r=function(e,t,i,n,r){var o=n.extend({template:t.compile(r),ui:{input:".slider"},getValue:function(){return parseInt(this.ui.input.val(),10)},templateHelpers:function(){var e=this,t=e.model.get("label"),n=e.model.get("tooltip");return{value:this.model.get("value")||0,label:i.truncateLabel(_W.utl(t)),tooltip:i.formTooltip(_W.utl(t),n)}},onRender:function(){n.prototype.onRender.call(this);if(this.model.get("value")===0||this.model.get("value")==="0"){var e=this.model.get("value")}else{var e=this.model.get("value")||this.model.get("default")||this.model.get("min")||0}var t={range:"min",value:e};if(this.model.get("max")){t.max=this.model.get("max")}if(this.model.get("min")){t.min=this.model.get("min")}if(this.model.get("step")){t.step=this.model.get("step")||1}t.stop=function(e,t){var i=this.model.get("ucfpid"),n=this.model.get("cfpid");this.model.set("value",t.value);if(i||n){Weebly.Elements.onChange(i,n)}}.bind(this);this.listenTo(this.model,"change:value",this.render);this.ui.input.slider(t)},isValid:function(){var e=this.getValue(),t=this.model.get("max"),i=this.model.get("min"),n=this.model.get("step"),r=true;if(i!=null&&i!=undefined&&e<i){r=false}if(t!=null&&t!=undefined&&e>t){r=false}if(n!=null&&n!=undefined&&e%n!=0){r=false}return r},getValue:function(){return this.ui.input.slider("value")},isValid:function(){return true}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(3),i(53),i(77),i(34),i(727)],r=function(e,t,i,n,r,o,s,a){var l=s.extend({template:n.compile(a),templateHelpers:function(){var i=this.model.get("value")||this.model.get("default"),n=["radio","select"],r=this.model.get("label"),s=this.model.get("hovertip"),a=this.model.get("tooltip"),l=this.model.get("type");if(this.model.get("special")==="buttonDropdown"||l==="optionItems"||this.model.get("action")==="social"){return{value:"",label:!r?r:o.truncateLabel(_W.utl(r)),tooltip:o.formTooltip(_W.utl(r),a)}}if(e.contains(n,l)){if(typeof this.model.get("values")[0]==="object"){i=e.find(this.model.get("values"),function(e){return e["value"]===i});i=i?i["short"]||i["name"]:this.model.get("default")}else{i=e.find(this.model.get("values"),function(e){return e===i})}}if(l==="color"&&(i===null||i===undefined)){i="#000000"}if(l==="color"&&i.indexOf("#")===-1&&!t("<div>").css("background-color",i).css("background-color")){i="#"+i}return{value:!i?i:_W.utl(i),label:!r?r:_W.utl(r),isColor:l==="color",tooltip:o.formTooltip(_W.utl(r),a),hovertip:!s?s:_W.utl(s)}},onShow:function(){r.initialize()}});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(192),i(728)],r=function(e,t,i,n){var r=i.extend({template:t.compile(n),events:{"blur @ui.input":"saveValue","keyup @ui.input":"handleKeyPress"},ui:{input:"textarea",remaining:".remaining"}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(10),i(77),i(191),i(729),i(57)],r=function(e,t,i,n,r,o){var s=r.extend({template:t.compile(o),events:{"change @ui.input":"saveValue","click @ui.input":"updateToggleValue"},ui:{input:"input"},templateHelpers:function(){var e=this,t=e.model.get("label"),i=e.model.get("hovertip"),r=e.model.get("tooltip");return{checked:function(){return e.getParsedValueFromModel()?'checked="checked"':""},label:n.truncateLabel(_W.utl(t)),hovertip:i?_W.utl(i):false,tooltip:n.formTooltip(_W.utl(t),r)}},onRender:function(){var e=r.prototype.onRender.call(this,true);if(e)return;var t=this,n=this.getParsedValueFromModel();if(i.STANDALONE_IMAGE_ELEMENTS.indexOf(Weebly.Elements.elementDef.elementid)>-1&&i.IMAGE_LINK_LIGHTBOX_CFPIDS.indexOf(t.model.get("cfpid"))>-1){var o=Weebly.Elements.getPropertyByReference("<!DATA!>").property_result||"{}";if(JSON.parse(o).hasOwnProperty("sprites")){t.$el.hide()}}t.ui.input.prop("checked",n);t.ui.input.toggleClass("checked",n)},updateToggleValue:function(){this.ui.input.toggleClass("checked",this.ui.input.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),i="1",n="0";if(t==="true"||t==="false"){i="true";n="false"}else if(t==="form-not-required"||t==="form-required"){i="form-required";n="form-not-required"}else if(t==="yes"||t==="no"){i="yes";n="no"}return this.ui.input.is(":checked")?i:n},isValid:function(){return true}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(192),i(291),i(142),i(297),i(288),i(298),i(191),i(295),i(294),i(287),i(290),i(296),i(190),i(293),i(292)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p){return{getItemView:function(m){var g=m.get?m.get("type"):m["type"],v=m.get?m.get("hidden"):m["hidden"],w=m.get?m.get("actionPaneIndex"):m["actionPaneIndex"],b=m.get?m.get("action"):m["action"];var y={string:e,int:t,checkbox:s,text:n,color:r,toggle:o,select:i,slider:a,radio:l,align:c,link:p,hidden:u,sublabel:d,optionsItems:h,button:f,group:"group"};g=typeof w!=="undefined"?"sublabel":g;g=v?"hidden":g;g=b==="social"?"button":g;g=y.hasOwnProperty(g)?g:"string";return y[g]}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(17)],r=function(e){var t={addColumn:function(t,i,n,r,o){var s=e.getElementObject(t);var a=r?r:o;if(!s){return false}s.addColumn(i,n,a)}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(11),i(7),i(75),i(564),i(93),i(60)],r=function(e,t,i,n,r,o,s){"use strict";var a;var l;var c;var u;var d;var f;var h=t.module("imageEditor.slideshow");var p={initialScreenShown:function(){h.clearToolbar()},slideshowStopped:function(){h.reset();p.refreshSlideshow(true)},slideshowImageAdded:function(){var e=n.getCurrentHeader(),t=e.data,i=t.slideshow.slides.length-1;p.refreshSlideshow();p.gotoSlide(i)},slideshowOptionsOpened:function(){var e=n.getCurrentHeader(),t=e.data.slideshow;u=t},slideshowOptionsCanceled:function(){var e;var t=n.getCurrentHeader();t.data.slideshow=u;u=undefined;e=n.setCurrentHeader(t);p.refreshSlideshow();return e},slideshowOrderUpdated:function(e){p.refreshSlideshow();p.gotoSlide(e,true)},gotoSlide:function(e,t){a.gotoSlide(e,t)},setSlideshowOptions:function(t){var i=false,r=n.getCurrentHeader(),o=r.data.slideshow;if(e.has(t,"transition")){o.slide=t.transition==="slide";o.transition=t.transition;i=true}if(e.has(t,"speed")){o.speed=t.speed;i=true}if(e.has(t,"arrows")){o.arrows=t.arrows}if(e.has(t,"dots")){o.dots=t.dots}if(e.has(t,"dotPosition")){o.dotPosition=t.dotPosition}n.setCurrentHeader(r);p.refreshSlideshow();h.play(i)},getCurrentSlide:function(){return a.getSlideIndex()},refreshSlideshow:function(e){var t=n.getCurrentHeader(),i=t.data||{};if(e&&i.type!=="slideshow"){h.clearHeaderSlideshow();return}i.slideshow=i.slideshow||{dots:true,arrows:true,slide:true};h.updateHeaderSlideshow(i.slideshow);if(!e){h.initializeToolbar()}}};h.on("start",function(){h.listenTo(i,{"imageeditor:slideshow:initialscreen":p.initialScreenShown,"imageeditor:slideshow:stop":p.slideshowStopped,"imageeditor:slideshow:image:saved":p.refreshSlideshow,"imageeditor:slideshow:image:removed":p.refreshSlideshow,"imageeditor:slideshow:image:add":p.slideshowImageAdded,"imageeditor:slideshow:options:open":p.slideshowOptionsOpened,"imageeditor:slideshow:order:updated":p.slideshowOrderUpdated});i.commands.setHandlers({"imageeditor:slideshow:view":p.gotoSlide,"imageeditor:slideshow:options":p.setSlideshowOptions});i.reqres.setHandlers({"imageeditor:slideshow:index":p.getCurrentSlide,"imageeditor:slideshow:options:cancel":p.slideshowOptionsCanceled})});h.on("stop",function(){h.reset();h.stopListening(i);i.commands.removeHandlers(["imageeditor:slideshow:view","imageeditor:slideshow:options"]);i.reqres.removeHandlers(["imageeditor:slideshow:index","imageeditor:slideshow:options:cancel"])});h.edit=function(e){d=e.element;f=d.style.cssText;if(!a){p.refreshSlideshow()}if(!a){return false}else{h.initializeToolbar();m(d)}return true};h.reset=function(){g();h.clearToolbar();l=undefined;u=undefined};h.play=function(e){a.play(e)};h.initializeToolbar=function(){if(c){c.close()}c=new r({slideshow:a});h.listenTo(c,{saveCaption:function(){p.refreshSlideshow()},change:function(e){i.execute("imageeditor:slideshow:select",e)},edit:function(e){i.execute("imageeditor:slideshow:image:edit",e)}});c.render();c.$el.appendTo("#_editor-ui").trigger("shown")};h.clearToolbar=function(){if(c){c.close();c=undefined}};h.getHeaderSlideshow=function(){return a};h.updateHeaderSlideshow=function(e){var t;var i;if(a){t=a.getSlideIndex();i=a.getHandlers();h.clearHeaderSlideshow()}a=s.instantiateHeaderSlideshow(e);window.whenThemeCSSLoaded(function(){if(a){a.render()}});if(t!==undefined){a.gotoSlide(t,true)}if(i!==undefined){a.setHandlers(i)}return a};h.clearHeaderSlideshow=function(){if(a){a.destroy();a=null;if(f){d.style.cssText=f;f=null;d=null}}};function m(e){g();l=new o({element:e,opacity:.7});l.show()}function g(){if(l){l.destroy()}}return h}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t={};var i={};t.set=function(e,t){i[e]=t};t.get=function(e){return i[e]};t.each=function(t){e.each(i,t)};t.clear=function(){e.each(i,function(e,t){delete i[t]})};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(7),i(93),i(235),i(10)],r=function(e,t,i,n,r){var o={};var s;var a;var l;function c(t,n){if(!n){n="content"}var r={paddingHeight:0,paddingWidth:0,opacity:.65};u();t=e.extend({},r,t);a=new i(t);a.show();l=n;return a}function u(e){if(e&&e!==l){return}if(a){a.destroy()}if(s){s.setAnts(false)}}o.showContentAreaSpotlights=function(t){var r={elements:n.topLevelDroppables,ants:true,roundedCorners:true,zIndex:9};s=i.getCurrent();if(s){s.setAnts(true)}else{t=t||{};t=e.extend({},r,t);c(t,"content")}};o.showSectionSpotlights=function(e){var t={elements:e,opacity:.2,interval:r.SECTION_SPOTLIGHT_REPOSITION_INTERVAL,borderWidths:"2 0 2 0",borderColor:"#78C7FB",maskColor:"#000",zIndex:16};return c(t,"section")};o.hideContentAreaSpotlights=function(){u("content")};o.hideSectionSpotlights=function(){u("section")};t.commands.setHandlers({showContentAreaSpotlights:o.showContentAreaSpotlights,hideContentAreaSpotlights:o.hideContentAreaSpotlights});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(7),i(3),i(11),i(33),i(306),i(771)],r=function(e,t,i,n,r,o,s){var a={drawRadioOptions:function(e){if(typeof e==="string"){e=e.split("||")}var t="";var i="radio-"+Math.floor(Math.random()*999);e.each(function(e){t+='<span class="form-radio-container"><input type="radio" name="'+i+'" /><label>'+e+"</label></span>"});return t},drawSelectOptions:function(e){if(typeof e==="string"){e=e.split("||")}var t='<select class="form-select">';e.each(function(e){t+="<option>"+e+"</option>"});t+="</select>";return t},drawCheckboxes:function(e){if(typeof e==="string"){e=e.split("||")}var t="";e.each(function(e){t+='<span class="form-radio-container"><input type="checkbox" /><label>'+e+"</label></span>"});return t}};var l;var c;var u;n.vent.on({pageRendered:d,"editor:elements:options:show":function(t,i,n){var r=e(".menuBarExpand");u=r.attr("data-ucfpid");var o=e(".menuBarExpand > a");o.click(function(){f()});e(".predefined-options-handle a").click(function(){h()})}});function d(){e(".instructions-container").remove();e(".wsite-form-instructions").each(function(){o.setupFieldInstructions(this)})}function f(){var t=e(".menuBarExpand");var i=t.find(".menuIconAdvanced img");if(t.length){if(t.css("overflow")==="visible"){t.css({width:"",height:"",zIndex:"",paddingBottom:"",overflow:"hidden"});i.attr("src","http://"+window.editorStatic+"/weebly/images/arrow_right.gif")}else{t.css({width:"250px",height:"auto",zIndex:"100",paddingBottom:"31px",overflow:"visible",left:"auto",top:"auto"});i.attr("src","http://"+window.editorStatic+"/weebly/images/arrow_down.gif");p()}}}function h(){var t=e(".menuBarExpand");var i=t.find(".predefined-options");if(!i.is(":visible")){if(!i.children().length){w()}i.show();t.find(".predefined-options-arrow").attr("src","/weebly/images/blog-settings-arrow-up.gif")}else{i.hide();t.find(".predefined-options-arrow").attr("src","/weebly/images/blog-settings-arrow-down.gif")}}function p(){if(e("#inputoptions").length&&!e("#inputoptions-open").length){var t=e("#"+u).val().split("||");var n=[];for(var r=0;r<t.length;r++){t[r]=t[r].replace(/\"/g,"&quot;");n.push(i.render(s,{urlPrefix:window.editorStatic,value:t[r]}))}var o=e("<div>",{id:"inputoptions"});o.append(e("<div>").append(e("<div>",{id:"inputoptions-open",class:"editmenu-input-options"}).append(e("<ul>",{id:"inputoptions-list"}).append(e(n.join(""))))).append(e("<div>",{style:"position:relative; width:100%"}).append(e("<a>",{class:"editmenu-input-plus"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/options-plus.gif",alt:"Add"}))).append(e("<a>",{class:"editmenu-input-undo",style:"display:none;"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/undo_button.gif",alt:"Undo"}))).append(e("<a>",{class:"editmenu-input-save"}).append(e("<img>",{src:"http://"+window.editorStatic+"/weebly/images/options-save.gif",alt:"Save"})))));e("#inputoptions").append(o);Sortable.create("inputoptions-list",{handle:"options-handle"});o.on("click",".editmenu-input-delete",function(){m(this)}).on("click",".editmenu-input-plus",function(){g()}).on("click",".editmenu-input-undo",function(){b()}).on("click",".editmenu-input-save",function(){v()})}if(l){e(".menuBarExpand").find(".editmenu-input-undo").show()}}function m(t){e(t).up("li").remove()}function g(){var t=e("#inputoptions-list");if(t.length){t.append(i.render(s,{urlPrefix:window.editorStatic,value:""}));Sortable.create("inputoptions-list",{handle:"options-handle"});setTimeout(function(){t.find("li:last-child input").focus()},100)}}function v(){if(e("#inputoptions-list").length){var t=[];e("#inputoptions-list input").each(function(e,i){t.push(i.value)});e("#"+u).val(t.join("||"));r.onChange(u);e("#inputoptions-open").parent().remove();f()}}function w(){var t=e(".menuBarExpand");var i=t.find(".predefined-options");for(var n in y){var r=e("<div>",{class:"predefined-option",title:y[n].join(", "),category:n}).html(n);i.append(r)}t.find(".predefined-option").on("click",function(){l=true;c=e("#"+u).val();var t=y[this.getAttribute("category")].join("||");e("#"+u).val(t);e("#inputoptions-open").parent().remove();p()})}function b(){l=false;e("#"+u).val(c);e("#inputoptions-open").parent().remove();p()}var y={Gender:["Male","Female"],Age:["Less than 13","13-18","19-25","26-35","36-50","Over 50","Prefer not to say"],Income:["Less than $10,000","$10,001-$25,000","$25,001-$40,000","$70,001-$100,000","> $100,000","Prefer not to say"],"Marketing Reference":["Internet Search","Advertisment","Friend","Other"],Answer:[_W.utl("javascript.site.editor.ui.weebly_form_2"),_W.utl("javascript.site.editor.ui.weebly_form_3"),_W.utl("javascript.site.editor.ui.weebly_form_4")],Education:["Some High School","Completed High School","Some College","Associate's Degree","Bachelor's Degree","Master's Degree","PhD"],Employment:["Unemployed","Part-time","Full-time","Self-employed"],"Days of the Week":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"Months of the Year":["January","February","March","April","May","June","July","August","September","October","November","December"],"U.S. States":["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","Washington D.C.","West Virginia","Wisconsin","Wyoming"],"How Often":["Everyday","Once per week","2 to 3 times per week","Once per month","Less than once per month"],"How Long":["Less than 1 month","1-6 months","1-3 years","Over 3 years","Never"],Satisfaction:["Very Satisfied","Satisfied","Neutral","Unsatisfied","Very Unsatisfied"],Importance:["Very Important","Important","Neutral","Somewhat Important","Not at all Important"],Agreement:["Strongly Agree","Agree","Neutral","Disagree","Strongly Disagree"],Comparison:["Much Better","Somewhat Better","About the Same","Somewhat Worse","Much Worse"]};function _(t){if(Weebly.Restrictions.hasAccess("unlimited_form_inputs")){return false}var i=e("#inside_"+t).parents(".formlist");if(i.length===0){return false}var n=i.first().find(".wsite-form-field").size();return n>=Weebly.Restrictions.accessValue("free_form_inputs")}t.reqres.setHandlers({"form:isOverInputLimit":_});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(307),i(11)],r=function(e,t,i){function n(){r();o()}function r(){if(e("fb\\:like").length){t.parse()}}function o(){var t=window.location.protocol==="https:"?"https://":"http://";e("a.twitter-share-button").each(function(i,n){var r,o=e.param({_:+new Date,count:"horizontal",id:"twitter_tweet_button_0",land:"en",url:n.href.replace(/.*?\?url=(.*)$/,"$1")});o+="&text="+n.getAttribute("data-text");r=e("<iframe />",{src:t+"platform.twitter.com/widgets/tweet_button.html?"+o,allowtransparency:"true",frameborder:"0",scrolling:"no",class:"twitter-share-button twitter-count-horizontal"}).css({width:110,height:20});e(n).replaceWith(r)})}window.fbAsyncInit=function(){t.asyncInit()};i.vent.on("editor:middle",function(e){if(e.kind=="blog"){n()}});return{init:n}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2)],r=function(e,t){var i=false;var n=false;var r={createFieldInstructions:function(t){var i=e('<div class="instructions-container">').html(t);var n=e('<span class="wsite-instructions-container-caret"/>');i.append(n);e("body").append(i);return i},setupFieldInstructions:function(t,o){var s=e(t);if(!s.html()){return}if(!i){var a=window.getComputedStyle(document.body);n=a.getPropertyValue("overflow")==="hidden"||a.getPropertyValue("overflow-y")==="hidden"||a.getPropertyValue("overflow-x")==="hidden";i=true}if(o==null){o="wsite"}var l=s.parents("."+o+"-form-field");l.data("form-instruction",{instructions:r.createFieldInstructions(t.innerHTML)});r.createHelpIcon(l)},createHelpIcon:function(t){var i=t.data("form-instruction");var r=i.instructions;var o=e('<span class="wsite-instructions-help"/>');t.find(".wsite-form-label").append(o);var s=function(i){if(i.type==="touchstart"&&e.contains(t[0],i.target)){return}r.hide();e(document).off(".formfieldinstructions")};var a=function(){var t=r.find(".wsite-instructions-container-caret");var i=window.getComputedStyle(t[0],":before").getPropertyValue("border-width");i=parseInt(i,10)||10;var a=o.offset();var l=o.outerWidth();var c=o.outerHeight();var u=r.offset();var d=r.outerWidth();var f=r.outerHeight();var h=a.top-f-(i+5);var p=l+a.left-i*2-i/2;if(p+d>document.body.clientWidth){p=p-d+l+i*2+i/2;if(p<0){p=10}}r.removeClass("caret-top caret-bottom");var m;if(n){m=h<0}else{m=h<e(document.body).scrollTop()}if(m){h=h+c+f+(i*2+10);r.addClass("caret-top")}else{r.addClass("caret-bottom")}r.css({top:h,left:p}).show().find(".wsite-instructions-container-caret").css({left:a.left-p+i/2});setTimeout(function(){e(document).on({"touchmove.formfieldinstructions":s,"touchstart.formfieldinstructions":s})},250)};o.on({mouseover:a,mouseout:s,touchstart:function(e){e.preventDefault();a()}})}};return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[],r=function(){var e={};var t;var i=false;e.embed=function(){if(!document.getElementById("facebook-jssdk")&&!t){var e;if(!document.getElementById("fb-root")){var i=document.createElement("div");i.id="fb-root";document.body.insertBefore(i,document.body.firstChild)}t=document.createElement("script");t.id="facebook-jssdk";t.src="//connect.facebook.net/en_US/sdk.js";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}};e.parse=function(){if(!document.getElementById("facebook-jssdk")&&!t){e.embed()}else if(i&&typeof FB!=="undefined"){e.setColorScheme();FB.XFBML.parse()}};e.reparseCommentCount=function(){var e=document.getElementsByTagName("fb:comments-count");for(var t=0;t<e.length;t++){FB.XFBML.parse(e[t])}};e.setColorScheme=function(){var e=document.getElementsByClassName("facebook-comment-widget"),t=document.body,i=t.className.match("wsite-theme-light");for(var n=0;n<e.length;n++){e[n].setAttribute("colorscheme",i?"light":"dark")}};e.asyncInit=function(){FB.init({appId:"190291501407",xfbml:true,version:"v2.6"});FB.Event.subscribe("comment.create",e.reparseCommentCount);FB.Event.subscribe("comment.remove",e.reparseCommentCount);i=true;e.parse()};return e}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(99)],r=function(e){e.widget("ui.draggable",e.ui.draggable,{_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css({position:"absolute",zIndex:"1000"}).appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0];
})}})}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,n){(function(e){var t=t||{};t.version="2.9.5";t.meIndex=0;t.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]};t.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>';return t.firstChild.href},getScriptPath:function(e){for(var t=0,i,n="",r="",o,s=document.getElementsByTagName("script"),a=s.length,l=e.length;t<a;t++){o=s[t].src;for(i=0;i<l;i++){r=e[i];if(o.indexOf(r)>-1){n=o.substring(0,o.indexOf(r));break}}if(n!=="")break}return n},secondsToTimeCode:function(e,t,i,n){if(typeof i=="undefined")i=false;else if(typeof n=="undefined")n=25;var r=Math.floor(e/3600)%24,o=Math.floor(e/60)%60,s=Math.floor(e%60);e=Math.floor((e%1*n).toFixed(3));return(t||r>0?(r<10?"0"+r:r)+":":"")+(o<10?"0"+o:o)+":"+(s<10?"0"+s:s)+(i?":"+(e<10?"0"+e:e):"")},timeCodeToSeconds:function(e,t,i,n){if(typeof i=="undefined")i=false;else if(typeof n=="undefined")n=25;e=e.split(":");t=parseInt(e[0],10);var r=parseInt(e[1],10),o=parseInt(e[2],10),s=0,a=0;if(i)s=parseInt(e[3])/n;return a=t*3600+r*60+o+s},convertSMPTEtoSeconds:function(e){if(typeof e!="string")return false;e=e.replace(",",".");var t=0,i=e.indexOf(".")!=-1?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var r=0;r<e.length;r++){n=1;if(r>0)n=Math.pow(60,r);t+=Number(e[r])*n}return Number(t.toFixed(i))},removeSwf:function(e){var i=document.getElementById(e);if(i&&i.nodeName=="OBJECT")if(t.MediaFeatures.isIE){i.style.display="none";(function(){i.readyState==4?t.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)})()}else i.parentNode.removeChild(i)},removeObjectInIE:function(e){if(e=document.getElementById(e)){for(var t in e)if(typeof e[t]=="function")e[t]=null;e.parentNode.removeChild(e)}}};t.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];t[1]=t[1]||0;t[2]=t[2]||0;return i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,r){this.plugins[e]=this.detectPlugin(t,i,n,r)},detectPlugin:function(e,t,i,n){var r=[0,0,0],o;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){if((i=this.nav.plugins[e].description)&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[t]&&!this.nav.mimeTypes[t].enabledPlugin)){r=i.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(e=0;e<r.length;e++)r[e]=parseInt(r[e].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(o=new ActiveXObject(i))r=n(o)}catch(e){}return r}};t.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[];if(e=e.GetVariable("$version")){e=e.split(" ")[1].split(",");t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}return t});t.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],i=function(e,t,i,n){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[i]+=n;t[i]-=n};i(e,t,0,1);i(e,t,1,1);i(e,t,2,1e4);i(e,t,2,1e3);i(e,t,2,100);i(e,t,2,10);i(e,t,2,1);i(e,t,3,1);return t});t.MediaFeatures={init:function(){var e=this,i=document,n=t.PluginDetector.nav,r=t.PluginDetector.ua.toLowerCase(),o,s=["source","track","audio","video"];e.isiPad=r.match(/ipad/i)!==null;e.isiPhone=r.match(/iphone/i)!==null;e.isiOS=e.isiPhone||e.isiPad;e.isAndroid=r.match(/android/i)!==null;e.isBustedAndroid=r.match(/android 2\.[12]/)!==null;e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1;e.isChrome=r.match(/chrome/gi)!==null;e.isFirefox=r.match(/firefox/gi)!==null;e.isWebkit=r.match(/webkit/gi)!==null;e.isGecko=r.match(/gecko/gi)!==null&&!e.isWebkit;e.isOpera=r.match(/opera/gi)!==null;e.hasTouch="ontouchstart"in window;for(n=0;n<s.length;n++)o=document.createElement(s[n]);e.supportsMediaTag=typeof o.canPlayType!=="undefined"||e.isBustedAndroid;e.hasSemiNativeFullScreen=typeof o.webkitEnterFullscreen!=="undefined";e.hasWebkitNativeFullScreen=typeof o.webkitRequestFullScreen!=="undefined";e.hasMozNativeFullScreen=typeof o.mozRequestFullScreen!=="undefined";e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen;e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen;if(e.hasMozNativeFullScreen)e.nativeFullScreenEnabled=o.mozFullScreenEnabled;if(this.isChrome)e.hasSemiNativeFullScreen=false;if(e.hasTrueNativeFullScreen){e.fullScreenEventName=e.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange";e.isFullScreen=function(){if(o.mozRequestFullScreen)return i.mozFullScreen;else if(o.webkitRequestFullScreen)return i.webkitIsFullScreen};e.requestFullScreen=function(t){if(e.hasWebkitNativeFullScreen)t.webkitRequestFullScreen();else e.hasMozNativeFullScreen&&t.mozRequestFullScreen()};e.cancelFullScreen=function(){if(e.hasWebkitNativeFullScreen)document.webkitCancelFullScreen();else e.hasMozNativeFullScreen&&document.mozCancelFullScreen()}}if(e.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)){e.hasNativeFullScreen=false;e.hasSemiNativeFullScreen=false}}};t.MediaFeatures.init();t.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);if(typeof e=="string")this.src=e;else{var i;for(t=0;t<e.length;t++){i=e[t];if(this.canPlayType(i.type))this.src=i.src}}},setVideoSize:function(e,t){this.width=e;this.height=t}};t.PluginMediaElement=function(e,t,i){this.id=e;this.pluginType=t;this.src=i;this.events={}};t.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,tagName:"",muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginType!="youtube"&&this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia();this.paused=true}},stop:function(){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(e){var i,n,r,o=t.plugins[this.pluginType];for(i=0;i<o.length;i++){r=o[i];if(t.PluginDetector.hasPluginVersion(this.pluginType,r.version))for(n=0;n<r.types.length;n++)if(e==r.types[n])return true}return false},positionFullscreenButton:function(e,t,i){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,t,i)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if(typeof e=="string"){this.pluginApi.setSrc(t.Utility.absolutizeUrl(e));this.src=t.Utility.absolutizeUrl(e)}else{var i,n;for(i=0;i<e.length;i++){n=e[i];if(this.canPlayType(n.type)){this.pluginApi.setSrc(t.Utility.absolutizeUrl(n.src));this.src=t.Utility.absolutizeUrl(e)}}}},setCurrentTime:function(e){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e);this.currentTime=e}},setVolume:function(e){if(this.pluginApi!=null){this.pluginType=="youtube"?this.pluginApi.setVolume(e*100):this.pluginApi.setVolume(e);this.volume=e}},setMuted:function(e){if(this.pluginApi!=null){if(this.pluginType=="youtube"){e?this.pluginApi.mute():this.pluginApi.unMute();this.muted=e;this.dispatchEvent("volumechange")}else this.pluginApi.setMuted(e);this.muted=e}},setVideoSize:function(e,t){if(this.pluginElement.style){this.pluginElement.style.width=e+"px";this.pluginElement.style.height=t+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(true)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(false)},addEventListener:function(e,t){this.events[e]=this.events[e]||[];this.events[e].push(t)},removeEventListener:function(e,t){if(!e){this.events={};return true}var n=this.events[e];if(!n)return true;if(!t){this.events[e]=[];return true}for(i=0;i<n.length;i++)if(n[i]===t){this.events[e].splice(i,1);return true}return false},dispatchEvent:function(e){var t,i,n=this.events[e];if(n){i=Array.prototype.slice.call(arguments,1);for(t=0;t<n.length;t++)n[t].apply(null,i)}},attributes:{},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){if(this.hasAttribute(e))return this.attributes[e];return""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){t.Utility.removeSwf(this.pluginElement.id)}};t.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,i){this.pluginMediaElements[e]=t;this.htmlMediaElements[e]=i},initPlugin:function(e){var t=this.pluginMediaElements[e],i=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id);t.pluginApi=t.pluginElement.Content.MediaElementJS}t.pluginApi!=null&&t.success&&t.success(t,i)}},fireEvent:function(e,t,i){var n,r;e=this.pluginMediaElements[e];e.ended=false;e.paused=true;t={type:t,target:e};for(n in i){e[n]=i[n];t[n]=i[n]}r=i.bufferedTime||0;t.target.buffered=t.buffered={start:function(){return 0},end:function(){return r},length:1};e.dispatchEvent(t.type,t)}};t.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:false,type:"",pluginPath:t.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}};t.MediaElement=function(e,i){return t.HtmlMediaElementShim.create(e,i)};t.HtmlMediaElementShim={create:function(e,i){var n=t.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,o=r.tagName.toLowerCase(),s=o==="audio"||o==="video",a=s?r.getAttribute("src"):r.getAttribute("href");o=r.getAttribute("poster");var l=r.getAttribute("autoplay"),c=r.getAttribute("preload"),u=r.getAttribute("controls"),d;for(d in i)n[d]=i[d];a=typeof a=="undefined"||a===null||a==""?null:a;o=typeof o=="undefined"||o===null?"":o;c=typeof c=="undefined"||c===null||c==="false"?"none":c;l=!(typeof l=="undefined"||l===null||l==="false");u=!(typeof u=="undefined"||u===null||u==="false");d=this.determinePlayback(r,n,t.MediaFeatures.supportsMediaTag,s,a);d.url=d.url!==null?t.Utility.absolutizeUrl(d.url):"";if(d.method=="native"){if(t.MediaFeatures.isBustedAndroid){r.src=d.url;r.addEventListener("click",function(){r.play()},false)}return this.updateNative(d,n,l,c)}else if(d.method!=="")return this.createPlugin(d,n,o,l,c,u);else{this.createErrorMessage(d,n,o);return this}},determinePlayback:function(e,i,n,r,o){var s=[],a,l,c={method:"",url:"",htmlMediaElement:e,isVideo:e.tagName.toLowerCase()!="audio"},u,d;if(typeof i.type!="undefined"&&i.type!=="")if(typeof i.type=="string")s.push({type:i.type,url:o});else for(a=0;a<i.type.length;a++)s.push({type:i.type[a],url:o});else if(o!==null){l=this.formatType(o,e.getAttribute("type"));s.push({type:l,url:o})}else for(a=0;a<e.childNodes.length;a++){l=e.childNodes[a];if(l.nodeType==1&&l.tagName.toLowerCase()=="source"){o=l.getAttribute("src");l=this.formatType(o,l.getAttribute("type"));s.push({type:l,url:o})}}if(!r&&s.length>0&&s[0].url!==null&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1)c.isVideo=false;if(t.MediaFeatures.isBustedAndroid)e.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(n&&(i.mode==="auto"||i.mode==="auto_plugin"||i.mode==="native")){if(!r){a=document.createElement(c.isVideo?"video":"audio");e.parentNode.insertBefore(a,e);e.style.display="none";c.htmlMediaElement=e=a}for(a=0;a<s.length;a++)if(e.canPlayType(s[a].type).replace(/no/,"")!==""||e.canPlayType(s[a].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){c.method="native";c.url=s[a].url;break}if(c.method==="native"){if(c.url!==null)e.src=c.url;if(i.mode!=="auto_plugin")return c}}if(i.mode==="auto"||i.mode==="auto_plugin"||i.mode==="shim")for(a=0;a<s.length;a++){l=s[a].type;for(e=0;e<i.plugins.length;e++){o=i.plugins[e];u=t.plugins[o];for(n=0;n<u.length;n++){d=u[n];if(d.version==null||t.PluginDetector.hasPluginVersion(o,d.version))for(r=0;r<d.types.length;r++)if(l==d.types[r]){c.method=o;c.url=s[a].url;return c}}}}if(i.mode==="auto_plugin"&&c.method==="native")return c;if(c.method===""&&s.length>0)c.url=s[0].url;return c},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){e=e.substring(e.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(e)?"video":"audio")+"/"+this.getTypeFromExtension(e)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,r=document.createElement("div");r.className="me-cannotplay";try{r.style.width=n.width+"px";r.style.height=n.height+"px"}catch(e){}r.innerHTML=i!==""?'<a href="'+e.url+'"><img src="'+i+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>Download File</span></a>';n.parentNode.insertBefore(r,n);n.style.display="none";t.error(n)},createPlugin:function(e,i,n,r,o,s){n=e.htmlMediaElement;var a=1,l=1,c="me_"+e.method+"_"+t.meIndex++,u=new t.PluginMediaElement(c,e.method,e.url),d=document.createElement("div"),f;u.tagName=n.tagName;for(f=0;f<n.attributes.length;f++){var h=n.attributes[f];h.specified==true&&u.setAttribute(h.name,h.value)}for(f=n.parentNode;f!==null&&f.tagName.toLowerCase()!="body";){if(f.parentNode.tagName.toLowerCase()=="p"){f.parentNode.parentNode.insertBefore(f,f.parentNode);break}f=f.parentNode}if(e.isVideo){a=i.videoWidth>0?i.videoWidth:n.getAttribute("width")!==null?n.getAttribute("width"):i.defaultVideoWidth;l=i.videoHeight>0?i.videoHeight:n.getAttribute("height")!==null?n.getAttribute("height"):i.defaultVideoHeight;a=t.Utility.encodeUrl(a);l=t.Utility.encodeUrl(l)}else if(i.enablePluginDebug){a=320;l=240}u.success=i.success;t.MediaPluginBridge.registerPluginElement(c,u,n);d.className="me-plugin";d.id=c+"_container";e.isVideo?n.parentNode.insertBefore(d,n):document.body.insertBefore(d,document.body.childNodes[0]);r=["id="+c,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+o,"width="+a,"startvolume="+i.startVolume,"timerrate="+i.timerRate,"flashstreamer="+i.flashStreamer,"height="+l];if(e.url!==null)e.method=="flash"?r.push("file="+t.Utility.encodeUrl(e.url)):r.push("file="+e.url);i.enablePluginDebug&&r.push("debug=true");i.enablePluginSmoothing&&r.push("smoothing=true");s&&r.push("controls=true");if(i.pluginVars)r=r.concat(i.pluginVars);switch(e.method){case"silverlight":d.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+c+'" name="'+c+'" width="'+a+'" height="'+l+'"><param name="initParams" value="'+r.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+i.pluginPath+i.silverlightName+'" /></object>';break;case"flash":if(t.MediaFeatures.isIE){e=document.createElement("div");d.appendChild(e);e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+c+'" width="'+a+'" height="'+l+'"><param name="movie" value="'+i.pluginPath+i.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+r.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else d.innerHTML='<embed id="'+c+'" name="'+c+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+i.pluginPath+i.flashName+'" flashvars="'+r.join("&")+'" width="'+a+'" height="'+l+'"></embed>';break;case"youtube":i=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:d,containerId:d.id,pluginMediaElement:u,pluginId:c,videoId:i,height:l,width:a};t.PluginDetector.hasPluginVersion("flash",[10,0,0])?t.YouTubeApi.createFlash(youtubeSettings):t.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":u.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1);d.innerHTML='<object width="'+a+'" height="'+l+'"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="flashvars" value="api=1" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+u.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+u.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+a+'" height="'+l+'"></embed></object>'}n.style.display="none";return u},updateNative:function(e,i){var n=e.htmlMediaElement,r;for(r in t.HtmlMediaElement)n[r]=t.HtmlMediaElement[r];i.success(n,n);return n}};t.YouTubeApi={isIframeStarted:false,isIframeLoaded:false,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t);this.isIframeStarted=true}},iframeQueue:[],enqueueIframe:function(e){if(this.isLoaded)this.createIframe(e);else{this.loadIframeApi();this.iframeQueue.push(e)}},createIframe:function(e){var i=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n;t.MediaPluginBridge.initPlugin(e.pluginId);setInterval(function(){t.YouTubeApi.createEvent(n,i,"timeupdate")},250)},onStateChange:function(e){t.YouTubeApi.handleStateChange(e.data,n,i)}}})},createEvent:function(e,t,i){i={type:i,target:t};if(e&&e.getDuration){t.currentTime=i.currentTime=e.getCurrentTime();t.duration=i.duration=e.getDuration();i.paused=t.paused;i.ended=t.ended;i.muted=e.isMuted();i.volume=e.getVolume()/100;i.bytesTotal=e.getVideoBytesTotal();i.bufferedBytes=e.getVideoBytesLoaded();var n=i.bufferedBytes/i.bytesTotal*i.duration;i.target.buffered=i.buffered={start:function(){return 0},end:function(){return n},length:1}}t.dispatchEvent(i.type,i)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=true;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var i,n="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";if(t.MediaFeatures.isIE){i=document.createElement("div");e.container.appendChild(i);i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+n+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; "><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var i=this.flashPlayers[e],n=document.getElementById(e),r=i.pluginMediaElement;r.pluginApi=r.pluginElement=n;t.MediaPluginBridge.initPlugin(e);n.cueVideoById(i.videoId);e=i.containerId+"_callback";window[e]=function(e){t.YouTubeApi.handleStateChange(e,n,r)};n.addEventListener("onStateChange",e);setInterval(function(){t.YouTubeApi.createEvent(n,r,"timeupdate")},250)},handleStateChange:function(e,i,n){switch(e){case-1:n.paused=true;n.ended=true;t.YouTubeApi.createEvent(i,n,"loadedmetadata");break;case 0:n.paused=false;n.ended=true;t.YouTubeApi.createEvent(i,n,"ended");break;case 1:n.paused=false;n.ended=false;t.YouTubeApi.createEvent(i,n,"play");t.YouTubeApi.createEvent(i,n,"playing");break;case 2:n.paused=true;n.ended=false;t.YouTubeApi.createEvent(i,n,"pause");break;case 3:t.YouTubeApi.createEvent(i,n,"progress")}}};function n(){t.YouTubeApi.iFrameReady()}function r(e){t.YouTubeApi.flashReady(e)}window.mejs=t;window.MediaElement=t.MediaElement;if(typeof e!="undefined")t.$=e;else if(typeof ender!="undefined")t.$=ender;(function(i){t.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return e.duration*.05},defaultSeekForwardInterval:function(e){return e.duration*.05},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,autosizeProgress:true,alwaysShowControls:false,iPadUseNativeControls:false,iPhoneUseNativeControls:false,AndroidUseNativeControls:false,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:true,enableKeyboard:true,pauseOtherPlayers:true,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){t.setVolume(Math.min(t.volume+.1,1))}},{keys:[40],action:function(e,t){t.setVolume(Math.max(t.volume-.1,0))}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e){if(typeof e.enterFullScreen!="undefined")e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}}]};t.mepIndex=0;t.players=[];t.MediaElementPlayer=function(e,n){if(!(this instanceof t.MediaElementPlayer))return new t.MediaElementPlayer(e,n);this.$media=this.$node=i(e);this.node=this.media=this.$media[0];if(typeof this.node.player!="undefined")return this.node.player;else this.node.player=this;if(typeof n=="undefined")n=this.$node.data("mejsoptions");this.options=i.extend({},t.MepDefaults,n);t.players.push(this);this.init();return this};t.MediaElementPlayer.prototype={hasFocus:false,controlsAreVisible:true,init:function(){var e=this,n=t.MediaFeatures,r=i.extend(true,{},e.options,{success:function(t,i){e.meReady(t,i)},error:function(t){e.handleError(t)}}),o=e.media.tagName.toLowerCase();e.isDynamic=o!=="audio"&&o!=="video";e.isVideo=e.isDynamic?e.options.isVideo:o!=="audio"&&e.options.isVideo;if(n.isiPad&&e.options.iPadUseNativeControls||n.isiPhone&&e.options.iPhoneUseNativeControls){e.$media.attr("controls","controls");if(n.isiPad&&e.media.getAttribute("autoplay")!==null){e.media.load();e.media.play()}}else if(!(n.isAndroid&&e.AndroidUseNativeControls)){e.$media.removeAttr("controls");e.id="mep_"+t.mepIndex++;e.container=i('<div id="'+e.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media);e.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio "));if(n.isiOS){n=e.$media.clone();e.container.find(".mejs-mediaelement").append(n);e.$media.remove();e.$node=e.$media=n;e.node=e.media=n[0]}else e.container.find(".mejs-mediaelement").append(e.$media);e.controls=e.container.find(".mejs-controls");e.layers=e.container.find(".mejs-layers");n=e.isVideo?"video":"audio";o=n.substring(0,1).toUpperCase()+n.substring(1);e.width=e.options[n+"Width"]>0||e.options[n+"Width"].toString().indexOf("%")>-1?e.options[n+"Width"]:e.media.style.width!==""&&e.media.style.width!==null?e.media.style.width:e.media.getAttribute("width")!==null?e.$media.attr("width"):e.options["default"+o+"Width"];e.height=e.options[n+"Height"]>0||e.options[n+"Height"].toString().indexOf("%")>-1?e.options[n+"Height"]:e.media.style.height!==""&&e.media.style.height!==null?e.media.style.height:e.$media[0].getAttribute("height")!==null?e.$media.attr("height"):e.options["default"+o+"Height"];e.setPlayerSize(e.width,e.height);r.pluginWidth=e.height;r.pluginHeight=e.width}t.MediaElement(e.$media[0],r)},showControls:function(e){var t=this;e=typeof e=="undefined"||e;if(!t.controlsAreVisible){if(e){t.controls.css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true});t.container.find(".mejs-control").css("visibility","visible").stop(true,true).fadeIn(200,function(){t.controlsAreVisible=true})}else{t.controls.css("visibility","visible").css("display","block");t.container.find(".mejs-control").css("visibility","visible").css("display","block");t.controlsAreVisible=true}t.setControlsSize()}},hideControls:function(e){var t=this;e=typeof e=="undefined"||e;if(t.controlsAreVisible)if(e){t.controls.stop(true,true).fadeOut(200,function(){i(this).css("visibility","hidden").css("display","block");t.controlsAreVisible=false});t.container.find(".mejs-control").stop(true,true).fadeOut(200,function(){i(this).css("visibility","hidden").css("display","block")})}else{t.controls.css("visibility","hidden").css("display","block");t.container.find(".mejs-control").css("visibility","hidden").css("display","block");t.controlsAreVisible=false}},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500;t.killControlsTimer("start");t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer("hide")},e)},killControlsTimer:function(){if(this.controlsTimer!==null){clearTimeout(this.controlsTimer);delete this.controlsTimer;this.controlsTimer=null}},controlsEnabled:true,disableControls:function(){this.killControlsTimer();this.hideControls(false);this.controlsEnabled=false},enableControls:function(){this.showControls(false);this.controlsEnabled=true},meReady:function(e,n){var r=this,o=t.MediaFeatures,s=n.getAttribute("autoplay");s=!(typeof s=="undefined"||s===null||s==="false");var a;if(!r.created){r.created=true;r.media=e;r.domNode=n;if(!(o.isAndroid&&r.options.AndroidUseNativeControls)&&!(o.isiPad&&r.options.iPadUseNativeControls)&&!(o.isiPhone&&r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media);r.buildkeyboard(r,r.controls,r.layers,r.media);r.buildoverlays(r,r.controls,r.layers,r.media);r.findTracks();for(a in r.options.features){o=r.options.features[a];if(r["build"+o])try{r["build"+o](r,r.controls,r.layers,r.media)}catch(e){}}r.container.trigger("controlsready");r.setPlayerSize(r.width,r.height);r.setControlsSize();if(r.isVideo){if(t.MediaFeatures.hasTouch)r.$media.bind("touchstart",function(){if(r.controlsAreVisible)r.hideControls(false);else r.controlsEnabled&&r.showControls(false)});else{(r.media.pluginType=="native"?r.$media:i(r.media.pluginElement)).click(function(){e.paused?e.play():e.pause()});r.container.bind("mouseenter mouseover",function(){if(r.controlsEnabled)if(!r.options.alwaysShowControls){r.killControlsTimer("enter");r.showControls();r.startControlsTimer(2500)}}).bind("mousemove",function(){if(r.controlsEnabled){r.controlsAreVisible||r.showControls();r.options.alwaysShowControls||r.startControlsTimer(2500)}}).bind("mouseleave",function(){r.controlsEnabled&&!r.media.paused&&!r.options.alwaysShowControls&&r.startControlsTimer(1e3)})}s&&!r.options.alwaysShowControls&&r.hideControls();r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){if(r.options.videoHeight<=0&&r.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)){r.setPlayerSize(e.target.videoWidth,e.target.videoHeight);r.setControlsSize();r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight)}},false)}e.addEventListener("play",function(){for(var e=0,i=t.players.length;e<i;e++){var n=t.players[e];n.id!=r.id&&r.options.pauseOtherPlayers&&!n.paused&&!n.ended&&n.pause();n.hasFocus=false}r.hasFocus=true},false);r.media.addEventListener("ended",function(){try{r.media.setCurrentTime(0)}catch(e){}r.media.pause();r.setProgressRail&&r.setProgressRail();r.setCurrentRail&&r.setCurrentRail();if(r.options.loop)r.media.play();else!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},false);r.media.addEventListener("loadedmetadata",function(){r.updateDuration&&r.updateDuration();r.updateCurrent&&r.updateCurrent();if(!r.isFullScreen){r.setPlayerSize(r.width,r.height);r.setControlsSize()}},false);setTimeout(function(){r.setPlayerSize(r.width,r.height);r.setControlsSize()},50);i(window).resize(function(){r.isFullScreen||t.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width,r.height);r.setControlsSize()});r.media.pluginType=="youtube"&&r.container.find(".mejs-overlay-play").hide()}if(s&&e.pluginType=="native"){e.load();e.play()}if(r.options.success)typeof r.options.success=="string"?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r)}},handleError:function(e){this.controls.hide();this.options.error&&this.options.error(e)},setPlayerSize:function(e,t){if(typeof e!="undefined")this.width=e;if(typeof t!="undefined")this.height=t;if(this.height.toString().indexOf("%")>0||this.$node.css("max-width")==="100%"){var n=this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth,r=this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight,o=this.container.parent().width();n=parseInt(o*r/n,10);if(this.container.parent()[0].tagName.toLowerCase()==="body"){o=i(window).width();
n=i(window).height()}if(n!=0){this.container.width(o).height(n);this.$media.width("100%").height("100%");this.container.find("object, embed, iframe").width("100%").height("100%");this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(o,n);this.layers.children(".mejs-layer").width("100%").height("100%")}}else{this.container.width(this.width).height(this.height);this.layers.children(".mejs-layer").width(this.width).height(this.height)}},setControlsSize:function(){var e=0,t=0,n=this.controls.find(".mejs-time-rail"),r=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current");this.controls.find(".mejs-time-loaded");var o=n.siblings();if(this.options&&!this.options.autosizeProgress)t=parseInt(n.css("width"));if(t===0||!t){o.each(function(){if(i(this).css("position")!="absolute")e+=i(this).outerWidth(true)});t=this.controls.width()-e-(n.outerWidth(true)-n.width())-1}n.width(t);r.width(t-(r.outerWidth(true)-r.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(e,t,n,r){var o=i('<div class="mejs-poster mejs-layer"></div>').appendTo(n);t=e.$media.attr("poster");if(e.options.poster!=="")t=e.options.poster;t!==""&&t!=null?this.setPoster(t):o.hide();r.addEventListener("play",function(){o.hide()},false)},setPoster:function(e){var t=this.container.find(".mejs-poster"),n=t.find("img");if(n.length==0)n=i('<img width="100%" height="100%" />').appendTo(t);n.attr("src",e)},buildoverlays:function(e,n,r,o){if(e.isVideo){var s=i('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(r),a=i('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(r),l=i('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(r).click(function(){o.paused?o.play():o.pause()});o.addEventListener("play",function(){l.hide();s.hide();n.find(".mejs-time-buffering").hide();a.hide()},false);o.addEventListener("playing",function(){l.hide();s.hide();n.find(".mejs-time-buffering").hide();a.hide()},false);o.addEventListener("seeking",function(){s.show();n.find(".mejs-time-buffering").show()},false);o.addEventListener("seeked",function(){s.hide();n.find(".mejs-time-buffering").hide()},false);o.addEventListener("pause",function(){t.MediaFeatures.isiPhone||l.show()},false);o.addEventListener("waiting",function(){s.show();n.find(".mejs-time-buffering").show()},false);o.addEventListener("loadeddata",function(){s.show();n.find(".mejs-time-buffering").show()},false);o.addEventListener("canplay",function(){s.hide();n.find(".mejs-time-buffering").hide()},false);o.addEventListener("error",function(){s.hide();n.find(".mejs-time-buffering").hide();a.show();a.find("mejs-overlay-error").html("Error loading this resource")},false)}},buildkeyboard:function(e,t,n,r){i(document).keydown(function(t){if(e.hasFocus&&e.options.enableKeyboard)for(var i=0,n=e.options.keyActions.length;i<n;i++)for(var o=e.options.keyActions[i],s=0,a=o.keys.length;s<a;s++)if(t.keyCode==o.keys[s]){t.preventDefault();o.action(e,r,t.keyCode);return false}return true});i(document).click(function(t){if(i(t.target).closest(".mejs-container").length==0)e.hasFocus=false})},findTracks:function(){var e=this,t=e.$media.find("track");e.tracks=[];t.each(function(t,n){n=i(n);e.tracks.push({srclang:n.attr("srclang").toLowerCase(),src:n.attr("src"),kind:n.attr("kind"),label:n.attr("label")||"",entries:[],isLoaded:false})})},changeSkin:function(e){this.container[0].className="mejs-container "+e;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){if(this.media.pluginType==="flash")this.media.remove();else this.media.pluginType==="native"&&this.$media.prop("controls",true);this.isDynamic||this.$node.insertBefore(this.container);this.container.remove()}};if(typeof e!="undefined")e.fn.mediaelementplayer=function(e){return this.each(function(){new t.MediaElementPlayer(this,e)})};i(document).ready(function(){i(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=t.MediaElementPlayer})(t.$);(function(e){e.extend(t.MepDefaults,{playpauseText:"Play/Pause"});e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,r){var o=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'"></button></div>').appendTo(i).click(function(e){e.preventDefault();r.paused?r.play():r.pause();return false});r.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);r.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},false);r.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false);r.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},false)}})})(t.$);(function(e){e.extend(t.MepDefaults,{stopText:"Stop"});e.extend(MediaElementPlayer.prototype,{buildstop:function(i,n,r,o){e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'"></button></div>').appendTo(n).click(function(){o.paused||o.pause();if(o.currentTime>0){o.setCurrentTime(0);n.find(".mejs-time-current").width("0px");n.find(".mejs-time-handle").css("left","0px");n.find(".mejs-time-float-current").html(t.Utility.secondsToTimeCode(0));n.find(".mejs-currenttime").html(t.Utility.secondsToTimeCode(0));r.find(".mejs-poster").show()}})}})})(t.$);(function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(i,n,r,o){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n);n.find(".mejs-time-buffering").hide();var s=n.find(".mejs-time-total");r=n.find(".mejs-time-loaded");var a=n.find(".mejs-time-current"),l=n.find(".mejs-time-handle"),c=n.find(".mejs-time-float"),u=n.find(".mejs-time-float-current"),d=function(e){e=e.pageX;var i=s.offset(),n=s.outerWidth(),r=0;r=0;var a=e-i.left;if(e>i.left&&e<=n+i.left&&o.duration){r=(e-i.left)/n;r=r<=.02?0:r*o.duration;f&&o.setCurrentTime(r);if(!t.MediaFeatures.hasTouch){c.css("left",a);u.html(t.Utility.secondsToTimeCode(r));c.show()}}},f=false;s.bind("mousedown",function(t){if(t.which===1){f=true;d(t);e(document).bind("mousemove.dur",function(e){d(e)}).bind("mouseup.dur",function(){f=false;c.hide();e(document).unbind(".dur")});return false}}).bind("mouseenter",function(){e(document).bind("mousemove.dur",function(e){d(e)});t.MediaFeatures.hasTouch||c.show()}).bind("mouseleave",function(){if(!f){e(document).unbind(".dur");c.hide()}});o.addEventListener("progress",function(e){i.setProgressRail(e);i.setCurrentRail(e)},false);o.addEventListener("timeupdate",function(e){i.setProgressRail(e);i.setCurrentRail(e)},false);this.loaded=r;this.total=s;this.current=a;this.handle=l},setProgressRail:function(e){var t=e!=undefined?e.target:this.media,i=null;if(t&&t.buffered&&t.buffered.length>0&&t.buffered.end&&t.duration)i=t.buffered.end(0)/t.duration;else if(t&&t.bytesTotal!=undefined&&t.bytesTotal>0&&t.bufferedBytes!=undefined)i=t.bufferedBytes/t.bytesTotal;else if(e&&e.lengthComputable&&e.total!=0)i=e.loaded/e.total;if(i!==null){i=Math.min(1,Math.max(0,i));this.loaded&&this.total&&this.loaded.width(this.total.width()*i)}},setCurrentRail:function(){if(this.media.currentTime!=undefined&&this.media.duration)if(this.total&&this.handle){var e=this.total.width()*this.media.currentTime/this.media.duration,t=e-this.handle.outerWidth(true)/2;this.current.width(e);this.handle.css("left",t)}}})})(t.$);(function(e){e.extend(t.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "});e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,r){e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(i);this.currenttime=this.controls.find(".mejs-currenttime");r.addEventListener("timeupdate",function(){t.updateCurrent()},false)},buildduration:function(i,n,r,o){if(n.children().last().find(".mejs-currenttime").length>0)e(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?t.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(i.options.alwaysShowHours?"00:":"")+(i.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time"));else{n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?t.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(i.options.alwaysShowHours?"00:":"")+(i.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(n)}this.durationD=this.controls.find(".mejs-duration");o.addEventListener("timeupdate",function(){i.updateDuration()},false)},updateCurrent:function(){if(this.currenttime)this.currenttime.html(t.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))},updateDuration:function(){if(this.media.duration&&this.durationD)this.durationD.html(t.Utility.secondsToTimeCode(this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})})(t.$);(function(e){e.extend(t.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:true,audioVolume:"horizontal",videoVolume:"vertical"});e.extend(MediaElementPlayer.prototype,{buildvolume:function(i,n,r,o){if(!(t.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)){var s=this.isVideo?this.options.videoVolume:this.options.audioVolume,a=s=="horizontal"?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+this.id+'" title="'+this.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n),l=this.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),c=this.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),u=this.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=this.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),f=function(e,t){if(!l.is(":visible")&&typeof t!="undefined"){l.show();f(e,true);l.hide()}else{e=Math.max(0,e);e=Math.min(e,1);e==0?a.removeClass("mejs-mute").addClass("mejs-unmute"):a.removeClass("mejs-unmute").addClass("mejs-mute");if(s=="vertical"){var i=c.height(),n=c.position(),r=i-i*e;d.css("top",n.top+r-d.height()/2);u.height(i-r);u.css("top",n.top+r)}else{i=c.width();n=c.position();i=i*e;d.css("left",n.left+i-d.width()/2);u.width(i)}}},h=function(e){var t=null,i=c.offset();if(s=="vertical"){t=c.height();parseInt(c.css("top").replace(/px/,""),10);t=(t-(e.pageY-i.top))/t;if(i.top==0||i.left==0)return}else{t=c.width();t=(e.pageX-i.left)/t}t=Math.max(0,t);t=Math.min(t,1);f(t);t==0?o.setMuted(true):o.setMuted(false);o.setVolume(t)},p=false,m=false;a.hover(function(){l.show();m=true},function(){m=false;!p&&s=="vertical"&&l.hide()});l.bind("mouseover",function(){m=true}).bind("mousedown",function(t){h(t);e(document).bind("mousemove.vol",function(e){h(e)}).bind("mouseup.vol",function(){p=false;e(document).unbind(".vol");!m&&s=="vertical"&&l.hide()});p=true;return false});a.find("button").click(function(){o.setMuted(!o.muted)});o.addEventListener("volumechange",function(){if(!p)if(o.muted){f(0);a.removeClass("mejs-mute").addClass("mejs-unmute")}else{f(o.volume);a.removeClass("mejs-unmute").addClass("mejs-mute")}},false);if(this.container.is(":visible")){f(i.options.startVolume);o.pluginType==="native"&&o.setVolume(i.options.startVolume)}}}})})(t.$);(function(e){e.extend(t.MepDefaults,{usePluginFullScreen:true,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"});e.extend(MediaElementPlayer.prototype,{isFullScreen:false,isNativeFullScreen:false,docStyleOverflow:null,isInIframe:false,buildfullscreen:function(i,n,r,o){if(i.isVideo){i.isInIframe=window.location!=window.parent.location;if(t.MediaFeatures.hasTrueNativeFullScreen){r=null;r=t.MediaFeatures.hasMozNativeFullScreen?e(document):i.container;r.bind(t.MediaFeatures.fullScreenEventName,function(){if(t.MediaFeatures.isFullScreen()){i.isNativeFullScreen=true;i.setControlsSize()}else{i.isNativeFullScreen=false;i.exitFullScreen()}})}var s=this,a=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.fullscreenText+'"></button></div>').appendTo(n);if(s.media.pluginType==="native"||!s.options.usePluginFullScreen&&!t.MediaFeatures.isFirefox)a.click(function(){t.MediaFeatures.hasTrueNativeFullScreen&&t.MediaFeatures.isFullScreen()||i.isFullScreen?i.exitFullScreen():i.enterFullScreen()});else{var l=null;if(function(){var e=document.createElement("x"),t=document.documentElement,i=window.getComputedStyle;if(!("pointerEvents"in e.style))return false;e.style.pointerEvents="auto";e.style.pointerEvents="x";t.appendChild(e);i=i&&i(e,"").pointerEvents==="auto";t.removeChild(e);return!!i}()&&!t.MediaFeatures.isOpera){var c=false,u=function(){if(c){d.hide();f.hide();h.hide();a.css("pointer-events","");s.controls.css("pointer-events","");c=false}},d=e('<div class="mejs-fullscreen-hover" />').appendTo(s.container).mouseover(u),f=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(u),h=e('<div class="mejs-fullscreen-hover"  />').appendTo(s.container).mouseover(u),p=function(){var e={position:"absolute",top:0,left:0};d.css(e);f.css(e);h.css(e);d.width(s.container.width()).height(s.container.height()-s.controls.height());e=a.offset().left-s.container.offset().left;fullScreenBtnWidth=a.outerWidth(true);f.width(e).height(s.controls.height()).css({top:s.container.height()-s.controls.height()});h.width(s.container.width()-e-fullScreenBtnWidth).height(s.controls.height()).css({top:s.container.height()-s.controls.height(),left:e+fullScreenBtnWidth})};e(document).resize(function(){p()});a.mouseover(function(){if(!s.isFullScreen){var e=a.offset(),t=i.container.offset();o.positionFullscreenButton(e.left-t.left,e.top-t.top,false);a.css("pointer-events","none");s.controls.css("pointer-events","none");d.show();h.show();f.show();p();c=true}});o.addEventListener("fullscreenchange",function(){u()})}else a.mouseover(function(){if(l!==null){clearTimeout(l);delete l}var e=a.offset(),t=i.container.offset();o.positionFullscreenButton(e.left-t.left,e.top-t.top,true)}).mouseout(function(){if(l!==null){clearTimeout(l);delete l}l=setTimeout(function(){o.hideFullscreenButton()},1500)})}i.fullscreenBtn=a;e(document).bind("keydown",function(e){if((t.MediaFeatures.hasTrueNativeFullScreen&&t.MediaFeatures.isFullScreen()||s.isFullScreen)&&e.keyCode==27)i.exitFullScreen()})}},enterFullScreen:function(){var i=this;if(!(i.media.pluginType!=="native"&&(t.MediaFeatures.isFirefox||i.options.usePluginFullScreen))){docStyleOverflow=document.documentElement.style.overflow;document.documentElement.style.overflow="hidden";normalHeight=i.container.height();normalWidth=i.container.width();if(i.media.pluginType==="native")if(t.MediaFeatures.hasTrueNativeFullScreen){t.MediaFeatures.requestFullScreen(i.container[0]);i.isInIframe&&setTimeout(function t(){if(i.isNativeFullScreen)e(window).width()!==screen.width?i.exitFullScreen():setTimeout(t,500)},500)}else if(t.MediaFeatures.hasSemiNativeFullScreen){i.media.webkitEnterFullscreen();return}if(i.isInIframe){var n=i.options.newWindowCallback(this);if(n!=="")if(t.MediaFeatures.hasTrueNativeFullScreen)setTimeout(function(){if(!i.isNativeFullScreen){i.pause();window.open(n,i.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no")}},250);else{i.pause();window.open(n,i.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}}i.container.addClass("mejs-container-fullscreen").width("100%").height("100%");setTimeout(function(){i.container.css({width:"100%",height:"100%"});i.setControlsSize()},500);if(i.pluginType==="native")i.$media.width("100%").height("100%");else{i.container.find("object, embed, iframe").width("100%").height("100%");i.media.setVideoSize(e(window).width(),e(window).height())}i.layers.children("div").width("100%").height("100%");i.fullscreenBtn&&i.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");i.setControlsSize();i.isFullScreen=true}},exitFullScreen:function(){if(this.media.pluginType!=="native"&&t.MediaFeatures.isFirefox)this.media.setFullscreen(false);else{if(t.MediaFeatures.hasTrueNativeFullScreen&&(t.MediaFeatures.isFullScreen()||this.isFullScreen))t.MediaFeatures.cancelFullScreen();document.documentElement.style.overflow=docStyleOverflow;this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight);if(this.pluginType==="native")this.$media.width(normalWidth).height(normalHeight);else{this.container.find("object embed").width(normalWidth).height(normalHeight);this.media.setVideoSize(normalWidth,normalHeight)}this.layers.children("div").width(normalWidth).height(normalHeight);this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");this.setControlsSize();this.isFullScreen=false}}})})(t.$);(function(e){e.extend(t.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"});e.extend(MediaElementPlayer.prototype,{hasChapters:false,buildtracks:function(t,i,n,r){if(t.isVideo)if(t.tracks.length!=0){var o;t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide();t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide();t.captionsText=t.captions.find(".mejs-captions-text");t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">None</label></li></ul></div></div>').appendTo(i).hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")t.selectedTrack=null;else for(o=0;o<t.tracks.length;o++)if(t.tracks[o].srclang==lang){t.selectedTrack=t.tracks[o];t.captions.attr("lang",t.selectedTrack.srclang);t.displayCaptions();break}});t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("mouseenter",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){r.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});t.trackToLoad=-1;t.selectedTrack=null;t.isLoadingTrack=false;for(o=0;o<t.tracks.length;o++)t.tracks[o].kind=="subtitles"&&t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label);t.loadNextTrack();r.addEventListener("timeupdate",function(){t.displayCaptions()},false);r.addEventListener("loadedmetadata",function(){t.displayChapters()},false);t.container.hover(function(){if(t.hasChapters){t.chapters.css("visibility","visible");t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight())}},function(){t.hasChapters&&!r.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden");e(this).css("display","block")})});t.node.getAttribute("autoplay")!==null&&t.chapters.css("visibility","hidden")}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else this.isLoadingTrack=false},loadTrack:function(i){var n=this,r=n.tracks[i];e.ajax({url:r.src,dataType:"text",success:function(e){r.entries=typeof e=="string"&&/<tt\s+xml/gi.exec(e)?t.TrackFormatParser.dfxp.parse(e):t.TrackFormatParser.webvvt.parse(e);r.isLoaded=true;n.enableTrackButton(r.srclang,r.label);n.loadNextTrack();r.kind=="chapters"&&n.media.duration>0&&n.drawChapters(r)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(i,n){if(n==="")n=t.language.codes[i]||i;this.captionsButton.find("input[value="+i+"]").prop("disabled",false).siblings("label").html(n);this.options.startLanguage==i&&e("#"+this.id+"_captions_"+i).click();this.adjustLanguageBox()},addTrackButton:function(i,n){if(n==="")n=t.language.codes[i]||i;this.captionsButton.find("ul").append(e('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+i+'" value="'+i+'" disabled="disabled" /><label for="'+this.id+"_captions_"+i+'">'+n+" (loading)</label></li>"));this.adjustLanguageBox();this.container.find(".mejs-captions-translations option[value="+i+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+this.captionsButton.find(".mejs-captions-translations").outerHeight(true))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var e,t=this.selectedTrack;if(t!=null&&t.isLoaded)for(e=0;e<t.entries.times.length;e++)if(this.media.currentTime>=t.entries.times[e].start&&this.media.currentTime<=t.entries.times[e].stop){this.captionsText.html(t.entries.text[e]);this.captions.show().height(0);return}this.captions.hide()}},displayChapters:function(){var e;for(e=0;e<this.tracks.length;e++)if(this.tracks[e].kind=="chapters"&&this.tracks[e].isLoaded){this.drawChapters(this.tracks[e]);this.hasChapters=true;break}},drawChapters:function(i){var n=this,r,o,s=o=0;n.chapters.empty();for(r=0;r<i.entries.times.length;r++){o=i.entries.times[r].stop-i.entries.times[r].start;o=Math.floor(o/n.media.duration*100);if(o+s>100||r==i.entries.times.length-1&&o+s<100)o=100-s;n.chapters.append(e('<div class="mejs-chapter" rel="'+i.entries.times[r].start+'" style="left: '+s.toString()+"%;width: "+o.toString()+'%;"><div class="mejs-chapter-block'+(r==i.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+i.entries.text[r]+'</span><span class="ch-time">'+t.Utility.secondsToTimeCode(i.entries.times[r].start)+"&ndash;"+t.Utility.secondsToTimeCode(i.entries.times[r].stop)+"</span></div></div>"));s+=o}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel")));n.media.paused&&n.media.play()});n.chapters.show()}});t.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};t.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(i){var n=0;i=t.TrackFormatParser.split2(i,/\r?\n/);for(var r={text:[],times:[]},o,s;n<i.length;n++)if(this.pattern_identifier.exec(i[n])){n++;if((o=this.pattern_timecode.exec(i[n]))&&n<i.length){n++;s=i[n];for(n++;i[n]!==""&&n<i.length;){s=s+"\n"+i[n];n++}s=e.trim(s).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>");r.text.push(s);r.times.push({start:t.Utility.convertSMPTEtoSeconds(o[1])==0?.2:t.Utility.convertSMPTEtoSeconds(o[1]),stop:t.Utility.convertSMPTEtoSeconds(o[3]),settings:o[5]})}}return r}},dfxp:{parse:function(i){i=e(i).filter("tt");var n=0;n=i.children("div").eq(0);var r=n.find("p");n=i.find("#"+n.attr("style"));var o,s;i={text:[],times:[]};if(n.length){s=n.removeAttr("id").get(0).attributes;if(s.length){o={};for(n=0;n<s.length;n++)o[s[n].name.split(":")[1]]=s[n].value}}for(n=0;n<r.length;n++){var a;s={start:null,stop:null,style:null};if(r.eq(n).attr("begin"))s.start=t.Utility.convertSMPTEtoSeconds(r.eq(n).attr("begin"));if(!s.start&&r.eq(n-1).attr("end"))s.start=t.Utility.convertSMPTEtoSeconds(r.eq(n-1).attr("end"));if(r.eq(n).attr("end"))s.stop=t.Utility.convertSMPTEtoSeconds(r.eq(n).attr("end"));if(!s.stop&&r.eq(n+1).attr("begin"))s.stop=t.Utility.convertSMPTEtoSeconds(r.eq(n+1).attr("begin"));if(o){a="";for(var l in o)a+=l+":"+o[l]+";"}if(a)s.style=a;if(s.start==0)s.start=.2;i.times.push(s);s=e.trim(r.eq(n).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>");i.text.push(s);if(i.times.start==0)i.times.start=2}return i}},split2:function(e,t){return e.split(t)}};if("x\n\ny".split(/\n/gi).length!=3)t.TrackFormatParser.split2=function(e,t){var i=[],n="",r;for(r=0;r<e.length;r++){n+=e.substring(r,r+1);if(t.test(n)){i.push(n.replace(t,""));n=""}}i.push(n);return i}})(t.$);(function(e){e.extend(t.MepDefaults,{contextMenuItems:[{render:function(e){if(typeof e.enterFullScreen=="undefined")return null;return e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?"Unmute":"Mute"},click:function(e){e.media.muted?e.setMuted(false):e.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(e){window.location.href=e.media.currentSrc}}]});e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide();t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled){e.preventDefault();t.renderContextMenu(e.clientX-1,e.clientY-1);return false}});t.container.bind("click",function(){t.contextMenu.hide()});t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},isContextMenuEnabled:true,enableContextMenu:function(){this.isContextMenuEnabled=true},disableContextMenu:function(){this.isContextMenuEnabled=false},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer();e.contextMenuTimer=setTimeout(function(){e.hideContextMenu();e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;if(e!=null){clearTimeout(e);delete e}},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,r="",o=n.options.contextMenuItems,s=0,a=o.length;s<a;s++)if(o[s].isSeparator)r+='<div class="mejs-contextmenu-separator"></div>';else{var l=o[s].render(n);if(l!=null)r+='<div class="mejs-contextmenu-item" data-itemindex="'+s+'" id="element-'+Math.random()*1e6+'">'+l+"</div>"}n.contextMenu.empty().append(e(r)).css({top:i,left:t}).show();n.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),i=parseInt(t.data("itemindex"),10),r=n.options.contextMenuItems[i];typeof r.show!="undefined"&&r.show(t,n);t.click(function(){typeof r.click!="undefined"&&r.click(n);n.contextMenu.hide()})});setTimeout(function(){n.killControlsTimer("rev3")},100)}})})(t.$)}).call(t,n(1))},,,,,,function(e,t){window.tipsShown=20;window.tooltipCallbacks={};window.showTip=function(e,t,i,n,r,o,s){var a=window.jQuery;if(!n){n=window.tipsShown;window.tipsShown++}var l=typeof t=="string"?a("#"+t):a(t);if(l.length!=1){return}if(r==1){o=o||200}else if(!o){o=400}var c=o+11+11;var u=a(document.body).width();var d=l.offset();var f={height:l.height(),width:l.width()};var h=d.top+f.height+12;var p=d.left+f.width/2-c/2;if(p<20){p=20}else if(p+c>u-20){p=u-20-c}var m=d.left+f.width/2-13-p;a("#tips").prepend("<div id='tip"+n+"' class='tooltip' style='display:none'>"+"<div class='carrot' style='left:"+m+"px'></div>"+"<a class='close'></a>"+"<div class='content' style='width:"+o+"px'>"+e+"</div>"+"</div>");var g=a("#tip"+n).outerHeight();if(h+g>a(window).height()){h=d.top-g-10;a("#tip"+n+" .carrot").remove()}if(s){window.tooltipCallbacks["tip"+n]=s}a("#tip"+n).css({position:"absolute",top:h+"px",left:p+"px"}).on("mouseup",function(e){e.stop()});a("#tip"+n+" a.close").on("click",function(){window.hideTip("tip"+n,1)});if(r==1){a("#tip"+n).show()}else if(r==2){a("#tip"+n).fadeIn()}else{setTimeout(function(){a("#tip"+n).css({position:"absolute",left:p+"px",top:window.getInnerHeight()/2+f.height+"px"});a("#tip"+n).show();a("#tip"+n).animate({top:h+"px"},1e3,"easeOutBounce")},500)}};window.hideTip=function(e,t){var i=window.jQuery;if(!e||!i("#"+e).length){return}var n=window.tooltipCallbacks[e];if(n){delete window.tooltipCallbacks[e]}if(t==1){i("#"+e).hide();i("#tips").remove("#"+e);n&&n()}else{i("#"+e).fadeOut(function(){if(i("#"+e).length&&i("#"+e).parent()==i("#tips")){i("#tips").remove(i("#"+e));n&&n()}})}};window.hideAllTips=function(){var e=window.jQuery;for(var t=0;t<e("#tips").children().length;t++){window.hideTip(e("#tips").children()[t].id)}}},function(e,t,i){(function(t){var n=i(118);var r=i(42);var o=i(31);(function(e){Weebly.SiteSettings={selectMerchantAccount:function(t){Weebly.SiteSettings.saveSettings({"ecommerce-merchant":t});var i=e("#settings-ecommerce-type-"+t);if(i){e(".ecommerce-section").addClass("hidden");i.removeClass("hidden")}},saveCurrency:function(e){Weebly.SiteSettings.saveSettings({"ecommerce-currency":e})},updatePremium:function(t){e("#settings-upload-favicon").show();e("#settings-favicon-upgrade").hide()}}})(t);e.exports=Weebly.SiteSettings}).call(t,i(1))},function(e,t,i){var n=i(1);(function(e){e.fn.weeblyScroll=function(i){var n=Array.prototype.slice.call(arguments);this.each(function(){var r=e(this);var o=r.data("weeblyScroll");if(typeof i=="string"){if(o){o[i].apply(o,n.slice(1))}if(i=="destroy"){r.removeData("weeblyScroll")}}else{if(o){o.destroy();o.init()}else{o=new t(r,i);o.init();r.data("weeblyScroll",o)}}});return this};function t(e,t){this.scroll=e;this.options=t}t.prototype.init=function(){var t=this;t.outer=t.scroll.parent().addClass("w-scroll-outer").append("<div class='w-scrollbar w-scrollbar-v'>"+"<div class='w-scrollbar-inner'>"+"<div class='w-scrollbar-handle'></div>"+"</div>"+"</div>"+"<div class='w-scrollbar w-scrollbar-h'>"+"<div class='w-scrollbar-inner'>"+"<div class='w-scrollbar-handle'></div>"+"</div>"+"</div>"+"<div class='w-scroll-corner'></div>");
t.scroll.addClass("w-scroll").on("scroll.weeblyScroll",t.updateScroll.bind(t));t.content=t.scroll.find("> :first-child").addClass("w-scroll-content");t.hbar=t.outer.find(".w-scrollbar-h");t.hbarInner=t.hbar.find(".w-scrollbar-inner");t.hbarHandle=t.hbar.find(".w-scrollbar-handle");t.vbar=t.outer.find(".w-scrollbar-v");t.vbarInner=t.vbar.find(".w-scrollbar-inner");t.vbarHandle=t.vbar.find(".w-scrollbar-handle");t.corner=t.outer.find(".w-scroll-corner");e.each([t.vbarHandle,t.hbarHandle],function(t,i){e(i).attr("unselectable","on").on("selectstart",false)});t.vbarHandle.on("mousedown.weeblyScroll",t.vbarHandleMousedown.bind(t));t.hbarHandle.on("mousedown.weeblyScroll",t.hbarHandleMousedown.bind(t));t.update();setTimeout(function(){t.update()},0)};t.prototype.update=function(){var e=this;if(!e.scroll.is(":visible")){return}e.scroll.removeClass("w-has-native-scrollbars");var t=Math.ceil(e.scroll.outerWidth()-e.scroll[0].clientWidth);var i=Math.ceil(e.scroll.outerHeight()-e.scroll[0].clientHeight);if(t||i){e.scroll.addClass("w-has-native-scrollbars")}e.scroll.css({"padding-right":t,"padding-bottom":i,"margin-right":-t,"margin-bottom":-i});e.content.css({"margin-right":-t,"margin-bottom":-i});var n=e.availableWidth=e.outer.width();var r=e.content.outerWidth();var o;var s;if(r>n&&i){o=true;e.hbar.show();e.content.css("padding-bottom",e.hbar.outerHeight())}else{o=false;if(e.hbar){e.hbar.hide()}e.content.css("padding-bottom","")}var a=e.availableHeight=e.outer.height();var l=e.content.outerHeight();var c;var u;if(l>a&&t){c=true;e.vbar.show();e.content.css("padding-right",e.vbar.outerWidth())}else{c=false;if(e.vbar){e.vbar.hide()}e.content.css("padding-right","")}if(o||c){e.scroll.addClass("w-has-scrollbars")}else{e.scroll.removeClass("w-has-scrollbars")}if(o&&c){var d=e.vbarInner.outerWidth();var f=e.hbarInner.outerHeight();e.hbar.css("right",d);e.vbar.css("bottom",f);e.corner.css({width:d,height:f}).show()}else{e.vbar.css("bottom","");e.hbar.css("right","");e.corner.hide()}e.overflowX=o;e.overflowY=c;if(o){e.contentWidth=e.content.outerWidth();e.hbarLength=e.hbarInner.outerWidth()}if(c){e.contentHeight=e.content.outerHeight();e.vbarLength=e.vbarInner.outerHeight()}e.updateScroll()};t.prototype.updateScroll=function(){var e=this;if(e.overflowX){e.hbarHandle.css({left:e.scroll.scrollLeft()/e.contentWidth*e.hbarLength,width:e.availableWidth/e.contentWidth*e.hbarLength})}if(e.overflowY){e.vbarHandle.css({top:e.scroll.scrollTop()/e.contentHeight*e.vbarLength,height:e.availableHeight/e.contentHeight*e.vbarLength})}};t.prototype.vbarHandleMousedown=function(t){var i=this;var n=t.pageY;var r=i.scroll.scrollTop();i.outer.addClass("w-scrolling");e("body").addClass("w-body-scrolling");function o(e){var t=e.pageY-n;var o=t*i.content.outerHeight()/i.vbarInner.outerHeight();i.scroll.scrollTop(r+o)}function s(){i.outer.removeClass("w-scrolling");e("body").removeClass("w-body-scrolling");e(document).off("mousemove",o).off("mouseup",s)}e(document).on("mousemove",o).on("mouseup",s)};t.prototype.hbarHandleMousedown=function(t){var i=this;var n=t.pageX;var r=i.scroll.scrollLeft();i.outer.addClass("w-scrolling");e("body").addClass("w-body-scrolling");function o(e){var t=e.pageX-n;var o=t*i.content.outerWidth()/i.hbarInner.outerWidth();i.scroll.scrollLeft(r+o)}function s(){i.outer.removeClass("w-scrolling");e("body").removeClass("w-body-scrolling");e(document).off("mousemove",o).off("mouseup",s)}e(document).on("mousemove",o).on("mouseup",s)};t.prototype.destroy=function(){var e=this;e.outer.removeClass("w-scroll-outer");e.scroll.off("scroll.weeblyScroll").removeClass("w-scroll").removeClass("w-has-scrollbars").removeClass("w-has-native-scrollbars").css({"padding-right":"","padding-bottom":"","margin-right":"","margin-bottom":""});e.content.removeClass("w-scroll-content").css({"margin-right":"","margin-bottom":""});e.vbarHandle.off("mousedown.weeblyScroll");e.hbarHandle.off("mousedown.weeblyScroll");e.hbar.remove();e.vbar.remove();e.corner.remove();e.hbar=null;e.hbarInner=null;e.hbarHandle=null;e.vbar=null;e.vbarInner=null;e.vbarHandle=null;e.corner=null}})(n)},function(e,t,i){var n=i(1);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var r,o,s,a,l;this.type=t;this.$element=e(i);this.options=this.getOptions(n);this.enabled=true;s=this.options.trigger.split(" ");for(l=s.length;l--;){a=s[l];if(a=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(a!="manual"){r=a=="hover"?"mouseenter":"focus";o=a=="hover"?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function(t){var i=e.fn[this.type].defaults,n={},r;this._options&&e.each(this._options,function(e,t){if(i[e]!=t)n[e]=t},this);r=e(t.currentTarget)[this.type](n).data(this.type);if(!r.options.delay||!r.options.delay.show)return r.show();clearTimeout(this.timeout);r.hoverState="in";this.timeout=setTimeout(function(){if(r.hoverState=="in")r.show()},r.options.delay.show)},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out";this.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)},show:function(){var t,i,n,r,o,s,a=e.Event("tooltipshow");if(this.hasContent()&&this.enabled){this.$element.trigger(a);if(a.isDefaultPrevented())return;t=this.tip();this.setContent();if(this.options.animation){t.addClass("fade")}o=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;t.detach().css({top:0,left:0,display:"block"});this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);i=this.getPosition();n=t[0].offsetWidth;r=t[0].offsetHeight;switch(o){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-r,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-r/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-r/2,left:i.left+i.width};break}this.applyPlacement(s,o);this.$element.trigger("shown")}},applyPlacement:function(e,t){var i=this.tip(),n=i[0].offsetWidth,r=i[0].offsetHeight,o,s,a,l;i.offset(e).addClass(t).addClass("in");o=i[0].offsetWidth;s=i[0].offsetHeight;if(t=="top"&&s!=r){e.top=e.top+r-s;l=true}if(t=="bottom"||t=="top"){a=0;if(e.left<0){a=e.left*-2;e.left=0;i.offset(e);o=i[0].offsetWidth;s=i[0].offsetHeight}this.replaceArrow(a-n+o,o,"left")}else{this.replaceArrow(s-r,s,"top")}if(l)i.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){var t=this,i=this.tip(),n=e.Event("tooltiphide");this.$element.trigger(n);if(n.isDefaultPrevented())return;i.removeClass("in");function r(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t);i.detach()})}e.support.transition&&this.$tip.hasClass("fade")?r():i.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,i=this.options;e=t.attr("data-original-title")||(typeof i.title=="function"?i.title.call(t[0]):i.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),r=n.data("tooltip"),o=typeof i=="object"&&i;if(!r)n.data("tooltip",r=new t(this,o));if(typeof i=="string")r[i]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};e.fn.tooltip.noConflict=function(){e.fn.tooltip=i;return this}}(n);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](i);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,i=this.options;e=(typeof i.content=="function"?i.content.call(t[0]):i.content)||t.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),r=n.data("popover"),o=typeof i=="object"&&i;if(!r)n.data("popover",r=new t(this,o));if(typeof i=="string")r[i]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.fn.popover.noConflict=function(){e.fn.popover=i;return this}}(n)},function(e,t,i){var n,r;var o=i(67);!(n=[i(5),i(67)],r=function(e){e.Commerce=e.Commerce||{};e.Commerce.Editor=e.Commerce.Editor||{};e.Commerce.Site=e.Commerce.Site||{};if(window.initCommerceModels){window.initCommerceModels()}if(window.initEditorRPC){window.initEditorRPC()}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(){(function(){var o=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++){if(t in this&&this[t]===e)return t}return-1},s=[].slice;(function(o,s){if(true){return!(n=[i(1)],r=function(e){return s(e,o)}.apply(t,n),r!==undefined&&(e.exports=r))}else{return s(o.jQuery,o)}})(this,function(e,t){var i,n,r,a,l,c,u,d,f,h,p,m,g,v,w,b;i=e(t);d=o.call(t,"ontouchstart")>=0;a={horizontal:{},vertical:{}};l=1;u={};c="waypoints-context-id";p="resize.waypoints";m="scroll.waypoints";g=1;v="waypoints-waypoint-ids";w="waypoint";b="waypoints";n=function(){function i(i){var n=this;this.$element=i;this.element=i[0];this.didResize=false;this.didScroll=false;this.id="context"+l++;this.oldScroll={x:i.scrollLeft(),y:i.scrollTop()};this.waypoints={horizontal:{},vertical:{}};i.data(c,this.id);u[this.id]=this;i.bind(m,function(){var i;if(!(n.didScroll||d)){n.didScroll=true;i=function(){n.doScroll();return n.didScroll=false};return t.setTimeout(i,e[b].settings.scrollThrottle)}});i.bind(p,function(){var i;if(!n.didResize){n.didResize=true;i=function(){e[b]("refresh");return n.didResize=false};return t.setTimeout(i,e[b].settings.resizeThrottle)}})}i.prototype.doScroll=function(){var t,i=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(d&&(!t.vertical.oldScroll||!t.vertical.newScroll)){e[b]("refresh")}e.each(t,function(t,n){var r,o,s;s=[];o=n.newScroll>n.oldScroll;r=o?n.forward:n.backward;e.each(i.waypoints[t],function(e,t){var i,r;if(n.oldScroll<(i=t.offset)&&i<=n.newScroll){return s.push(t)}else if(n.newScroll<(r=t.offset)&&r<=n.oldScroll){return s.push(t)}});s.sort(function(e,t){return e.offset-t.offset});if(!o){s.reverse()}return e.each(s,function(e,t){if(t.options.continuous||e===s.length-1){return t.trigger([r])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};i.prototype.refresh=function(){var t,i,n,r=this;n=e.isWindow(this.element);i=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:n?0:i.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:i.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?e[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return e.each(t,function(t,i){return e.each(r.waypoints[t],function(t,n){var r,o,s,a,l;r=n.options.offset;s=n.offset;o=e.isWindow(n.element)?0:n.$element.offset()[i.offsetProp];if(e.isFunction(r)){r=r.apply(n.element)}else if(typeof r==="string"){r=parseFloat(r);if(n.options.offset.indexOf("%")>-1){r=Math.ceil(i.contextDimension*r/100)}}n.offset=o-i.contextOffset+i.contextScroll-r;if(n.options.onlyOnScroll&&s!=null||!n.enabled){return}if(s!==null&&(s<(a=i.oldScroll)&&a<=n.offset)){return n.trigger([i.backward])}else if(s!==null&&(s>(l=i.oldScroll)&&l>=n.offset)){return n.trigger([i.forward])}else if(s===null&&i.oldScroll>=n.offset){return n.trigger([i.forward])}})})};i.prototype.checkEmpty=function(){if(e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,m].join(" "));return delete u[this.id]}};return i}();r=function(){function t(t,i,n){var r,o;n=e.extend({},e.fn[w].defaults,n);if(n.offset==="bottom-in-view"){n.offset=function(){var t;t=e[b]("viewportHeight");if(!e.isWindow(i.element)){t=i.$element.height()}return t-e(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=n.horizontal?"horizontal":"vertical";this.callback=n.handler;this.context=i;this.enabled=n.enabled;this.id="waypoints"+g++;this.offset=null;this.options=n;i.waypoints[this.axis][this.id]=this;a[this.axis][this.id]=this;r=(o=t.data(v))!=null?o:[];r.push(this.id);t.data(v,r)}t.prototype.trigger=function(e){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,e)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete a[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var i,n;n=e(t).data(v);if(!n){return[]}i=e.extend({},a.horizontal,a.vertical);return e.map(n,function(e){return i[e]})};return t}();h={init:function(t,i){var o;if(i==null){i={}}if((o=i.handler)==null){i.handler=t}this.each(function(){var t,o,s,a;t=e(this);s=(a=i.context)!=null?a:e.fn[w].defaults.context;if(!e.isWindow(s)){s=t.closest(s)}s=e(s);o=u[s.data(c)];if(!o){o=new n(s)}return new r(t,o,i)});e[b]("refresh");return this},disable:function(){return h._invoke(this,"disable")},enable:function(){return h._invoke(this,"enable")},destroy:function(){return h._invoke(this,"destroy")},prev:function(e,t){return h._traverse.call(this,e,t,function(e,t,i){if(t>0){return e.push(i[t-1])}})},next:function(e,t){return h._traverse.call(this,e,t,function(e,t,i){if(t<i.length-1){return e.push(i[t+1])}})},_traverse:function(i,n,r){var o,s;if(i==null){i="vertical"}if(n==null){n=t}s=f.aggregate(n);o=[];this.each(function(){var t;t=e.inArray(this,s[i]);return r(o,t,s[i])});return this.pushStack(o)},_invoke:function(t,i){t.each(function(){var t;t=r.getWaypointsByElement(this);return e.each(t,function(e,t){t[i]();return true})});return this}};e.fn[w]=function(){var t,i;i=arguments[0],t=2<=arguments.length?s.call(arguments,1):[];if(h[i]){return h[i].apply(this,t)}else if(e.isFunction(i)){return h.init.apply(this,arguments)}else if(e.isPlainObject(i)){return h.init.apply(this,[null,i])}else if(!i){return e.error("jQuery Waypoints needs a callback function or handler option.")}else{return e.error("The "+i+" method does not exist in jQuery Waypoints.")}};e.fn[w].defaults={context:t,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};f={refresh:function(){return e.each(u,function(e,t){return t.refresh()})},viewportHeight:function(){var e;return(e=t.innerHeight)!=null?e:i.height()},aggregate:function(t){var i,n,r;i=a;if(t){i=(r=u[e(t).data(c)])!=null?r.waypoints:void 0}if(!i){return[]}n={horizontal:[],vertical:[]};e.each(n,function(t,r){e.each(i[t],function(e,t){return r.push(t)});r.sort(function(e,t){return e.offset-t.offset});n[t]=e.map(r,function(e){return e.element});return n[t]=e.unique(n[t])});return n},above:function(e){if(e==null){e=t}return f._filter(e,"vertical",function(e,t){return t.offset<=e.oldScroll.y})},below:function(e){if(e==null){e=t}return f._filter(e,"vertical",function(e,t){return t.offset>e.oldScroll.y})},left:function(e){if(e==null){e=t}return f._filter(e,"horizontal",function(e,t){return t.offset<=e.oldScroll.x})},right:function(e){if(e==null){e=t}return f._filter(e,"horizontal",function(e,t){return t.offset>e.oldScroll.x})},enable:function(){return f._invoke("enable")},disable:function(){return f._invoke("disable")},destroy:function(){return f._invoke("destroy")},extendFn:function(e,t){return h[e]=t},_invoke:function(t){var i;i=e.extend({},a.vertical,a.horizontal);return e.each(i,function(e,i){i[t]();return true})},_filter:function(t,i,n){var r,o;r=u[e(t).data(c)];if(!r){return[]}o=[];e.each(r.waypoints[i],function(e,t){if(n(r,t)){return o.push(t)}});o.sort(function(e,t){return e.offset-t.offset});return e.map(o,function(e){return e.element})}};e[b]=function(){var e,t;t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[];if(f[t]){return f[t].apply(null,e)}else{return f.aggregate.call(null,t)}};e[b].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return e[b]("refresh")})})}).call(this)}).call(window)},function(e,t){e.exports='<div id="commerce_editor_{{type}}_editchoices" class="button-popover w-ui {{#uiFramework}}orbit-legacy{{/uiFramework}}">\n\t{{#uiFramework}}\n\t\t{{#buttons}}\n\t\t\t<button id="{{id}}" class="btn btn--cta-primary">{{text}}</button>\n\t\t{{/buttons}}\n\t{{/uiFramework}}\n\t{{^uiFramework}}\n\t\t<div class="button-popover-left"></div>\n\t\t<div class="button-popover-content">\n\t\t\t{{#buttons}}\n\t\t\t\t<a id="{{id}}" href="javascript:;" class="btn btn-primary" role="button">{{text}}</a>\n\t\t\t{{/buttons}}\n\t\t</div>\n\t\t<div class="button-popover-right"></div>\n\t{{/uiFramework}}\n</div>\n'},,function(e,t){e.exports='<div class="w-element-controls">\n{{#isMovableElement}}\n\t<div class="w-move-outer">\n\t\t<div class="w-move"></div>\n\t</div>\n{{/isMovableElement}}\n\t<div class="w-handle-outer">\n\t\t<div class="w-handle"></div>\n\t</div>\n\t<div class="w-delete-outer">\n\t\t<div class="w-delete" title="Delete"></div>\n\t</div>\n{{#requiresUpgrade}}\n\t<div class="w-upgrade-outer">\n\t\t<div class="w-upgrade" title="Upgrade"></div>\n\t</div>\n{{/requiresUpgrade}}\n</div>'},function(e,t){e.exports='<div class="{{class_prefix}}-image-container wsite-imageaspectratio-image-container">\n\t<div class="{{class_prefix}}-image-height wsite-imageaspectratio-image-height">\n\t</div>\n\t<div class="{{class_prefix}}-image-wrap wsite-imageaspectratio-image-wrap">\n\t\t<img class="{{class_prefix}}-image wsite-imageaspectratio-image" src="{{image_source}}" style="width:{{image_percent_width}}%;top:{{image_percent_top}}%;left:{{image_percent_left}}%">\n\t</div>\n\t{{#show_sale_banner}}\n\t\t<div class="category__image-sale-banner-wrapper">\n\t\t\t<p class="category__image-sale-banner placeholder">\n\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t</p>\n\t\t</div>\n\t\t<p class="category__image-sale-banner visible">\n\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t</p>\n\t{{/show_sale_banner}}\n</div>\n'},function(e,t){e.exports='<div id="empty-message-standard" class="empty-element-message">\n\t<div class="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.empty_1{{/tl}}\n\t</div>\n</div>\n'},function(e,t){e.exports='<div id="empty-message" class="{{^has_sections}}layout-chooser{{/has_sections}} empty-element-message" data-content-area="{{content_area}}" data-layout-section-id="{{layout_section_id}}">\n\t{{^has_sections}}\n\t\t<div class="w-ui">\n\t\t\t<button class="choose-a-layout btn-flat btn-flat-outline btn-flat-light">\n\t\t\t\t{{#tl}}templates.sections.empty-messages.layouts_1{{/tl}}\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="or-separator">\n\t\t\t{{#tl}}templates.sections.empty-messages.layouts_2{{/tl}}\n\t\t</div>\n\t\t<div id="empty-message-inner">\n\t\t\t{{#tl}}templates.sections.empty-messages.layouts_3{{/tl}}\n\t\t</div>\n\t{{/has_sections}}\n\t{{#has_sections}}\n\t\t<span style="display: none;">\n\t\t\t<div id="empty-message-inner">\n\t\t\t\t{{#tl}}templates.sections.empty-messages.layouts_3{{/tl}}\n\t\t\t</div>\n\t\t</span>\n\t{{/has_sections}}\n</div>\n'},function(e,t,i){var n,r;!(n=[i(1),i(40),i(76),i(69)],r=function(e,t,i,n){var r=t.extend(e.extend({},i.Mixin,{className:"popover",arrowClassName:"popover__arrow",arrowGap:-10,arrowSize:7,closeOnClickAway:true,closeOnEsc:true,constructor:function(i){t.call(this,i);var n=this.queryOption("el");if(n){e(n).css("display","block").detach()}},render:function(){t.prototype.render.apply(this,arguments);var i=this.queryOption("content");if(i){this.$el.empty().append(e('<div class="popover__content">'+i+"</div>"))}},toggle:function(e){if(this.$el.closest("body").length){this.close()}else{this.setElement(this.queryOption("el"));this.open(e)}}}));function o(t){var i=e(t);var o=n.getElDataAttributes(t,"data-popover-");var s=i.data("popover");if(typeof s!=="object"){var a;var l;if(o.content){a=e('<div class="popover"><div class="popover__content">'+o.content+"</div></div>");l=i.parent()}else{a=o.selector?e(o.selector):i.closest(".popover-container").find(".popover");l=a.parent()}s=new r({parent:l,el:a,pointAt:i});i.data("popover",s)}s.toggle(o)}function s(e){e.preventDefault();o(this)}function a(){e(document).off("click.popover","[data-popover]").on("click.popover","[data-popover]",s)}r.initialize=a;r.initPopover=o;return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){(function(e){(function(e){var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var i=t.length;i;){e.event.fixHooks[t[--i]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=t.length;e;){this.addEventListener(t[--e],n,false)}}else{this.onmousewheel=n}},teardown:function(){if(this.removeEventListener){for(var e=t.length;e;){this.removeEventListener(t[--e],n,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function n(t){var i=t||window.event,n=[].slice.call(arguments,1),r=0,o=true,s=0,a=0;t=e.event.fix(i);t.type="mousewheel";if(i.wheelDelta){r=i.wheelDelta/120}if(i.detail){r=-i.detail/3}a=r;if(i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS){a=0;s=-1*r}if(i.wheelDeltaY!==undefined){a=i.wheelDeltaY/120}if(i.wheelDeltaX!==undefined){s=-1*i.wheelDeltaX/120}n.unshift(t,r,s,a);return(e.event.dispatch||e.event.handle).apply(this,n)}})(e)}).call(t,i(1))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(5),__webpack_require__(1),__webpack_require__(409)],__WEBPACK_AMD_DEFINE_RESULT__=function(_W,$){_W.evalJSON=function(json){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.test(json)){json=json.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}try{return eval("("+json+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+json)};$.fn.up=function(e){return this.eq(0).parent().closest(e||"*")};$.fn.down=function(e){if(!e){return this.eq(0).children(":first")}return this.eq(0).find(e||"*").eq(0)};var idCounter=1;$.fn.identify=function(){var e=this.attr("id");if(!e&&this.length){do{e="anonymous_element_"+idCounter++}while($("#"+e).length);this.attr("id",e)}return e};$.fn.placeholder=function(){if(!("placeholder"in document.createElement("input"))){var e,t;this.each(function(i,n){t=n.getAttribute("placeholder");if(t&&n.nodeName.toLowerCase()==="input"){e=$(n).on({focus:function(e){if(n.value===t){$(n).removeClass("wsite-placeholder");n.value=""}},blur:function(e){if(!n.value.length){n.value=t;n.className+=" wsite-placeholder"}}});n.className+=" wsite-placeholder";n.value=t}})}};$.extend({isValidSelector:function(e){try{var t=$(e)}catch(e){return false}return true}});if(!document.observe){document.observe=function(e,t){if(e=="dom:loaded"){$(document).ready(t)}}}return $}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t){window["PR_SHOULD_USE_CONTINUATION"]=true;(function(){var e=["break,continue,do,else,for,if,return,while"];var t=[e,"auto,case,char,const,default,"+"double,enum,extern,float,goto,int,long,register,short,signed,sizeof,"+"static,struct,switch,typedef,union,unsigned,void,volatile"];var i=[t,"catch,class,delete,false,import,"+"new,operator,private,protected,public,this,throw,true,try,typeof"];var n=[i,"alignof,align_union,asm,axiom,bool,"+"concept,concept_map,const_cast,constexpr,decltype,"+"dynamic_cast,explicit,export,friend,inline,late_check,"+"mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,"+"template,typeid,typename,using,virtual,where"];var r=[i,"abstract,boolean,byte,extends,final,finally,implements,import,"+"instanceof,null,native,package,strictfp,super,synchronized,throws,"+"transient"];var o=[r,"as,base,by,checked,decimal,delegate,descending,dynamic,event,"+"fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,"+"object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,"+"stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"];var s="all,and,by,catch,class,else,extends,false,finally,"+"for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,"+"true,try,unless,until,when,while,yes";var a=[i,"debugger,eval,export,function,get,null,set,undefined,var,with,"+"Infinity,NaN"];var l="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,"+"goto,if,import,last,local,my,next,no,our,print,package,redo,require,"+"sub,undef,unless,until,use,wantarray,while,BEGIN,END";var c=[e,"and,as,assert,class,def,del,"+"elif,except,exec,finally,from,global,import,in,is,lambda,"+"nonlocal,not,or,pass,print,raise,try,with,yield,"+"False,True,None"];var u=[e,"alias,and,begin,case,class,"+"def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,"+"rescue,retry,self,super,then,true,undef,unless,until,when,yield,"+"BEGIN,END"];var d=[e,"case,done,elif,esac,eval,fi,"+"function,in,local,set,then,until"];var f=[n,o,a,l+c,u,d];var h=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/;var p="str";var m="kwd";var g="com";var v="typ";var w="lit";var b="pun";var y="pln";var _="tag";var E="dec";var T="src";var C="atn";var S="atv";var I="nocode";var O="(?:^^\\.?|[+-]|\\!|\\!=|\\!==|\\#|\\%|\\%=|&|&&|&&=|&=|\\(|\\*|\\*=|\\+=|\\,|\\-=|\\->|\\/|\\/=|:|::|\\;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\@|\\[|\\^|\\^=|\\^\\^|\\^\\^=|\\{|\\||\\|=|\\|\\||\\|\\|=|\\~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*";function k(e){var t=0;var i=false;var n=false;for(var r=0,o=e.length;r<o;++r){var s=e[r];if(s.ignoreCase){n=true}else if(/[a-z]/i.test(s.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){i=true;n=false;break}}var a={b:8,t:9,n:10,v:11,f:12,r:13};function l(e){var t=e.charCodeAt(0);if(t!==92){return t}var i=e.charAt(1);t=a[i];if(t){return t}else if("0"<=i&&i<="7"){return parseInt(e.substring(1),8)}else if(i==="u"||i==="x"){return parseInt(e.substring(2),16)}else{return e.charCodeAt(1)}}function c(e){if(e<32){return(e<16?"\\x0":"\\x")+e.toString(16)}var t=String.fromCharCode(e);if(t==="\\"||t==="-"||t==="["||t==="]"){t="\\"+t}return t}function u(e){var t=e.substring(1,e.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}"+"|\\\\x[0-9A-Fa-f]{2}"+"|\\\\[0-3][0-7]{0,2}"+"|\\\\[0-7]{1,2}"+"|\\\\[\\s\\S]"+"|-"+"|[^-\\\\]","g"));var i=[];var n=[];var r=t[0]==="^";for(var o=r?1:0,s=t.length;o<s;++o){var a=t[o];if(/\\[bdsw]/i.test(a)){i.push(a)}else{var u=l(a);var d;if(o+2<s&&"-"===t[o+1]){d=l(t[o+2]);o+=2}else{d=u}n.push([u,d]);if(!(d<65||u>122)){if(!(d<65||u>90)){n.push([Math.max(65,u)|32,Math.min(d,90)|32])}if(!(d<97||u>122)){n.push([Math.max(97,u)&~32,Math.min(d,122)&~32])}}}}n.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]});var f=[];var h=[NaN,NaN];for(var o=0;o<n.length;++o){var p=n[o];if(p[0]<=h[1]+1){h[1]=Math.max(h[1],p[1])}else{f.push(h=p)}}var m=["["];if(r){m.push("^")}m.push.apply(m,i);for(var o=0;o<f.length;++o){var p=f[o];m.push(c(p[0]));if(p[1]>p[0]){if(p[1]+1>p[0]){m.push("-")}m.push(c(p[1]))}}m.push("]");return m.join("")}function d(e){var n=e.source.match(new RegExp("(?:"+"\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]"+"|\\\\u[A-Fa-f0-9]{4}"+"|\\\\x[A-Fa-f0-9]{2}"+"|\\\\[0-9]+"+"|\\\\[^ux0-9]"+"|\\(\\?[:!=]"+"|[\\(\\)\\^]"+"|[^\\x5B\\x5C\\(\\)\\^]+"+")","g"));var r=n.length;var o=[];for(var s=0,a=0;s<r;++s){var l=n[s];if(l==="("){++a}else if("\\"===l.charAt(0)){var c=+l.substring(1);if(c&&c<=a){o[c]=-1}}}for(var s=1;s<o.length;++s){if(-1===o[s]){o[s]=++t}}for(var s=0,a=0;s<r;++s){var l=n[s];if(l==="("){++a;if(o[a]===undefined){n[s]="(?:"}}else if("\\"===l.charAt(0)){var c=+l.substring(1);if(c&&c<=a){n[s]="\\"+o[a]}}}for(var s=0,a=0;s<r;++s){if("^"===n[s]&&"^"!==n[s+1]){n[s]=""}}if(e.ignoreCase&&i){for(var s=0;s<r;++s){var l=n[s];var d=l.charAt(0);if(l.length>=2&&d==="["){n[s]=u(l)}else if(d!=="\\"){n[s]=l.replace(/[a-zA-Z]/g,function(e){var t=e.charCodeAt(0);return"["+String.fromCharCode(t&~32,t|32)+"]"})}}}return n.join("")}var f=[];for(var r=0,o=e.length;r<o;++r){var s=e[r];if(s.global||s.multiline){throw new Error(""+s)}f.push("(?:"+d(s)+")")}return new RegExp(f.join("|"),n?"gi":"g")}function x(e){var t=/(?:^|\s)nocode(?:\s|$)/;var i=[];var n=0;var r=[];var o=0;var s;if(e.currentStyle){s=e.currentStyle.whiteSpace}else if(window.getComputedStyle){s=document.defaultView.getComputedStyle(e,null).getPropertyValue("white-space")}var a=s&&"pre"===s.substring(0,3);function l(e){switch(e.nodeType){case 1:if(t.test(e.className)){return}for(var s=e.firstChild;s;s=s.nextSibling){l(s)}var c=e.nodeName;if("BR"===c||"LI"===c){i[o]="\n";r[o<<1]=n++;r[o++<<1|1]=e}break;case 3:case 4:var u=e.nodeValue;if(u.length){if(!a){u=u.replace(/[ \t\r\n]+/g," ")}else{u=u.replace(/\r\n?/g,"\n")}i[o]=u;r[o<<1]=n;n+=u.length;r[o++<<1|1]=e}break}}l(e);return{sourceCode:i.join("").replace(/\n$/,""),spans:r}}function D(e,t,i,n){if(!t){return}var r={sourceCode:t,basePos:e
};i(r);n.push.apply(n,r.decorations)}var R=/\S/;function P(e){var t=undefined;for(var i=e.firstChild;i;i=i.nextSibling){var n=i.nodeType;t=n===1?t?e:i:n===3?R.test(i.nodeValue)?e:t:t}return t===e?undefined:t}function A(e,t){var i={};var n;(function(){var r=e.concat(t);var o=[];var s={};for(var a=0,l=r.length;a<l;++a){var c=r[a];var u=c[3];if(u){for(var d=u.length;--d>=0;){i[u.charAt(d)]=c}}var f=c[1];var h=""+f;if(!s.hasOwnProperty(h)){o.push(f);s[h]=null}}o.push(/[\0-\uffff]/);n=k(o)})();var r=t.length;var o=function(e){var s=e.sourceCode,a=e.basePos;var l=[a,y];var c=0;var u=s.match(n)||[];var d={};for(var f=0,h=u.length;f<h;++f){var p=u[f];var m=d[p];var g=void 0;var v;if(typeof m==="string"){v=false}else{var w=i[p.charAt(0)];if(w){g=p.match(w[1]);m=w[0]}else{for(var b=0;b<r;++b){w=t[b];g=p.match(w[1]);if(g){m=w[0];break}}if(!g){m=y}}v=m.length>=5&&"lang-"===m.substring(0,5);if(v&&!(g&&typeof g[1]==="string")){v=false;m=T}if(!v){d[p]=m}}var _=c;c+=p.length;if(!v){l.push(a+_,m)}else{var E=g[1];var C=p.indexOf(E);var S=C+E.length;if(g[2]){S=p.length-g[2].length;C=S-E.length}var I=m.substring(5);D(a+_,p.substring(0,C),o,l);D(a+_+C,E,H(I,E),l);D(a+_+S,p.substring(S),o,l)}}e.decorations=l};return o}function N(e){var t=[],i=[];if(e["tripleQuotedStrings"]){t.push([p,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""])}else if(e["multiLineStrings"]){t.push([p,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"])}else{t.push([p,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"])}if(e["verbatimStrings"]){i.push([p,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null])}var n=e["hashComments"];if(n){if(e["cStyleComments"]){if(n>1){t.push([g,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"])}else{t.push([g,/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"])}i.push([p,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])}else{t.push([g,/^#[^\r\n]*/,null,"#"])}}if(e["cStyleComments"]){i.push([g,/^\/\/[^\r\n]*/,null]);i.push([g,/^\/\*[\s\S]*?(?:\*\/|$)/,null])}if(e["regexLiterals"]){var r="/(?=[^/*])"+"(?:[^/\\x5B\\x5C]"+"|\\x5C[\\s\\S]"+"|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+"+"/";i.push(["lang-regex",new RegExp("^"+O+"("+r+")")])}var o=e["types"];if(o){i.push([v,o])}var s=(""+e["keywords"]).replace(/^ | $/g,"");if(s.length){i.push([m,new RegExp("^(?:"+s.replace(/[\s,]+/g,"|")+")\\b"),null])}t.push([y,/^\s+/,null," \r\n\t "]);i.push([w,/^@[a-z_$][a-z_$@0-9]*/i,null],[v,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[y,/^[a-z_$][a-z_$@0-9]*/i,null],[w,new RegExp("^(?:"+"0x[a-f0-9]+"+"|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)"+"(?:e[+\\-]?\\d+)?"+")"+"[a-z]*","i"),null,"0123456789"],[y,/^\\[\s\S]?/,null],[b,/^.[^\s\w\.$@\'\"\`\/\#\\]*/,null]);return A(t,i)}var M=N({keywords:f,hashComments:true,cStyleComments:true,multiLineStrings:true,regexLiterals:true});function L(e,t){var i=/(?:^|\s)nocode(?:\s|$)/;var n=/\r\n?|\n/;var r=e.ownerDocument;var o;if(e.currentStyle){o=e.currentStyle.whiteSpace}else if(window.getComputedStyle){o=r.defaultView.getComputedStyle(e,null).getPropertyValue("white-space")}var s=o&&"pre"===o.substring(0,3);var a=r.createElement("LI");while(e.firstChild){a.appendChild(e.firstChild)}var l=[a];function c(e){switch(e.nodeType){case 1:if(i.test(e.className)){break}if("BR"===e.nodeName){u(e);if(e.parentNode){e.parentNode.removeChild(e)}}else{for(var t=e.firstChild;t;t=t.nextSibling){c(t)}}break;case 3:case 4:if(s){var o=e.nodeValue;var a=o.match(n);if(a){var l=o.substring(0,a.index);e.nodeValue=l;var d=o.substring(a.index+a[0].length);if(d){var f=e.parentNode;f.insertBefore(r.createTextNode(d),e.nextSibling)}u(e);if(!l){e.parentNode.removeChild(e)}}}break}}function u(e){while(!e.nextSibling){e=e.parentNode;if(!e){return}}function t(e,i){var n=i?e.cloneNode(false):e;var r=e.parentNode;if(r){var o=t(r,1);var s=e.nextSibling;o.appendChild(n);for(var a=s;a;a=s){s=a.nextSibling;o.appendChild(a)}}return n}var i=t(e.nextSibling,0);for(var n;(n=i.parentNode)&&n.nodeType===1;){i=n}l.push(i)}for(var d=0;d<l.length;++d){c(l[d])}if(t===(t|0)){l[0].setAttribute("value",t)}var f=r.createElement("OL");f.className="linenums";var h=Math.max(0,t-1|0)||0;for(var d=0,p=l.length;d<p;++d){a=l[d];a.className="L"+(d+h)%10;if(!a.firstChild){a.appendChild(r.createTextNode(" "))}f.appendChild(a)}e.appendChild(f)}function B(e){var t=/\bMSIE\b/.test(navigator.userAgent);var i=/\n/g;var n=e.sourceCode;var r=n.length;var o=0;var s=e.spans;var a=s.length;var l=0;var c=e.decorations;var u=c.length;var d=0;c[u]=r;var f,h;for(h=f=0;h<u;){if(c[h]!==c[h+2]){c[f++]=c[h++];c[f++]=c[h++]}else{h+=2}}u=f;for(h=f=0;h<u;){var p=c[h];var m=c[h+1];var g=h+2;while(g+2<=u&&c[g+1]===m){g+=2}c[f++]=p;c[f++]=m;h=g}u=c.length=f;var v=null;while(l<a){var w=s[l];var b=s[l+2]||r;var y=c[d];var _=c[d+2]||r;var g=Math.min(b,_);var E=s[l+1];var T;if(E.nodeType!==1&&(T=n.substring(o,g))){if(t){T=T.replace(i,"\r")}E.nodeValue=T;var C=E.ownerDocument;var S=C.createElement("SPAN");S.className=c[d+1];var I=E.parentNode;I.replaceChild(S,E);S.appendChild(E);if(o<b){s[l+1]=E=C.createTextNode(n.substring(g,b));I.insertBefore(E,S.nextSibling)}}o=g;if(o>=b){l+=2}if(o>=_){d+=2}}}var K={};function F(e,t){for(var i=t.length;--i>=0;){var n=t[i];if(!K.hasOwnProperty(n)){K[n]=e}else if(window["console"]){console["warn"]("cannot override language handler %s",n)}}}function H(e,t){if(!(e&&K.hasOwnProperty(e))){e=/^\s*</.test(t)?"default-markup":"default-code"}return K[e]}F(M,["default-code"]);F(A([],[[y,/^[^<?]+/],[E,/^<!\w[^>]*(?:>|$)/],[g,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[b,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);F(A([[y,/^[\s]+/,null," \t\r\n"],[S,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[_,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[C,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[b,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]);F(A([],[[S,/^[\s\S]+/]]),["uq.val"]);F(N({keywords:n,hashComments:true,cStyleComments:true,types:h}),["c","cc","cpp","cxx","cyc","m"]);F(N({keywords:"null,true,false"}),["json"]);F(N({keywords:o,hashComments:true,cStyleComments:true,verbatimStrings:true,types:h}),["cs"]);F(N({keywords:r,cStyleComments:true}),["java"]);F(N({keywords:d,hashComments:true,multiLineStrings:true}),["bsh","csh","sh"]);F(N({keywords:c,hashComments:true,multiLineStrings:true,tripleQuotedStrings:true}),["cv","py"]);F(N({keywords:l,hashComments:true,multiLineStrings:true,regexLiterals:true}),["perl","pl","pm"]);F(N({keywords:u,hashComments:true,multiLineStrings:true,regexLiterals:true}),["rb"]);F(N({keywords:a,cStyleComments:true,regexLiterals:true}),["js"]);F(N({keywords:s,hashComments:3,cStyleComments:true,multilineStrings:true,tripleQuotedStrings:true,regexLiterals:true}),["coffee"]);F(A([],[[p,/^[\s\S]+/]]),["regex"]);function W(e){var t=e.langExtension;try{var i=x(e.sourceNode);var n=i.sourceCode;e.sourceCode=n;e.spans=i.spans;e.basePos=0;H(t,n)(e);B(e)}catch(e){if("console"in window){console["log"](e&&e["stack"]?e["stack"]:e)}}}function j(e,t,i){var n=document.createElement("PRE");n.innerHTML=e;if(i){L(n,i)}var r={langExtension:t,numberLines:i,sourceNode:n};W(r);return n.innerHTML}function $(e){function t(e){return document.getElementsByTagName(e)}var i=[t("pre"),t("code"),t("xmp")];var n=[];for(var r=0;r<i.length;++r){for(var o=0,s=i[r].length;o<s;++o){n.push(i[r][o])}}i=null;var a=Date;if(!a["now"]){a={now:function(){return+new Date}}}var l=0;var c;var u=/\blang(?:uage)?-([\w.]+)(?!\S)/;var d=/\bprettyprint\b/;function f(){var t=window["PR_SHOULD_USE_CONTINUATION"]?a["now"]()+250:Infinity;for(;l<n.length&&a["now"]()<t;l++){var i=n[l];var r=i.className;if(r.indexOf("prettyprint")>=0){var o=r.match(u);var s;if(!o&&(s=P(i))&&"CODE"===s.tagName){o=s.className.match(u)}if(o){o=o[1]}var d=false;for(var h=i.parentNode;h;h=h.parentNode){if((h.tagName==="pre"||h.tagName==="code"||h.tagName==="xmp")&&h.className&&h.className.indexOf("prettyprint")>=0){d=true;break}}var p=i.className.match("processed")?true:false;if(!d&&!p){var m=i.className.match(/\blinenums\b(?::(\d+))?/);m=m?m[1]&&m[1].length?+m[1]:true:false;var g=i.innerHTML.match(/<\s?br\s?/i)||i.innerHTML.match("\n");if(m&&g){L(i,m)}else{i.removeClassName("linenums")}c={langExtension:o,sourceNode:i,numberLines:m};W(c);i.className+=" processed";i.style.paddingLeft="10px"}}}if(l<n.length){setTimeout(f,250)}else if(e){e()}}f()}function z(e){var t=[],i=/^\s*$/;function n(e){if(e.nodeType==3){t.push(e)}else{if(e.tagName.match("LI")){t.push(document.createElement("BR"))}else if(e.tagName.match("SPAN")&&e.className.match("rangySelectionBoundary")){t.push(e)}for(var i=0,r=e.childNodes.length;i<r;++i){n(e.childNodes[i])}}}n(e);var r="",o="",s=false,a;for(var l=0;l<t.length;l++){var c=t[l];if(c.tagName&&c.tagName.match("BR")&&l>0){if(s){o+="\n"}else{r+="\n"}}else if(c.tagName&&c.tagName.match(/SPAN/i)){a=c;s=true}else if(c.nodeType){if(s){o+=c.textContent}else{r+=c.textContent}}else{if(s){o+=c}else{r+=c}}}var u=document.createTextNode(r);var d=document.createTextNode(o);e.innerText="";e.appendChild(u);e.appendChild(a);e.appendChild(d);e.removeClassName("processed");e.style.padding="10px";if(e.className.match("linenums")){e.style.paddingLeft="50px"}}window["unPrettifyOne"]=z;window["prettyPrintOne"]=j;window["prettyPrint"]=$;window["PR"]={createSimpleLexer:A,registerLangHandler:F,sourceDecorator:N,PR_ATTRIB_NAME:C,PR_ATTRIB_VALUE:S,PR_COMMENT:g,PR_DECLARATION:E,PR_KEYWORD:m,PR_LITERAL:w,PR_NOCODE:I,PR_PLAIN:y,PR_PUNCTUATION:b,PR_SOURCE:T,PR_STRING:p,PR_TAG:_,PR_TYPE:v}})()},function(e,t,i){var n,r;!(n=[],r=function(){function e(t){this.ok=false;if(t.charAt(0)=="#"){t=t.substr(1,6)}t=t.replace(/ /g,"");t=t.toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in i){if(t==n){t=i[n]}}var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];for(var o=0;o<r.length;o++){var s=r[o].re;var a=r[o].process;var l=s.exec(t);if(l){channels=a(l);this.r=channels[0];this.g=channels[1];this.b=channels[2];this.ok=true}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var e=this.r.toString(16);var t=this.g.toString(16);var i=this.b.toString(16);if(e.length==1)e="0"+e;if(t.length==1)t="0"+t;if(i.length==1)i="0"+i;return"#"+e+t+i};this.getHelpXML=function(){var t=new Array;for(var n=0;n<r.length;n++){var o=r[n].example;for(var s=0;s<o.length;s++){t[t.length]=o[s]}}for(var a in i){t[t.length]=a}var l=document.createElement("ul");l.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++){try{var c=document.createElement("li");var u=new e(t[n]);var d=document.createElement("div");d.style.cssText="margin: 3px; "+"border: 1px solid black; "+"background:"+u.toHex()+"; "+"color:"+u.toHex();d.appendChild(document.createTextNode("test"));var f=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());c.appendChild(d);c.appendChild(f);l.appendChild(c)}catch(e){}}return l}}return e}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t=function(t){var i,n=[],r=0,o={parameters:{},method:"POST",action:"",abort:function(){},error:function(){},load:function(){},loadstart:function(){},progress:function(e){if(e.lengthComputable){return parseInt(e.loaded/e.total*100)}}};t=t||{};t=s(t);function s(t){return e.extend(e.clone(o),t)}function a(i){var n=new FormData;e.chain(t.parameters).clone().each(function(e,t,i){if(typeof e==="function"){i[t]=e()}}).extend(i).each(function(e,t){n.append(t,e)});return n}function l(e){i=new XMLHttpRequest;i.upload.addEventListener("progress",t.progress,false);i.addEventListener("abort",t.abort,false);i.addEventListener("error",t.error,false);i.addEventListener("load",function(e){r--;u();t.load(e)},false);i.addEventListener("loadstart",t.loadstart,false);i.open(t.method,t.action);i.onreadystatechange=function(){if(i.readyState==4){if(i.status==200&&typeof t.success==="function"){t.success(i)}else if(i.status==403&&typeof t.error==="function"){t.error(i)}}};i.send(e)}function c(e){var t;if(Object.prototype.toString.call(e)!=="[object Array]"){t=a(e);n.push(t)}else{for(var i=0;i<e.length;i++){t=a(e[i]);n.push(t)}}u()}function u(){if(n.length>0&&r===0){r++;l(n.shift())}}return{setParameters:function(e){s(e);return this},send:function(e){c(e);return this},abort:function(){i.abort()}}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2)],r=function(e,t){var i={buildUrl:function(e,t){return this.buildUnifiedCheckoutUrl(e.unifiedCheckoutBase,t)},buildUnifiedCheckoutUrl:function(e,t){var i=e+"/auth/access/editor?";t.restriction_id=t.restrictionID;if(!t.site_id){t.site_id=t.siteID}if(t.type==="domain"&&t.refer==="siteHome_domains"){t.site_id=0}if(t.type==="g-suite"){i=e+"/g-suite/"+t.action+"?"}i+=this.buildPurchasePageQuery(t);if(t.type==="domain"){i+="&redirect="+encodeURIComponent("/domain/"+t.domain)}if(t.type==="update"){i=e+"/services/"+t.userServiceID+"/payment-method/update"}if(t.type==="manage"){i=e+"/services/"+t.userServiceID+"/manage"}return i},buildPurchasePageQuery:function(i){i=t.extend({s:document.location.host},i);var n=e.param(i);if(i.extraArgs){n+="&"+i.extraArgs}return n},buildSecureUrl:function(e){var t="/weebly/apps/purchasePage.php?";return t+this.buildPurchasePageQuery(e)}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r;!(n=[i(5),i(9),i(340)],r=function(e,t,i){var n=t.Collection.extend({model:i,sync:function(t,i,n){if(t==="read"){e.Commerce.RPC.Checkout.getCart().done(function(e){i.reset(e.data.order.items)})}},subtotal:function(){var e=this.models,t=0;for(var i=0;i<e.length;i++){t+=e[i].get("total_price")}return t}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(4)],r=function(e,t,i){var n=i.RelationalModel.extend(t.extend({sync:function(e,t,i){}},e.Commerce.BackboneModelData.OrderItem));return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(157)],r=function(e,t,i){if(!e.Commerce)return;if(!e.Commerce.Site.Mobile)e.Commerce.Site.Mobile={};if(!e.Commerce.Site.Mobile.Category)e.Commerce.Site.Mobile.Category={};if(!e.Commerce.Site.Mobile.Category.View)e.Commerce.Site.Mobile.Category.View={};var n=e.Commerce.Site.Mobile.Category.View;e.Commerce.Site.Mobile.Category.initialize=function(){n.Hierarchy.initialize();n.Pager.initialize()};n.Hierarchy={initialize:function(){var e=t("#wsite-com-hierarchy-dropdown");e.on("change",n.Hierarchy.handleDropdownChange);i.resizeScreen()},handleDropdownChange:function(e){window.location.pathname=t(this).val();return false}};n.Pager={categoryId:0,totalPages:1,currentPage:1,initialize:function(){var e=t("#wsite-com-pagination");n.Pager.categoryId=parseInt(e.attr("data-com-category"));n.Pager.totalPages=parseInt(e.attr("data-com-total"));n.Pager.currentPage=parseInt(e.attr("data-com-current"));var i=e.find(".wsite-com-pagination-left, .wsite-com-pagination-right");i.on("click",n.Pager.handleClick)},handleClick:function(i){var r=t(this);var o=n.Pager.currentPage;if(r.is(".wsite-com-pagination-left")){o--}else{o++}if(o>=n.Pager.totalPages-1){o=n.Pager.totalPages-1}if(o<=0){o=0}if(o==n.Pager.currentPage){return}n.Pager.currentPage=o;var s=t("#wsite-com-pagination .wsite-com-pagination-left");var a=t("#wsite-com-pagination .wsite-com-pagination-right");s.toggleClass("wsite-disabled",n.Pager.currentPage<=0);a.toggleClass("wsite-disabled",n.Pager.currentPage>=n.Pager.totalPages-1);var l=t("#wsite-com-pagination .wsite-com-current");l.html(n.Pager.currentPage+1);var c;if(e.Commerce&&e.Commerce.Editor){c=e.Commerce.RPC.Category.generateMobileProductList(window.com_userID,window.com_currentSite,n.Pager.categoryId,n.Pager.currentPage)}else{c=e.Commerce.RPC.Category.generateMobileProductList(n.Pager.categoryId,n.Pager.currentPage)}c.done(function(i){var n=t("#product-list");n.height(n.outerHeight());n.empty();n.height("auto");n.html(i.content);e.mobile_navigation.resizeScreen()})}};t(document).ready(e.Commerce.Site.Mobile.Category.initialize)}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(257),i(468)],r=function(e,t,i,n){var r=function(){};r.prototype=Object.create(i);r.prototype=t.extend(r.prototype,{el:"#wsite-content",selectors:{variationData:"#wsite-product-variations",productElementContainer:".wsite-product, .product",productPageContainer:".wsite-product-selector",siteProductIdElement:"#wsite-product-area",productTitle:"#wsite-product-title"},ui:{"custom-inputs":".wsite-product-options .text-option-input",options:".wsite-product-options","option-groups":".wsite-product-options >","price-area":"#wsite-price-line","price-amount":"#wsite-product-price .wsite-price","price-sale-amount":"#wsite-product-sale-price .wsite-price","price-range-amount":"#wsite-product-price-range .wsite-price",quantity:"#wsite-quantity","add-to-cart":"#wsite-com-product-add-to-cart"},options:{salePriceClass:"wsite-product-sale-price",nonSalePriceClass:"wsite-product-price",soldOutPriceClass:"wsite-product-sold-out",priceRangeClass:"wsite-product-price-range",unavailablePriceClass:"wsite-product-no-item"},initialize:function(){i.initialize.apply(this,arguments);if(this.$el.length){n.initialize();var e=this;this.$el.find(".wsite-buy-button").on("click",function(t){e.buy(t,e.ui["custom-inputs"])})}},placeOptionPopover:"bottom",buy:function(){i.buy.apply(this,arguments).done(function(e){if(!e.success){return}var t=e.data.has_ssl_cert;var i=e.data.token;var n=e.data.host;if(t&&n.indexOf("weebly")==-1){window.location.href=n}else{window.location.href=n+"?view=mobile&cart="+i}})},updateImage:function(e){var t=e.image_order&&e.image_order[0];var i=n.indexMap[t];if(i!==undefined){n.$slider.swipeTo(i)}},update:function(){var e=i.update.apply(this,arguments);var t=e?e.inventory:0;t=t===undefined||t>20?20:t;var n="";for(var r=1;r<=t;r++){n+="<option>"+r+"</option>"}if(n===""){n="<option>0</option>"}this.ui.quantity.html(n)}});e(document).ready(function(){if(window.inEditor&&window.inEditor()){return}(new r).initialize()});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(160)],r=function(e,t,i,n){var r=window,o=i.RelationalModel,s=o.prototype;var a=i.RelationalModel.extend({_class:this.className,baseCollection:n,baseModelDefaults:{},unbatchRelatedModels:[],pageDirtyCheck:function(){return true},fetch:function(e){e=t.defaults(e||{},{limit:1,single:true,view:"detail"});return s.fetch.call(this,e)},parse:function(e){return e&&e.data?e.data:e},sync:function(e,t){var i=e+":"+this.useServerGeneratedDefaultsFor.toLowerCase();a.vent.trigger(i,t);if(e!="read"&&this.pageDirtyCheck()&&this.syncEventAggregator)this.syncEventAggregator.isPageDirty=true;var n=arguments,r=t.useServerGeneratedDefaultsFor.toLowerCase(),o=s.sync.apply(this,arguments);if(this.syncEventAggregator){this.syncEventAggregator.vent.trigger(r+":"+e,o,n)}return o},clone:function(){var e=s.clone.apply(this,arguments);e.set("updated_date",null);e.set("created_date",null);return e},cloneDeep:function(){return this.clone()},cloneDeepCollection:function(e,t,i){var n=[];this.get(e).each(function(e){n.push(e.cloneDeep())});if(!i)i=this.baseCollection;t.set(e,new i(n))},fetchChildRelation:function(e){var t=this;var i=this.getRelation(e);var n=this.get(e);var r=i.options.foreignKey;var o=this.get(c);var s=[];var a,l=r.length;for(a=0;a<l;a++){var c=r[a];s.push({property:c,value:t.get(c)})}n.fetchOptions.filter=s;return n.fetch()},getRelated:function(i,n,r,o,s){var a=this,l=a.get(i),c=r.prototype.model,u=new r;var d=function(e){var t={};t[n]=e;return c.findOrCreate(t)};if(o){u.comparator=function(e){return t.indexOf(a.get(o),e.get(n))};u.listenTo(a,"change:"+o,function(){u.sort()})}var f=true;a.on("change:"+i,function(e,n){if(f)return;f=true;var r=n||[],o=a.previous(i)||[],s=t.difference(r,o),l=t.difference(o,r);t.each(s,function(e){u.add(d(e))});t.each(l,function(e){u.remove(d(e))});f=false});a.listenTo(u,"add remove destroy reset",function(){if(f)return;f=true;a.set(i,u.pluck(n));f=false});t.each(l,function(e){u.add(d(e))});var h=e.Deferred();if(t.contains(a.unbatchRelatedModels,c.prototype._class)){h.resolve(u);f=false}else{var p=50;s=s||"detail";var m=function(r){if(r>u.length){f=false;var o=a.get(i);var l=u.pluck(n);if(t.difference(o,l).length||t.difference(l,o).length){a.set(i,l)}h.resolve(u)}else{var c=u.slice(r,r+p);var d=t.map(c,function(e){return e.fetch({view:s}).done(function(t){if(!t.success){u.remove(e)}})});e.when.apply(e,d).done(function(){h.notify((r+d.length)/u.length);m(r+p)})}};m(0)}return h.promise()}},{vent:t.extend({},i.Events),findOrCreate:function(e,i){e=t.defaults(e||{},t.pick(this.prototype.defaults,this.prototype.userKey,this.prototype.siteKey||null));return o.findOrCreate.call(this,e,i)},getID:function(e){var i=this.prototype,n=i.idAttribute,r=i.useServerGeneratedDefaultsFor.toLowerCase();if(!t.isObject(e)){return e}else if(e._class){return e.get(n)}else if(e[n]){return e[n]}else if(e[r]){return e[r].get(n)}return false}});a.setSyncEventAggregator=function(e){a.prototype.syncEventAggregator=e};a.extendBase=function(e){return i.RelationalModel.extend.call(this,e)};a.extend=function(n,r,o,s){var a=o?o[n.useServerGeneratedDefaultsFor]:{};var l=a&&a.rpc?{rpc:a.rpc}:{};var c=i.RelationalModel.extend.call(this,e.extend(true,l,n,a),r);if(n.validation){e.extend(true,c.prototype.validation,n.validation)}var u=this.prototype.baseModelDefaults;if(s&&this.prototype.syncEventAggregator&&this.prototype.syncEventAggregator[s]!==undefined){u[s]=this.prototype.syncEventAggregator[s]}c.prototype.defaults=c.prototype.defaults||{};t.extend(c.prototype.defaults,u);if(c.prototype.validation){t.each(c.prototype.validation,function(e,i){if(!e||!e.requiredIf)return;var n=e.requiredIf;delete e.requiredIf;var r=e.required;e.required=function(){return r||t.result(this,n)}})}return c};return a}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t=function(t){return e.pick(t,this.constructor.fields)};t.fields=["readyState","responseText","status","statusText"];return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(12),i(3),i(157),i(103),i(92),i(19),i(31),i(29),i(7)],r=function(e,t,i,n,r,o,s,a,l,c){var u='<div class="wsite-footer-separator"></div>'+'<div class="wsite-footer-version">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_15")+' <span class="wsite-footer-version-text">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_16")+' <span class="wsite-footer-vertical">|</span> <a class="wsite-version-web" href="#">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_17")+"</a></span>"+"</div>";var d=window.Class.create(r,{listElID:"weebly-footer-list",afterRender:function($super){$super();var i=this,r;var s=l.isMobileView;var a;function f(){a.close()}if(!t.chromeless){a=i.spotlight=new o({area:{name:this.name},container:i.el,uid:"footer",zIndex:10,paddingHeight:s?10:15,paddingWidth:s?0:15,elementsPage:"footer",onOpen:function(){c.commands.setHandler("editor:spotlight:footer:close",f);if(!a.isRefresh){i.showPageLayoutPicker()}i.removeAddFooterMessage();d.isEditing=true;r=e('<span class="btn btn-large btn-primary save-button">'+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_13")+"</span>");a.getControlsInner().addClass("footer-controls").append(r.on("click",function(){a.close()}));i.ensureWithinScroll();i.toggleEmptyMessage();if(l.isMobileView){n.resizeScreen()}},onClose:function(){c.commands.removeHandler("editor:spotlight:footer:close");c.execute("analytics:track:event",{object_category:"legacy_element",action:"save",object_instance:"footer",property:"self"});d.isEditing=false;a.getControlsInner().empty();i.removeEmptyMessage();i.attachAddFooterMessage();if(l.isMobileView){n.resizeScreen()}}});a.cover.attr("title",_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_6"))}var h=e(i.el);if(s&&h.parent(".wsite-mobile-footer").length==0){e(i.el).parent().addClass("wsite-mobile-footer");e(i.el).after(u)}i.attachAddFooterMessage()},afterAddElement:function(){this.removeEmptyMessage()},attachAddFooterMessage:function(){var n=this;var r;if(!e(n.el).find("li.inside:not(.wsite-multicol-li)").length){if(!t.chromeless){r=i.compile("<span class='weebly-empty-footer-message {{className}}'>"+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_7")+"</span>")}else{r=i.compile("<span class='weebly-empty-footer-message {{className}}'>"+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_8")+"</span>")}e(n.el).append(r({className:"empty-element-message"}))}},removeAddFooterMessage:function(){var t=this;e(t.el).find(".weebly-empty-footer-message").remove()},toggleEmptyMessage:function(){var t=this,i=e("#"+t.elID),n=this.name;var r;if(!t.elements.length){if(l.isMobileView){r='<div id="empty-message-footer-layouts" class="empty-element-message">'+'<div class="w-ui">'+"<button class=\"choose-a-layout btn-flat btn-flat-outline btn-flat-light\" onclick=\"require('editor-site-shared/relay').execute('pageLayouts:gallery:show', '"+n+"', null);\">"+_W.utl("javascript.editor-site-shared.build.areas.AdvancedFooterArea_14")+"</button>"+"</div>"+'<div class="or-separator">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_10")+"</div>"+'<div id="empty-message-inner">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_11")+"</div>"+"</div>"}else{r='<div id="empty-message-footer" class="empty-element-message">'+_W.utl("html.weebly.libraries.classes.areas.AdvancedFooterArea_12")+"</div>"}i.prepend(r).addClass("empty-footer")}else{t.removeEmptyMessage()}},showPageLayoutPicker:function(){var e=this,t=this.name,i=false;if(e.elements.length==2&&e.elements[0].columns&&e.elements[0].columns[0][0].eid=="27280689"&&e.elements[0].columns[1][0].eid=="27280689"&&e.elements[1].eid=="6942243"){i=true}else if(e.elements.length==0){i=true}if(i&&!_W.view.isMobileView){c.execute("pageLayouts:gallery:show",t,null)}},removeElement:function($super,e){var t=this.context.deleteElement(e);this.spliceElement(t.id);this.removeEmptyColumns();if(this.elements.length==0){this.attachAddFooterMessage()}},removeEmptyMessage:function(){var t=this,i=e("#"+t.elID);i.removeClass("empty-footer").find("#empty-message-footer").remove();i.find("#empty-message-footer-layouts").remove();i.find(".empty-element-message").remove()},unrender:function($super){var e=this;$super();if(e.spotlight){e.spotlight.destroy();delete e.spotlight}},reposition:function($super){$super();if(this.spotlight){this.spotlight.resize()}},ensureWithinScroll:function(){var t=this;var i=e(t.el);var n=e(window);var r=i.offset().top+i.outerHeight()+30;var o=n.outerHeight();if(r>o){n.scrollTop(r-o)}}});c.reqres.setHandlers({"editor:footer:hasElement":function(){return e(".weebly-footer-list").find("li").length!=0}});Weebly.AdvancedFooterArea=d;s.register(function(e){return(e.type=="content"&&e.name=="footer"||e.type=="footer")&&window.ENABLE_ADVANCED_FOOTER&&a.hasAccess("edit_footer")},d);return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(5),i(507),i(19),i(36),i(482),i(103),i(483),i(485),i(263),i(487),i(492),i(496),i(497),i(494),i(346),i(491),i(495),i(486),i(489),i(484),i(488),i(490)],r=function(e,t,i,n){function r(r){var a=this;var l=[];t.call(a);a.getAreas=c;a.getArea=u;a.getAreaForElement=d;a.beforeRender=f;a.getAreaHTML=h;a.afterRender=p;a.reposition=m;a.unrender=g;a.renderAreas=v;a.hasRendered=false;if(r.currentApp){this.currentApp=r.currentApp}$H(r).each(function(e){if(e.key=="areas"){e.value.each(function(e){var t=i.load(e,a);if(t){l.push(t)}})}else{a[e.key]=e.value}});function c(){return l}function u(e,t){return s(l,e,t)}function d(e){var t;l.some(function(i){if(i.el===e){t=i;return true}else if(i.sections){var n=i.sections.findWhere({el:e});if(n){t=n.get("elementArea");
return true}}});return t}function f(){l.each(function(e){e.beforeRender()})}function h(t,r,s){var c=u(t,r);if(!c&&t=="title"){c=new e.TitleArea({type:t,name:r});l.push(c)}if(c){c.attrs=s;return c.getHTML()}else{var d=i.getNewElID();n.fetchNeededArea(!this.pageID,t,r,function(e){var t=i.load(e,a);if(t){l.push(t);t.attrs=s;t.elID=d;t.el=t.getHTML();o(d).replace(t.el)}});return"<span id='"+d+"'></span>"}}function p(){l.each(function(e){var t=o(e.elID);if(t){e.el=t;e.afterRender()}});a.hasRendered=true}function m(){l.each(function(e){if(e.el){e.reposition()}});hashEach(this.elementsByID,function(e,t){if(t.li){t.reposition()}})}function g(){l.each(function(e){if(e.el){e.unrender()}});hashEach(this.elementsByID,function(e,t){if(t.li){t.unrender()}})}function v(e){l.each(function(t){var i=s(e,t.type,t.name);if(i){var n=i.el;if(n&&n.parentNode){t.attrs=i.attrs;t.replaceArea(n);t.afterRender()}}})}}function s(e,t,i){i=i||"";for(var n=0;n<e.length;n++){if(e[n].type==t&&e[n].name==i){return e[n]}}}e.AreaContext=r;return r}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(702),i(701),i(696),i(697),i(698),i(700),i(699),i(326),i(15),i(6),i(12),i(7),i(66),i(462),i(71),i(499),i(164),i(61),i(109),i(125)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E){var T={view:_W.stl("javascript.cart.viewDetails"),buy:_W.stl("javascript.cart.buyNow"),cart:_W.stl("javascript.cart.addToCart"),notAvailable:_W.stl("templates.platform.theme.core.shared.commerce.add-to-cart_3")};var C={tpl_commerce_product_legacy_grid:o,tpl_commerce_product_legacy_large:s,tpl_commerce_product_legacy_long:a,tpl_commerce_product_legacy_small:l};var S=window.Class.create(d,{"<!PRODUCT!>":function(){return""},afterRender:function($super,e,t){$super(e,t);var i=this;var n=this.getContentField();var r=n.getProperty("<!PRODUCTID!>").property_result||false;var o=n.getProperty("<!PRODUCTSKUID!>").property_result||false;if(h.chromeless&&(!r||!o)){return}else if(!h.chromeless&&(!r||!o)){p.request("commerce:productSelectView:show").done(function(e){i.saveProductAssociation(e.site_product_id,e.site_product_sku_id);i.renderProduct(e.site_product_id,e.site_product_sku_id)}).fail(function(){b.deleteWeeblyElement(i.li,true)})}else{this.renderProduct(r,o)}},renderProduct:function(e,i){var n=this;var r;if(h.chromeless){r=m.find({site_product_id:e})}else{r=m.findOrCreate({site_product_id:e})}var o=this.getContentField();var s;function a(a,l){var c=E.storefrontSettings;var u=c.get("store_mode")=="buynow";var d=c.getRatioAsPercent("product_image_ratio");s=c.get("element_legacy_mode");a.marginTop=o.getProperty("<!MARGINTOP!>").property_result;a.marginBottom=o.getProperty("<!MARGINBOTTOM!>").property_result;a.showPrice=o.getProperty("<!SHOWPRICE!>").property_result=="1";a.showImage=o.getProperty("<!SHOWIMAGE!>").property_result=="1";a.showDescription=o.getProperty("<!SHOWDESCRIPTION!>").property_result=="1";a.productId=e;a.productSkuId=i;a.inEditor=true;a.staticDomain=window.editorStatic;a.imageWidth=o.getProperty("<!IMAGEWIDTH!>").property_result;a.imageLinkAttrs="href='#' onclick='return false'";if(l){a.imageHtml=r.thumbnail(320,p);a.imageUrl=r.getImageUrl(320,p);a.title=r.get("name");a.descriptionHtml=r.get("short_description");a.currencyPrefix=c.get("currency_prefix");a.currencySuffix=c.get("currency_suffix");var f=r.get("skus").filter(function(e){return e.get("site_product_sku_id")==i}).first();var p=f.get("image_order")?f.get("image_order")[0]:undefined;a.price=typeof f.get("price")=="number"&&f.get("price").toFixed(2);a.salePrice=typeof f.get("sale_price")=="number"&&f.get("sale_price").toFixed(2);var m=r.isGiftCardProduct()&&!r.get("published");a.disabled=m}if(l||h.chromeless){var g=o.getProperty("<!BUTTONTYPE!>").property_result;if(g!="view"){if(m){g="notAvailable";a.isNotAvailableButton=true}else if(u){g="buy";a.isBuyNowButton=true}else{g="cart";a.isAddToCartButton=true}}else{a.isViewButton=true}a.buttonType=g;a.buttonText=T[g];a.buttonUrl="javascript:;"}a.buttonClass=["wsite-button","wsite-product-button","wsite-button-"+o.getProperty("<!BUTTONSIZE!>").property_result,g=="view"?"wsite-button-normal":"wsite-button-highlight"].join(" ");if(s){var w=o.getProperty("<!LEGACYALIGN!>").property_result;if(w=="right"){a.alignCss="margin-left: auto !important"}else if(w=="center"){a.alignCss="margin-left: auto !important; margin-right: auto !important"}if(l&&g!=="view"){f.get("optionchoices").each(function(e){if(e.get("option_type")==="text"){a.isViewButton=true;a.isAddToCartButton=false;a.isBuyNowButton=false}})}}else if(l&&g!="view"&&f.get("optionchoices").size()){var b=f.get("optionchoices");a.hasVariants=true;a.variantOptions=[];b.each(function(e){var t={name:e.get("name"),choice:v.filterOptionText(e.get("choice"))};if(e.get("option_type")=="text"){t.text=true;t.safe_option_name=t.name.replace(/[\W]/g,"_")}a.variantOptions.push(t)})}if(h.chromeless){var y=a.product_sku_id?a.product_sku_id:a.productSkuId;var _={};t.each(a.product_skus,function(e){if(e.product_sku_id===y){_=e;return false}});var C=E.storefrontSettings.getRatioAsNumber("product_image_ratio");a.imageHtml=n.getProductImageHtml(a,_,C,d);if(typeof a.variantOptions==="undefined"){if(typeof a.variant_options==="undefined"){a.variantOptions=null}else{a.variantOptions=a.variant_options}}if(a.variantOptions!==null){a.hasVariants=true}}if(a.name){a.title=a.name}if(a.short_description){a.descriptionHtml=a.short_description}}if(h.chromeless){var l=this.product_data;a(l);this.renderProductHTML(l,s);if(!h.chromeless){delete this.product_data}}else{r.fetch().done(function(e){if(!e.success){return}var i=!t.isEmpty(n.product_data)?n.product_data:{};a(i,true);n.renderProductHTML(i,s)})}},renderProductHTML:function(t,o){var s=this.getContentField();var a=e(this.li).find(".element");var l;var u;if(o){var d=s.getProperty("<!LEGACYDISPLAY!>").property_result;l=i.compile(C["tpl_commerce_product_legacy_"+d]);u=i.compile(c)}else{l=i.compile(n);u=i.compile(r)}t.priceHtml=u({currencyPrefix:t.currencyPrefix,currencySuffix:t.currencySuffix,price:t.price,salePrice:t.salePrice});a.html(l(t));if(!o&&Weebly.Permissions.store_edit){y.makeElementContentEditable(a.find(".wsite-product-title").get(0),{richTextControls:false,saveCallback:function(){w.saveProductChanges("title",t.productId,a.find(".wsite-product-title"),{entryPoint:"commerceProductTitleEdit"})}});if(s.getProperty("<!SHOWDESCRIPTION!>").property_result=="1"){y.makeElementContentEditable(a.find(".wsite-product-description").get(0),{saveCallback:function(){w.saveProductChanges("description",t.productId,a.find(".wsite-product-description"),{entryPoint:"commerceProductDescriptionEdit"})}})}}this.initImageResizing()},initImageResizing:function(){var t=this;var i=e(t.li).find(".wsite-product-image, .product-image");var n=i.parent();var r=i.is(".product-image");if(r&&n.parent().is(".product-block-inner")){return}if(r){n.css({position:"relative",float:"left"})}n.resizable({aspectRatio:true,handles:"se",minWidth:50,start:function(){_.resizing=true},resize:function(e,t){if(r){i.css("width",Math.round(t.size.width)-(r?10:0))}},stop:function(){_.resizing=false;n.css("height","");var e=n.width()-(r?10:0)+"px";var i=t.getContentField();i.getProperty("<!IMAGEWIDTH!>").property_result=e;i.saveProperties()}})},saveProductAssociation:function(e,t){var i=this.getContentField();i.getProperty("<!PRODUCTID!>").property_result=e;i.getProperty("<!PRODUCTSKUID!>").property_result=t;i.saveProperties()},calculateProductImageAspectRatio:function(e,t){var i=Math.round(100*e.width/e.height)/100;var n={};if(e.width===undefined){n.width=100;n.top=0;n.left=0}else if(i>t){n.width=(i/t*100).toFixed(2);n.top=0;n.left=((1-i/t)*50).toFixed(2)}else{n.width=100;n.top=((1-t/i)*50).toFixed(2);n.left=0}return n},getProductImageHtml:function(e,n,r,o){var s=i.compile(u);var a="";var l="";if(e.product_images&&e.product_images.length!==0){if(e.product_images.length>1&&e.product_skus.length>1){if(t.isArray(n.product_sku_image_id)){l=n.product_sku_image_id[0]}else{l=n.product_sku_image_id}a=this.getProductSkuImage(l,e.product_images)}else{a=e.product_images[0]}}else{a={width:320,height:320,path:"blank-product-w320.png"}}var c=this.calculateProductImageAspectRatio(a,r);var d=s({class_prefix:"wsite-product-image",image_source:a.path,image_percent_width:c.width,image_percent_left:c.left,image_percent_top:c.top});d=d.split('wsite-imageaspectratio-image-height"');d=d[0]+'wsite-imageaspectratio-image-height" style="margin-bottom:'+o+'% !important;"'+d[1];return d},getProductSkuImage:function(e,i){var n=i[0];t.each(i,function(t){if(t.product_image_id===e){n=t;return false}});return n}});S.afterRender=function(){f.vent.trigger("store:setting:applySettingStyles")};p.reqres.setHandlers({"commerce:productSelectView:show":function(){var t=e.Deferred();f.showDialog(new g(t));return t.promise()}});Weebly.CommerceProduct=S;d.register("5699726",S);return S}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(5),i(7),i(598)],r=function(e,t,i,n,r){return e.extend(r,{LOCATION_BLOG_POST:"blog_post",LOCATION_SITE_PUBLISH:"sitePublish",LOCATION:"editor",render:function(e,t){var r=this;if(this.rendered===false){this.rendered=true;this.widgetId=grecaptcha.render("g-recaptcha",{sitekey:this.RECAPTCHA_PUBLIC_KEY,"data-badge":"inline",callback:function(i){r.submitCaptcha(e,i,t)}},true);if(typeof window.ga=="function"){window.ga("send","pageview",{page:"/captcha-required",title:i.utl("html.weebly.libraries.classes.PublishWindow.Website_17")})}if(window.AragornAnalytics){window.AragornAnalytics.track({type:"page-view",location:"website.editor.captcha",version:"legacy"})}else{n.execute("analytics:track:event",{type:"page-view",location:"website.editor.captcha",version:"legacy"})}this.pollChallenge(e)}grecaptcha.execute(this.widgetId)},submitCaptcha:function(e,i,n){t.ajax({type:"POST",url:"/spam/invisible-captcha/verify",data:{g_recaptcha_response:i,location:e,action:"verifyResponse"},success:function(e){analytics.track({type:"page-view",location:"website.editor.captcha_success",version:"legacy"});window.clearInterval(this.iframePoll);n(e.verified)},error:function(e){window.clearInterval(this.iframePoll);n(false)}})}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(6),i(608),i(32)],r=function(e,t,i,n,r){var o={isEditing:false,isConfirming:false,allowSwitch:false,tryPageSwitch:function(e){e=Array.prototype.slice.call(e);var t=e[0];if(this.allowSwitch){return true}if(this.isConfirming){return true}if(t=="goBlogPost"&&r.currentNavPage=="themesMenu"){this.allowSwitch=true;r.go("editMenu");this.allowSwitch=false;return true}if(typeof window.currentBlog=="undefined"||window.currentBlog.postId==0||t=="goBlogPost"||r.pageWindows[t].indexOf("goBlogPost")!=-1){return true}if(window.currentBlog.postId!=1){this.allowSwitch=true;r.go("updateList",currentPage);this.allowSwitch=false;return t!="updateList"}if(window.currentBlog.saving){window.currentBlog.saving=0;return true}this.isConfirming=true;var i=new n({onCancel:function(){this.isConfirming=false}.bind(this),onConfirm:function(){r.go("updateList",currentPage);if(t!="updateList")r.go.apply(r,e);this.isConfirming=false}.bind(this)});return false},updateCurrentBlog:function(){var e=i.request("blog:post:current");if(!e){return}window.currentBlog.title=e.get("post_title");window.currentBlog.date=e.getCreatedDateInSiteTz();window.currentBlog.shares=this.getSharesValue(e)},getSharesValue:function(e){var t=[];if(e!==undefined){e.get("share_buttons").each(function(e){if(e.enabled){t.push(e.type)}})}return Object.toJSON(t)}};o=e.BlogEditor=t.extend({},e.BlogEditor,o);return o}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(5),i(6),i(88),i(239),i(199)],r=function(e,t,i,n,r,o){function s(e){if(e.is_upgradable&&e.show_upgrade_dialog){i.showDialog(new n({title:t.utl("javascript.editor.build.themes.upgrading_1"),message:t.utl("javascript.editor.build.themes.upgrading_2"),confirmText:t.utl("javascript.editor.build.themes.upgrading_3"),cancelText:t.utl("javascript.editor.build.themes.upgrading_4"),callback:function(t){if(!t){d(e)}else{c(e,true)}}}))}}function a(t){if(t.new_theme_id){return c(t)}else{return e.Deferred().reject()}}function l(r){var o=e.Deferred();if(r.old_theme_id){i.showDialog(new n({title:t.utl("javascript.editor.build.themes.upgrading_5"),message:t.utl("javascript.editor.build.themes.upgrading_6"),confirmText:t.utl("javascript.editor.build.themes.upgrading_7"),cancelText:t.utl("javascript.editor.build.themes.upgrading_8"),callback:function(e){if(e){t.themeCache.get(r.old_theme_id,function(e){e.show_upgrade_dialog=false;window.changeTheme(r.old_theme_id,r.current_theme_color)})}o.resolve(e)}}))}else{o.reject()}return o.promise()}function c(i,n){var o=e.Deferred();t.themeCache.get(i.new_theme_id,function(e){new r({themeForOptions:i.theme_id,theme:i.new_theme_id,colors:e.colors,selectedColor:i.current_theme_color,isUpgrade:true,callback:function(e){if(n){if(e){u(i)}else{d(i)}}o.resolve(e)}})});return o.promise()}function u(){o.show("theme-howto-downgrade")}function d(e){t.Editor.RPC.Theme.markThemeUpgradeCancelled(e.theme_id,window.currentSite);t.themeCache.get(e.theme_id,function(e){e.show_upgrade_dialog=false});o.show("theme-howto-upgrade")}return{processThemeData:s,startDelayedUpgrade:a,startDelayedDowngrade:l}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(223)],r=function(e){var t={initialize:function(){if(this.panels.length){e(this,[{events:this.panelEvents,from:this.panels[0],to:this}])}},onPush:function(t,i){this.stopListening(i);e(this,[{events:this.panelEvents,from:t,to:this}])},onPop:function(t,i){this.stopListening(i);e(this,[{events:this.panelEvents,from:t,to:this}])}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r;!(n=[i(4),i(734)],r=function(e,t){var i=e.Marionette.ItemView.extend({template:t,className:"section-layout-upgrade",triggers:{"click .layout-upgrade__btn":"section:upgrade:request"},initialize:function(e){var t=this;t.section=t.options.section;t.listenTo(e.listenTo,{"billing:upgrade:restrictions:refreshed":t.postUpgradeActions})},templateHelpers:function(){var e=this;var t=true;if(e.section){t=!e.section.isCustomized()}var i={show_background:t,no_image:e.options.noImage};switch(e.options.restrictionID){case"63260230":case"67748238":case"82970842":i.header=_W.utl("sections.layouts.apply.upgrade.header.audio");i.content=_W.utl("sections.layouts.apply.upgrade.content.audio");break;case"63419613":i.header=_W.utl("sections.layouts.apply.upgrade.header.hd_video");i.content=_W.utl("sections.layouts.apply.upgrade.content.hd_video");break;case"82023692":i.header=_W.utl("sections.layouts.apply.upgrade.header.file_upload");i.content=_W.utl("sections.layouts.apply.upgrade.content.file_upload");break;case"90122486":i.header=_W.utl("sections.layouts.apply.upgrade.header.search");i.content=_W.utl("sections.layouts.apply.upgrade.content.search");break;case"section_video_backgrounds":i.header=_W.utl("sections.layouts.apply.upgrade.header.video_background");i.content=_W.utl("sections.layouts.apply.upgrade.content.video_background");break}return i},postUpgradeActions:function(){this.trigger("section:upgrade:complete")}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(4),i(89)],r=function(e,t,i){var n={baseObject:{get:function(i){var n=t.Model.prototype.get.apply(this,arguments);if(i==="properties"&&e.isString(n)){n=JSON.parse(n)}return n}}};n.model=t.Model.extend(i).extend(n.baseObject);return n}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(3),i(7),i(6),i(709)],r=function(e,t,i,n,r,o,s){var a=i.Marionette.ItemView.extend({template:n.compile(s),dialog:function(){var e=this,t=e.calculateWidth(),i=e.calculateHeight(),n=!!e.externalConfig.modal;return{title:e.externalConfig.label,dialogClass:"flat flat-admin-dialog-small platform-iframe "+e.pageElementId,cancelX:true,size:t+"x"+i,draggable:!n,modal:n}},className:function(){return!!this.model.get("external").fullscreen?"w-ui-full-screen":"dialog-iframe-wrap"},ui:{iframe:"iframe",screenCloseBtn:".fullscreen-close-btn"},events:{"click @ui.screenCloseBtn":"close"},calculateWidth:function(){var t=this.externalConfig.width||800;return t>e(window).width()?e(window).width():t},calculateHeight:function(){var t=this.externalConfig.height||800;return t>e(window).height()?e(window).height():t},buildURL:function(){var e=this.externalConfig.url;if(e.indexOf(":jwt")>-1){e=e.replace(":jwt",this.token)}else{if(e.indexOf("?")>-1){e+="&jwt="+this.token}else{e+="?jwt="+this.token}}return e},templateHelpers:function(){var e=this;return{is_fullscreen:e.isFullscreen,built_url:function(){return e.buildURL()}}},initialize:function(e){var t=this;t.settings=e.settings;t.model=e.model;t.pageElementId=e.peid;t.token=e.token;t.externalConfig=t.model.get("external");t.isFullscreen=!!t.externalConfig.fullscreen;var i=t.buildURL().split("/");t.receiverOrigin=i[0]+"//"+i[2];t.listenTo(r,{"editor:element:delete:after":function(e){if(t.pageElementId==e){t.closeDialog()}}})},receiveMessage:function(e){var t=this,i=e.data,n=i.action,r=i.data,o=t.ui.iframe;if(e.origin!=t.receiverOrigin||o[0].contentWindow!=e.source){return}var s={"settings:update":function(e){t.saveSettings(e)},"dialog:close":function(){t.closeDialog()}};if(s.hasOwnProperty(n)){s[n](r)}},saveSettings:function(e){var t=this;_W.Editor.RPC.PlatformElementInstance.updateSettings(t.pageElementId,e).done(function(e){if(e.success){t.sendMessage("settings:updated",e.data);t.updateElement()}else{t.sendMessage("settings:invalid",e.data)}}.bind(this)).fail(function(e){t.sendMessage("settings:invalid",e.data)}.bind(this))},sendMessage:function(e,t){var i=this,n=i.getTargetWindow();if(n){n.postMessage({action:e,data:t},i.receiverOrigin)}},getTargetWindow:function(){return this.ui.iframe.get(0).contentWindow},onRender:function(){var e=this;if(!e.messageInitialized){e.initMessage()}},onShow:function(){var t=this;e(".tabs li").click(function(e){t.trigger("dialog:close")})},initMessage:function(){var e=this;window.addEventListener("message",e.receiveMessage.bind(e));e.ui.iframe.on("load",function(){e.sendMessage("settings:load",{settings:e.settings,config:{user_id:e.model.get("user_id"),site_id:e.model.get("site_id"),element_id:e.model.get("element_id")}},e.receiverOrigin)});e.messageInitialized=true},onClose:function(){var e=this;window.removeEventListener("message",e.receiveMessage);e.updateElement()},updateElement:function(){o.build.updateList(window.currentPage)},openDialog:function(){var e=this;if(e.isFullscreen){o.showScreen(e)}else{o.showDialog(e)}},closeDialog:function(){var e=this;if(e.isFullscreen){e.close()}else{e.trigger("dialog:close")}}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,function(e,t,i){var n,r;!(n=[i(1),i(9),i(3),i(7),i(592),i(652)],r=function(e,t,i,n,r,o){o=i.compile(o);var s=t.View.extend({isEditMenuExpanded:false,isTypeMenuExpanded:false,hoverHelper:null,className:"header-hover-container w-ui",events:{"click .hovercontrol-wrap .main":"edit","click .hovercontrol-wrap .item.image":"editImage","click .hovercontrol-wrap .item.new-image":"uploadImage","click .hovercontrol-wrap .item.reset":"resetHeaderImage","click .hovercontrol-wrap .item.slideshow":"editSlideshow","click .hovercontrol-wrap .expander":"toggleEditMenu","click .page-type-wrap .expander":"toggleTypeMenu","click .page-type-wrap .item":"pageTypeClick"},getAvailablePageTypes:function(){return getOrderedPageTypes(currentThemeData.page_type_templates,Weebly.view.isMobileView)},initialize:function(e){this.options=e},render:function(){var t=this;var i=t.getAvailablePageTypes();var n=t.options.currentHeader;var r=e.map(i,function(e){var t=e;if(e==currentPageType){t+=" current"}return{name:e,className:t,title:_W.utl("db.PageType."+e+".name")}});var s=this.options.allowSlideshow||this.options.allowNewImage||this.options.allowReset;t.$el.hide().html(o({hasSlideshowData:n&&n.data&&n.data.slideshow,isSlideshow:n&&n.data&&n.data.type==="slideshow",isSection:t.options.isSection,allowSlideshow:t.options.allowSlideshow,allowPageTypes:t.options.allowPageTypes&&r.length>1,allowNewImage:this.options.allowNewImage,allowReset:this.options.allowReset,pageTypes:r,showDropdown:s}));t.attach();return t},attach:function(){var t=this;var i=e(t.options.targetElement);var n=e(t.options.appendToElement);t.hoverHelper=new r({delay:300,elements:[i,t.$el],mouseover:function(){if(!t.getIsEditing()){t.show();t.position()}},mouseout:function(){t.hide()}});t.$el.appendTo(n)},position:function(){var t=this;var i=e(t.options.targetElement);var n=e(t.options.appendToElement);var r=n.offset();var o=i.offset();t.$el.css({top:0,left:0});if(t.options.position=="topright"){t.$el.css({top:o.top-r.top+n.scrollTop()+10,left:o.left-r.left+n.scrollLeft()+i.outerWidth()-10-t.$el.width()})}else{t.$el.css({top:o.top-r.top+n.scrollTop()+i.outerHeight()-10-t.$el.height(),left:o.left-r.left+n.scrollLeft()+i.outerWidth()-20-t.$el.width()})}},toggleEditMenu:function(){if(this.isEditMenuExpanded){this.contractEditMenu()}else{this.expandEditMenu()}},expandEditMenu:function(){this.$(".hovercontrol-wrap .expander").addClass("pressed");this.$(".hovercontrol-wrap .menu").show();this.isEditMenuExpanded=true},contractEditMenu:function(){this.$(".hovercontrol-wrap .expander").removeClass("pressed");this.$(".hovercontrol-wrap .menu").hide();this.isEditMenuExpanded=false},toggleTypeMenu:function(){if(this.isTypeMenuExpanded){this.contractTypeMenu()}else{this.expandTypeMenu()}},expandTypeMenu:function(){this.$(".page-type-wrap .expander").addClass("pressed");this.$(".page-type-wrap .menu").show();this.isTypeMenuExpanded=true},contractTypeMenu:function(){this.$(".page-type-wrap .expander").removeClass("pressed");this.$(".page-type-wrap .menu").hide();this.isTypeMenuExpanded=false},show:function(){this.$el.show()},hide:function(){this.contractEditMenu();this.contractTypeMenu();this.$el.hide()},edit:function(){this.hide();var e=this.options.currentHeader;var t=e&&e.data&&e.data.type==="slideshow";this.options.editCallback({forceSlideshow:t,width:this.options.width,height:this.options.height})},uploadImage:function(){this.hide();n.request("chooseImage",{type:"headerimage",height:this.options.height,width:this.options.width}).done(function(e){this.options.editCallback({forceImage:true,imageEditorData:e,width:this.options.width,height:this.options.height})}.bind(this))},resetHeaderImage:function(){this.trigger("click:reset")},editImage:function(){this.hide();this.options.editCallback({forceImage:true,width:this.options.width,height:this.options.height})},editSlideshow:function(){this.hide();this.options.editCallback({forceSlideshow:true})},getIsEditing:function(){if(this.options.getIsEditing){return this.options.getIsEditing()}return false},pageTypeClick:function(t){var i=e(t.currentTarget);var n=i.data("page-type");this.changePageType(n)},changePageType:function(t){this.contractTypeMenu();var i=e("#wsite-com-area-category").attr("data-id");var r=currentPage.replace(/^(\d+).*$/,"$1");n.request("pages:save",r,{page_id:r,layout:t,store_page_kind_id:i})},destroy:function(){this.hoverHelper.destroy();this.remove()}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(12),i(11),i(7),i(228),i(109),i(78),i(593),i(79),i(302),i(55),i(10),i(158),i(33),i(17)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m){var g={showControls:a.show,hideControls:a.hide,disableControls:a.disable,enableControls:a.enable,initTooltip:c.init,enableTooltips:c.enable,disableTooltips:c.disable,hideTooltips:c.hide};var v=20;var w=f.STANDALONE_IMAGE_ELEMENTS.concat(f.PARAGRAPH_IMAGE_ELEMENTS,f.SIMPLE_IMAGE_ELEMENTS);var b="eid[:'\"\\s]*("+w.join("|")+")";g.init=function(){c.hide();a.hideAll();u.each(function(e){e.destroy()});u.clear();e("form").each(y)};function y(){if(!this.idfield){return}var t=(this.idfield.value||"").match(b);if(!t){return}t=t[1];var i;var n;if(f.STANDALONE_IMAGE_ELEMENTS.indexOf(t)!==-1){i="div.element";n=_}else if(f.PARAGRAPH_IMAGE_ELEMENTS.indexOf(t)!==-1){i="span.element";n=E}else if(f.SIMPLE_IMAGE_ELEMENTS.indexOf(t)!==-1){i="div.element, span.element";n=T}var r=e(this).parent().find(i);if(r.length&&!u.get(r[0].id)){u.set(r[0].id,n(r))}}g.reinit=function(t){t=e(t);var i=t[0].id;var n=u.get(i);if(n){n.destroy();var r=n.type;if(r==="standalone"){u.set(i,_(t))}else if(r==="paragraph"){u.set(i,E(t))}else if(r==="simple"){u.set(i,T(t))}var o=t.find("img").eq(0);o.off("click",k);o.on("click",k)}};function _(e){var t=e.children().eq(0);if(t.hasClass("hover-toolbar")){t=t.next()}var i=e.find("img").eq(0);var n=t.css("text-align");function r(t){if(n!==t){n=t;S(t,e)}}function s(){var t=m.getContentFieldProperty(e[0].id,"<!DATA!>");var i=t?t.property_result:"";if(i){return JSON.parse(i)}}var c=l.init(e,i,true,function(e,t,i){r(i)},function(){o.setProperty("<!ALIGN!>",n);p.saveProperties()},function(){return n});var u;var d=a.init(e,i,s);function f(){c();d.destroy()}return{type:"standalone",showControls:d.show,hideControls:d.hide,destroy:f}}function E(t){var i=t.find("img").eq(0);var r=0;var s=t.css("float");var c=t.prev();if(c&&c.hasClass("imgPusher")){r=(parseInt(c.css("height"),10)||0)+(parseInt(t.css("margin-top"),10)||0)}else{c=t.find("span.imgPusher").eq(0);if(c){u(parseInt(c.css("top"),10)||0);c.css("top","");c.remove()}else{c=e("<span/>").css("float",s)}c.css("float",s);t.css("clear",s).before(c)}function u(e){e=Math.round(e);if(r!==e){r=e;var i,s;if(e<=v){i=e;s=0}else{i=v;s=e-v}o.setProperty("<!TOP!>",e);t.css("margin-top",i+"px");c.css("height",s+"px");n.vent.trigger("editor:elements:changed")}}function d(e){if(s!==e){s=e;c.css("float",e);t.css({float:e,clear:e});o.setProperty("<!ALIGN!>",s)}}function f(){var e=m.getContentFieldProperty(t[0].id,"<!DATA!>");var i=e?e.property_result:"";if(i){return JSON.parse(i)}return null}var h=l.init(t,i,false,function(e,t,i,n){u(n);d(i)},function(){p.saveProperties()},function(){return s},function(){return r});var g;var w=a.init(t,i,f);function b(){h();w.destroy()}return{type:"paragraph",showControls:w.show,hideControls:w.hide,destroy:b}}function T(e){var t=s.init(e,e.find("img").eq(0),C);return{type:"simple",showControls:function(e,i){if(!i){t.show(e)}},hideControls:function(e){if(!e){t.hide()}},destroy:t.destroy}}function C(){return true}function S(e,t){var i=t.children().eq(0);if(i.hasClass("hover-toolbar")){i=i.next()}i.css("text-align",e);o.setProperty("<!ALIGN!>",e)}function I(e){var t=[];for(var i=0;i<e.sprites.length;i++){var n=e.sprites[i];var r=n.pageUrl;var o=n.creator;if(r&&o){t.push({url:r,author:o})}}return t}n.vent.on({"pageRendered editor:elements:newElement":O,"editor:elements:newElement":g.init,"afterRender:LegacyElement":function(e){if(!i.chromeless){if(!e){g.init()}else if(p.currentElement){g.reinit(p.currentElement)}}}});function O(){window.imagePlaceholderTimeout=setInterval(function(){if(e(".platform-element-child-placeholder").length==0){clearInterval(window.imagePlaceholderTimeout);e(".element img").each(function(){if(d.isInitialImage(this)||d.isPageLayoutImage(this)){var t=e(this);if(t.closest("ul.imageGallery").length){t.parent(".galleryInnerImageHolder").off("click",x).on("click",x)}else{var i=t.parent("a"),n=i.length>0?i:t;n.off("click",k).on("click",k)}}})}},100)}function k(t){var i=e(this);var n=i;if(!n.is("img")){n=n.find("img").first()}if(d.isInitialImage(n[0])||d.isPageLayoutImage(n[0])){var o=D(n.closest(".element").attr("id"));var s=d.isImageLiquid(n);r.request("chooseImage",{type:o.type,width:s?"":o.width,ucfid:o.ucfid,ucfpid:o.ucfpid,copyFlickr:true}).done(function(e){R(e,o.ucfid,o.ucfpid,s);i.find(".wsite-image-placeholder-text").remove()})}t.preventDefault()}function x(){var t=e(this).children("img").first();var i=D(t.closest(".element").attr("id"));r.execute("determineUpload","gallery","thumbnail:333-250",i.ucfid,i.ucfpid)}function D(i){var n=e("#"+i).closest(".inside");var r=window.getContentFieldProperties(i);var o="";var s="";var a=250;t.each(r,function(e){if(e.reference_property==="<!VIDEOFILE!>"){s="video";a="";o=e.ucfpid}else if(e.reference_property==="<!IMAGESET!>"){o=e.ucfpid;s="gallery"}else if(e.reference_property==="<!IMAGES!>"){o=e.ucfpid;s="slideshow"}else if(e.property_result&&d.isInitialImageSrc(e.property_result)||d.isPageLayoutImageSrc(e.property_result)){o=e.ucfpid;if(e.property_result.match(/(na|\/page-layouts-[^\.]*)\.(jpe?g|png)/)){s="image";if(n.find(".product-image")&&r[69650731]){switch(r[69650731].property_result){case"grid":a=164;break;case"large":a=225;break;case"small":a=125;break;case"long":a=175;break}}}}});return{type:s,width:a,ucfid:i,ucfpid:o}}window.initialMediaInfo=D;function R(t,i,r,o,s,a){i+="";var l=t.image.editorUrl;r=r?r:"<!SRC!>";m.setContentFieldProperty(i,r,t.image.publishedUrl);var c=false;var u="";if(s&&a){c={url:s,author:a};u=JSON.stringify(c)}if(m.setContentFieldProperty(i,"<!ATTRIBUTION!>",u)){h.setContentFieldAttribution(i,c);h.updateFooterAttribution()}m.setContentFieldProperty(i,"<!DATA!>",JSON.stringify(t));var d=e("#"+i);var f=null;if(d.length){var v=d.closest("li.inside");if(v.length){v.removeClass("wsite-initial-image")}f=d.find(".product-image")}if(f&&f.length){f[0].src=l}else{try{var w=d.find("img");w[0].onload=function(){function t(){d=d[0];g.reinit(d);if(p.currentElement===d){g.showControls(d,true)}n.vent.trigger("imageElementUpdated")}w[0].onload="";m.setContentFieldProperty(i,"<!WIDTH!>","auto");m.setContentFieldProperty(i,"<!MAXWIDTH!>","100%");if(!o){w.css({width:"auto",height:"auto"});t()}else{var r=new Image;e(r).on("load",function(){w.css({"max-width":"100%",width:"auto",height:"auto"});t()});r.src=l}};w[0].src=l}catch(e){}}n.vent.trigger("editor:elements:changed")}window.updateImageElement=R;r.commands.setHandler("updateImageElement",R);return g}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(7),i(80)],r=function(e,t,i,n){var r={};var o={};o.initialize=function(n,o){var s=e("#_editor-ui-mask").addClass("show");o=o||{};if(o.zIndex){s.css("zIndex",o.zIndex)}t.each(n,function(e,t){s.on(t+".sitemask",function(t){e.apply(r,arguments)});i.on("editormask:"+t,e,r)});return r};o.start=function(e,n){var r={};t.each(e,function(e){r[e]=function(){i.trigger("sitemask:"+e)}});o.initialize(r,n)};r.show=function(e,t){i.execute("editor:mask:start",Object.keys(e));o.initialize(e,t)};r.hide=function(t){e("#_editor-ui-mask").removeClass("show").attr("style","").off(".sitemask");i.off(null,null,r);if(!t){i.execute("editor:mask:hide")}return r};r.scrollTo=function(t){if(t instanceof e){var i=t.offset();var r=t.outerHeight();t={top:i.top,left:i.left,height:r}}else{var o=e(window).scrollTop()+t.top;t.top=o}return n.scrollTo({height:t.height,offset:{top:t.top,left:t.left}},{dontScrollWhenFocused:true})};i.commands.setHandlers({"site:mask:start":o.start,"site:mask:hide":r.hide.bind(r,true)});i.reqres.setHandlers({"site:mask:scrollTo":r.scrollTo});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(7),i(14),i(33),i(17),i(124),i(10),i(705)],r=function(e,t,i,n,r,o,s,a,l){var c={};c.open=function(e,t){var i=t.data("move-copy-popover");if(!i){i=new u(e,t);t.data("move-copy-popover",i)}i.show()};function u(c,u){this.show=g;this.hide=v;this.position=w;var f;var h=e(t.render(l));var p=u.offsetParent();p.append(h);function m(e){f=e;h.find(".move").toggleClass("selected",f);h.find(".copy").toggleClass("selected",!f);b()}m(true);h.on("click",".move, .copy",function(){m(e(this).hasClass("move"))});function g(){i.on("site:overlays:hide",v);h.css("display","block");setTimeout(function(){w();h.addClass("active").closest("."+a.SECTION_WRAP_NAME).addClass("move-element-active")},100);e(document).on("mouseup.move-copy",v)}function v(t){if(t&&e(t.target).closest(h).length){return}i.off("site:overlays:hide",v);
if(h.is(":visible")){h.removeClass("active").closest("."+a.SECTION_WRAP_NAME).removeClass("move-element-active");setTimeout(function(){h.removeAttr("style").css("display","none")},200);e(document).off("mouseup.move-copy")}}function w(){var e=p.offset();var t=u.offset();var i=10;var n=16;h.css({top:t.top+u.outerHeight()-e.top+i,left:t.left+u.outerWidth()/2-e.left-n})}function b(){var t=h.find(".element-move-copy-content ul");t.empty();t.parent().scrollTop(0);if(!f){var i=e("<li/>").data("page-id",currentPage).append(e("<em/>").text(_W.tl("( This page )")));t.append(i)}y(n,t,0)}function y(t,i,n){t.each(function(t){var r=t.get("title");var o="";var s=t.get("page_kind");var a=t.id===currentPage;var l=s==="blog";var c=s==="link"||s==="nonclickable";var u=Boolean(t.get("children").length);if(l){o="move-copy-blog"}if(a||c){o="move-copy--disabled"}if((l||a)&&!u){return}e("<li/>").attr("class",o).append(d('<span class="indent"/>',n)).append(e("<span/>").html(r)).data("page-id",t.id).appendTo(i);y(t.get("children"),i,n+1)})}function _(e,t){var n=o.getElementObject(e);var r=t?"move":"copy";var s={type:"standard",location:"website.editor",object_category:"legacy_element",object_instance:n.eid,action:r,property:"self",version:"legacy"};if(window.AragornAnalytics){window.AragornAnalytics.track(s)}else{i.execute("analytics:track:event",s)}}h.find(".element-move-copy-content ul").on("click","li",function(){var t=e(this);if(t.hasClass("move-copy-blog")||t.hasClass("move-copy--disabled")){return false}var o=t.data("page-id");var a=e(r.currentElement);var l=a.closest("li.inside").attr("id").replace(/\D/g,"");var c=a.closest(".wsite-section[data-section]").data("section");Weebly.Editor.RPC.Elements.moveElement({page_element_id:l,page_id:o,section_id:c,copy:f?false:true}).done(function(e){var t=n.getPage(e.page_id);if(t){_(l,f);t.id===currentPage?i.request("page:navigate",t.id):i.request("page:navigate:go",t.id,1)}}).fail(s.errFunc);v()})}function d(e,t){return new Array(t+1).join(e)}return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){var t=function(){var t=function(){var t=e(".wsite-view-link-full");var i=e(".wsite-view-link-mobile");var n=window.location.href||"";if(n.indexOf("?")>-1){n+="&"}else{n+="?"}t.attr("href",n+"view=full");i.attr("href",n+"view=mobile")};t();var i=window.History;if(!i||!i.enabled){return}History.Adapter.bind(window,"statechange",t)};e(document).ready(t);var i=window.STYLE_PREFIX||"weebly";var n=function(){for(var e=0;e<document.styleSheets.length;e++){try{if(document.styleSheets[e].title==i+"-theme-css"){var t=document.styleSheets[e];var n=t.cssRules||t.rules;return n&&n.length>0}}catch(e){}}return false};var r=function(e){if(n()){e()}else{var t=setInterval(function(){if(n()){clearInterval(t);e()}},200)}};if(!window.whenThemeCSSLoaded){window.whenThemeCSSLoaded=r}if(!window.isThemeCSSLoaded){window.isThemeCSSLoaded=n}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(596),i(595)],r=function(e,t,i,n,r){var o=function(){var e={};e["navbar-sticky"]=n.data;e["navpane"]=r.data;var s={};s["navbar-sticky"]=n.render;s["navpane"]=r.render;var a={};var l=false;return{init:function(e){l=e&&e.editor;if(e.pluginOptionValues!=null){a=i.clone(e.pluginOptionValues)}for(var t in a){o.trigger(t)}},setPluginOptionValue:function(t,n,r){var s=t.indexOf("/");if(s===-1){return}var l=t.substr(0,s);var c=t.substr(s+1);if(!o.isAvailable(l)){return}var u=i.findWhere(e[l],{name:c});if(u==null){return}if(!(l in a)){a[l]={}}var d=u.type;if(i.isString(n)&&d==="toggle"){n=!!parseInt(n)}a[l][c]=n;if(r){o.trigger(l)}},clearPluginOptionValues:function(){a={}},trigger:function(e){if(e in s&&e in a){var t=s[e];var i=a[e];t(i,l)}},getPluginDefinition:function(t){if(i.isString(t)){t={name:t}}if(!o.isAvailable(t.name)){return[]}var n=e[t.name];return i.map(n,function(e){var r=i.clone(e);r.name=t.name+"/"+r.name;if(t.defaults&&e.name in t.defaults){r["default"]=t.defaults[e.name]}else if(n.length===1&&t["default"]){r["default"]=t["default"]}return r})},setTrigger:function(e){if(typeof e==="object"){t.extend(s,e)}},isAvailable:function(t){return t in e}}}();if(e.themePlugins){t(function(){o.init({pluginOptionValues:e.themePlugins})})}return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{window.LoadingIndicator=s(window.jQuery)}})(function(e){"use strict";var t=function(t){this.queue={};this.options=t||{};this.options.delay=t.delay||0;this.timeout=t.timeout||15e3;this.timeoutCallback=t.timeoutCallback;this.debug=this.options.debug;this.delayTimeout=null;this.pauseTimeout=null;this.$loadingText=e("<div/>",{class:"loading-indicator-text",text:this.options.defaultText||"Loading"});this.$el=e("<div/>",{class:"loading-indicator"}).append('<div class="circular-loader"></div>','<span class="loading-dismiss"></span>').append(this.$loadingText);this.$el.appendTo(this.options.appendTo||"body").on("click",".loading-dismiss",function(){this.__stopAll()}.bind(this))};t.prototype.start=function(e,t){t=t||{};t.delay=t.delay||this.options.delay;clearTimeout(this.pauseTimeout);this.$el.removeClass("pause");if(!e){if(this.debug){console.warn("Attemping to show loading indicator without a key! Please provide a key")}return}else if(this.queue[e]){if(this.debug){console.warn("Attempting to show loading indicator with preexisting key:",e)}return}this.queue[e]=true;if(this.debug==="full"){console.info("➕ Pushing loading state:",e)}if(t.text){this.$loadingText.text(t.text)}if(this.timeout!==0){clearTimeout(this.dismissTimeout);this.dismissTimeout=setTimeout(function(){if(this.debug){console.warn("LoadingIndicator is stuck after %ims",this.timeout,Object.keys(this.queue))}if(typeof this.timeoutCallback==="function"){this.timeoutCallback(Object.keys(this.queue))}this.$el.addClass("timeout")}.bind(this),this.timeout)}this.delayTimeout=setTimeout(function(){if(Object.keys(this.queue).length){this.$el.addClass("show")}}.bind(this),t.delay)};t.prototype.stop=function(e,t){if(!this.queue[e]){if(this.debug){console.warn("Attempting to hide loading indicator that does not exist:",e)}return}else{if(this.debug==="full"){console.info("➖ Popping loading state:",e)}delete this.queue[e]}if(Object.keys(this.queue).length===0){this.__complete()}};t.prototype.__complete=function(){if(this.$loadingText.text()!==this.options.defaultText){this.$el.on("transitionend.loadingIndicator",function(e){if(e.originalEvent.propertyName==="opacity"){this.$el.off("transitionend.loadingIndicator");this.$loadingText.text(this.options.defaultText)}}.bind(this))}clearTimeout(this.dismissTimeout);clearTimeout(this.delayTimeout);this.$el.removeClass("show timeout");this.pauseTimeout=setTimeout(function(){if(!this.$el.hasClass("show")){clearTimeout(this.pauseTimeout);this.$el.addClass("pause")}}.bind(this),2e3)};t.prototype.__stopAll=function(){if(this.debug){console.warn("You should not be calling `stopAll` in production!")}this.queue={};this.__complete()};return t})},function(e,t,i){var n,r;!(n=[i(1),i(85)],r=function(e){(function(e,t){e.effects.effect.slide=function(t,i){var n=e(this),r=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),s=o==="show",a=t.direction||"left",l=a==="up"||a==="down"?"top":"left",c=a==="up"||a==="left",u,d={};e.effects.save(n,r);n.show();var f=t.wrapper;if(f){f=e(f).show();if(!/relative|absolute/.test(n.css("position"))){n.css("position","relative")}}else{f=e.effects.createWrapper(n)}f.css("overflow","hidden");var u=t.distance||(l=="top"?n.height()?n.outerHeight(true):f.height():n.width()?n.outerWidth(true):f.width());if(s){n.css(l,c?isNaN(u)?"-"+u:-u:u)}d[l]=(s?c?"+=":"-=":c?"-=":"+=")+u;n.animate(d,{queue:false,duration:t.duration,easing:t.easing,complete:function(){if(o==="hide"){n.hide()}e.effects.restore(n,r);if(t.wrapper){f.css("overflow","");if(o=="hide"){f.hide()}}else{e.effects.removeWrapper(n)}i()}})}})(e)}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(9)],r=function(e){var t=e.View.prototype;var n=e.View.extend({initialize:function(e){t.initialize.apply(this,arguments)},render:function(){if(window.inEditor&&window.inEditor()){i(7).request("page:navigate")}},remove:function(){t.remove.apply(this,arguments)},setElement:function(){t.setElement.apply(this,arguments)},delegateEvents:function(){t.delegateEvents.apply(this,arguments)},undelegateEvents:function(){t.undelegateEvents.apply(this,arguments)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(12),i(9)],r=function(e,t,i,n){var r=n.Model.extend({save:function(n,r,o){var s=this,a=this.attributes;if(n==null||typeof n==="object"){a=n;o=r}else{(a={})[n]=r}if(a){if(!this.set(a,o))return false}if(window.inEditor&&window.inEditor()&&!i.chromeless){return e.Editor.RPC.PlatformElementInstance.updateSettings(s.page_element_id,s.toJSON())}else{var l=new t.Deferred;l.resolve({success:false,message:"You cannot update settings outside of the editor."});return l.promise()}}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2)],r=function(e,t){var i=function(i){var n={duration:5e3,delay:500,fadeout:250,icon:undefined,zIndex:99980},r=[],o=false,s;i=i||{};i=t.extend(n,i);function a(e){e=t.extend(t.clone(n),e);if(!e.id){e.id="hello_"+Math.floor(Math.random()*10000001)}if(e.now===true){r=[]}r.push(e);if(r.length){l();o=false}return e.id}function l(){var e;if(!o){o=true;e=r.shift();if(e){c(e);s=setTimeout(function(){o=false;f();setTimeout(l,i.delay+i.fadeout+200)},e.duration)}else{o=false}}}function c(t){var n=t.icon||i.icon,r,o,s,a,l,c;if(!document.getElementById("hellos")){s=document.createElement("div");s.id="hellos"}else{s=document.getElementById("hellos");s.innerHTML=""}s.setAttribute("data-id",t.id);s.style.zIndex=t.zIndex||i.zIndex;o=document.createElement("div");o.className="content";s.className="";if(n!==undefined){s.className="icon-dialog "+n}s.className+=" w-upload-dialog w-ui";a=document.createElement("span");a.className="title";e(a).empty().append(t.title);o.appendChild(a);l=document.createElement("div");l.className="messages";e(l).empty().append(t.body);if(n){var u=document.createElement("span");u.className=n;u.className+=" icon w-icon-comment";s.appendChild(u)}o.appendChild(l);s.appendChild(o);if(!document.getElementById("hellos")){document.getElementsByTagName("body")[0].appendChild(s)}else{e("#hellos").show()}}function u(e){e=typeof e!=="undefined"?e:false;clearInterval(s);o=false;f(e)}function d(){r=[];u()}function f(t){var i=e("#hellos");if(i){i.fadeOut(1e3)}}function h(){if(r.length>0){clearInterval(s);o=false;l();return true}return false}function p(e){var t=document.getElementById("hellos");e=e.toString();if(t&&t.getAttribute("data-id")===e){u();l();return true}else{for(var i=0;i<r.length;i++){if(r[i].id===e){r.splice(i,1);return true}}}return false}return{say:function(e){if(e&&e.title&&e.body){return a(e)}return-1},clearAll:function(){d();return this},clear:function(e){return u(e)},next:function(){h();return this},remove:function(e){return p(e)}}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(241)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(window.jQuery)}})(function(e){if(typeof e.fn.wColorChooser==="undefined"){e.fn.extend({wColorChooser:function(r){r=r||{};if(r=="set"){this.find(".color-square").css("background-color",arguments[1])}else if(r=="smart"){var o=e(this),s=o.spectrum("isPaletteColor",o.spectrum("get"));o.spectrum(s?"collapse":"expand")}else if(r==="advanced"){e(this).spectrum("expand")}else if(r==="basic"){e(this).spectrum("collapse")}else{this.each(function(){r=t(r);switch(r.mode){case"colorSquare":r=n(this,r);break;default:r=i(this,r);break}e(this).spectrum(r)})}return this}})}function t(t){return e.extend({showInput:true,showPalette:true,chooseText:"Ok",theme:"sp-w",clickoutFiresChange:true,clickPaletteToClose:false,preferredFormat:"hex6",showSelectionPalette:false,dontHideBoundElement:true,palette:[["#d5d5d5","#a1a1a1","#818181","#626262","#515151","#3f3f3f","#2a2a2a"],["#f8a9a9","#e97676","#e05c5c","#da4444","#c23b3b","#a82e2e","#8d2424"],["#f8c7a9","#e9a476","#e0915c","#da8044","#c2743b","#a85f2e","#8d5024"],["#f8eaa9","#e9cf76","#e0bf5c","#dab844","#c2a43b","#a88d2e","#8d7824"],["#c9f8a9","#a9e976","#91e05c","#81c94c","#6cb83a","#5fa233","#508d24"],["#a9f8dd","#76e9c7","#5ce0b6","#4cc9a4","#3ab890","#33a27f","#248d6c"],["#a9e4f8","#76cae9","#5cbce0","#4caac9","#3a96b8","#3387a2","#24678d"],["#b5aaf6","#9789e8","#8273da","#7161d0","#6555c2","#5848b7","#5040ae"],["#d8aaf6","#c389e8","#b073da","#a561d0","#9555c2","#8c48b7","#8640ae"],["#f6aaf0","#e889e0","#da73d2","#d061c7","#c255b9","#b748ae","#ae40a5"]]},t)}function i(t,i){var n;var r;var o;return e.extend({},i,{beforeShow:function(r){n=false;o=null;if(i.onBeforeShow){i.onBeforeShow(r)}e(t).spectrum("container").off("selectstart").on("selectstart",false).find(".sp-color, .sp-hue").off(".wColorChooser").on("mouseup.wColorChooser",function(){if(o){if(i.onUpdate){i.onUpdate(o)}}})},move:function(e){o=e.toHexString();if(!n){if(i.onMove){i.onMove(o)}}},change:function(e){n=true;if(i.onChange){i.onChange(e.toHexString())}},hide:function(){if(i.onBeforeHide){i.onBeforeHide()}if(!n&&o){if(i.onRevert){i.onRevert(r)}}}})}function n(t,i){var n=e(t);var r=n.find(".color-square");var o;var s;var a;return e.extend({},i,{beforeShow:function(t){o=false;a=null;s=r.css("background-color");n.spectrum("set",s);s=n.spectrum("get").toHexString();if(i.onBeforeShow){i.onBeforeShow(t)}var l=n.spectrum("container");l.find(".sp-color, .sp-hue").off(".wColorChooser").on("mousedown.wColorChooser",function(){e(document).off("mouseup.wColorChooser").one("mouseup.wColorChooser",function(){if(a&&i.onUpdate){i.onUpdate(a)}})});l.find(".sp-input").off(".wColorChooser").on("change.wColorChooser",function(){if(a&&i.onUpdate){i.onUpdate(a)}})},show:function(){},move:function(e){a=e.toHexString();r.css("background-color",a);if(!o){if(i.onMove){i.onMove(a)}}},change:function(e){o=true;r.css("background-color",e.toHexString());if(i.onChange){i.onChange(e.toHexString())}},hide:function(){if(i.onBeforeHide){i.onBeforeHide()}if(!o&&a){r.css("background-color",s);if(i.onRevert){i.onRevert(s)}}}})}})},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1),i(5)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(window.jQuery,window._W)}})(function(e,t){var i=e(window);function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}var o=function(t,i){var n=this;this._process_options(i);this.element=e(t);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0)this.component=false;this.picker=e(h.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks)this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1});this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};o.prototype={constructor:o,_process_options:function(t){this._o=e.extend({},this._o,t);var i=this.o=e.extend({},this._o);var n=i.language;if(!f[n]){n=n.split("-")[0];if(!f[n])n=u.language}i.language=n;switch(i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode);i.weekStart%=7;i.weekEnd=(i.weekStart+6)%7;var r=h.parseFormat(i.format);if(i.startDate!==-Infinity){if(!!i.startDate){if(i.startDate instanceof Date)i.startDate=this._local_to_utc(this._zero_time(i.startDate));else i.startDate=h.parseDate(i.startDate,r,i.language)}else{i.startDate=-Infinity}}if(i.endDate!==Infinity){if(!!i.endDate){if(i.endDate instanceof Date)i.endDate=this._local_to_utc(this._zero_time(i.endDate));else i.endDate=h.parseDate(i.endDate,r,i.language)}else{i.endDate=Infinity}}i.daysOfWeekDisabled=i.daysOfWeekDisabled||[];if(!e.isArray(i.daysOfWeekDisabled))i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/);i.daysOfWeekDisabled=e.map(i.daysOfWeekDisabled,function(e){return parseInt(e,10)});var o=String(i.orientation).toLowerCase().split(/\s+/g),s=i.orientation.toLowerCase();o=e.grep(o,function(e){return/^auto|left|right|top|bottom$/.test(e)});i.orientation={x:"auto",y:"auto"};if(!s||s==="auto");else if(o.length===1){switch(o[0]){case"top":case"bottom":i.orientation.y=o[0];break;case"left":case"right":i.orientation.x=o[0];break}}else{s=e.grep(o,function(e){return/^left|right$/.test(e)});i.orientation.x=s[0]||"auto";s=e.grep(o,function(e){return/^top|bottom$/.test(e)});i.orientation.y=s[0]||"auto"}},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.on(n)}},_unapplyEvents:function(e){for(var t=0,i,n;t<e.length;t++){i=e[t][0];n=e[t][1];i.off(n)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]}else if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]}else if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:e.proxy(this.show,this)}]]}this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){if(!(this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.date,r=this._utc_to_local(n);this.element.trigger({type:t,date:r,format:e.proxy(function(e){var t=e||this.o.format;return h.formatDate(n,t,this.o.language)},this)})},show:function(e){if(!this.isInline)this.picker.appendTo(this.o.parentElement?this.o.parentElement:"body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(e){e.preventDefault()}this._trigger("show")},hide:function(e){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val()))this.setValue()},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(e){return new Date(e.getTime()+e.getTimezoneOffset()*6e4)},_local_to_utc:function(e){return new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(this._local_to_utc(e))},setUTCDate:function(e){this.date=e;this.setValue()},setValue:function(){var e=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(e).change()}}else{this.element.val(e).change()}},getFormattedDate:function(e){if(e===undefined)e=this.o.format;return h.formatDate(this.date,e,this.o.language)},setStartDate:function(e){this._process_options({startDate:e});this.update();this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,o=i.width(),s=i.height(),a=i.scrollTop(),l;var c=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!="auto"}).first().css("z-index"))+10;if(this.component){l=this.component.parent().offset()}else if(this.element.parent().hasClass("input-prepend")){l=this.element.parent().offset()}else{l=this.element.offset()}var u=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var d=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var f=l.left-(this.o.parentElement?e(this.o.parentElement).offset().left:0),h=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom "+"datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right")f-=t-d}else{this.picker.addClass("datepicker-orient-left");if(l.left<0)f-=l.left-r;else if(l.left+t>o)f=o-t-r}var p=this.o.orientation.y,m,g;if(p==="auto"){m=-a+l.top-n;g=a+s-(l.top+u+n);if(Math.max(m,g)===g)p="top";else p="bottom"}this.picker.addClass("datepicker-orient-"+p);if(p==="top")h+=u;else h-=n+parseInt(this.picker.css("padding-top"));this.picker.css({top:h,left:f,zIndex:c})},_allow_update:true,update:function(){if(!this._allow_update)return;var e=new Date(this.date),t,i=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0]instanceof Date)){t=arguments[0];if(t instanceof Date)t=this._local_to_utc(t);i=true}else{t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=h.parseDate(t,this.o.format,this.o.language);if(i){this.setValue()}else if(t){if(e.getTime()!==this.date.getTime())this._trigger("changeDate")}else{this._trigger("clearDate")}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate);this.date=new Date(this.o.startDate)}else if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate);this.date=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date);this.date=new Date(this.date)}this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';t+=i;this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}while(e<this.o.weekStart+7){t+='<th class="dow">'+f[this.o.language].daysMin[e++%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12){e+='<span class="month">'+f[this.o.language].monthsShort[t++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(t){if(!t||!t.length)delete this.range;else this.range=e.map(t,function(e){return e.valueOf()});this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=this.date.valueOf(),s=new Date;if(t.getUTCFullYear()<n||t.getUTCFullYear()==n&&t.getUTCMonth()<r){i.push("old")}else if(t.getUTCFullYear()>n||t.getUTCFullYear()==n&&t.getUTCMonth()>r){i.push("new")}if(this.o.todayHighlight&&t.getUTCFullYear()==s.getFullYear()&&t.getUTCMonth()==s.getMonth()&&t.getUTCDate()==s.getDate()){i.push("today")}if(o&&t.valueOf()==o){i.push("active")}if(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){i.push("disabled")}if(this.range){if(t>this.range[0]&&t<this.range[this.range.length-1]){i.push("range")}if(e.inArray(t.valueOf(),this.range)!=-1){i.push("selected")}}return i},fill:function(){var t=new Date(this.viewDate),i=t.getUTCFullYear(),r=t.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,s=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=this.date&&this.date.valueOf(),u;this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[r]+" "+i);this.picker.find("tfoot th.today").text(f[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(f[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var d=n(i,r-1,28,0,0,0,0),p=h.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(p);d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var m=new Date(d);m.setUTCDate(m.getUTCDate()+42);m=m.valueOf();var g=[];var v;while(d.valueOf()<m){if(d.getUTCDay()==this.o.weekStart){g.push("<tr>");if(this.o.calendarWeeks){var w=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),b=new Date(+w+(7+4-w.getUTCDay())%7*864e5),y=new Date(+(y=n(b.getUTCFullYear(),0,1))+(7+4-y.getUTCDay())%7*864e5),_=(b-y)/864e5/7+1;g.push('<td class="cw">'+_+"</td>")}}v=this.getClassNames(d);v.push("day");if(this.o.beforeShowDay!==e.noop){var E=this.o.beforeShowDay(this._utc_to_local(d));if(E===undefined)E={};else if(typeof E==="boolean")E={enabled:E};else if(typeof E==="string")E={classes:E};if(E.enabled===false)v.push("disabled");if(E.classes)v=v.concat(E.classes.split(/\s+/));if(E.tooltip)u=E.tooltip}v=e.unique(v);g.push('<td class="'+v.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+d.getUTCDate()+"</td>");if(d.getUTCDay()==this.o.weekEnd){g.push("</tr>")}d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var T=this.date&&this.date.getUTCFullYear();var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");if(T&&T==i){C.eq(this.date.getUTCMonth()).addClass("active")}if(i<o||i>a){C.addClass("disabled")}if(i==o){C.slice(0,s).addClass("disabled")}if(i==a){C.slice(l+1).addClass("disabled")}g="";i=parseInt(i/10,10)*10;var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var I=-1;I<11;I++){g+='<span class="year'+(I==-1?" old":I==10?" new":"")+(T==i?" active":"")+(i<o||i>a?" disabled":"")+'">'+i+"</span>";i+=1}S.html(g)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(t){t.preventDefault();var i=e(t.target).closest("span, td, th");if(i.length==1){switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=h.modes[this.viewMode].navStep*(i[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r);if(this.viewMode===1)this._trigger("changeYear",this.viewDate);break}this.fill();break;case"today":var o=new Date;o=n(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0);this.showMode(-2);var s=this.o.todayBtn=="linked"?null:"view";this._setDate(o,s);break;case"clear":var a;if(this.isInput)a=this.element;else if(this.component)a=this.element.find("input");if(a)a.val("").change();this._trigger("changeDate");this.update();if(this.o.autoclose)this.hide();break}break;case"span":if(!i.is(".disabled")){this.viewDate.setUTCDate(1);if(i.is(".month")){var l=1;var c=i.parent().find("span").index(i);var u=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(c);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(n(u,c,l,0,0,0,0))}}else{var u=parseInt(i.text(),10)||0;var l=1;var c=0;this.viewDate.setUTCFullYear(u);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(n(u,c,l,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var l=parseInt(i.text(),10)||1;var u=this.viewDate.getUTCFullYear(),c=this.viewDate.getUTCMonth();if(i.is(".old")){if(c===0){c=11;u-=1}else{c-=1}}else if(i.is(".new")){if(c==11){c=0;u+=1}else{c+=1}}this._setDate(n(u,c,l,0,0,0,0))}break}}},_setDate:function(e,t){if(!t||t=="date")this.date=new Date(e);if(!t||t=="view")this.viewDate=new Date(e);this.fill();this.setValue();this._trigger("changeDate");var i;if(this.isInput){i=this.element}else if(this.component){i=this.element.find("input")}if(i){i.change()}if(this.o.autoclose&&(!t||t=="date")){this.hide()}},moveMonth:function(e,t){if(!t)return e;var i=new Date(e.valueOf()),n=i.getUTCDate(),r=i.getUTCMonth(),o=Math.abs(t),s,a;t=t>0?1:-1;if(o==1){a=t==-1?function(){return i.getUTCMonth()==r}:function(){return i.getUTCMonth()!=s};s=r+t;i.setUTCMonth(s);if(s<0||s>11)s=(s+12)%12}else{for(var l=0;l<o;l++)i=this.moveMonth(i,t);s=i.getUTCMonth();i.setUTCDate(n);a=function(){return s!=i.getUTCMonth()}}while(a()){i.setUTCDate(--n);i.setUTCMonth(s)}return i},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27)this.show();return}var t=false,i,n,r,o,s;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;i=e.keyCode==37?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);s=this.moveYear(this.viewDate,i);this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){o=this.moveMonth(this.date,i);s=this.moveMonth(this.viewDate,i);this._trigger("changeMonth",this.viewDate)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i);s=new Date(this.viewDate);s.setUTCDate(this.viewDate.getUTCDate()+i)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=s;this.setValue();this.update();e.preventDefault();t=true}break;case 38:case 40:if(!this.o.keyboardNavigation)break;i=e.keyCode==38?-1:1;if(e.ctrlKey){o=this.moveYear(this.date,i);s=this.moveYear(this.viewDate,i);this._trigger("changeYear",this.viewDate)}else if(e.shiftKey){o=this.moveMonth(this.date,i);s=this.moveMonth(this.viewDate,i);this._trigger("changeMonth",this.viewDate);
}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+i*7);s=new Date(this.viewDate);s.setUTCDate(this.viewDate.getUTCDate()+i*7)}if(this.dateWithinRange(o)){this.date=o;this.viewDate=s;this.setValue();this.update();e.preventDefault();t=true}break;case 13:this.hide();e.preventDefault();break;case 9:this.hide();break}if(t){this._trigger("changeDate");var a;if(this.isInput){a=this.element}else if(this.component){a=this.element.find("input")}if(a){a.change()}}},showMode:function(e){if(e){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))}this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var s=function(t,i){this.element=e(t);this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e});delete i.inputs;e(this.inputs).datepicker(i).bind("changeDate",e.proxy(this.dateUpdated,this));this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")});this.updateDates()};s.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.date});this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){var i=e(t.target).data("datepicker"),n=i.getUTCDate(),r=e.inArray(t.target,this.inputs),o=this.inputs.length;if(r==-1)return;if(n<this.dates[r]){while(r>=0&&n<this.dates[r]){this.pickers[r--].setUTCDate(n)}}else if(n>this.dates[r]){while(r<o&&n>this.dates[r]){this.pickers[r++].setUTCDate(n)}}this.updateDates()},remove:function(){e.map(this.pickers,function(e){e.remove()});delete this.element.data().datepicker}};function a(t,i){var n=e(t).data(),r={},o,s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var a in n)if(i.test(a)){o=a.replace(s,function(e,t){return t.toLowerCase()});r[o]=n[a]}return r}function l(t){var i={};if(!f[t]){t=t.split("-")[0];if(!f[t])return}var n=f[t];e.each(d,function(e,t){if(t in n)i[t]=n[t]});return i}var c=e.fn.datepicker;e.fn.datepicker=function(t){var i=Array.apply(null,arguments);i.shift();var n,r;this.each(function(){var r=e(this),c=r.data("datepicker"),d=typeof t=="object"&&t;if(!c){var f=a(this,"date"),h=e.extend({},u,f,d),p=l(h.language),m=e.extend({},u,p,f,d);if(r.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",c=new s(this,e.extend(m,g)))}else{r.data("datepicker",c=new o(this,m))}}if(typeof t=="string"&&typeof c[t]=="function"){n=c[t].apply(c,i);if(n!==undefined)return false}});if(n!==undefined)return n;else return this};var u=e.fn.datepicker.defaults={autoclose:false,beforeShowDay:e.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var d=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=o;var f=e.fn.datepicker.dates={da:{days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag","Søndag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør","Søn"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø","Sø"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag"},de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",weekStart:1,format:"dd.mm.yyyy"},en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},es:{days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"},fr:{days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],daysMin:["D","L","Ma","Me","J","V","S","D"],months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan","Fev","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dec"],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},it:{days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa","Do"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",weekStart:1,format:"dd/mm/yyyy"},ja:{days:["日曜","月曜","火曜","水曜","木曜","金曜","土曜","日曜"],daysShort:["日","月","火","水","木","金","土","日"],daysMin:["日","月","火","水","木","金","土","日"],months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",format:"yyyy/mm/dd"},kr:{days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일","일요일"],daysShort:["일","월","화","수","목","금","토","일"],daysMin:["일","월","화","수","목","금","토","일"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthsShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},nl:{days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Vandaag"},no:{days:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],daysShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],daysMin:["Sø","Ma","Ti","On","To","Fr","Lø"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:0},pl:{days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],daysShort:["Nie","Pn","Wt","Śr","Czw","Pt","So","Nie"],daysMin:["N","Pn","Wt","Śr","Cz","Pt","So","N"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],today:"Dzisiaj",weekStart:1},pt:{days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa","Do"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",clear:"Limpar"},ru:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],daysShort:["Вск","Пнд","Втр","Срд","Чтв","Птн","Суб","Вск"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вс"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",weekStart:1},sv:{days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag","Söndag"],daysShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör","Sön"],daysMin:["Sö","Må","Ti","On","To","Fr","Lö","Sö"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",format:"yyyy-mm-dd",weekStart:1},tr:{days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi","Pazar"],daysShort:["Pz","Pzt","Sal","Çrş","Prş","Cu","Cts","Pz"],daysMin:["Pz","Pzt","Sa","Çr","Pr","Cu","Ct","Pz"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],today:"Bugün",format:"dd.mm.yyyy"},zhCN:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",format:"yyyy年mm月dd日",weekStart:1},zhTW:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["週日","週一","週二","週三","週四","週五","週六","週日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",format:"yyyy年mm月dd日",weekStart:1}};var h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,h.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||i.length===0){throw new Error("Invalid date format.")}return{separators:t,parts:i}},parseDate:function(t,i,r){if(t instanceof Date)return t;if(typeof i==="string")i=h.parseFormat(i);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){var s=/([\-+]\d+)([dmwy])/,a=t.match(/([\-+]\d+)([dmwy])/g),l,c;t=new Date;for(var u=0;u<a.length;u++){l=s.exec(a[u]);c=parseInt(l[1]);switch(l[2]){case"d":t.setUTCDate(t.getUTCDate()+c);break;case"m":t=o.prototype.moveMonth.call(o.prototype,t,c);break;case"w":t.setUTCDate(t.getUTCDate()+c*7);break;case"y":t=o.prototype.moveYear.call(o.prototype,t,c);break}}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}var a=t&&t.match(this.nonpunctuation)||[],t=new Date,d={},p=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12;e.setUTCMonth(t);while(e.getUTCMonth()!=t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},g,v,l;m["M"]=m["MM"]=m["mm"]=m["m"];m["dd"]=m["d"];t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var w=i.parts.slice();if(a.length!=w.length){w=e(w).filter(function(t,i){return e.inArray(i,p)!==-1}).toArray()}if(a.length==w.length){for(var u=0,b=w.length;u<b;u++){g=parseInt(a[u],10);l=w[u];if(isNaN(g)){switch(l){case"MM":v=e(f[r].months).filter(function(){var e=this.slice(0,a[u].length),t=a[u].slice(0,e.length);return e==t});g=e.inArray(v[0],f[r].months)+1;break;case"M":v=e(f[r].monthsShort).filter(function(){var e=this.slice(0,a[u].length),t=a[u].slice(0,e.length);return e==t});g=e.inArray(v[0],f[r].monthsShort)+1;break}}d[l]=g}for(var u=0,y,_;u<p.length;u++){_=p[u];if(_ in d&&!isNaN(d[_])){y=new Date(t);m[_](y,d[_]);if(!isNaN(y))t=y}}}return t},formatDate:function(t,i,n){if(typeof i==="string")i=h.parseFormat(i);var r={d:t.getUTCDate(),D:f[n].daysShort[t.getUTCDay()],DD:f[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:f[n].monthsShort[t.getUTCMonth()],MM:f[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d;r.mm=(r.m<10?"0":"")+r.m;var t=[],o=e.extend([],i.separators);for(var s=0,a=i.parts.length;s<=a;s++){if(o.length)t.push(o.shift());t.push(r[i.parts[s]])}return t.join("")},headTemplate:"<thead>"+"<tr>"+'<th class="prev"><i class="w-icon-chevron-left"/></th>'+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next"><i class="w-icon-chevron-right"/></th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table>"+"</div>"+"</div>";e.fn.datepicker.DPGlobal=h;e.fn.datepicker.noConflict=function(){e.fn.datepicker=c;return this};e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);if(i.data("datepicker"))return;t.preventDefault();i.datepicker("show")});e(function(){if(t.siteContextData&&t.siteContextData.jdateFormat){e.fn.datepicker.defaults.format=t.siteContextData.jdateFormat}e('[data-provide="datepicker-inline"]').datepicker()})})},function(e,t,i){var n,r,o;(function(s){if(true){!(r=[i(1)],n=s,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else{s(window.jQuery)}})(function(e){if(typeof e.fn.wSpinner==="undefined"){e.fn.extend({wSpinner:function(t){var i;var n,r,o,s;var a;var l={className:"wsite-spinner",height:undefined,min:1,max:Infinity,theme:"light",interval:1};t=e.extend(l,t);this.each(function(t,n){i=e(n);if(n.nodeName==="INPUT"){c()}});function c(){if(t.incrementElement||t.decrementElement){o=e(t.incrementElement);s=e(t.decrementElement)}else{n=e('<div class="'+t.className+'" />').addClass(t.theme);r=e('<div class="'+t.className+'-controls" />');o=e('<a class="'+t.className+'-up" />');s=e('<a class="'+t.className+'-down" />');r.append(o,s);i.wrap(n).addClass(t.className+"-input").parent().append(r).css({height:t.height||"auto"})}i.on({keypress:function(e){var t=e.keyCode||e.which;if(t>47&&t<58||t===8||t===9||t===37||t===39||e.metaKey){return true}return false},keydown:function(t){var i=e(t.currentTarget);if(t.which===38){d(i)}else if(t.which===40){f(i)}},blur:function(e){var t=e.currentTarget;if(t.getAttribute("data-max")&&parseInt(t.value)>parseInt(t.getAttribute("data-max"))){t.value=t.getAttribute("data-max")}else if(t.value===""){t.value=1}},change:function(t){var i=e(t.currentTarget);if(p(i)){h()}}});o.on({click:function(e){clearInterval(a);d(i)},mousedown:function(t){e(t.currentTarget).addClass("wsite-active");a=setInterval(function(){d(i)},250);t.preventDefault()},mouseup:function(e){u(e.currentTarget)},mouseout:function(e){u(e.currentTarget)}});s.on({click:function(e){clearInterval(a);f(i)},mousedown:function(t){e(t.currentTarget).addClass("wsite-active");a=setInterval(function(){f(i)},250);t.preventDefault()},mouseup:function(e){u(e.currentTarget)},mouseout:function(e){u(e.currentTarget)}})}function u(t){e(t).removeClass("wsite-active");clearInterval(a)}function d(e){if(!e.is(":disabled")){var i=parseInt(e.val());if(isNaN(i)&&t.defaultVal){i=t.defaultVal}var n=i+t.interval;e.val(Math.min(n,parseInt(e.attr("data-max"))||t.max)).focus();h()}}function f(e){if(!e.is(":disabled")){var i=parseInt(e.val());if(isNaN(i)&&t.defaultVal){i=t.defaultVal}var n=i-t.interval;e.val(Math.max(n,parseInt(e.data("data-min"))||t.min)).focus();h()}}function h(){if(t.onChange){t.onChange.call(i[0])}}function p(e){if(e.is(":disabled")){return false}var i=parseInt(e.val());if(isNaN(i)){if(t.defaultVal!=undefined){i=t.defaultVal}else{i=t.min}e.val(i)}else if(i<parseInt(e.attr("data-min")||t.min)){e.val(t.min)}else if(i>parseInt(e.attr("data-max")||t.max)){e.val(t.max)}return true}return this},wControlSpinner:function(t){t=t||{};this.each(function(){var i=e(this);var n=e.extend({},t);n.incrementElement=i.parent().find(".spinner-inc");n.decrementElement=i.parent().find(".spinner-dec");n.defaultVal=14;i.wSpinner(n)})}})}})},,,,,,,,,,,,,,,function(e,t,n){(function(t){var n=Class.create();n.resizing=false;n.cache=new Array;n.cacheIndex=0;n.handleWidth=4;n.prototype={initialize:function(e,i,r,o,s,a){this.options={onStart:Prototype.emptyFunction,onDrag:Prototype.emptyFunction,onEnd:Prototype.emptyFunction,active:false};Object.extend(this.options,a||{});this.div1=t(e);this.div2=t(r);this.container=this.div1.parentNode;this.div1_width=i>.5?i:.5;this.div2_left=o;this.div2_width=s>.5?s:.5;n.cache[n.cacheIndex]=this;n.cacheIndex=n.cacheIndex+1},set:function(){Element.makePositioned(this.container);this.div1.style.width=this.div1_width-.1+"%";this.div2.style.width=this.div2_width-.1+"%";this.div2.style.left=this.div2_left-.1+"%";if(this.div1_width<.1){this.div1.style.width="0.5%"}if(this.div2_width<.1){this.div2.style.width="0.5%"}this.divider=document.createElement("DIV");this.container.appendChild(this.divider);this.divider.className="splitpane-divider";this.divider.style.position="absolute";this.divider.style.width=n.handleWidth+"px";this.divider.style.top="0px";this.divider.style.zIndex=4;this.containerWidth=this.getWidth(this.container);this.setDividerX();this.setDividerHeight();if(this.options.active){this.eventMouseDown=this.startDrag.bindAsEventListener(this);this.eventMouseUp=this.endDrag.bindAsEventListener(this);this.eventChangeCursor=this.cursor.bindAsEventListener(this);this.eventMouseMove=this.update.bindAsEventListener(this);Event.observe(this.divider,"mousedown",this.eventMouseDown);Event.observe(document,"mouseup",this.eventMouseUp);Event.observe(this.divider,"mousemove",this.eventChangeCursor);Event.observe(document,"mousemove",this.eventMouseMove)}},serialize:function(){return"div1="+this.div1.id+"&div1_left="+this.getXPercent(this.div1)+"&div1_width="+this.getWidthPercent(this.div1)+"&div2="+this.div2.id+"&div2_left="+this.getXPercent(this.div2)+"&div2_width="+this.getWidthPercent(this.div2)},dispose:function(){Event.stopObserving(this.divider,"mousedown",this.eventMouseDown);Event.stopObserving(document,"mouseup",this.eventMouseUp);Event.stopObserving(this.divider,"mousemove",this.eventChangeCursor);Event.stopObserving(document,"mousemove",this.eventMouseMove)},cursor:function(e){this.divider.style.cursor="e-resize"},startDrag:function(e){if(Event.isLeftClick(e)){this.active=true;var t=Position.cumulativeOffset(this.divider);this.start_pointer=[Event.pointerX(e),Event.pointerY(e)];this.inset=this.start_pointer[0]-t[0];this.containerWidth=this.getWidth(this.container);this.start_div1_width=this.getWidth(this.div1);this.start_div2_left=this.getX(this.div2);this.start_div2_width=this.getWidth(this.div2);this.start_divider_x=this.getX(this.divider);Event.stop(e);this.options.onStart(this,e);n.resizing=true}},endDrag:function(e){if(this.active){this.active=false;Event.stop(e);this.setDividerX();this.setDividerHeight();this.options.onEnd(this,e);n.resizing=false;resizeAllColumns()}},update:function(e){if(this.active){var t=[Event.pointerX(e),Event.pointerY(e)];var i=t[0]-this.start_pointer[0];var n=i*100/this.containerWidth;var r=this.start_div1_width+i;if(r<0){r=0;i=-this.start_div1_width}var o=this.start_div2_width-i;if(o<0){o=0;i=this.start_div2_width;r=this.start_div1_width+i}this.div1.style.width=r*100/this.containerWidth+"%";this.div2.style.left=(this.start_div2_left+i)*100/this.containerWidth+"%";this.div2.style.width=o*100/this.containerWidth+"%";this.divider.style.left=this.start_divider_x+i+"px";Event.stop(e);this.options.onDrag(this,e)}},setDividerX:function(){var e=this.getX(this.div1)+this.getWidth(this.div1);var t=((this.getX(this.div2)-e-n.handleWidth)/2+e)*100/this.containerWidth+"%";this.divider.style.left=t},setDividerHeight:function(){var e=Math.max(this.getHeight(this.div1),this.getHeight(this.div2));this.divider.style.height=e+"px"},getX:function(e){return e.x?e.x:e.offsetLeft},getXPercent:function(e){var t="0";t=Element.getStyle(e,"left");if(t){t=t.replace("%","")}return t?parseFloat(t):0},getWidthPercent:function(e){var t="0";t=Element.getStyle(e,"width");if(t){t=t.replace("%","")}return t?parseFloat(t):0},getWidth:function(e){return e.offsetWidth},getHeight:function(e){if(e.currentStyle){return e.offsetHeight}else{return Element.getStyle(e,"height").replace("px","")}}};n.setAll=function(){for(i=0;i<n.cache.length;i++){resizeColumns(n.cache[i].div1.down("ul"))}};Event.observe(window,"load",n.setAll);e.exports=n}).call(t,n(16))},function(e,t,i){(function(t){var i=function(e,i){if(document.body.__defineGetter__){if(HTMLElement){var n=HTMLElement.prototype;if(n.__defineGetter__){n.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}}}if(!window.getComputedStyle){window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;if(t==="float")t="styleFloat";if(i.test(t)){t=t.replace(i,function(){return arguments[2].toUpperCase()})}return e.currentStyle[t]?e.currentStyle[t]:null};return this}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){for(var i=t||0,n=this.length;i<n;i++){if(this[i]===e){return i}}return-1}}if(!document.querySelectorAll){if(!window.jQuery)return}function r(e){if(document.querySelectorAll)return document.querySelectorAll(e);else return t(e)}if(typeof e==="undefined")return;if(!e.nodeType){if(r(e).length===0)return}var o=this;o.touches={start:0,startX:0,startY:0,current:0,currentX:0,currentY:0,diff:0,abs:0};o.positions={start:0,abs:0,diff:0,current:0};o.times={start:0,end:0};o.id=(new Date).getTime();o.container=e.nodeType?e:r(e)[0];o.isTouched=false;o.isMoved=false;o.activeIndex=0;o.activeLoaderIndex=0;o.activeLoopIndex=0;o.previousIndex=null;o.velocity=0;o.snapGrid=[];o.slidesGrid=[];o.imagesToLoad=[];o.imagesLoaded=0;o.wrapperLeft=0;o.wrapperRight=0;o.wrapperTop=0;o.wrapperBottom=0;var s,a,l,c,u,d;var f={mode:"horizontal",touchRatio:1,speed:300,freeMode:false,freeModeFluid:false,momentumRatio:1,momentumBounce:true,momentumBounceRatio:1,slidesPerView:1,slidesPerGroup:1,simulateTouch:true,followFinger:true,shortSwipes:true,moveStartThreshold:false,autoplay:false,onlyExternal:false,createPagination:true,pagination:false,paginationElement:"span",paginationClickable:false,paginationAsRange:true,resistance:true,scrollContainer:false,preventLinks:true,noSwiping:false,noSwipingClass:"swiper-no-swiping",initialSlide:0,keyboardControl:false,mousewheelControl:false,useCSS3Transforms:true,loop:false,loopAdditionalSlides:0,calculateHeight:false,updateOnImagesReady:true,releaseFormElements:true,watchActiveIndex:false,visibilityFullFit:false,offsetPxBefore:0,offsetPxAfter:0,offsetSlidesBefore:0,offsetSlidesAfter:0,centeredSlides:false,queueStartCallbacks:false,queueEndCallbacks:false,autoResize:true,resizeReInit:false,DOMAnimation:true,loader:{slides:[],slidesHTMLType:"inner",surroundGroups:1,logic:"reload",loadAllSlides:false},slideElement:"div",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",wrapperClass:"swiper-wrapper",paginationElementClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch",paginationVisibleClass:"swiper-visible-switch"};i=i||{};for(var h in f){if(h in i&&typeof i[h]==="object"){for(var p in f[h]){if(!(p in i[h])){i[h][p]=f[h][p]}}}else if(!(h in i)){i[h]=f[h]}}o.params=i;if(i.scrollContainer){i.freeMode=true;i.freeModeFluid=true}if(i.loop){i.resistance="100%"}var m=i.mode==="horizontal";o.touchEvents={touchStart:o.support.touch||!i.simulateTouch?"touchstart":o.browser.ie10?"MSPointerDown":"mousedown",touchMove:o.support.touch||!i.simulateTouch?"touchmove":o.browser.ie10?"MSPointerMove":"mousemove",touchEnd:o.support.touch||!i.simulateTouch?"touchend":o.browser.ie10?"MSPointerUp":"mouseup"};for(var g=o.container.childNodes.length-1;g>=0;g--){if(o.container.childNodes[g].className){var v=o.container.childNodes[g].className.split(" ");for(var w=0;w<v.length;w++){if(v[w]===i.wrapperClass){s=o.container.childNodes[g]}}}}o.wrapper=s;o._extendSwiperSlide=function(e){e.append=function(){if(i.loop){e.insertAfter(o.slides.length-o.loopedSlides);o.removeLoopedSlides();o.calcSlides();o.createLoop()}else{o.wrapper.appendChild(e)}o.reInit();return e};e.prepend=function(){if(i.loop){o.wrapper.insertBefore(e,o.slides[o.loopedSlides]);o.removeLoopedSlides();o.calcSlides();o.createLoop()}else{o.wrapper.insertBefore(e,o.wrapper.firstChild)}o.reInit();return e};e.insertAfter=function(t){if(typeof t==="undefined")return false;var n;if(i.loop){n=o.slides[t+1+o.loopedSlides];o.wrapper.insertBefore(e,n);o.removeLoopedSlides();o.calcSlides();o.createLoop()}else{n=o.slides[t+1];o.wrapper.insertBefore(e,n)}o.reInit();return e};e.clone=function(){return o._extendSwiperSlide(e.cloneNode(true))};e.remove=function(){o.wrapper.removeChild(e);o.reInit()};e.html=function(t){if(typeof t==="undefined"){return e.innerHTML}else{e.innerHTML=t;return e}};e.index=function(){var t;for(var i=o.slides.length-1;i>=0;i--){if(e===o.slides[i])t=i}return t};e.isActive=function(){if(e.index()===o.activeIndex)return true;else return false};if(!e.swiperSlideDataStorage)e.swiperSlideDataStorage={};e.getData=function(t){return e.swiperSlideDataStorage[t]};e.setData=function(t,i){e.swiperSlideDataStorage[t]=i;return e};e.data=function(t,i){if(!i){return e.getAttribute("data-"+t)}else{e.setAttribute("data-"+t,i);return e}};e.getWidth=function(t){return o.h.getWidth(e,t)};e.getHeight=function(t){return o.h.getHeight(e,t)};e.getOffset=function(){return o.h.getOffset(e)};return e};o.calcSlides=function(e){var t=o.slides?o.slides.length:false;o.slides=[];o.displaySlides=[];for(var n=0;n<o.wrapper.childNodes.length;n++){if(o.wrapper.childNodes[n].className){var r=o.wrapper.childNodes[n].className;var s=r.split(" ");for(var a=0;a<s.length;a++){if(s[a]===i.slideClass){o.slides.push(o.wrapper.childNodes[n])}}}}for(n=o.slides.length-1;n>=0;n--){o._extendSwiperSlide(o.slides[n])}if(!t)return;if(t!==o.slides.length||e){I();S();o.updateActiveSlide();if(i.createPagination&&o.params.pagination)o.createPagination();o.callPlugins("numberOfSlidesChanged")}};o.createSlide=function(e,t,n){var t=t||o.params.slideClass;var n=n||i.slideElement;var r=document.createElement(n);r.innerHTML=e||"";r.className=t;return o._extendSwiperSlide(r)};o.appendSlide=function(e,t,i){if(!e)return;if(e.nodeType){return o._extendSwiperSlide(e).append()}else{return o.createSlide(e,t,i).append()}};o.prependSlide=function(e,t,i){if(!e)return;if(e.nodeType){return o._extendSwiperSlide(e).prepend()}else{return o.createSlide(e,t,i).prepend()}};o.insertSlideAfter=function(e,t,i,n){if(typeof e==="undefined")return false;if(t.nodeType){return o._extendSwiperSlide(t).insertAfter(e)}else{return o.createSlide(t,i,n).insertAfter(e)}};o.removeSlide=function(e){if(o.slides[e]){if(i.loop){if(!o.slides[e+o.loopedSlides])return false;o.slides[e+o.loopedSlides].remove();o.removeLoopedSlides();o.calcSlides();o.createLoop()}else o.slides[e].remove();return true}else return false};o.removeLastSlide=function(){if(o.slides.length>0){if(i.loop){o.slides[o.slides.length-1-o.loopedSlides].remove();o.removeLoopedSlides();o.calcSlides();o.createLoop()}else o.slides[o.slides.length-1].remove();return true}else{return false}};o.removeAllSlides=function(){for(var e=o.slides.length-1;e>=0;e--){o.slides[e].remove()}};o.getSlide=function(e){return o.slides[e]};o.getLastSlide=function(){return o.slides[o.slides.length-1]};o.getFirstSlide=function(){return o.slides[0]};o.activeSlide=function(){return o.slides[o.activeIndex]};var b=[];for(var y in o.plugins){if(i[y]){var _=o.plugins[y](o,i[y]);if(_)b.push(_)}}o.callPlugins=function(e,t){if(!t)t={};for(var i=0;i<b.length;i++){if(e in b[i]){b[i][e](t)}}};if(o.browser.ie10&&!i.onlyExternal){if(m)o.wrapper.classList.add("swiper-wp8-horizontal");else o.wrapper.classList.add("swiper-wp8-vertical")}if(i.freeMode){o.container.className+=" swiper-free-mode"}o.initialized=false;o.init=function(e,t){var n=o.h.getWidth(o.container);var r=o.h.getHeight(o.container);if(n===o.width&&r===o.height&&!e)return;o.width=n;o.height=r;d=m?n:r;var s=o.wrapper;if(e){o.calcSlides(t)}if(i.slidesPerView==="auto"){var c=0;var u=0;if(i.slidesOffset>0){s.style.paddingLeft="";s.style.paddingRight="";s.style.paddingTop="";s.style.paddingBottom=""}s.style.width="";s.style.height="";if(i.offsetPxBefore>0){if(m)o.wrapperLeft=i.offsetPxBefore;else o.wrapperTop=i.offsetPxBefore}if(i.offsetPxAfter>0){if(m)o.wrapperRight=i.offsetPxAfter;else o.wrapperBottom=i.offsetPxAfter}if(i.centeredSlides){if(m){o.wrapperLeft=(d-this.slides[0].getWidth(true))/2;o.wrapperRight=(d-o.slides[o.slides.length-1].getWidth(true))/2}else{o.wrapperTop=(d-o.slides[0].getHeight(true))/2;o.wrapperBottom=(d-o.slides[o.slides.length-1].getHeight(true))/2}}if(m){if(o.wrapperLeft>=0)s.style.paddingLeft=o.wrapperLeft+"px";if(o.wrapperRight>=0)s.style.paddingRight=o.wrapperRight+"px"}else{if(o.wrapperTop>=0)s.style.paddingTop=o.wrapperTop+"px";if(o.wrapperBottom>=0)s.style.paddingBottom=o.wrapperBottom+"px"}var f=0;var h=0;o.snapGrid=[];o.slidesGrid=[];var p=0;for(var g=0;g<o.slides.length;g++){var v=o.slides[g].getWidth(true);var w=o.slides[g].getHeight(true);if(i.calculateHeight){p=Math.max(p,w)}var b=m?v:w;if(i.centeredSlides){var y=g===o.slides.length-1?0:o.slides[g+1].getWidth(true);var _=g===o.slides.length-1?0:o.slides[g+1].getHeight(true);var E=m?y:_;if(b>d){for(var T=0;T<=Math.floor(b/(d+o.wrapperLeft));T++){if(T===0)o.snapGrid.push(f+o.wrapperLeft);else o.snapGrid.push(f+o.wrapperLeft+d*T)}o.slidesGrid.push(f+o.wrapperLeft)}else{o.snapGrid.push(h);o.slidesGrid.push(h)}h+=b/2+E/2}else{if(b>d){for(var T=0;T<=Math.floor(b/d);T++){o.snapGrid.push(f+d*T)}}else{o.snapGrid.push(f)}o.slidesGrid.push(f)}f+=b;c+=v;u+=w}if(i.calculateHeight)o.height=p;if(m){l=c+o.wrapperRight+o.wrapperLeft;s.style.width=c+"px";s.style.height=o.height+"px"}else{l=u+o.wrapperTop+o.wrapperBottom;s.style.width=o.width+"px";s.style.height=u+"px"}}else if(i.scrollContainer){s.style.width="";s.style.height="";var C=o.slides[0].getWidth(true);var S=o.slides[0].getHeight(true);l=m?C:S;s.style.width=C+"px";s.style.height=S+"px";a=m?C:S}else{if(i.calculateHeight){var p=0;var S=0;if(!m)o.container.style.height="";s.style.height="";for(var g=0;g<o.slides.length;g++){o.slides[g].style.height="";p=Math.max(o.slides[g].getHeight(true),p);if(!m)S+=o.slides[g].getHeight(true)}var w=p;if(m)var S=w;d=o.height=w;if(!m)o.container.style.height=d+"px"}else{var w=m?o.height:o.height/i.slidesPerView;var S=m?o.height:o.slides.length*w}var v=m?o.width/i.slidesPerView:o.width;var C=m?o.slides.length*v:o.width;a=m?v:w;if(i.offsetSlidesBefore>0){if(m)o.wrapperLeft=a*i.offsetSlidesBefore;else o.wrapperTop=a*i.offsetSlidesBefore}if(i.offsetSlidesAfter>0){if(m)o.wrapperRight=a*i.offsetSlidesAfter;else o.wrapperBottom=a*i.offsetSlidesAfter}if(i.offsetPxBefore>0){if(m)o.wrapperLeft=i.offsetPxBefore;else o.wrapperTop=i.offsetPxBefore;
}if(i.offsetPxAfter>0){if(m)o.wrapperRight=i.offsetPxAfter;else o.wrapperBottom=i.offsetPxAfter}if(i.centeredSlides){if(m){o.wrapperLeft=(d-a)/2;o.wrapperRight=(d-a)/2}else{o.wrapperTop=(d-a)/2;o.wrapperBottom=(d-a)/2}}if(m){if(o.wrapperLeft>0)s.style.paddingLeft=o.wrapperLeft+"px";if(o.wrapperRight>0)s.style.paddingRight=o.wrapperRight+"px"}else{if(o.wrapperTop>0)s.style.paddingTop=o.wrapperTop+"px";if(o.wrapperBottom>0)s.style.paddingBottom=o.wrapperBottom+"px"}l=m?C+o.wrapperRight+o.wrapperLeft:S+o.wrapperTop+o.wrapperBottom;s.style.width=C+"px";s.style.height=S+"px";var f=0;o.snapGrid=[];o.slidesGrid=[];for(var g=0;g<o.slides.length;g++){o.snapGrid.push(f);o.slidesGrid.push(f);f+=a;o.slides[g].style.width=v+"px";o.slides[g].style.height=w+"px"}}if(!o.initialized)o.callPlugins("onFirstInit");else o.callPlugins("onInit");o.initialized=true};o.reInit=function(e){o.init(true,e)};o.resizeFix=function(e){o.callPlugins("beforeResizeFix");o.init(i.resizeReInit||e);if(!i.freeMode){if(i.loop)o.swipeTo(o.activeLoopIndex,0,false);else o.swipeTo(o.activeIndex,0,false)}else{var t=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");if(t<-E()){var n=m?-E():0;var r=m?0:-E();o.setWrapperTransition(0);o.setWrapperTranslate(n,r,0)}}o.callPlugins("afterResizeFix")};function E(){var e=l-d;if(i.freeMode){e=l-d}if(i.slidesPerView>o.slides.length)e=0;if(e<0)e=0;return e}function T(){var e=0;return e}function C(){if(!o.browser.ie10){if(o.support.touch){o.h.addEventListener(o.wrapper,"touchstart",L,false);o.h.addEventListener(o.wrapper,"touchmove",F,false);o.h.addEventListener(o.wrapper,"touchend",H,false)}if(i.simulateTouch){o.h.addEventListener(o.wrapper,"mousedown",L,false);o.h.addEventListener(document,"mousemove",F,false);o.h.addEventListener(document,"mouseup",H,false)}}else{o.h.addEventListener(o.wrapper,o.touchEvents.touchStart,L,false);o.h.addEventListener(document,o.touchEvents.touchMove,F,false);o.h.addEventListener(document,o.touchEvents.touchEnd,H,false)}if(i.autoResize){o.h.addEventListener(window,"resize",o.resizeFix,false)}S();o._wheelEvent=false;if(i.mousewheelControl){if(document.onmousewheel!==undefined){o._wheelEvent="mousewheel"}try{WheelEvent("wheel");o._wheelEvent="wheel"}catch(e){}if(!o._wheelEvent){o._wheelEvent="DOMMouseScroll"}if(o._wheelEvent){o.h.addEventListener(o.container,o._wheelEvent,k,false)}}if(i.keyboardControl){o.h.addEventListener(document,"keydown",O,false)}if(i.updateOnImagesReady){if(document.querySelectorAll)o.imagesToLoad=o.container.querySelectorAll("img");else if(window.jQuery)o.imagesToLoad=r(o.container).find("img");for(var e=0;e<o.imagesToLoad.length;e++){t(o.imagesToLoad[e].getAttribute("src"))}}function t(e){var t=new Image;t.onload=function(){o.imagesLoaded++;if(o.imagesLoaded==o.imagesToLoad.length){o.reInit();if(i.onImagesReady)i.onImagesReady(o)}};t.src=e}}o.destroy=function(e){if(!o.browser.ie10){if(o.support.touch){o.h.removeEventListener(o.wrapper,"touchstart",L,false);o.h.removeEventListener(o.wrapper,"touchmove",F,false);o.h.removeEventListener(o.wrapper,"touchend",H,false)}if(i.simulateTouch){o.h.removeEventListener(o.wrapper,"mousedown",L,false);o.h.removeEventListener(document,"mousemove",F,false);o.h.removeEventListener(document,"mouseup",H,false)}}else{o.h.removeEventListener(o.wrapper,o.touchEvents.touchStart,L,false);o.h.removeEventListener(document,o.touchEvents.touchMove,F,false);o.h.removeEventListener(document,o.touchEvents.touchEnd,H,false)}if(i.autoResize){o.h.removeEventListener(window,"resize",o.resizeFix,false)}I();if(i.paginationClickable){$()}if(i.mousewheelControl&&o._wheelEvent){o.h.removeEventListener(o.container,o._wheelEvent,k,false)}if(i.keyboardControl){o.h.removeEventListener(document,"keydown",O,false)}if(i.autoplay){o.stopAutoplay()}o.callPlugins("onDestroy")};function S(){if(i.preventLinks){var e=[];if(document.querySelectorAll){e=o.container.querySelectorAll("a")}else if(window.jQuery){e=r(o.container).find("a")}for(var t=0;t<e.length;t++){o.h.addEventListener(e[t],"click",R,false)}}if(i.releaseFormElements){var n=document.querySelectorAll?o.container.querySelectorAll("input, textarea, select"):r(o.container).find("input, textarea, select");for(var t=0;t<n.length;t++){o.h.addEventListener(n[t],o.touchEvents.touchStart,P,true)}}if(i.onSlideClick){for(var t=0;t<o.slides.length;t++){o.h.addEventListener(o.slides[t],"click",x,false)}}if(i.onSlideTouch){for(var t=0;t<o.slides.length;t++){o.h.addEventListener(o.slides[t],o.touchEvents.touchStart,D,false)}}}function I(){if(i.onSlideClick){for(var e=0;e<o.slides.length;e++){o.h.removeEventListener(o.slides[e],"click",x,false)}}if(i.onSlideTouch){for(var e=0;e<o.slides.length;e++){o.h.removeEventListener(o.slides[e],o.touchEvents.touchStart,D,false)}}if(i.releaseFormElements){var t=document.querySelectorAll?o.container.querySelectorAll("input, textarea, select"):r(o.container).find("input, textarea, select");for(var e=0;e<t.length;e++){o.h.removeEventListener(t[e],o.touchEvents.touchStart,P,true)}}if(i.preventLinks){var n=[];if(document.querySelectorAll){n=o.container.querySelectorAll("a")}else if(window.jQuery){n=r(o.container).find("a")}for(var e=0;e<n.length;e++){o.h.removeEventListener(n[e],"click",R,false)}}}function O(e){var t=e.keyCode||e.charCode;if(t==37||t==39||t==38||t==40){var i=false;var n=o.h.getOffset(o.container);var r=o.h.windowScroll().left;var s=o.h.windowScroll().top;var a=o.h.windowWidth();var l=o.h.windowHeight();var c=[[n.left,n.top],[n.left+o.width,n.top],[n.left,n.top+o.height],[n.left+o.width,n.top+o.height]];for(var u=0;u<c.length;u++){var d=c[u];if(d[0]>=r&&d[0]<=r+a&&d[1]>=s&&d[1]<=s+l){i=true}}if(!i)return}if(m){if(t==37||t==39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t==39)o.swipeNext();if(t==37)o.swipePrev()}else{if(t==38||t==40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t==40)o.swipeNext();if(t==38)o.swipePrev()}}function k(e){var t=o._wheelEvent;var n;if(e.detail)n=-e.detail;else if(t=="mousewheel")n=e.wheelDelta;else if(t=="DOMMouseScroll")n=-e.detail;else if(t=="wheel"){n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY}if(!i.freeMode){if(n<0)o.swipeNext();else o.swipePrev()}else{var r=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");var s,a;if(m){s=o.getWrapperTranslate("x")+n;a=o.getWrapperTranslate("y");if(s>0)s=0;if(s<-E())s=-E()}else{s=o.getWrapperTranslate("x");a=o.getWrapperTranslate("y")+n;if(a>0)a=0;if(a<-E())a=-E()}o.setWrapperTransition(0);o.setWrapperTranslate(s,a,0)}if(i.autoplay)o.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}if(i.grabCursor){o.container.style.cursor="move";o.container.style.cursor="grab";o.container.style.cursor="-moz-grab";o.container.style.cursor="-webkit-grab"}o.allowSlideClick=true;function x(e){if(o.allowSlideClick){o.clickedSlide=this;o.clickedSlideIndex=o.slides.indexOf(this);i.onSlideClick(o)}}function D(e){o.clickedSlide=this;o.clickedSlideIndex=o.slides.indexOf(this);i.onSlideTouch(o)}o.allowLinks=true;function R(e){if(!o.allowLinks){if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}}function P(e){if(e.stopPropagation)e.stopPropagation();else e.returnValue=false;return false}var A=false;var N;var M=true;function L(e){if(i.preventLinks)o.allowLinks=true;if(o.isTouched||i.onlyExternal){return false}if(i.noSwiping&&e.target&&e.target.className&&e.target.className.indexOf(i.noSwipingClass)>-1)return false;M=false;o.isTouched=true;A=e.type=="touchstart";if(!A||e.targetTouches.length==1){if(i.loop)o.fixLoop();o.callPlugins("onTouchStartBegin");if(!A){if(e.preventDefault)e.preventDefault();else e.returnValue=false}var t=A?e.targetTouches[0].pageX:e.pageX||e.clientX;var n=A?e.targetTouches[0].pageY:e.pageY||e.clientY;o.touches.startX=o.touches.currentX=t;o.touches.startY=o.touches.currentY=n;o.touches.start=o.touches.current=m?t:n;o.setWrapperTransition(0);o.positions.start=o.positions.current=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");if(m){o.setWrapperTranslate(o.positions.start,0,0)}else{o.setWrapperTranslate(0,o.positions.start,0)}o.times.start=(new Date).getTime();u=undefined;if(i.moveStartThreshold>0)N=false;if(i.onTouchStart)i.onTouchStart(o);o.callPlugins("onTouchStartEnd")}}var B,K;function F(e){if(!o.isTouched||i.onlyExternal)return;if(A&&e.type=="mousemove")return;var t=A?e.targetTouches[0].pageX:e.pageX||e.clientX;var n=A?e.targetTouches[0].pageY:e.pageY||e.clientY;if(typeof u==="undefined"&&m){u=!!(u||Math.abs(n-o.touches.startY)>Math.abs(t-o.touches.startX))}if(typeof u==="undefined"&&!m){u=!!(u||Math.abs(n-o.touches.startY)<Math.abs(t-o.touches.startX))}if(u){o.isTouched=false;return}if(e.assignedToSwiper){o.isTouched=false;return}e.assignedToSwiper=true;o.isMoved=true;if(i.preventLinks){o.allowLinks=false}if(i.onSlideClick){o.allowSlideClick=false}if(i.autoplay){o.stopAutoplay()}if(!A||e.touches.length==1){o.callPlugins("onTouchMoveStart");if(e.preventDefault)e.preventDefault();else e.returnValue=false;o.touches.current=m?t:n;o.positions.current=(o.touches.current-o.touches.start)*i.touchRatio+o.positions.start;if(o.positions.current>0&&i.onResistanceBefore){i.onResistanceBefore(o,o.positions.current)}if(o.positions.current<-E()&&i.onResistanceBefore){i.onResistanceAfter(o,Math.abs(o.positions.current+E()))}if(i.resistance&&i.resistance!="100%"){if(o.positions.current>0){var r=1-o.positions.current/d/2;if(r<.5)o.positions.current=d/2;else o.positions.current=o.positions.current*r}if(o.positions.current<-E()){var s=(o.touches.current-o.touches.start)*i.touchRatio+(E()+o.positions.start);var r=(d+s)/d;var a=o.positions.current-s*(1-r)/2;var l=-E()-d/2;if(a<l||r<=0)o.positions.current=l;else o.positions.current=a}}if(i.resistance&&i.resistance=="100%"){if(o.positions.current>0&&!(i.freeMode&&!i.freeModeFluid)){o.positions.current=0}if(o.positions.current<-E()&&!(i.freeMode&&!i.freeModeFluid)){o.positions.current=-E()}}if(!i.followFinger)return;if(!i.moveStartThreshold){if(m)o.setWrapperTranslate(o.positions.current,0,0);else o.setWrapperTranslate(0,o.positions.current,0)}else{if(Math.abs(o.touches.current-o.touches.start)>i.moveStartThreshold||N){N=true;if(m)o.setWrapperTranslate(o.positions.current,0,0);else o.setWrapperTranslate(0,o.positions.current,0)}else{o.positions.current=o.positions.start}}if(i.freeMode||i.watchActiveIndex){o.updateActiveSlide(o.positions.current)}if(i.grabCursor){o.container.style.cursor="move";o.container.style.cursor="grabbing";o.container.style.cursor="-moz-grabbin";o.container.style.cursor="-webkit-grabbing"}if(!B)B=o.touches.current;if(!K)K=(new Date).getTime();o.velocity=(o.touches.current-B)/((new Date).getTime()-K)/2;if(Math.abs(o.touches.current-B)<2)o.velocity=0;B=o.touches.current;K=(new Date).getTime();o.callPlugins("onTouchMoveEnd");if(i.onTouchMove)i.onTouchMove(o);return false}}function H(e){if(u){o.swipeReset()}if(i.onlyExternal||!o.isTouched)return;o.isTouched=false;if(i.grabCursor){o.container.style.cursor="move";o.container.style.cursor="grab";o.container.style.cursor="-moz-grab";o.container.style.cursor="-webkit-grab"}if(!o.positions.current&&o.positions.current!==0){o.positions.current=o.positions.start}if(i.followFinger){if(m)o.setWrapperTranslate(o.positions.current,0,0);else o.setWrapperTranslate(0,o.positions.current,0)}o.times.end=(new Date).getTime();o.touches.diff=o.touches.current-o.touches.start;o.touches.abs=Math.abs(o.touches.diff);o.positions.diff=o.positions.current-o.positions.start;o.positions.abs=Math.abs(o.positions.diff);var t=o.positions.diff;var n=o.positions.abs;var r=o.times.end-o.times.start;if(n<5&&r<300&&o.allowLinks==false){if(!i.freeMode&&n!=0)o.swipeReset();if(i.preventLinks){o.allowLinks=true}if(i.onSlideClick){o.allowSlideClick=true}}setTimeout(function(){if(i.preventLinks){o.allowLinks=true}if(i.onSlideClick){o.allowSlideClick=true}},100);if(!o.isMoved){o.isMoved=false;if(i.onTouchEnd)i.onTouchEnd(o);o.callPlugins("onTouchEnd");return}o.isMoved=false;var s=E();if(o.positions.current>0){o.swipeReset();if(i.onTouchEnd)i.onTouchEnd(o);o.callPlugins("onTouchEnd");return}if(o.positions.current<-s){o.swipeReset();if(i.onTouchEnd)i.onTouchEnd(o);o.callPlugins("onTouchEnd");return}if(i.freeMode){if(i.freeModeFluid){var l=1e3*i.momentumRatio;var f=o.velocity*l;var h=o.positions.current+f;var p=false;var g;var v=Math.abs(o.velocity)*20*i.momentumBounceRatio;if(h<-s){if(i.momentumBounce&&o.support.transitions){if(h+s<-v)h=-s-v;g=-s;p=true;M=true}else h=-s}if(h>0){if(i.momentumBounce&&o.support.transitions){if(h>v)h=v;g=0;p=true;M=true}else h=0}if(o.velocity!=0)l=Math.abs((h-o.positions.current)/o.velocity);if(m)o.setWrapperTranslate(h,0,0);else o.setWrapperTranslate(0,h,0);o.setWrapperTransition(l);if(i.momentumBounce&&p){o.wrapperTransitionEnd(function(){if(!M)return;if(i.onMomentumBounce)i.onMomentumBounce(o);if(m)o.setWrapperTranslate(g,0,0);else o.setWrapperTranslate(0,g,0);o.setWrapperTransition(300)})}o.updateActiveSlide(h)}if(!i.freeModeFluid||r>=300)o.updateActiveSlide(o.positions.current);if(i.onTouchEnd)i.onTouchEnd(o);o.callPlugins("onTouchEnd");return}c=t<0?"toNext":"toPrev";if(c=="toNext"&&r<=300){if(n<30||!i.shortSwipes)o.swipeReset();else o.swipeNext(true)}if(c=="toPrev"&&r<=300){if(n<30||!i.shortSwipes)o.swipeReset();else o.swipePrev(true)}var w=0;if(i.slidesPerView=="auto"){var b=Math.abs(m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y"));var y=0;var _;for(var T=0;T<o.slides.length;T++){_=m?o.slides[T].getWidth(true):o.slides[T].getHeight(true);y+=_;if(y>b){w=_;break}}if(w>d)w=d}else{w=a*i.slidesPerView}if(c=="toNext"&&r>300){if(n>=w*.5){o.swipeNext(true)}else{o.swipeReset()}}if(c=="toPrev"&&r>300){if(n>=w*.5){o.swipePrev(true)}else{o.swipeReset()}}if(i.onTouchEnd)i.onTouchEnd(o);o.callPlugins("onTouchEnd")}o.swipeNext=function(e){if(!e&&i.loop)o.fixLoop();o.callPlugins("onSwipeNext");var t=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");var n=t;if(i.slidesPerView=="auto"){for(var r=0;r<o.snapGrid.length;r++){if(-t>=o.snapGrid[r]&&-t<o.snapGrid[r+1]){n=-o.snapGrid[r+1];break}}}else{var s=a*i.slidesPerGroup;n=-(Math.floor(Math.abs(t)/Math.floor(s))*s+s)}if(n<-E()){n=-E()}if(n==t)return false;W(n,"next");return true};o.swipePrev=function(e){if(!e&&i.loop)o.fixLoop();if(!e&&i.autoplay)o.stopAutoplay();o.callPlugins("onSwipePrev");var t=Math.ceil(m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y"));var n;if(i.slidesPerView=="auto"){n=0;for(var r=1;r<o.snapGrid.length;r++){if(-t==o.snapGrid[r]){n=-o.snapGrid[r-1];break}if(-t>o.snapGrid[r]&&-t<o.snapGrid[r+1]){n=-o.snapGrid[r];break}}}else{var s=a*i.slidesPerGroup;n=-(Math.ceil(-t/s)-1)*s}if(n>0)n=0;if(n==t)return false;W(n,"prev");return true};o.swipeReset=function(){o.callPlugins("onSwipeReset");var e=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");var t=a*i.slidesPerGroup;var n;var r=-E();if(i.slidesPerView=="auto"){n=0;for(var s=0;s<o.snapGrid.length;s++){if(-e===o.snapGrid[s])return;if(-e>=o.snapGrid[s]&&-e<o.snapGrid[s+1]){if(o.positions.diff>0)n=-o.snapGrid[s+1];else n=-o.snapGrid[s];break}}if(-e>=o.snapGrid[o.snapGrid.length-1])n=-o.snapGrid[o.snapGrid.length-1];if(e<=-E())n=-E()}else{n=e<0?Math.round(e/t)*t:0}if(i.scrollContainer){n=e<0?e:0}if(n<-E()){n=-E()}if(i.scrollContainer&&d>a){n=0}if(n==e)return false;W(n,"reset");return true};o.swipeTo=function(e,t,n){e=parseInt(e,10);o.callPlugins("onSwipeTo",{index:e,speed:t});if(i.loop)e=e+o.loopedSlides;var r=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");if(e>o.slides.length-1)return;if(e<0)return;var s;if(i.slidesPerView=="auto"){s=-o.slidesGrid[e]}else{s=-e*a}if(s<-E()){s=-E()}if(s==r)return false;n=n===false?false:true;W(s,"to",{index:e,speed:t,runCallbacks:n});return true};function W(e,t,n){if(o.support.transitions||!i.DOMAnimation){if(m)o.setWrapperTranslate(e,0,0);else o.setWrapperTranslate(0,e,0);var r=t=="to"&&n.speed>=0?n.speed:i.speed;o.setWrapperTransition(r)}else{var s=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");var r=t=="to"&&n.speed>=0?n.speed:i.speed;var a=Math.ceil((e-s)/r*(1e3/60));var l=s>e?"toNext":"toPrev";var c=l=="toNext"?s>e:s<e;if(o._DOMAnimating)return;u()}function u(){s+=a;c=l=="toNext"?s>e:s<e;if(c){if(m)o.setWrapperTranslate(Math.round(s),0);else o.setWrapperTranslate(0,Math.round(s));o._DOMAnimating=true;window.setTimeout(function(){u()},1e3/60)}else{if(i.onSlideChangeEnd)i.onSlideChangeEnd(o);if(m)o.setWrapperTranslate(e,0);else o.setWrapperTranslate(0,e);o._DOMAnimating=false}}o.updateActiveSlide(e);if(i.onSlideNext&&t=="next"){i.onSlideNext(o,e)}if(i.onSlidePrev&&t=="prev"){i.onSlidePrev(o,e)}if(i.onSlideReset&&t=="reset"){i.onSlideReset(o,e)}if(t=="next"||t=="prev"||t=="to"&&n.runCallbacks==true)j()}o._queueStartCallbacks=false;o._queueEndCallbacks=false;function j(){o.callPlugins("onSlideChangeStart");if(i.onSlideChangeStart){if(i.queueStartCallbacks&&o.support.transitions){if(o._queueStartCallbacks)return;o._queueStartCallbacks=true;i.onSlideChangeStart(o);o.wrapperTransitionEnd(function(){o._queueStartCallbacks=false})}else i.onSlideChangeStart(o)}if(i.onSlideChangeEnd){if(o.support.transitions){if(i.queueEndCallbacks){if(o._queueEndCallbacks)return;o._queueEndCallbacks=true;o.wrapperTransitionEnd(i.onSlideChangeEnd)}else o.wrapperTransitionEnd(i.onSlideChangeEnd)}else{if(!i.DOMAnimation){setTimeout(function(){i.onSlideChangeEnd(o)},10)}}}}o.updateActiveSlide=function(e){if(!o.initialized)return;if(o.slides.length==0)return;o.previousIndex=o.activeIndex;if(e>0)e=0;if(typeof e=="undefined")e=m?o.getWrapperTranslate("x"):o.getWrapperTranslate("y");if(i.slidesPerView=="auto"){var t=0;o.activeIndex=o.slidesGrid.indexOf(-e);if(o.activeIndex<0){for(var n=0;n<o.slidesGrid.length-1;n++){if(-e>o.slidesGrid[n]&&-e<o.slidesGrid[n+1]){break}}var r=Math.abs(o.slidesGrid[n]+e);var s=Math.abs(o.slidesGrid[n+1]+e);if(r<=s)o.activeIndex=n;else o.activeIndex=n+1}}else{if(i.visibilityFullFit)o.activeIndex=Math.ceil(-e/a);else o.activeIndex=Math.round(-e/a)}if(o.activeIndex==o.slides.length)o.activeIndex=o.slides.length-1;if(o.activeIndex<0)o.activeIndex=0;if(!o.slides[o.activeIndex])return;o.calcVisibleSlides(e);var l=new RegExp("\\s*"+i.slideActiveClass);var c=new RegExp("\\s*"+i.slideVisibleClass);for(var n=0;n<o.slides.length;n++){o.slides[n].className=o.slides[n].className.replace(l,"").replace(c,"");if(o.visibleSlides.indexOf(o.slides[n])>=0){o.slides[n].className+=" "+i.slideVisibleClass}}o.slides[o.activeIndex].className+=" "+i.slideActiveClass;if(i.loop){var u=o.loopedSlides;o.activeLoopIndex=o.activeIndex-u;if(o.activeLoopIndex>=o.slides.length-u*2){o.activeLoopIndex=o.slides.length-u*2-o.activeLoopIndex}if(o.activeLoopIndex<0){o.activeLoopIndex=o.slides.length-u*2+o.activeLoopIndex}}else{o.activeLoopIndex=o.activeIndex}if(i.pagination){o.updatePagination(e)}};o.createPagination=function(e){if(i.paginationClickable&&o.paginationButtons){$()}var t="";var n=o.slides.length;var s=n;if(i.loop)s-=o.loopedSlides*2;for(var a=0;a<s;a++){t+="<"+i.paginationElement+' class="'+i.paginationElementClass+'"></'+i.paginationElement+">"}o.paginationContainer=i.pagination.nodeType?i.pagination:r(i.pagination)[0];o.paginationContainer.innerHTML=t;o.paginationButtons=[];if(document.querySelectorAll)o.paginationButtons=o.paginationContainer.querySelectorAll("."+i.paginationElementClass);else if(window.jQuery)o.paginationButtons=r(o.paginationContainer).find("."+i.paginationElementClass);if(!e)o.updatePagination();o.callPlugins("onCreatePagination");if(i.paginationClickable){z()}};function $(){var e=o.paginationButtons;for(var t=0;t<e.length;t++){o.h.removeEventListener(e[t],"click",V,false)}}function z(){var e=o.paginationButtons;for(var t=0;t<e.length;t++){o.h.addEventListener(e[t],"click",V,false)}}function V(e){var t;var i=e.target||e.srcElement;var n=o.paginationButtons;for(var r=0;r<n.length;r++){if(i===n[r])t=r}o.swipeTo(t)}o.updatePagination=function(e){if(o.slides.length<1)return;if(document.querySelectorAll)var t=o.paginationContainer.querySelectorAll("."+i.paginationActiveClass);else if(window.jQuery)var t=r(o.paginationContainer).find("."+i.paginationActiveClass);if(!t)return;var n=o.paginationButtons;for(var s=0;s<n.length;s++){n[s].className=i.paginationElementClass}var a=i.loop?o.loopedSlides:0;if(i.paginationAsRange){if(!o.visibleSlides)o.calcVisibleSlides(e);var l=[];for(var s=0;s<o.visibleSlides.length;s++){var c=o.slides.indexOf(o.visibleSlides[s])-a;if(i.loop&&c<0){c=o.slides.length-o.loopedSlides*2+c}if(i.loop&&c>=o.slides.length-o.loopedSlides*2){c=o.slides.length-o.loopedSlides*2-c;c=Math.abs(c)}l.push(c)}for(s=0;s<l.length;s++){if(n[l[s]])n[l[s]].className+=" "+i.paginationVisibleClass}if(i.loop){n[o.activeLoopIndex].className+=" "+i.paginationActiveClass}else{n[o.activeIndex].className+=" "+i.paginationActiveClass}}else{if(i.loop){n[o.activeLoopIndex].className+=" "+i.paginationActiveClass+" "+i.paginationVisibleClass}else{n[o.activeIndex].className+=" "+i.paginationActiveClass+" "+i.paginationVisibleClass}}};o.calcVisibleSlides=function(e){var t=[];var n=0,r=0,s=0;if(m&&o.wrapperLeft>0)e=e+o.wrapperLeft;if(!m&&o.wrapperTop>0)e=e+o.wrapperTop;for(var l=0;l<o.slides.length;l++){n+=r;if(i.slidesPerView=="auto")r=m?o.h.getWidth(o.slides[l],true):o.h.getHeight(o.slides[l],true);else r=a;s=n+r;var c=false;if(i.visibilityFullFit){if(n>=-e&&s<=-e+d)c=true;if(n<=-e&&s>=-e+d)c=true}else{if(s>-e&&s<=-e+d)c=true;if(n>=-e&&n<-e+d)c=true;if(n<-e&&s>-e+d)c=true}if(c)t.push(o.slides[l])}if(t.length==0)t=[o.slides[o.activeIndex]];o.visibleSlides=t};var U=undefined;o.startAutoplay=function(){if(typeof U!=="undefined")return false;if(i.autoplay&&!i.loop){U=setInterval(function(){if(!o.swipeNext(true))o.swipeTo(0)},i.autoplay)}if(i.autoplay&&i.loop){autoPlay=setInterval(function(){o.swipeNext()},i.autoplay)}o.callPlugins("onAutoplayStart")};o.stopAutoplay=function(){if(U)clearInterval(U);U=undefined;o.callPlugins("onAutoplayStop")};o.loopCreated=false;o.removeLoopedSlides=function(){if(o.loopCreated){for(var e=0;e<o.slides.length;e++){if(o.slides[e].getData("looped")===true)o.wrapper.removeChild(o.slides[e])}}};o.createLoop=function(){if(o.slides.length==0)return;o.loopedSlides=i.slidesPerView+i.loopAdditionalSlides;var e="";var t="";for(var n=0;n<o.loopedSlides;n++){e+=o.slides[n].outerHTML}for(n=o.slides.length-o.loopedSlides;n<o.slides.length;n++){t+=o.slides[n].outerHTML}s.innerHTML=t+s.innerHTML+e;o.loopCreated=true;o.calcSlides();for(n=0;n<o.slides.length;n++){if(n<o.loopedSlides||n>=o.slides.length-o.loopedSlides)o.slides[n].setData("looped",true)}o.callPlugins("onCreateLoop")};o.fixLoop=function(){if(o.activeIndex<o.loopedSlides){var e=o.slides.length-o.loopedSlides*3+o.activeIndex;o.swipeTo(e,0,false)}else if(o.activeIndex>o.slides.length-i.slidesPerView*2){var e=-o.slides.length+o.activeIndex+o.loopedSlides;o.swipeTo(e,0,false)}};o.loadSlides=function(){var e="";o.activeLoaderIndex=0;var t=i.loader.slides;var n=i.loader.loadAllSlides?t.length:i.slidesPerView*(1+i.loader.surroundGroups);for(var r=0;r<n;r++){if(i.loader.slidesHTMLType=="outer")e+=t[r];else{e+="<"+i.slideElement+' class="'+i.slideClass+'" data-swiperindex="'+r+'">'+t[r]+"</"+i.slideElement+">"}}o.wrapper.innerHTML=e;o.calcSlides(true);if(!i.loader.loadAllSlides){o.wrapperTransitionEnd(o.reloadSlides,true)}};o.reloadSlides=function(){var e=i.loader.slides;var t=parseInt(o.activeSlide().data("swiperindex"),10);if(t<0||t>e.length-1)return;o.activeLoaderIndex=t;var n=Math.max(0,t-i.slidesPerView*i.loader.surroundGroups);var r=Math.min(t+i.slidesPerView*(1+i.loader.surroundGroups)-1,e.length-1);if(t>0){var s=-a*(t-n);if(m)o.setWrapperTranslate(s,0,0);else o.setWrapperTranslate(0,s,0);o.setWrapperTransition(0)}if(i.loader.logic==="reload"){o.wrapper.innerHTML="";var l="";for(var c=n;c<=r;c++){l+=i.loader.slidesHTMLType=="outer"?e[c]:"<"+i.slideElement+' class="'+i.slideClass+'" data-swiperindex="'+c+'">'+e[c]+"</"+i.slideElement+">"}o.wrapper.innerHTML=l}else{var u=1e3;var d=0;for(var c=0;c<o.slides.length;c++){var f=o.slides[c].data("swiperindex");if(f<n||f>r){o.wrapper.removeChild(o.slides[c])}else{u=Math.min(f,u);d=Math.max(f,d)}}for(var c=n;c<=r;c++){if(c<u){var h=document.createElement(i.slideElement);h.className=i.slideClass;h.setAttribute("data-swiperindex",c);h.innerHTML=e[c];o.wrapper.insertBefore(h,o.wrapper.firstChild)}if(c>d){var h=document.createElement(i.slideElement);h.className=i.slideClass;h.setAttribute("data-swiperindex",c);h.innerHTML=e[c];o.wrapper.appendChild(h)}}}o.reInit(true)};function G(){o.calcSlides();if(i.loader.slides.length>0&&o.slides.length==0){o.loadSlides()}if(i.loop){o.createLoop()}o.init();C();if(i.pagination&&i.createPagination){o.createPagination(true)}if(i.loop||i.initialSlide>0){o.swipeTo(i.initialSlide,0,false)}else{o.updateActiveSlide(0)}if(i.autoplay){o.startAutoplay()}}G()};i.prototype={plugins:{},wrapperTransitionEnd:function(e,t){var i=this;var n=i.wrapper;var r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];function o(){e(i);if(i.params.queueEndCallbacks)i._queueEndCallbacks=false;if(!t){for(var s=0;s<r.length;s++){n.removeEventListener(r[s],o,false)}}}if(e){for(var s=0;s<r.length;s++){n.addEventListener(r[s],o,false)}}},getWrapperTranslate:function(e){var t=this.wrapper;var i;var n;if(window.WebKitCSSMatrix){var r=new WebKitCSSMatrix(window.getComputedStyle(t,null).webkitTransform);i=r.toString().split(",")}else{var r=window.getComputedStyle(t,null).MozTransform||window.getComputedStyle(t,null).OTransform||window.getComputedStyle(t,null).MsTransform||window.getComputedStyle(t,null).msTransform||window.getComputedStyle(t,null).transform||window.getComputedStyle(t,null).getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");i=r.toString().split(",")}if(this.params.useCSS3Transforms){if(e=="x"){if(i.length==16)n=parseFloat(i[12]);else if(window.WebKitCSSMatrix)n=r.m41;else n=parseFloat(i[4])}if(e=="y"){if(i.length==16)n=parseFloat(i[13]);else if(window.WebKitCSSMatrix)n=r.m42;else n=parseFloat(i[5])}}else{if(e=="x")n=parseFloat(t.style.left,10)||0;if(e=="y")n=parseFloat(t.style.top,10)||0}return n||0},setWrapperTranslate:function(e,t,i){var n=this.wrapper.style;e=e||0;t=t||0;i=i||0;if(this.params.useCSS3Transforms){if(this.support.transforms3d){n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate3d("+e+"px, "+t+"px, "+i+"px)"}else{n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate("+e+"px, "+t+"px)";if(!this.support.transforms){n.left=e+"px";n.top=t+"px"}}}else{n.left=e+"px";n.top=t+"px"}this.callPlugins("onSetWrapperTransform",{x:e,y:t,z:i})},setWrapperTransition:function(e){var t=this.wrapper.style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e/1e3+"s";this.callPlugins("onSetWrapperTransition",{duration:e})},h:{getWidth:function(e,t){var i=window.getComputedStyle(e,null).getPropertyValue("width");var n=parseFloat(i);if(isNaN(n)||i.indexOf("%")>0){n=e.offsetWidth-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"))}if(t)n+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-right"));return n},getHeight:function(e,t){if(t)return e.offsetHeight;var i=window.getComputedStyle(e,null).getPropertyValue("height");var n=parseFloat(i);if(isNaN(n)||i.indexOf("%")>0){n=e.offsetHeight-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))-parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"))}if(t)n+=parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(e,null).getPropertyValue("padding-bottom"));return n},getOffset:function(e){var t=e.getBoundingClientRect();var i=document.body;var n=e.clientTop||i.clientTop||0;var r=e.clientLeft||i.clientLeft||0;var o=window.pageYOffset||e.scrollTop;var s=window.pageXOffset||e.scrollLeft;if(document.documentElement&&!window.pageYOffset){o=document.documentElement.scrollTop;s=document.documentElement.scrollLeft}return{top:t.top+o-n,left:t.left+s-r}},windowWidth:function(){if(window.innerWidth)return window.innerWidth;else if(document.documentElement&&document.documentElement.clientWidth)return document.documentElement.clientWidth},windowHeight:function(){if(window.innerHeight)return window.innerHeight;else if(document.documentElement&&document.documentElement.clientHeight)return document.documentElement.clientHeight},windowScroll:function(){var e=0,t=0;if(typeof pageYOffset!="undefined"){return{left:window.pageXOffset,top:window.pageYOffset}}else if(document.documentElement){return{left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}},addEventListener:function(e,t,i,n){if(e.addEventListener){e.addEventListener(t,i,n)}else if(e.attachEvent){e.attachEvent("on"+t,i)}},removeEventListener:function(e,t,i,n){if(e.removeEventListener){e.removeEventListener(t,i,n)}else if(e.detachEvent){e.detachEvent("on"+t,i)}}},setTransform:function(e,t){var i=e.style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t},setTranslate:function(e,t){var i=e.style;var n={x:t.x||0,y:t.y||0,z:t.z||0};var r=this.support.transforms3d?"translate3d("+n.x+"px,"+n.y+"px,"+n.z+"px)":"translate("+n.x+"px,"+n.y+"px)";i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=r;if(!this.support.transforms){i.left=n.x+"px";i.top=n.y+"px"}},setTransition:function(e,t){var i=e.style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t+"ms"},support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var e=document.createElement("div");return"webkitPerspective"in e.style||"MozPerspective"in e.style||"OPerspective"in e.style||"MsPerspective"in e.style||"perspective"in e.style}(),transforms:window.Modernizr&&Modernizr.csstransforms===true||function(){var e=document.createElement("div").style;return"transform"in e||"WebkitTransform"in e||"MozTransform"in e||"msTransform"in e||"MsTransform"in e||"OTransform"in e}(),transitions:window.Modernizr&&Modernizr.csstransitions===true||function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"MsTransition"in e||"OTransition"in e}()},browser:{ie8:function(){var e=-1;if(navigator.appName=="Microsoft Internet Explorer"){var t=navigator.userAgent;var i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(i.exec(t)!=null)e=parseFloat(RegExp.$1)}return e!=-1&&e<9}(),ie10:window.navigator.msPointerEnabled}};if(window.jQuery||window.Zepto){(function(e){e.fn.swiper=function(t){var n=new i(e(this)[0],t);e(this).data("swiper",n);return n}})(window.jQuery||window.Zepto)}e.exports=i}).call(t,i(1))},function(e,t,i){(function(t){Weebly=window.Weebly||{};Weebly.DropDowns={Version:"0.5",Author:"David Rusenko",Company:"Weebly, Inc.",activeMenu:null,dropdownsRef:[],dropdownsArray:[],init:function(){Event.observe(document,"click",Weebly.DropDowns.handleClick)},register:function(e){if(this.dropdownsArray.length==0){this.init()}this.dropdownsRef[e.id]=e;this.dropdownsArray.push(e)},destroy:function(e){if(e.button){e.button.pare;e.button.onclick=null}if(e.element&&e.element.childNodes.length>0){for(var t=0;t<e.element.childNodes.length;t++){e.element.childNodes[t].onclick=null}}if(e.element&&e.element.parentNode&&e.element.parentNode.className=="weeblyDropDown"){e.element.parentNode.parentNode.removeChild(e.element.parentNode);
}for(var t=0;t<Weebly.DropDowns.dropdownsArray.length;t++){if(Weebly.DropDowns.dropdownsArray[t]==e){Weebly.DropDowns.dropdownsArray.splice(t,1)}}delete Weebly.DropDowns.dropdownsRef[e.id];delete e},setValue:function(e,i,n){var r=Weebly.DropDowns.dropdownsRef[e];r.open();if(r.options.rowFunction){r.close(t(e+"-"+i),n)}else{r.close(i,n)}},handleClick:function(e){var t;if(e.target){t=e.target}else if(e.srcElement){t=e.srcElement}if(t.nodeType==3){t=t.parentNode}},refreshChildren:function(e){$H(this.dropdownsRef).each(function(i){if(typeof i.value=="object"&&t(i.value.element).descendantOf(e)){i.value.adjustScroll()}})}};Weebly.DropDown=Class.create();Weebly.DropDown.prototype={isOpen:false,initialize:function(e){e=t(e);this.options=Object.extend({width:"95",height:"21",openWidth:"195",openHeight:null,border:"1px solid #9f9f9f",marginRight:0,background:"#FFFFFF url(https://"+editorStatic+"/weebly/images/dropdown_background.jpg) repeat-x",overflowY:"scroll",dropDownButton:{src:"https://"+editorStatic+"/weebly/images/dropdown_arrow.gif",width:"21",height:"18"},containerClass:"",fieldName:e.name,rowFunction:null,rowCompareFunction:null,generateValueFunction:null,generateContentsFunction:null,rowMargin:"3px 0 2px 0",type:null,onClose:function(){},onOpen:function(){},updateFunction:function(){},noInitialUpdate:true,rowHoverColor:"#B5D2F0",noRefresh:null,scaleBy:20,zIndex:20,availableValues:[]},arguments[1]||{});this.id=Math.floor(Math.random()*10000001);var i=this.id;this.formEl=e;this.values=[];if(this.options.type=="YesNo"){this.options.rowFunction=function(e){if(e>1){return}if(e%2==0){return["Yes","Yes"]}else{return["No","No"]}}}if(this.options.availableValues.size()>0){this.options.rowFunction=function(e){if(typeof this.availableValues[e]=="object"){return this.availableValues[e]}else{return false}}}var n=document.createElement("DIV");n.className="weeblyDropDown";n.style.position="relative";n.style.marginRight=this.options.marginRight+"px";n.style.width=this.options.width+"px";this.container=t(n);var r=document.createElement("DIV");r.id=this.id+"_dropdownButton";r.className="dropdownButton";r.onclick=function(){Weebly.DropDowns.dropdownsRef[i].open()};r.style.position="absolute";r.style.width=this.options.dropDownButton.width+"px";r.style.height=this.options.dropDownButton.height+"px";r.style.cursor="pointer";r.style.zIndex=this.options.zIndex- -1;r.style.top="3px";r.style.right=0;r.style.background="transparent url('"+this.options.dropDownButton.src+"') no-repeat top left";this.button=r;var o=document.createElement("DIV");o.id=this.id+"_dropdownContainer";t(o).addClassName("dropdownContainer");o.style.width=this.options.width+"px";if(Prototype.Browser.IE){o.style.height=this.options.height- -0+"px"}else{o.style.height=this.options.height+"px"}o.style.position="absolute";o.style.border=this.options.border;o.style.background=this.options.background;o.style.zIndex=this.options.zIndex;o.style.overflowX="hidden";o.style.overflowY="hidden";if(this.options.containerClass){t(o).addClassName(this.options.containerClass)}this.element=t(o);n.appendChild(r);n.appendChild(o);e.parentNode.insertBefore(n,e.nextSibling);if(this.options.rowFunction){var s=0;var a;while(a=this.options.rowFunction(s)){if(s>1e3){break}var l=document.createElement("DIV");l.id=this.id+"-"+s;i=this.id;var c=this.options.noRefresh;l.onclick=function(){Weebly.DropDowns.dropdownsRef[i].close(this)};var u=this.options.rowHoverColor;l.onmouseover=function(){this.style.background=u};l.onmouseout=function(){this.style.background="none"};l.style.height=this.options.height+"px";l.style.overflow="hidden";l.style.cursor="pointer";l.style.paddingLeft="8px";l.innerHTML="<textarea style='display: none;' name='val'>"+a[0]+"</textarea><div style='line-height:"+this.options.height+"px;'>"+a[1]+"</div>";if(a[2]){this.element.appendChild(a[2])}this.element.appendChild(l);if(e.value&&(this.options.rowCompareFunction?this.options.rowCompareFunction(e.value,a):e.value==a[0])){this.element.scrollTop=0;this.element.scrollTop=this.getScrollHeight(s);this.lastEl=l;this.scrollMe(this.getScrollHeight(s));if(!this.options.noInitialUpdate){this.options.updateFunction(e.value)}}this.values[s]=a[0];s++}if(!this.options.openHeight){this.options.openHeight=s*this.options.height}if(!e.value||!this.lastEl){this.lastEl=o.firstChild}}else if(typeof this.options.generateValueFunction=="function"&&typeof this.options.generateContentsFunction=="function"){var l=document.createElement("DIV");l.id=this.id+"-value";l.innerHTML=this.options.generateValueFunction(this);l.style.width=this.options.openWidth-10+"px";l.style.height=this.options.height+"px";l.style.cursor="pointer";var u=this.options.rowHoverColor;l.onmouseover=function(){this.style.background=u};l.onmouseout=function(){this.style.background="none"};i=this.id;l.onclick=function(){Weebly.DropDowns.dropdownsRef[i].close(this)};this.element.appendChild(l);var d=document.createElement("DIV");d.id=this.id+"-contents";d.style.width=this.options.openWidth-10+"px";d.style.display="none";this.element.appendChild(d)}Weebly.DropDowns.register(this)},open:function(){var e=this.element.scrollTop;this.element.scrollTop=0;this.checkGone();if(this.isOpen==true){return}if(Weebly.DropDowns.activeMenu){Weebly.DropDowns.dropdownsRef[Weebly.DropDowns.activeMenu].closeMe()}if(typeof this.options.generateValueFunction=="function"&&typeof this.options.generateContentsFunction=="function"){var i=t(this.id+"-contents");i.innerHTML=this.options.generateContentsFunction(this);i.style.display="block";t(this.id+"-value").style.display="none"}this.adjustLeft=0;this.resizeWidth(this.options.openWidth);this.resizeHeight(this.options.openHeight);this.element.style.overflowY=this.options.overflowY;this.element.style.zIndex=this.options.zIndex- -2;this.container.style.zIndex=this.options.zIndex- -5;this.element.scrollTop=e;this.button.style.display="none";this.isOpen=true;Weebly.DropDowns.activeMenu=this.id;this.options.onOpen(this)},close:function(e,i){this.checkGone();if(this.isOpen==false){this.open();return}if(Prototype.Browser.IE){this.resizeHeight(this.options.height- -2)}else{this.resizeHeight(this.options.height)}this.element.style.overflowY="hidden";if(this.options.rowFunction){var n=e.id.replace(/^[0-9]+\-([0-9]+)$/,"$1");this.scrollMe(this.getScrollHeight(n));this.lastEl=e}else if(typeof this.options.generateValueFunction=="function"&&typeof this.options.generateContentsFunction=="function"){t(this.id+"-contents").style.display="none";t(this.id+"-contents").innerHTML="";if(typeof e!="undefined"){this.formEl.value=e;t(this.id+"-value").innerHTML=this.options.generateValueFunction(this)}t(this.id+"-value").style.display="block"}this.element.style.zIndex=this.options.zIndex;this.container.style.zIndex=this.options.zIndex;this.button.style.display="block";if(!i){if(this.options.rowFunction){this.formEl.value=e.firstChild.value;this.options.updateFunction(this.formEl.value)}else if(typeof this.options.generateValueFunction=="function"&&typeof this.options.generateContentsFunction=="function"){this.formEl.value=e;this.options.updateFunction(e)}this.options.onClose(this.options.noRefresh)}this.isOpen=false;Weebly.DropDowns.activeMenu=null;this.adjustScroll();this.resizeWidth(this.options.width)},changeOptions:function(e){this.element.update("");this.values=[];var t=0;e.each(function(e){var i=new Element("div",{id:this.id+"-"+t});i.onclick=function(){this.close(i)}.bind(this);var n=this.options.rowHoverColor;i.onmouseover=function(){this.style.background=n};i.onmouseout=function(){this.style.background="none"};i.setStyle({height:this.options.height+"px",overflow:"hidden",cursor:"pointer",paddingLeft:"8px"});i.update("<textarea style='display: none;' name='val'>"+e[0]+"</textarea><div style='line-height:"+this.options.height+"px;'>"+e[1]+"</div>");this.element.appendChild(i);this.values[t]=e[0];if(t==0){this.setValue(e[0]);this.formEl.value=e[0]}t++},this);this.options.openHeight=t*this.options.height},setValue:function(e){var i=0;this.scrollMe(this.getScrollHeight(i));this.lastEl=t(this.id+"-"+i);this.values.each(function(n){if(n==e){this.scrollMe(this.getScrollHeight(i));this.lastEl=t(this.id+"-"+i)}i++}.bind(this))},getValue:function(){return this.formEl.value},closeMe:function(){this.close(this.lastEl,1)},adjustScroll:function(){if(this.options.rowFunction&&this.lastEl){var e=this.lastEl.id.replace(/^[0-9]+\-([0-9]+)$/,"$1");this.scrollMe(this.getScrollHeight(e))}},getScrollHeight:function(e){var t=this.element;var i=t.select("> div:not(.font-group-heading):eq("+e+")")[0];return i.cumulativeOffset().top-t.cumulativeOffset().top},checkGone:function(){if(!this.element||!this.button){Weebly.DropDowns.destroy(this)}},resizeWidth:function(e){var t=this.options.scaleBy;var i=this.element;var n=Element.getStyle(i,"width").replace(/px/,"");i.style.width=e+"px";var r=Position.cumulativeOffset(i);if(r[0]- -e>document.body.clientWidth&&e>this.options.width){i.style.marginLeft="-"+(e-this.options.width)+"px"}else{i.style.marginLeft="0px"}},resizeHeight:function(e){var t=this.options.scaleBy;var i=this.element;var n=Element.getStyle(i,"height").replace(/px/,"");i.style.height=e+"px";if(this.options.overflowY=="auto"){i.style.height=""}},scrollMe:function(e){if(Prototype.Browser.IE){}var i=this.element;t(i.id).scrollTop=e}};e.exports=Weebly.DropDown}).call(t,i(16))},function(e,t,i){(function(t){window.rangy=function(){function e(e,t){var i=typeof e[t];return i=="function"||!!(i=="object"&&e[t])||i=="unknown"}function t(e,t){return!!(typeof e[t]=="object"&&e[t])}function i(e,t){return typeof e[t]!="undefined"}function n(e){return function(t,i){for(var n=i.length;n--;)if(!e(t,i[n]))return false;return true}}function r(e){return e&&f(e,d)&&p(e,u)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e);m.initialized=true;m.supported=false}function s(){if(!m.initialized){var i,n=false,s=false;if(e(document,"createRange")){i=document.createRange();if(f(i,c)&&p(i,l))n=true;i.detach()}if((i=t(document,"body")?document.body:document.getElementsByTagName("body")[0])&&e(i,"createTextRange")){i=i.createTextRange();if(r(i))s=true}!n&&!s&&o("Neither Range nor TextRange are implemented");m.initialized=true;m.features={implementsDomRange:n,implementsTextRange:s};n=v.concat(g);s=0;for(i=n.length;s<i;++s)try{n[s](m)}catch(i){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",i)}}}function a(e){this.name=e;this.supported=this.initialized=false}var l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],u=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],d=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],f=n(e),h=n(t),p=n(i),m={version:"1.2.3",initialized:false,supported:true,util:{isHostMethod:e,isHostObject:t,isHostProperty:i,areHostMethods:f,areHostObjects:h,areHostProperties:p,isTextRange:r},features:{},modules:{},config:{alertOnWarn:false,preferTextRange:false}};m.fail=o;m.warn=function(e){e="Rangy warning: "+e;if(m.config.alertOnWarn)window.alert(e);else typeof window.console!="undefined"&&typeof window.console.log!="undefined"&&window.console.log(e)};if({}.hasOwnProperty)m.util.extend=function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};else o("hasOwnProperty not supported");var g=[],v=[];m.init=s;m.addInitListener=function(e){m.initialized?e(m):g.push(e)};var w=[];m.addCreateMissingNativeApiListener=function(e){w.push(e)};m.createMissingNativeApi=function(e){e=e||window;s();for(var t=0,i=w.length;t<i;++t)w[t](e)};a.prototype.fail=function(e){this.initialized=true;this.supported=false;throw Error("Module '"+this.name+"' failed to load: "+e)};a.prototype.warn=function(e){m.warn("Module "+this.name+": "+e)};a.prototype.createError=function(e){return Error("Error in Rangy "+this.name+" module: "+e)};m.createModule=function(e,t){var i=new a(e);m.modules[e]=i;v.push(function(e){t(e,i);i.initialized=true;i.supported=true})};m.requireModules=function(e){for(var t=0,i=e.length,n,r;t<i;++t){r=e[t];n=m.modules[r];if(!n||!(n instanceof a))throw Error("Module '"+r+"' not found");if(!n.supported)throw Error("Module '"+r+"' not supported")}};var b=false;h=function(){if(!b){b=true;m.initialized||s()}};if(typeof window=="undefined")o("No window found");else if(typeof document=="undefined")o("No document found");else{e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",h,false);if(e(window,"addEventListener"))window.addEventListener("load",h,false);else e(window,"attachEvent")?window.attachEvent("onload",h):o("Window does not have required addEventListener or attachEvent method");return m}}();rangy.createModule("DomUtil",function(e,t){function i(e){for(var t=0;e=e.previousSibling;)t++;return t}function n(e,t){var i=[],n;for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(p(i,n))return n;return null}function r(e,t,i){for(i=i?e:e.parentNode;i;){e=i.parentNode;if(e===t)return i;i=e}return null}function o(e){e=e.nodeType;return e==3||e==4||e==8}function s(e,t){var i=t.nextSibling,n=t.parentNode;i?n.insertBefore(e,i):n.appendChild(e);return e}function a(e){if(e.nodeType==9)return e;else if(typeof e.ownerDocument!="undefined")return e.ownerDocument;else if(typeof e.document!="undefined")return e.document;else if(e.parentNode)return a(e.parentNode);else throw Error("getDocument: no document found for node")}function l(e){if(!e)return"[No node]";return o(e)?'"'+e.data+'"':e.nodeType==1?"<"+e.nodeName+(e.id?' id="'+e.id+'"':"")+">["+e.childNodes.length+"]":e.nodeName}function c(e){this._next=this.root=e}function u(e,t){this.node=e;this.offset=t}function d(e){this.code=this[e];this.codeName=e;this.message="DOMException: "+this.codeName}var f=e.util;f.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method");f.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var h=document.createElement("div");f.areHostMethods(h,["insertBefore","appendChild","cloneNode"])||t.fail("Incomplete Element implementation");f.isHostProperty(h,"innerHTML")||t.fail("Element is missing innerHTML property");h=document.createTextNode("test");f.areHostMethods(h,["splitText","deleteData","insertData","appendData","cloneNode"])||t.fail("Incomplete Text Node implementation");var p=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return true;return false};c.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next,t;if(this._current)if(t=e.firstChild)this._next=t;else{for(t=null;e!==this.root&&!(t=e.nextSibling);)e=e.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}};u.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+l(this.node)+":"+this.offset+")]"}};d.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};d.prototype.toString=function(){return this.message};e.dom={arrayContains:p,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI=="undefined"||(t=e.namespaceURI)===null||t=="http://www.w3.org/1999/xhtml"},parentElement:function(e){e=e.parentNode;return e.nodeType==1?e:null},getNodeIndex:i,getNodeLength:function(e){var t;return o(e)?e.length:(t=e.childNodes)?t.length:0},getCommonAncestor:n,isAncestorOf:function(e,t,i){for(t=i?t:t.parentNode;t;)if(t===e)return true;else t=t.parentNode;return false},getClosestAncestorIn:r,isCharacterDataNode:o,insertAfter:s,splitDataNode:function(e,t){var i=e.cloneNode(false);i.deleteData(0,t);e.deleteData(t,e.length-t);s(i,e);return i},getDocument:a,getWindow:function(e){e=a(e);if(typeof e.defaultView!="undefined")return e.defaultView;else if(typeof e.parentWindow!="undefined")return e.parentWindow;else throw Error("Cannot get a window object for node")},getIframeWindow:function(e){if(typeof e.contentWindow!="undefined")return e.contentWindow;else if(typeof e.contentDocument!="undefined")return e.contentDocument.defaultView;else throw Error("getIframeWindow: No Window object found for iframe element")},getIframeDocument:function(e){if(typeof e.contentDocument!="undefined")return e.contentDocument;else if(typeof e.contentWindow!="undefined")return e.contentWindow.document;else throw Error("getIframeWindow: No Document object found for iframe element")},getBody:function(e){return f.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,o,s){var a;if(e==o)return t===s?0:t<s?-1:1;else if(a=r(o,e,true))return t<=i(a)?-1:1;else if(a=r(e,o,true))return i(a)<s?-1:1;else{t=n(e,o);e=e===t?t:r(e,t,true);o=o===t?t:r(o,t,true);if(e===o)throw Error("comparePoints got to case 4 and childA and childB are the same!");else{for(t=t.firstChild;t;){if(t===e)return-1;else if(t===o)return 1;t=t.nextSibling}throw Error("Should not be here!")}}},inspectNode:l,fragmentFromNodeChildren:function(e){for(var t=a(e).createDocumentFragment(),i;i=e.firstChild;)t.appendChild(i);return t},createIterator:function(e){return new c(e)},DomPosition:u};e.DOMException=d});rangy.createModule("DomRange",function(e){function t(e,t){return e.nodeType!=3&&(N.isAncestorOf(e,t.startContainer,true)||N.isAncestorOf(e,t.endContainer,true))}function i(e){return N.getDocument(e.startContainer)}function n(e,t,i){if(t=e._listeners[t])for(var n=0,r=t.length;n<r;++n)t[n].call(e,{target:e,args:i})}function r(e){return new M(e.parentNode,N.getNodeIndex(e))}function o(e){return new M(e.parentNode,N.getNodeIndex(e)+1)}function s(e,t,i){var n=e.nodeType==11?e.firstChild:e;if(N.isCharacterDataNode(t))i==t.length?N.insertAfter(e,t):t.parentNode.insertBefore(e,i==0?t:N.splitDataNode(t,i));else i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]);return n}function a(e){for(var t,n,r=i(e.range).createDocumentFragment();n=e.next();){t=e.isPartiallySelectedSubtree();n=n.cloneNode(!t);if(t){t=e.getSubtreeIterator();n.appendChild(a(t));t.detach(true)}if(n.nodeType==10)throw new L("HIERARCHY_REQUEST_ERR");r.appendChild(n)}return r}function l(e,t,i){var n,r;for(i=i||{stop:false};n=e.next();)if(e.isPartiallySelectedSubtree())if(t(n)===false){i.stop=true;return}else{n=e.getSubtreeIterator();l(n,t,i);n.detach(true);if(i.stop)return}else for(n=N.createIterator(n);r=n.next();)if(t(r)===false){i.stop=true;return}}function c(e){for(var t;e.next();)if(e.isPartiallySelectedSubtree()){t=e.getSubtreeIterator();c(t);t.detach(true)}else e.remove()}function u(e){for(var t,n=i(e.range).createDocumentFragment(),r;t=e.next();){if(e.isPartiallySelectedSubtree()){t=t.cloneNode(false);r=e.getSubtreeIterator();t.appendChild(u(r));r.detach(true)}else e.remove();if(t.nodeType==10)throw new L("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function d(e,t,i){var n=!!(t&&t.length),r,o=!!i;if(n)r=RegExp("^("+t.join("|")+")$");var s=[];l(new h(e,false),function(e){if((!n||r.test(e.nodeType))&&(!o||i(e)))s.push(e)});return s}function f(e){return"["+(typeof e.getName=="undefined"?"Range":e.getName())+"("+N.inspectNode(e.startContainer)+":"+e.startOffset+", "+N.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function h(e,t){this.range=e;this.clonePartiallySelectedTextNodes=t;if(!e.collapsed){this.sc=e.startContainer;this.so=e.startOffset;this.ec=e.endContainer;this.eo=e.endOffset;var i=e.commonAncestorContainer;if(this.sc===this.ec&&N.isCharacterDataNode(this.sc)){this.isSingleCharacterDataNode=true;this._first=this._last=this._next=this.sc}else{this._first=this._next=this.sc===i&&!N.isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:N.getClosestAncestorIn(this.sc,i,true);this._last=this.ec===i&&!N.isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:N.getClosestAncestorIn(this.ec,i,true)}}}function p(e){this.code=this[e];this.codeName=e;this.message="RangeException: "+this.codeName}function m(e,t,i){this.nodes=d(e,t,i);this._next=this.nodes[0];this._position=0}function g(e){return function(t,i){for(var n,r=i?t:t.parentNode;r;){n=r.nodeType;if(N.arrayContains(e,n))return r;r=r.parentNode}return null}}function v(e,t){if(z(e,t))throw new p("INVALID_NODE_TYPE_ERR")}function w(e){if(!e.startContainer)throw new L("INVALID_STATE_ERR")}function b(e,t){if(!N.arrayContains(t,e.nodeType))throw new p("INVALID_NODE_TYPE_ERR")}function y(e,t){if(t<0||t>(N.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new L("INDEX_SIZE_ERR")}function _(e,t){if(j(e,true)!==j(t,true))throw new L("WRONG_DOCUMENT_ERR")}function E(e){if($(e,true))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function T(e,t){if(!e)throw new L(t)}function C(e){return!!e.startContainer&&!!e.endContainer&&!(!N.arrayContains(K,e.startContainer.nodeType)&&!j(e.startContainer,true))&&!(!N.arrayContains(K,e.endContainer.nodeType)&&!j(e.endContainer,true))&&e.startOffset<=(N.isCharacterDataNode(e.startContainer)?e.startContainer.length:e.startContainer.childNodes.length)&&e.endOffset<=(N.isCharacterDataNode(e.endContainer)?e.endContainer.length:e.endContainer.childNodes.length)}function S(e){w(e);if(!C(e))throw Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function I(){}function O(e){e.START_TO_START=q;e.START_TO_END=Y;e.END_TO_END=X;e.END_TO_START=J;e.NODE_BEFORE=Q;e.NODE_AFTER=Z;e.NODE_BEFORE_AND_AFTER=ee;e.NODE_INSIDE=te}function k(e){O(e);O(e.prototype)}function x(e,t){return function(){S(this);var i=this.startContainer,n=this.startOffset,r=this.commonAncestorContainer,s=new h(this,true);if(i!==r){i=N.getClosestAncestorIn(i,r,true);n=o(i);i=n.node;n=n.offset}l(s,E);s.reset();r=e(s);s.detach();t(this,i,n,i,n);return r}}function D(i,n,s){function a(e,t){return function(i){w(this);b(i,B);b(W(i),K);i=(e?r:o)(i);(t?l:d)(this,i.node,i.offset)}}function l(e,t,i){var r=e.endContainer,o=e.endOffset;if(t!==e.startContainer||i!==e.startOffset){if(W(t)!=W(r)||N.comparePoints(t,i,r,o)==1){r=t;o=i}n(e,t,i,r,o)}}function d(e,t,i){var r=e.startContainer,o=e.startOffset;if(t!==e.endContainer||i!==e.endOffset){if(W(t)!=W(r)||N.comparePoints(t,i,r,o)==-1){r=t;o=i}n(e,r,o,t,i)}}i.prototype=new I;e.util.extend(i.prototype,{setStart:function(e,t){w(this);v(e,true);y(e,t);l(this,e,t)},setEnd:function(e,t){w(this);v(e,true);y(e,t);d(this,e,t)},setStartBefore:a(true,true),setStartAfter:a(false,true),setEndBefore:a(true,false),setEndAfter:a(false,false),collapse:function(e){S(this);e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){w(this);v(e,true);n(this,e,0,e,N.getNodeLength(e))},selectNode:function(e){w(this);v(e,false);b(e,B);var t=r(e);e=o(e);n(this,t.node,t.offset,e.node,e.offset)},extractContents:x(u,n),deleteContents:x(c,n),canSurroundContents:function(){S(this);E(this.startContainer);E(this.endContainer);var e=new h(this,true),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);e.detach();return!i},detach:function(){s(this)},splitBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,r=this.endOffset,o=e===i;N.isCharacterDataNode(i)&&r>0&&r<i.length&&N.splitDataNode(i,r);if(N.isCharacterDataNode(e)&&t>0&&t<e.length){e=N.splitDataNode(e,t);if(o){r-=t;i=e}else i==e.parentNode&&r>=N.getNodeIndex(e)&&r++;t=0}n(this,e,t,i,r)},normalizeBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,i=this.endContainer,r=this.endOffset,o=function(e){var t=e.nextSibling;if(t&&t.nodeType==e.nodeType){i=e;r=e.length;e.appendData(t.data);t.parentNode.removeChild(t)}},s=function(n){var o=n.previousSibling;if(o&&o.nodeType==n.nodeType){e=n;var s=n.length;t=o.length;n.insertData(0,o.data);o.parentNode.removeChild(o);if(e==i){r+=t;i=e}else if(i==n.parentNode){o=N.getNodeIndex(n);if(r==o){i=n;r=s}else r>o&&r--}}},a=true;if(N.isCharacterDataNode(i))i.length==r&&o(i);else{if(r>0)(a=i.childNodes[r-1])&&N.isCharacterDataNode(a)&&o(a);a=!this.collapsed}if(a)if(N.isCharacterDataNode(e))t==0&&s(e);else{if(t<e.childNodes.length)(o=e.childNodes[t])&&N.isCharacterDataNode(o)&&s(o)}else{e=i;t=r}n(this,e,t,i,r)},collapseToPoint:function(e,t){w(this);v(e,true);y(e,t);if(e!==this.startContainer||t!==this.startOffset||e!==this.endContainer||t!==this.endOffset)n(this,e,t,e,t)}});k(i)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset;e.commonAncestorContainer=e.collapsed?e.startContainer:N.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,i,r,o){var s=e.startContainer!==t||e.startOffset!==i,a=e.endContainer!==r||e.endOffset!==o;e.startContainer=t;e.startOffset=i;e.endContainer=r;e.endOffset=o;R(e);n(e,"boundarychange",{startMoved:s,endMoved:a})}function A(e){this.startContainer=e;this.startOffset=0;this.endContainer=e;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};R(this)}e.requireModules(["DomUtil"]);var N=e.dom,M=N.DomPosition,L=e.DOMException;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;if(e){this._next=e!==this._last?e.nextSibling:null;if(N.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes){if(e===this.ec)(e=e.cloneNode(true)).deleteData(this.eo,e.length-this.eo);if(this._current===this.sc)(e=e.cloneNode(true)).deleteData(0,this.so)}}return e},remove:function(){var e=this._current,t,i;if(N.isCharacterDataNode(e)&&(e===this.sc||e===this.ec)){t=e===this.sc?this.so:0;i=e===this.ec?this.eo:e.length;t!=i&&e.deleteData(t,i-t)}else e.parentNode&&e.parentNode.removeChild(e)},isPartiallySelectedSubtree:function(){return t(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode){e=this.range.cloneRange();e.collapse()}else{e=new A(i(this.range));var t=this._current,n=t,r=0,o=t,s=N.getNodeLength(t);if(N.isAncestorOf(t,this.sc,true)){n=this.sc;r=this.so}if(N.isAncestorOf(t,this.ec,true)){o=this.ec;s=this.eo}P(e,n,r,o,s)}return new h(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};p.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};p.prototype.toString=function(){return this.message};m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},detach:function(){this._current=this._next=this.nodes=null}};var B=[1,3,4,5,7,8,10],K=[2,9,11],F=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],W=N.getRootContainer,j=g([9,11]),$=g([5,6,10,12]),z=g([6,10,12]),V=document.createElement("style"),U=false;try{V.innerHTML="<b>x</b>";U=V.firstChild.nodeType==3}catch(e){}e.features.htmlParsingConforms=U;var G=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],q=0,Y=1,X=2,J=3,Q=0,Z=1,ee=2,te=3;I.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){S(this);_(this.startContainer,t.startContainer);var i=e==J||e==q?"start":"end",n=e==Y||e==q?"start":"end";return N.comparePoints(this[i+"Container"],this[i+"Offset"],t[n+"Container"],t[n+"Offset"])},insertNode:function(e){S(this);b(e,F);E(this.startContainer);if(N.isAncestorOf(e,this.startContainer,true))throw new L("HIERARCHY_REQUEST_ERR");this.setStartBefore(s(e,this.startContainer,this.startOffset))},cloneContents:function(){S(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();else{if(this.startContainer===this.endContainer&&N.isCharacterDataNode(this.startContainer)){e=this.startContainer.cloneNode(true);e.data=e.data.slice(this.startOffset,this.endOffset);t=i(this).createDocumentFragment();t.appendChild(e);return t}else{t=new h(this,true);e=a(t);t.detach()}return e}},canSurroundContents:function(){S(this);E(this.startContainer);E(this.endContainer);var e=new h(this,true),i=e._first&&t(e._first,this)||e._last&&t(e._last,this);e.detach();return!i},surroundContents:function(e){b(e,H);if(!this.canSurroundContents())throw new p("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset);e.appendChild(t);this.selectNode(e)},cloneRange:function(){S(this);for(var e=new A(i(this)),t=G.length,n;t--;){n=G[t];e[n]=this[n]}return e},toString:function(){S(this);var e=this.startContainer;if(e===this.endContainer&&N.isCharacterDataNode(e))return e.nodeType==3||e.nodeType==4?e.data.slice(this.startOffset,this.endOffset):"";else{var t=[];e=new h(this,true);l(e,function(e){if(e.nodeType==3||e.nodeType==4)t.push(e.data)});e.detach();return t.join("")}},compareNode:function(e){S(this);var t=e.parentNode,i=N.getNodeIndex(e);if(!t)throw new L("NOT_FOUND_ERR");e=this.comparePoint(t,i);t=this.comparePoint(t,i+1);return e<0?t>0?ee:Q:t>0?Z:te},comparePoint:function(e,t){S(this);T(e,"HIERARCHY_REQUEST_ERR");_(e,this.startContainer);if(N.comparePoints(e,t,this.startContainer,this.startOffset)<0)return-1;else if(N.comparePoints(e,t,this.endContainer,this.endOffset)>0)return 1;return 0},createContextualFragment:U?function(e){var t=this.startContainer,i=N.getDocument(t);if(!t)throw new L("INVALID_STATE_ERR");var n=null;if(t.nodeType==1)n=t;else if(N.isCharacterDataNode(t))n=N.parentElement(t);n=n===null||n.nodeName=="HTML"&&N.isHtmlNamespace(N.getDocument(n).documentElement)&&N.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(false);n.innerHTML=e;return N.fragmentFromNodeChildren(n)}:function(e){w(this);var t=i(this).createElement("body");t.innerHTML=e;return N.fragmentFromNodeChildren(t)},toHtml:function(){S(this);var e=i(this).createElement("div");e.appendChild(this.cloneContents());return e.innerHTML},intersectsNode:function(e,t){S(this);T(e,"NOT_FOUND_ERR");if(N.getDocument(e)!==i(this))return false;var n=e.parentNode,r=N.getNodeIndex(e);T(n,"NOT_FOUND_ERR");var o=N.comparePoints(n,r,this.endContainer,this.endOffset);n=N.comparePoints(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&n>=0:o<0&&n>0},isPointInRange:function(e,t){S(this);T(e,"HIERARCHY_REQUEST_ERR");_(e,this.startContainer);return N.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&N.comparePoints(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e,t){S(this);if(i(e)!=i(this))throw new L("WRONG_DOCUMENT_ERR");var n=N.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),r=N.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?n<=0&&r>=0:n<0&&r>0},intersection:function(e){if(this.intersectsRange(e)){var t=N.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=N.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();t==-1&&n.setStart(e.startContainer,e.startOffset);i==1&&n.setEnd(e.endContainer,e.endOffset);return n}return null},union:function(e){if(this.intersectsRange(e,true)){var t=this.cloneRange();N.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1&&t.setStart(e.startContainer,e.startOffset);N.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)==1&&t.setEnd(e.endContainer,e.endOffset);
return t}else throw new p("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,false):this.compareNode(e)==te},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,N.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(i.length>0){t.setStart(i[0],0);e=i.pop();t.setEnd(e,e.length);e=this.containsRange(t);t.detach();return e}else return this.containsNodeContents(e)},createNodeIterator:function(e,t){S(this);return new m(this,e,t)},getNodes:function(e,t){S(this);return d(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){w(this);this.setEndBefore(e);this.collapse(false)},collapseAfter:function(e){w(this);this.setStartAfter(e);this.collapse(true)},getName:function(){return"DomRange"},equals:function(e){return A.rangesEqual(this,e)},isValid:function(){return C(this)},inspect:function(){return f(this)}};D(A,P,function(e){w(e);e.startContainer=e.startOffset=e.endContainer=e.endOffset=null;e.collapsed=e.commonAncestorContainer=null;n(e,"detach",null);e._listeners=null});e.rangePrototype=I.prototype;A.rangeProperties=G;A.RangeIterator=h;A.copyComparisonConstants=k;A.createPrototypeRange=D;A.inspect=f;A.getRangeDocument=i;A.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset};e.DomRange=A;e.RangeException=p});rangy.createModule("WrappedRange",function(e){function t(e,t,i,n){var s=e.duplicate();s.collapse(i);var a=s.parentElement();r.isAncestorOf(t,a,true)||(a=t);if(!a.canHaveHTML)return new o(a.parentNode,r.getNodeIndex(a));t=r.getDocument(a).createElement("span");var l,c=i?"StartToStart":"StartToEnd";do{a.insertBefore(t,t.previousSibling);s.moveToElementText(t)}while((l=s.compareEndPoints(c,e))>0&&t.previousSibling);c=t.nextSibling;if(l==-1&&c&&r.isCharacterDataNode(c)){s.setEndPoint(i?"EndToStart":"EndToEnd",e);if(/[\r\n]/.test(c.data)){a=s.duplicate();i=a.text.replace(/\r\n/g,"\r").length;for(i=a.moveStart("character",i);a.compareEndPoints("StartToEnd",a)==-1;){i++;a.moveStart("character",1)}}else i=s.text.length;a=new o(c,i)}else{c=(n||!i)&&t.previousSibling;a=(i=(n||i)&&t.nextSibling)&&r.isCharacterDataNode(i)?new o(i,0):c&&r.isCharacterDataNode(c)?new o(c,c.length):new o(a,r.getNodeIndex(t))}t.parentNode.removeChild(t);return a}function i(e,t){var i,n,o=e.offset,s=r.getDocument(e.node),a=s.body.createTextRange(),l=r.isCharacterDataNode(e.node);if(l){i=e.node;n=i.parentNode}else{i=e.node.childNodes;i=o<i.length?i[o]:null;n=e.node}s=s.createElement("span");s.innerHTML="&#feff;";i?n.insertBefore(s,i):n.appendChild(s);a.moveToElementText(s);a.collapse(!t);n.removeChild(s);if(l)a[t?"moveStart":"moveEnd"]("character",o);return a}e.requireModules(["DomUtil","DomRange"]);var n,r=e.dom,o=r.DomPosition,s=e.DomRange;if(e.features.implementsDomRange&&(!e.features.implementsTextRange||!e.config.preferTextRange)){(function(){function t(e){for(var t=o.length,i;t--;){i=o[t];e[i]=e.nativeRange[i]}}var i,o=s.rangeProperties,a,l;n=function(e){if(!e)throw Error("Range must be specified");this.nativeRange=e;t(this)};s.createPrototypeRange(n,function(e,t,i,n,r){var o=e.endContainer!==n||e.endOffset!=r;if(e.startContainer!==t||e.startOffset!=i||o){e.setEnd(n,r);e.setStart(t,i)}},function(e){e.nativeRange.detach();e.detached=true;for(var t=o.length,i;t--;){i=o[t];e[i]=null}});i=n.prototype;i.selectNode=function(e){this.nativeRange.selectNode(e);t(this)};i.deleteContents=function(){this.nativeRange.deleteContents();t(this)};i.extractContents=function(){var e=this.nativeRange.extractContents();t(this);return e};i.cloneContents=function(){return this.nativeRange.cloneContents()};i.surroundContents=function(e){this.nativeRange.surroundContents(e);t(this)};i.collapse=function(e){this.nativeRange.collapse(e);t(this)};i.cloneRange=function(){return new n(this.nativeRange.cloneRange())};i.refresh=function(){t(this)};i.toString=function(){return this.nativeRange.toString()};var c=document.createTextNode("test");r.getBody(document).appendChild(c);var u=document.createRange();u.setStart(c,0);u.setEnd(c,0);try{u.setStart(c,1);a=true;i.setStart=function(e,i){this.nativeRange.setStart(e,i);t(this)};i.setEnd=function(e,i){this.nativeRange.setEnd(e,i);t(this)};l=function(e){return function(i){this.nativeRange[e](i);t(this)}}}catch(e){a=false;i.setStart=function(e,i){try{this.nativeRange.setStart(e,i)}catch(t){this.nativeRange.setEnd(e,i);this.nativeRange.setStart(e,i)}t(this)};i.setEnd=function(e,i){try{this.nativeRange.setEnd(e,i)}catch(t){this.nativeRange.setStart(e,i);this.nativeRange.setEnd(e,i)}t(this)};l=function(e,i){return function(n){try{this.nativeRange[e](n)}catch(t){this.nativeRange[i](n);this.nativeRange[e](n)}t(this)}}}i.setStartBefore=l("setStartBefore","setEndBefore");i.setStartAfter=l("setStartAfter","setEndAfter");i.setEndBefore=l("setEndBefore","setStartBefore");i.setEndAfter=l("setEndAfter","setStartAfter");u.selectNodeContents(c);i.selectNodeContents=u.startContainer==c&&u.endContainer==c&&u.startOffset==0&&u.endOffset==c.length?function(e){this.nativeRange.selectNodeContents(e);t(this)}:function(e){this.setStart(e,0);this.setEnd(e,s.getEndOffset(e))};u.selectNodeContents(c);u.setEnd(c,3);a=document.createRange();a.selectNodeContents(c);a.setEnd(c,4);a.setStart(c,2);i.compareBoundaryPoints=u.compareBoundaryPoints(u.START_TO_END,a)==-1&u.compareBoundaryPoints(u.END_TO_START,a)==1?function(e,t){t=t.nativeRange||t;if(e==t.START_TO_END)e=t.END_TO_START;else if(e==t.END_TO_START)e=t.START_TO_END;return this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};if(e.util.isHostMethod(u,"createContextualFragment"))i.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)};r.getBody(document).removeChild(c);u.detach();a.detach()})();e.createNativeRange=function(e){e=e||document;return e.createRange()}}else if(e.features.implementsTextRange){n=function(e){this.textRange=e;this.refresh()};n.prototype=new s(document);n.prototype.refresh=function(){var e,i,n=this.textRange;e=n.parentElement();var o=n.duplicate();o.collapse(true);i=o.parentElement();o=n.duplicate();o.collapse(false);n=o.parentElement();i=i==n?i:r.getCommonAncestor(i,n);i=i==e?i:r.getCommonAncestor(e,i);if(this.textRange.compareEndPoints("StartToEnd",this.textRange)==0)i=e=t(this.textRange,i,true,true);else{e=t(this.textRange,i,true,false);i=t(this.textRange,i,false,false)}this.setStart(e.node,e.offset);this.setEnd(i.node,i.offset)};s.copyComparisonConstants(n);var a=function(){return this}();if(typeof a.Range=="undefined")a.Range=n;e.createNativeRange=function(e){e=e||document;return e.body.createTextRange()}}if(e.features.implementsTextRange)n.rangeToTextRange=function(e){if(e.collapsed)return i(new o(e.startContainer,e.startOffset),true);else{var t=i(new o(e.startContainer,e.startOffset),true),n=i(new o(e.endContainer,e.endOffset),false);e=r.getDocument(e.startContainer).body.createTextRange();e.setEndPoint("StartToStart",t);e.setEndPoint("EndToEnd",n);return e}};n.prototype.getName=function(){return"WrappedRange"};e.WrappedRange=n;e.createRange=function(t){t=t||document;return new n(e.createNativeRange(t))};e.createRangyRange=function(e){e=e||document;return new s(e)};e.createIframeRange=function(t){return e.createRange(r.getIframeDocument(t))};e.createIframeRangyRange=function(t){return e.createRangyRange(r.getIframeDocument(t))};e.addCreateMissingNativeApiListener(function(t){t=t.document;if(typeof t.createRange=="undefined")t.createRange=function(){return e.createRange(this)};t=t=null})});rangy.createModule("WrappedSelection",function(e,t){function i(e){return(e||window).getSelection()}function n(e){return(e||window).document.selection}function r(e,t,i){var n=i?"end":"start";i=i?"start":"end";e.anchorNode=t[n+"Container"];e.anchorOffset=t[n+"Offset"];e.focusNode=t[i+"Container"];e.focusOffset=t[i+"Offset"]}function o(e){e.anchorNode=e.focusNode=null;e.anchorOffset=e.focusOffset=0;e.rangeCount=0;e.isCollapsed=true;e._ranges.length=0}function s(t){var i;if(t instanceof v){i=t._selectionNativeRange;if(!i){i=e.createNativeRange(m.getDocument(t.startContainer));i.setEnd(t.endContainer,t.endOffset);i.setStart(t.startContainer,t.startOffset);t._selectionNativeRange=i;t.attachListener("detach",function(){this._selectionNativeRange=null})}}else if(t instanceof w)i=t.nativeRange;else if(e.features.implementsDomRange&&t instanceof m.getWindow(t.startContainer).Range)i=t;return i}function a(e){var t=e.getNodes(),i;e:if(!t.length||t[0].nodeType!=1)i=false;else{i=1;for(var n=t.length;i<n;++i)if(!m.isAncestorOf(t[0],t[i])){i=false;break e}i=true}if(!i)throw Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function l(e,t){var i=new w(t);e._ranges=[i];r(e,i,false);e.rangeCount=1;e.isCollapsed=i.collapsed}function c(t){t._ranges.length=0;if(t.docSelection.type=="None")o(t);else{var i=t.docSelection.createRange();if(i&&typeof i.text!="undefined")l(t,i);else{t.rangeCount=i.length;for(var n,s=m.getDocument(i.item(0)),a=0;a<t.rangeCount;++a){n=e.createRange(s);n.selectNode(i.item(a));t._ranges.push(n)}t.isCollapsed=t.rangeCount==1&&t._ranges[0].collapsed;r(t,t._ranges[t.rangeCount-1],false)}}}function u(e,t){var i=e.docSelection.createRange(),n=a(t),r=m.getDocument(i.item(0));r=m.getBody(r).createControlRange();for(var o=0,s=i.length;o<s;++o)r.add(i.item(o));try{r.add(n)}catch(e){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}r.select();c(e)}function d(e,t,i){this.nativeSelection=e;this.docSelection=t;this._ranges=[];this.win=i;this.refresh()}function f(e,t){var i=m.getDocument(t[0].startContainer);i=m.getBody(i).createControlRange();for(var n=0,r;n<rangeCount;++n){r=a(t[n]);try{i.add(r)}catch(e){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select();c(e)}function h(e,t){if(e.anchorNode&&m.getDocument(e.anchorNode)!==m.getDocument(t))throw new b("WRONG_DOCUMENT_ERR")}function p(e){var t=[],i=new y(e.anchorNode,e.anchorOffset),n=new y(e.focusNode,e.focusOffset),r=typeof e.getName=="function"?e.getName():"Selection";if(typeof e.rangeCount!="undefined")for(var o=0,s=e.rangeCount;o<s;++o)t[o]=v.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]);e.config.checkSelectionRanges=true;var m=e.dom,g=e.util,v=e.DomRange,w=e.WrappedRange,b=e.DOMException,y=m.DomPosition,_,E,T=e.util.isHostMethod(window,"getSelection"),C=e.util.isHostObject(document,"selection"),S=C&&(!T||e.config.preferTextRange);if(S){_=n;e.isSelectionValid=function(e){e=(e||window).document;var t=e.selection;return t.type!="None"||m.getDocument(t.createRange().parentElement())==e}}else if(T){_=i;e.isSelectionValid=function(){return true}}else t.fail("Neither document.selection or window.getSelection() detected.");e.getNativeSelection=_;T=_();var I=e.createNativeRange(document),O=m.getBody(document),k=g.areHostObjects(T,g.areHostProperties(T,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=k;var x=g.isHostMethod(T,"extend");e.features.selectionHasExtend=x;var D=typeof T.rangeCount=="number";e.features.selectionHasRangeCount=D;var R=false,P=true;g.areHostMethods(T,["addRange","getRangeAt","removeAllRanges"])&&typeof T.rangeCount=="number"&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");e.frameBorder=0;e.style.position="absolute";e.style.left="-10000px";O.appendChild(e);var t=m.getIframeDocument(e);t.open();t.write("<html><head></head><body>12</body></html>");t.close();var i=m.getIframeWindow(e).getSelection(),n=t.documentElement.lastChild.firstChild;t=t.createRange();t.setStart(n,1);t.collapse(true);i.addRange(t);P=i.rangeCount==1;i.removeAllRanges();var r=t.cloneRange();t.setStart(n,0);r.setEnd(n,2);i.addRange(t);i.addRange(r);R=i.rangeCount==2;t.detach();r.detach();O.removeChild(e)}();e.features.selectionSupportsMultipleRanges=R;e.features.collapsedNonEditableSelectionsSupported=P;var A=false,N;if(O&&g.isHostMethod(O,"createControlRange")){N=O.createControlRange();if(g.areHostProperties(N,["item","add"]))A=true}e.features.implementsControlRange=A;E=k?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:false};var M;if(g.isHostMethod(T,"getRangeAt"))M=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}};else if(k)M=function(t){var i=m.getDocument(t.anchorNode);i=e.createRange(i);i.setStart(t.anchorNode,t.anchorOffset);i.setEnd(t.focusNode,t.focusOffset);if(i.collapsed!==this.isCollapsed){i.setStart(t.focusNode,t.focusOffset);i.setEnd(t.anchorNode,t.anchorOffset)}return i};e.getSelection=function(e){e=e||window;var t=e._rangySelection,i=_(e),r=C?n(e):null;if(t){t.nativeSelection=i;t.docSelection=r;t.refresh(e)}else{t=new d(i,r,e);e._rangySelection=t}return t};e.getIframeSelection=function(t){return e.getSelection(m.getIframeWindow(t))};N=d.prototype;if(!S&&k&&g.areHostMethods(T,["removeAllRanges","addRange"])){N.removeAllRanges=function(){this.nativeSelection.removeAllRanges();o(this)};var L=function(t,i){var n=v.getRangeDocument(i);n=e.createRange(n);n.collapseToPoint(i.endContainer,i.endOffset);t.nativeSelection.addRange(s(n));t.nativeSelection.extend(i.startContainer,i.startOffset);t.refresh()};N.addRange=D?function(t,i){if(A&&C&&this.docSelection.type=="Control")u(this,t);else if(i&&x)L(this,t);else{var n;if(R)n=this.rangeCount;else{this.removeAllRanges();n=0}this.nativeSelection.addRange(s(t));this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==n+1){if(e.config.checkSelectionRanges)if((n=M(this.nativeSelection,this.rangeCount-1))&&!v.rangesEqual(n,t))t=new w(n);this._ranges[this.rangeCount-1]=t;r(this,t,F(this.nativeSelection));this.isCollapsed=E(this)}else this.refresh()}}:function(e,t){if(t&&x)L(this,e);else{this.nativeSelection.addRange(s(e));this.refresh()}};N.setRanges=function(e){if(A&&e.length>1)f(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;t<i;++t)this.addRange(e[t])}}}else if(g.isHostMethod(T,"empty")&&g.isHostMethod(I,"select")&&A&&S){N.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var e;if(this.anchorNode)e=m.getDocument(this.anchorNode);else if(this.docSelection.type=="Control"){var t=this.docSelection.createRange();if(t.length)e=m.getDocument(t.item(0)).body.createTextRange()}if(e){e.body.createTextRange().select();this.docSelection.empty()}}}catch(e){}o(this)};N.addRange=function(e){if(this.docSelection.type=="Control")u(this,e);else{w.rangeToTextRange(e).select();this._ranges[0]=e;this.rangeCount=1;this.isCollapsed=this._ranges[0].collapsed;r(this,e,false)}};N.setRanges=function(e){this.removeAllRanges();var t=e.length;if(t>1)f(this,e);else t&&this.addRange(e[0])}}else{t.fail("No means of selecting a Range or TextRange was found");return false}N.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new b("INDEX_SIZE_ERR");else return this._ranges[e]};var B;if(S)B=function(t){var i;if(e.isSelectionValid(t.win))i=t.docSelection.createRange();else{i=m.getBody(t.win.document).createTextRange();i.collapse(true)}if(t.docSelection.type=="Control")c(t);else i&&typeof i.text!="undefined"?l(t,i):o(t)};else if(g.isHostMethod(T,"getRangeAt")&&typeof T.rangeCount=="number")B=function(t){if(A&&C&&t.docSelection.type=="Control")c(t);else{t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount;if(t.rangeCount){for(var i=0,n=t.rangeCount;i<n;++i)t._ranges[i]=new e.WrappedRange(t.nativeSelection.getRangeAt(i));r(t,t._ranges[t.rangeCount-1],F(t.nativeSelection));t.isCollapsed=E(t)}else o(t)}};else if(k&&typeof T.isCollapsed=="boolean"&&typeof I.collapsed=="boolean"&&e.features.implementsDomRange)B=function(e){var t;t=e.nativeSelection;if(t.anchorNode){t=M(t,0);e._ranges=[t];e.rangeCount=1;t=e.nativeSelection;e.anchorNode=t.anchorNode;e.anchorOffset=t.anchorOffset;e.focusNode=t.focusNode;e.focusOffset=t.focusOffset;e.isCollapsed=E(e)}else o(e)};else{t.fail("No means of obtaining a Range or TextRange from the user's selection was found");return false}N.refresh=function(e){var t=e?this._ranges.slice(0):null;B(this);if(e){e=t.length;if(e!=this._ranges.length)return false;for(;e--;)if(!v.rangesEqual(t[e],this._ranges[e]))return false;return true}};var K=function(e,t){var i=e.getAllRanges(),n=false;e.removeAllRanges();for(var r=0,s=i.length;r<s;++r)if(n||t!==i[r])e.addRange(i[r]);else n=true;e.rangeCount||o(e)};N.removeRange=A?function(e){if(this.docSelection.type=="Control"){var t=this.docSelection.createRange();e=a(e);var i=m.getDocument(t.item(0));i=m.getBody(i).createControlRange();for(var n,r=false,o=0,s=t.length;o<s;++o){n=t.item(o);if(n!==e||r)i.add(t.item(o));else r=true}i.select();c(this)}else K(this,e)}:function(e){K(this,e)};var F;if(!S&&k&&e.features.implementsDomRange){F=function(e){var t=false;if(e.anchorNode)t=m.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)==1;return t};N.isBackwards=function(){return F(this)}}else F=N.isBackwards=function(){return false};N.toString=function(){for(var e=[],t=0,i=this.rangeCount;t<i;++t)e[t]=""+this._ranges[t];return e.join("")};N.collapse=function(t,i){h(this,t);var n=e.createRange(m.getDocument(t));n.collapseToPoint(t,i);this.removeAllRanges();this.addRange(n);this.isCollapsed=true};N.collapseToStart=function(){if(this.rangeCount){var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)}else throw new b("INVALID_STATE_ERR")};N.collapseToEnd=function(){if(this.rangeCount){var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)}else throw new b("INVALID_STATE_ERR")};N.selectAllChildren=function(t){h(this,t);var i=e.createRange(m.getDocument(t));i.selectNodeContents(t);this.removeAllRanges();this.addRange(i)};N.deleteFromDocument=function(){if(A&&C&&this.docSelection.type=="Control"){for(var e=this.docSelection.createRange(),t;e.length;){t=e.item(0);e.remove(t);t.parentNode.removeChild(t)}this.refresh()}else if(this.rangeCount){e=this.getAllRanges();this.removeAllRanges();t=0;for(var i=e.length;t<i;++t)e[t].deleteContents();this.addRange(e[i-1])}};N.getAllRanges=function(){return this._ranges.slice(0)};N.setSingleRange=function(e){this.setRanges([e])};N.containsNode=function(e,t){for(var i=0,n=this._ranges.length;i<n;++i)if(this._ranges[i].containsNode(e,t))return true;return false};N.toHtml=function(){var e="";if(this.rangeCount){e=v.getRangeDocument(this._ranges[0]).createElement("div");for(var t=0,i=this._ranges.length;t<i;++t)e.appendChild(this._ranges[t].cloneContents());e=e.innerHTML}return e};N.getName=function(){return"WrappedSelection"};N.inspect=function(){return p(this)};N.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null};d.inspect=p;e.Selection=d;e.selectionPrototype=N;e.addCreateMissingNativeApiListener(function(t){if(typeof t.getSelection=="undefined")t.getSelection=function(){return e.getSelection(this)};t=null})});e.exports=rangy}).call(t,i(16))},function(e,t,i){var n=i(1);(function(e){e.fn.touchit=function(i){if(t[i]){return t[i].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof i==="object"||!i){return t.init.apply(this,arguments)}else{e.error("Method "+i+" does not exist on touchit")}};var t={init:function(t){this.data("touchit",e.extend({doubleTapTimeout:500,doubleTapWaiting:false,preTouchStart:false,onTouchStart:function(e,t){},onTouchMove:function(e,t){},onTouchEnd:function(e,t){},onDoubleTap:function(e,t){},onPinch:function(e){}},t));return this.each(function(){t(this);function t(e){var t="ongesturestart"in e;if(t){e.addEventListener("gesturechange",n,false);e.addEventListener("gestureend",r,false)}var i="ontouchstart"in e;if(i){e.addEventListener("touchstart",o,false);e.addEventListener("touchmove",o,true);e.addEventListener("touchend",o,true);e.addEventListener("touchcancel",o,true)}}var i=false;function n(t){var n=e(this);i=true;n.data("touchit").onPinch.call(this,t.scale);n.data("touchit").preTouchStart=true;t.preventDefault()}function r(e){i=false;e.preventDefault()}function o(t){if(i==true){return}var n=e(this),r=t.changedTouches,o=r[0],s="";switch(t.type){case"touchstart":s="mousedown";n.data("touchit").onTouchStart.call(this,o.screenX,o.screenY);n.data("touchit").preTouchStart=true;break;case"touchmove":s="mousemove";n.data("touchit").onTouchMove.call(this,o.screenX,o.screenY);n.data("touchit").preTouchStart=false;t.preventDefault();break;case"touchend":s="mouseup";n.data("touchit").onTouchEnd.call(this,o.screenX,o.screenY);if(n.data("touchit").doubleTapWaiting==true&&n.data("touchit").preTouchStart==true){n.data("touchit").onDoubleTap.call(this,o.screenX,o.screenY)}else{n.data("touchit").doubleTapWaiting=true;n.data("touchit").onTouchEnd.call(this,o.screenX,o.screenY);window.setTimeout(function(){n.data("touchit").doubleTapWaiting=false},n.data("touchit").doubleTapTimeout)}n.data("touchit").preTouchStart=false;break;default:return}var a=document.createEvent("MouseEvent");a.initMouseEvent(s,true,true,window,1,o.screenX,o.screenY,o.clientX,o.clientY,false,false,false,false,0,null);o.target.dispatchEvent(a)}})},destroy:function(){return this.each(function(){var t=e(this),i=t.data("touchit");if(i){t.removeData("touchit")}})}}})(n)},function(e,t,i){var n=i(398);n.createModule("SaveRestore",function(e,t){function i(e,t){var i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),n,r=s.getDocument(e.startContainer),o=e.cloneRange();o.collapse(t);n=r.createElement("span");n.id=i;n.style.lineHeight="0";n.style.display="none";n.className="rangySelectionBoundary";n.appendChild(r.createTextNode(a));o.insertNode(n);o.detach();return n}function n(e,i,n,r){if(e=(e||document).getElementById(n)){i[r?"setStartBefore":"setEndBefore"](e);e.parentNode.removeChild(e)}else t.warn("Marker element has been removed. Cannot restore selection.")}function r(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function o(e,t){var i=(e||document).getElementById(t);i&&i.parentNode.removeChild(i)}e.requireModules(["DomUtil","DomRange","WrappedRange"]);var s=e.dom,a="\ufeff";e.saveSelection=function(n){n=n||window;var o=n.document;if(e.isSelectionValid(n)){var s=e.getSelection(n),a=s.getAllRanges(),l=[],c,u;a.sort(r);for(var d=0,f=a.length;d<f;++d){c=a[d];if(c.collapsed){u=i(c,false);l.push({markerId:u.id,collapsed:true})}else{u=i(c,false);c=i(c,true);l[d]={startMarkerId:c.id,endMarkerId:u.id,collapsed:false,backwards:a.length==1&&s.isBackwards()}}}for(d=f-1;d>=0;--d){c=a[d];if(c.collapsed)c.collapseBefore((o||document).getElementById(l[d].markerId));else{c.setEndBefore((o||document).getElementById(l[d].endMarkerId));c.setStartAfter((o||document).getElementById(l[d].startMarkerId))}}s.setRanges(a);return{win:n,doc:o,rangeInfos:l,restored:false}}else t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.")};e.restoreSelection=function(i,r){if(!i.restored){for(var o=i.rangeInfos,s=e.getSelection(i.win),a=[],l=o.length,c=l-1,u,d;c>=0;--c){u=o[c];d=e.createRange(i.doc);if(u.collapsed)if(u=(i.doc||document).getElementById(u.markerId)){u.style.display="inline";var f=u.previousSibling;if(f&&f.nodeType==3){u.parentNode.removeChild(u);d.collapseToPoint(f,f.length)}else{d.collapseBefore(u);u.parentNode.removeChild(u)}}else t.warn("Marker element has been removed. Cannot restore selection.");else{n(i.doc,d,u.startMarkerId,true);n(i.doc,d,u.endMarkerId,false)}l==1&&d.normalizeBoundaries();a[c]=d}if(l==1&&r&&e.features.selectionHasExtend&&o[0].backwards){s.removeAllRanges();s.addRange(a[0],true)}else s.setRanges(a);i.restored=true}};e.removeMarkerElement=o;e.removeMarkers=function(e){for(var t=e.rangeInfos,i=0,n=t.length,r;i<n;++i){r=t[i];if(r.collapsed)o(e.doc,r.markerId);else{o(e.doc,r.startMarkerId);o(e.doc,r.endMarkerId)}}}})},function(e,t){e.exports='<input class="w-upload-input" type="file" name="files[]" {{#multiple}}multiple{{/multiple}} {{#accept}}accept="{{accept}}"{{/accept}} />\n'},,function(e,t,i){var n,r;(function(o){"use strict";if(true){!(n=o,r=typeof n==="function"?n.call(t,i,t,e):n,r!==undefined&&(e.exports=r))}else if(typeof e!="undefined"&&typeof e.exports!="undefined"){e.exports=o()}else if(typeof Package!=="undefined"){Sortable=o()}else{window["Sortable"]=o()}})(function(){"use strict";var e,t,i,n,r,o,s,a,l,c,u,d,f,h,p={},m,g,v,w=/\s+/g,b="Sortable"+(new Date).getTime(),y=window,_=y.document,E=y.parseInt,T=!!("draggable"in _.createElement("div")),C=function(e){e=_.createElement("x");e.style.cssText="pointer-events:auto";return e.style.pointerEvents==="auto"}(),S=false,I=Math.abs,O=[].slice,k=[],x=G(function(e,t,i){if(i&&t.scroll){var n,r,o=t.scrollSensitivity,l=t.scrollSpeed,c=e.clientX,u=e.clientY,d=window.innerWidth,f=window.innerHeight,h,m;if(a!==i){s=t.scroll;a=i;if(s===true){s=i;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight){break}}while(s=s.parentNode)}}if(s){n=s;r=s.getBoundingClientRect();h=(I(r.right-c)<=o)-(I(r.left-c)<=o);m=(I(r.bottom-u)<=o)-(I(r.top-u)<=o)}if(!(h||m)){h=(d-c<=o)-(c<=o);m=(f-u<=o)-(u<=o);(h||m)&&(n=y)}if(p.vx!==h||p.vy!==m||p.el!==n){p.el=n;p.vx=h;p.vy=m;clearInterval(p.pid);if(n){p.pid=setInterval(function(){if(n===y){y.scrollTo(y.pageXOffset+h*l,y.pageYOffset+m*l)}else{m&&(n.scrollTop+=m*l);h&&(n.scrollLeft+=h*l)}},24)}}}},30),D=function(e){var t=e.group;if(!t||typeof t!="object"){t=e.group={name:t}}["pull","put"].forEach(function(e){if(!(e in t)){t[e]=true}});e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};function R(e,t){if(!(e&&e.nodeType&&e.nodeType===1)){throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e)}this.el=e;this.options=t=q({},t);e[b]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false};for(var n in i){!(n in t)&&(t[n]=i[n])}D(t);for(var r in this){if(r.charAt(0)==="_"){this[r]=this[r].bind(this)}}this.nativeDraggable=t.forceFallback?false:T;M(e,"mousedown",this._onTapStart);M(e,"touchstart",this._onTapStart);if(this.nativeDraggable){M(e,"dragover",this);M(e,"dragenter",this)}k.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}R.prototype={constructor:R,_onTapStart:function(e){var t=this,i=this.el,n=this.options,r=e.type,o=e.touches&&e.touches[0],s=(o||e).target,a=s,l=n.filter;if(r==="mousedown"&&e.button!==0||n.disabled){return}s=A(s,n.draggable,i);if(!s){return}d=U(s);if(typeof l==="function"){if(l.call(this,e,s,this)){H(t,a,"filter",s,i,d);e.preventDefault();return}}else if(l){l=l.split(",").some(function(e){e=A(a,e.trim(),i);if(e){H(t,e,"filter",s,i,d);return true}});if(l){e.preventDefault();return}}if(n.handle&&!A(a,n.handle,i)){return}this._prepareDragStart(e,o,s)},_prepareDragStart:function(i,n,s){var a=this,l=a.el,c=a.options,u=l.ownerDocument,d;if(s&&!e&&s.parentNode===l){m=i;r=l;e=s;t=e.parentNode;o=e.nextSibling;h=c.group;d=function(){a._disableDelayedDrag();e.draggable=true;B(e,a.options.chosenClass,true);a._triggerDragStart(n)};c.ignore.split(",").forEach(function(t){F(e,t.trim(),j)});M(u,"mouseup",a._onDrop);M(u,"touchend",a._onDrop);M(u,"touchcancel",a._onDrop);if(c.delay){M(u,"mouseup",a._disableDelayedDrag);M(u,"touchend",a._disableDelayedDrag);M(u,"touchcancel",a._disableDelayedDrag);M(u,"mousemove",a._disableDelayedDrag);M(u,"touchmove",a._disableDelayedDrag);a._dragStartTimer=setTimeout(d,c.delay)}else{d()}}},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer);L(e,"mouseup",this._disableDelayedDrag);L(e,"touchend",this._disableDelayedDrag);L(e,"touchcancel",this._disableDelayedDrag);L(e,"mousemove",this._disableDelayedDrag);L(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){if(t){m={target:e,clientX:t.clientX,clientY:t.clientY};this._onDragStart(m,"touch")}else if(!this.nativeDraggable){this._onDragStart(m,true)}else{M(e,"dragend",this);M(r,"dragstart",this._onDragStart)}try{if(_.selection){_.selection.empty()}else{window.getSelection().removeAllRanges()}}catch(e){}},_dragStarted:function(){if(r&&e){B(e,this.options.ghostClass,true);R.active=this;H(this,r,"start",e,r,d)}},_emulateDragOver:function(){if(g){if(this._lastX===g.clientX&&this._lastY===g.clientY){return}this._lastX=g.clientX;this._lastY=g.clientY;if(!C){K(i,"display","none")}var e=_.elementFromPoint(g.clientX,g.clientY),t=e,n=" "+this.options.group.name+"",r=k.length;if(t){do{if(t[b]&&t[b].options.groups.indexOf(n)>-1){while(r--){k[r]({clientX:g.clientX,clientY:g.clientY,target:e,rootEl:t})}break}e=t}while(t=t.parentNode)}if(!C){K(i,"display","")}}},_onTouchMove:function(e){if(m){if(!R.active){this._dragStarted()}this._appendGhost();var t=e.touches?e.touches[0]:e,n=t.clientX-m.clientX,r=t.clientY-m.clientY,o=e.touches?"translate3d("+n+"px,"+r+"px,0)":"translate("+n+"px,"+r+"px)";v=true;g=t;K(i,"webkitTransform",o);K(i,"mozTransform",o);K(i,"msTransform",o);K(i,"transform",o);e.preventDefault()}},_appendGhost:function(){if(!i){var t=e.getBoundingClientRect(),n=K(e),o=this.options,s;i=e.cloneNode(true);B(i,o.ghostClass,false);B(i,o.fallbackClass,true);K(i,"top",t.top-E(n.marginTop,10));K(i,"left",t.left-E(n.marginLeft,10));K(i,"width",t.width);K(i,"height",t.height);K(i,"opacity","0.8");K(i,"position","fixed");K(i,"zIndex","100000");K(i,"pointerEvents","none");o.fallbackOnBody&&_.body.appendChild(i)||r.appendChild(i);s=i.getBoundingClientRect();K(i,"width",t.width*2-s.width);K(i,"height",t.height*2-s.height)}},_onDragStart:function(t,i){var o=t.dataTransfer,s=this.options;this._offUpEvents();if(h.pull=="clone"){n=e.cloneNode(true);K(n,"display","none");r.insertBefore(n,e)}if(i){if(i==="touch"){M(_,"touchmove",this._onTouchMove);M(_,"touchend",this._onDrop);M(_,"touchcancel",this._onDrop)}else{M(_,"mousemove",this._onTouchMove);M(_,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,50)}else{if(o){o.effectAllowed="move";s.setData&&s.setData.call(this,o,e)}M(_,"drop",this);setTimeout(this._dragStarted,0)}},_onDragOver:function(s){var a=this.el,d,f,p,m=this.options,g=m.group,w=g.put,y=h===g,_=m.sort;if(s.preventDefault!==void 0){s.preventDefault();!m.dragoverBubble&&s.stopPropagation()}v=true;if(h&&!m.disabled&&(y?_||(p=!r.contains(e)):h.pull&&w&&(h.name===g.name||w.indexOf&&~w.indexOf(h.name)))&&(s.rootEl===void 0||s.rootEl===this.el)){x(s,m,this.el);if(S){return}d=A(s.target,m.draggable,a);f=e.getBoundingClientRect();if(p){P(true);if(n||o){r.insertBefore(e,n||o)}else if(!_){r.appendChild(e)}return}if(a.children.length===0||a.children[0]===i||a===s.target&&(d=z(a,s))){if(d){if(d.animated){return}E=d.getBoundingClientRect()}P(y);if(W(r,a,e,f,d,E)!==false){if(!e.contains(a)){a.appendChild(e);t=a}this._animate(f,e);d&&this._animate(E,d)}}else if(d&&!d.animated&&d!==e&&d.parentNode[b]!==void 0){if(l!==d){l=d;c=K(d);u=K(d.parentNode)}var E=d.getBoundingClientRect(),T=E.right-E.left,C=E.bottom-E.top,I=/left|right|inline/.test(c.cssFloat+c.display)||u.display=="flex"&&u["flex-direction"].indexOf("row")===0,O=d.offsetWidth>e.offsetWidth,k=d.offsetHeight>e.offsetHeight,D=(I?(s.clientX-E.left)/T:(s.clientY-E.top)/C)>.5,R=d.nextElementSibling,N=W(r,a,e,f,d,E),M;if(N!==false){S=true;setTimeout($,30);P(y);
if(N===1||N===-1){M=N===1}else if(I){var L=e.offsetTop,B=d.offsetTop;if(L===B){M=d.previousElementSibling===e&&!O||D&&O}else{M=B>L}}else{M=R!==e&&!k||D&&k}if(!e.contains(a)){if(M&&!R){a.appendChild(e)}else{d.parentNode.insertBefore(e,M?R:d)}}t=e.parentNode;this._animate(f,e);this._animate(E,d)}}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();K(t,"transition","none");K(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)");t.offsetWidth;K(t,"transition","all "+i+"ms");K(t,"transform","translate3d(0,0,0)");clearTimeout(t.animated);t.animated=setTimeout(function(){K(t,"transition","");K(t,"transform","");t.animated=false},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;L(_,"touchmove",this._onTouchMove);L(e,"mouseup",this._onDrop);L(e,"touchend",this._onDrop);L(e,"touchcancel",this._onDrop)},_onDrop:function(u){var w=this.el,b=this.options;clearInterval(this._loopId);clearInterval(p.pid);clearTimeout(this._dragStartTimer);L(_,"mousemove",this._onTouchMove);if(this.nativeDraggable){L(_,"drop",this);L(w,"dragstart",this._onDragStart)}this._offUpEvents();if(u){if(v){u.preventDefault();!b.dropBubble&&u.stopPropagation()}i&&i.parentNode.removeChild(i);if(e){if(this.nativeDraggable){L(e,"dragend",this)}j(e);B(e,this.options.ghostClass,false);B(e,this.options.chosenClass,false);if(r!==t){f=U(e);if(f>=0){H(null,t,"sort",e,r,d,f);H(this,r,"sort",e,r,d,f);H(null,t,"add",e,r,d,f);H(this,r,"remove",e,r,d,f)}}else{n&&n.parentNode.removeChild(n);if(e.nextSibling!==o){f=U(e);if(f>=0){H(this,r,"update",e,r,d,f);H(this,r,"sort",e,r,d,f)}}}if(R.active){if(f===null||f===-1){f=d}H(this,r,"end",e,r,d,f);this.save()}}r=e=t=i=o=n=s=a=m=g=v=f=l=c=h=R.active=null}},handleEvent:function(t){var i=t.type;if(i==="dragover"||i==="dragenter"){if(e){this._onDragOver(t);N(t)}}else if(i==="drop"||i==="dragend"){this._onDrop(t)}},toArray:function(){var e=[],t,i=this.el.children,n=0,r=i.length,o=this.options;for(;n<r;n++){t=i[n];if(A(t,o.draggable,this.el)){e.push(t.getAttribute(o.dataIdAttr)||V(t))}}return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var r=i.children[n];if(A(r,this.options.draggable,i)){t[e]=r}},this);e.forEach(function(e){if(t[e]){i.removeChild(t[e]);i.appendChild(t[e])}})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return A(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(t===void 0){return i[e]}else{i[e]=t;if(e==="group"){D(i)}}},destroy:function(){var e=this.el;e[b]=null;L(e,"mousedown",this._onTapStart);L(e,"touchstart",this._onTapStart);if(this.nativeDraggable){L(e,"dragover",this);L(e,"dragenter",this)}Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});k.splice(k.indexOf(this._onDragOver),1);this._onDrop();this.el=e=null}};function P(t){if(n&&n.state!==t){K(n,"display",t?"none":"");!t&&n.state&&r.insertBefore(n,e);n.state=t}}function A(e,t,i){if(e){i=i||_;t=t.split(".");var n=t.shift().toUpperCase(),r=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do{if(n===">*"&&e.parentNode===i||(n===""||e.nodeName.toUpperCase()==n)&&(!t.length||((" "+e.className+" ").match(r)||[]).length==t.length)){return e}}while(e!==i&&(e=e.parentNode))}return null}function N(e){if(e.dataTransfer){e.dataTransfer.dropEffect="move"}e.preventDefault()}function M(e,t,i){e.addEventListener(t,i,false)}function L(e,t,i){e.removeEventListener(t,i,false)}function B(e,t,i){if(e){if(e.classList){e.classList[i?"add":"remove"](t)}else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(w," ")}}}function K(e,t,i){var n=e&&e.style;if(n){if(i===void 0){if(_.defaultView&&_.defaultView.getComputedStyle){i=_.defaultView.getComputedStyle(e,"")}else if(e.currentStyle){i=e.currentStyle}return t===void 0?i:i[t]}else{if(!(t in n)){t="-webkit-"+t}n[t]=i+(typeof i==="string"?"":"px")}}}function F(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,o=n.length;if(i){for(;r<o;r++){i(n[r],r)}}return n}return[]}function H(e,t,i,r,o,s,a){var l=_.createEvent("Event"),c=(e||t[b]).options,u="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,true,true);l.to=t;l.from=o||t;l.item=r||t;l.clone=n;l.oldIndex=s;l.newIndex=a;t.dispatchEvent(l);if(c[u]){c[u].call(e,l)}}function W(e,t,i,n,r,o){var s,a=e[b],l=a.options.onMove,c;s=_.createEvent("Event");s.initEvent("move",true,true);s.to=t;s.from=e;s.dragged=i;s.draggedRect=n;s.related=r||t;s.relatedRect=o||t.getBoundingClientRect();e.dispatchEvent(s);if(l){c=l.call(a,s)}return c}function j(e){e.draggable=false}function $(){S=false}function z(e,t){var i=e.lastElementChild,n=i.getBoundingClientRect();return(t.clientY-(n.top+n.height)>5||t.clientX-(n.right+n.width)>5)&&i}function V(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--){n+=t.charCodeAt(i)}return n.toString(36)}function U(e){var t=0;if(!e||!e.parentNode){return-1}while(e&&(e=e.previousElementSibling)){if(e.nodeName.toUpperCase()!=="TEMPLATE"){t++}}return t}function G(e,t){var i,n;return function(){if(i===void 0){i=arguments;n=this;setTimeout(function(){if(i.length===1){e.call(n,i[0])}else{e.apply(n,i)}i=void 0},t)}}}function q(e,t){if(e&&t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}R.utils={on:M,off:L,css:K,find:F,is:function(e,t){return!!A(e,t,e)},extend:q,throttle:G,closest:A,toggleClass:B,index:U};R.create=function(e,t){return new R(e,t)};R.version="1.4.2";return R})},function(e,t,i){var n,r;(function(o,s){if(true){!(n=[i(406),i(419)],r=function(e,t){return s(o,e,t)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s(o,require("get-size"),require("unidragger"))}else{o.Draggabilly=s(o,o.getSize,o.Unidragger)}})(window,function e(t,i,n){"use strict";var r=t.document;function o(){}function s(e,t){for(var i in t){e[i]=t[i]}return e}function a(e){return e instanceof HTMLElement}var l=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame;var c=0;if(!l){l=function(e){var t=(new Date).getTime();var i=Math.max(0,16-(t-c));var n=setTimeout(e,i);c=t+i;return n}}var u=r.documentElement;var d=typeof u.style.transform=="string"?"transform":"WebkitTransform";var f=t.jQuery;function h(e,t){this.element=typeof e=="string"?r.querySelector(e):e;if(f){this.$element=f(this.element)}this.options=s({},this.constructor.defaults);this.option(t);this._create()}var p=h.prototype=Object.create(n.prototype);h.defaults={};p.option=function(e){s(this.options,e)};var m={relative:true,absolute:true,fixed:true};p._create=function(){this.position={};this._getPosition();this.startPoint={x:0,y:0};this.dragPoint={x:0,y:0};this.startPosition=s({},this.position);var e=getComputedStyle(this.element);if(!m[e.position]){this.element.style.position="relative"}this.enable();this.setHandles()};p.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element];this.bindHandles()};p.dispatchEvent=function(e,i,n){var r=[i].concat(n);this.emitEvent(e,r);var o=t.jQuery;if(o&&this.$element){if(i){var s=o.Event(i);s.type=e;this.$element.trigger(s,n)}else{this.$element.trigger(e,n)}}};p._getPosition=function(){var e=getComputedStyle(this.element);var t=this._getPositionCoord(e.left,"width");var i=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t;this.position.y=isNaN(i)?0:i;this._addTransformPosition(e)};p._getPositionCoord=function(e,t){if(e.indexOf("%")!=-1){var n=i(this.element.parentNode);return!n?0:parseFloat(e)/100*n[t]}return parseInt(e,10)};p._addTransformPosition=function(e){var t=e[d];if(t.indexOf("matrix")!==0){return}var i=t.split(",");var n=t.indexOf("matrix3d")===0?12:4;var r=parseInt(i[n],10);var o=parseInt(i[n+1],10);this.position.x+=r;this.position.y+=o};p.pointerDown=function(e,t){this._dragPointerDown(e,t);var i=r.activeElement;if(i&&i.blur&&i!=r.body){i.blur()}this._bindPostStartEvents(e);this.element.classList.add("is-pointer-down");this.dispatchEvent("pointerDown",e,[t])};p.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,i]);this._dragMove(e,t,i)};p.dragStart=function(e,t){if(!this.isEnabled){return}this._getPosition();this.measureContainment();this.startPosition.x=this.position.x;this.startPosition.y=this.position.y;this.setLeftTop();this.dragPoint.x=0;this.dragPoint.y=0;this.element.classList.add("is-dragging");this.dispatchEvent("dragStart",e,[t]);this.animate()};p.measureContainment=function(){var e=this.options.containment;if(!e){return}var t=a(e)?e:typeof e=="string"?r.querySelector(e):this.element.parentNode;var n=i(this.element);var o=i(t);var s=this.element.getBoundingClientRect();var l=t.getBoundingClientRect();var c=o.borderLeftWidth+o.borderRightWidth;var u=o.borderTopWidth+o.borderBottomWidth;var d=this.relativeStartPosition={x:s.left-(l.left+o.borderLeftWidth),y:s.top-(l.top+o.borderTopWidth)};this.containSize={width:o.width-c-d.x-n.width,height:o.height-u-d.y-n.height}};p.dragMove=function(e,t,i){if(!this.isEnabled){return}var n=i.x;var r=i.y;var o=this.options.grid;var s=o&&o[0];var a=o&&o[1];n=g(n,s);r=g(r,a);n=this.containDrag("x",n,s);r=this.containDrag("y",r,a);n=this.options.axis=="y"?0:n;r=this.options.axis=="x"?0:r;this.position.x=this.startPosition.x+n;this.position.y=this.startPosition.y+r;this.dragPoint.x=n;this.dragPoint.y=r;this.dispatchEvent("dragMove",e,[t,i])};function g(e,t,i){i=i||"round";return t?Math[i](e/t)*t:e}p.containDrag=function(e,t,i){if(!this.options.containment){return t}var n=e=="x"?"width":"height";var r=this.relativeStartPosition[e];var o=g(-r,i,"ceil");var s=this.containSize[n];s=g(s,i,"floor");return Math.min(s,Math.max(o,t))};p.pointerUp=function(e,t){this.element.classList.remove("is-pointer-down");this.dispatchEvent("pointerUp",e,[t]);this._dragPointerUp(e,t)};p.dragEnd=function(e,t){if(!this.isEnabled){return}if(d){this.element.style[d]="";this.setLeftTop()}this.element.classList.remove("is-dragging");this.dispatchEvent("dragEnd",e,[t])};p.animate=function(){if(!this.isDragging){return}this.positionDrag();var e=this;l(function t(){e.animate()})};p.setLeftTop=function(){this.element.style.left=this.position.x+"px";this.element.style.top=this.position.y+"px"};p.positionDrag=function(){this.element.style[d]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"};p.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])};p.enable=function(){this.isEnabled=true};p.disable=function(){this.isEnabled=false;if(this.isDragging){this.dragEnd()}};p.destroy=function(){this.disable();this.element.style[d]="";this.element.style.left="";this.element.style.top="";this.element.style.position="";this.unbindHandles();if(this.$element){this.$element.removeData("draggabilly")}};p._init=o;if(f&&f.bridget){f.bridget("draggabilly",h)}return h})},function(e,t,i){var n,r;(function(o,s){if(true){!(n=s,r=typeof n==="function"?n.call(t,i,t,e):n,r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s()}else{o.EvEmitter=s()}})(typeof window!="undefined"?window:this,function(){"use strict";function e(){}var t=e.prototype;t.on=function(e,t){if(!e||!t){return}var i=this._events=this._events||{};var n=i[e]=i[e]||[];if(n.indexOf(t)==-1){n.push(t)}return this};t.once=function(e,t){if(!e||!t){return}this.on(e,t);var i=this._onceEvents=this._onceEvents||{};var n=i[e]=i[e]||{};n[t]=true;return this};t.off=function(e,t){var i=this._events&&this._events[e];if(!i||!i.length){return}var n=i.indexOf(t);if(n!=-1){i.splice(n,1)}return this};t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(!i||!i.length){return}var n=0;var r=i[n];t=t||[];var o=this._onceEvents&&this._onceEvents[e];while(r){var s=o&&o[r];if(s){this.off(e,r);delete o[r]}r.apply(this,t);n+=s?0:1;r=i[n]}return this};return e})},function(e,t,i){var n,r;(function(o,s){if(true){!(n=s,r=typeof n==="function"?n.call(t,i,t,e):n,r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s()}else{o.getSize=s()}})(window,function e(){"use strict";function t(e){var t=parseFloat(e);var i=e.indexOf("%")==-1&&!isNaN(t);return i&&t}function i(){}var n=typeof console=="undefined"?i:function(e){console.error(e)};var r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var o=r.length;function s(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0;t<o;t++){var i=r[t];e[i]=0}return e}function a(e){var t=getComputedStyle(e);if(!t){n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1")}return t}var l=false;var c;function u(){if(l){return}l=true;var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);c=Math.round(t(n.width))==200;d.isBoxSizeOuter=c;i.removeChild(e)}function d(e){u();if(typeof e=="string"){e=document.querySelector(e)}if(!e||typeof e!="object"||!e.nodeType){return}var i=a(e);if(i.display=="none"){return s()}var n={};n.width=e.offsetWidth;n.height=e.offsetHeight;var l=n.isBorderBox=i.boxSizing=="border-box";for(var d=0;d<o;d++){var f=r[d];var h=i[f];var p=parseFloat(h);n[f]=!isNaN(p)?p:0}var m=n.paddingLeft+n.paddingRight;var g=n.paddingTop+n.paddingBottom;var v=n.marginLeft+n.marginRight;var w=n.marginTop+n.marginBottom;var b=n.borderLeftWidth+n.borderRightWidth;var y=n.borderTopWidth+n.borderBottomWidth;var _=l&&c;var E=t(i.width);if(E!==false){n.width=E+(_?0:m+b)}var T=t(i.height);if(T!==false){n.height=T+(_?0:g+y)}n.innerWidth=n.width-(m+b);n.innerHeight=n.height-(g+y);n.outerWidth=n.width+v;n.outerHeight=n.height+w;return n}return d})},,function(e,t,i){var n,r;(function(o,s){if(true){!(n=[i(1)],r=function(e){return s(o,e)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s(o,require("jquery"))}else{o.jQueryBridget=s(o,o.jQuery)}})(window,function e(t,i){"use strict";var n=Array.prototype.slice;var r=t.console;var o=typeof r=="undefined"?function(){}:function(e){r.error(e)};function s(e,r,s){s=s||i||t.jQuery;if(!s){return}if(!r.prototype.option){r.prototype.option=function(e){if(!s.isPlainObject(e)){return}this.options=s.extend(true,this.options,e)}}s.fn[e]=function(e){if(typeof e=="string"){var t=n.call(arguments,1);return l(this,e,t)}c(this,e);return this};function l(t,i,n){var r;var a="$()."+e+'("'+i+'")';t.each(function(t,l){var c=s.data(l,e);if(!c){o(e+" not initialized. Cannot call methods, i.e. "+a);return}var u=c[i];if(!u||i.charAt(0)=="_"){o(a+" is not a valid method");return}var d=u.apply(c,n);r=r===undefined?d:r});return r!==undefined?r:t}function c(t,i){t.each(function(t,n){var o=s.data(n,e);if(o){o.option(i);o._init()}else{o=new r(n,i);s.data(n,e,o)}})}a(s)}function a(e){if(!e||e&&e.bridget){return}e.bridget=s}a(i||t.jQuery);return s})},function(e,t,i){var n,r;(function(o){if(true){!(n=[i(1)],r=function(e){return o(e)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof e==="object"&&typeof e.exports==="object"){e.exports=o(require("jquery"))}else{o(window.jQuery)}})(function(e){"use strict";function t(e){if(e===undefined){e=window.navigator.userAgent}e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];var i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[];var n={},r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:i[0]||""};if(r.browser){n[r.browser]=true;n.version=r.version;n.versionNumber=parseInt(r.versionNumber,10)}if(r.platform){n[r.platform]=true}if(n.android||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"]){n.mobile=true}if(n.cros||n.mac||n.linux||n.win){n.desktop=true}if(n.chrome||n.opr||n.safari){n.webkit=true}if(n.rv||n.iemobile){var o="msie";r.browser=o;n[o]=true}if(n.edge){delete n.edge;var s="msedge";r.browser=s;n[s]=true}if(n.safari&&n.blackberry){var a="blackberry";r.browser=a;n[a]=true}if(n.safari&&n.playbook){var l="playbook";r.browser=l;n[l]=true}if(n.bb){var c="blackberry";r.browser=c;n[c]=true}if(n.opr){var u="opera";r.browser=u;n[u]=true}if(n.safari&&n.android){var d="android";r.browser=d;n[d]=true}if(n.safari&&n.kindle){var f="kindle";r.browser=f;n[f]=true}if(n.safari&&n.silk){var h="silk";r.browser=h;n[h]=true}n.name=r.browser;n.platform=r.platform;return n}window.jQBrowser=t(window.navigator.userAgent);window.jQBrowser.uaMatch=t;if(e){e.browser=window.jQBrowser}return window.jQBrowser})},function(e,t,i){var n,r,o;var r,s;var r,n,a;var r,l;var n,c;var r,u;var n,d;var r,o;(function(n,s){"use strict";if(true){!(r=[i(1)],o=function(e){s(n,e)}.apply(t,r),o!==undefined&&(e.exports=o))}else if(typeof e=="object"&&e.exports){e.exports=s(n,require("jquery"))}else{n.jQueryBridget=s(n,n.jQuery)}})(window,function e(t,i){"use strict";var n=Array.prototype.slice;var r=t.console;var o=typeof r=="undefined"?function(){}:function(e){r.error(e)};function s(e,r,s){s=s||i||t.jQuery;if(!s){return}if(!r.prototype.option){r.prototype.option=function(e){if(!s.isPlainObject(e)){return}this.options=s.extend(true,this.options,e)}}s.fn[e]=function(e){if(typeof e=="string"){var t=n.call(arguments,1);return l(this,e,t)}c(this,e);return this};function l(t,i,n){var r;var a="$()."+e+'("'+i+'")';t.each(function(t,l){var c=s.data(l,e);if(!c){o(e+" not initialized. Cannot call methods, i.e. "+a);return}var u=c[i];if(!u||i.charAt(0)=="_"){o(a+" is not a valid method");return}var d=u.apply(c,n);r=r===undefined?d:r});return r!==undefined?r:t}function c(t,i){t.each(function(t,n){var o=s.data(n,e);if(o){o.option(i);o._init()}else{o=new r(n,i);s.data(n,e,o)}})}a(s)}function a(e){if(!e||e&&e.bridget){return}e.bridget=s}a(i||t.jQuery);return s});(function(r,o){if(true){!(n=o,d=typeof n==="function"?n.call(t,i,t,e):n)}else if(typeof e=="object"&&e.exports){e.exports=o()}else{r.EvEmitter=o()}})(this,function(){function e(){}var t=e.prototype;t.on=function(e,t){if(!e||!t){return}var i=this._events=this._events||{};var n=i[e]=i[e]||[];if(n.indexOf(t)==-1){n.push(t)}return this};t.once=function(e,t){if(!e||!t){return}this.on(e,t);var i=this._onceEvents=this._onceEvents||{};var n=i[e]=i[e]||{};n[t]=true;return this};t.off=function(e,t){var i=this._events&&this._events[e];if(!i||!i.length){return}var n=i.indexOf(t);if(n!=-1){i.splice(n,1)}return this};t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(!i||!i.length){return}var n=0;var r=i[n];t=t||[];var o=this._onceEvents&&this._onceEvents[e];while(r){var s=o&&o[r];if(s){this.off(e,r);delete o[r]}r.apply(this,t);n+=s?0:1;r=i[n]}return this};return e});(function(i,n){"use strict";if(true){!(r=[],u=function(){return n()}.apply(t,r))}else if(typeof e=="object"&&e.exports){e.exports=n()}else{i.getSize=n()}})(window,function e(){"use strict";function t(e){var t=parseFloat(e);var i=e.indexOf("%")==-1&&!isNaN(t);return i&&t}function i(){}var n=typeof console=="undefined"?i:function(e){console.error(e)};var r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];var o=r.length;function s(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0;t<o;t++){var i=r[t];e[i]=0}return e}function a(e){var t=getComputedStyle(e);if(!t){n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1")}return t}var l=false;var c;function u(){if(l){return}l=true;var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);d.isBoxSizeOuter=c=t(n.width)==200;i.removeChild(e)}function d(e){u();if(typeof e=="string"){e=document.querySelector(e)}if(!e||typeof e!="object"||!e.nodeType){return}var i=a(e);if(i.display=="none"){return s()}var n={};n.width=e.offsetWidth;n.height=e.offsetHeight;var l=n.isBorderBox=i.boxSizing=="border-box";for(var d=0;d<o;d++){var f=r[d];var h=i[f];var p=parseFloat(h);n[f]=!isNaN(p)?p:0}var m=n.paddingLeft+n.paddingRight;var g=n.paddingTop+n.paddingBottom;var v=n.marginLeft+n.marginRight;var w=n.marginTop+n.marginBottom;var b=n.borderLeftWidth+n.borderRightWidth;var y=n.borderTopWidth+n.borderBottomWidth;var _=l&&c;var E=t(i.width);if(E!==false){n.width=E+(_?0:m+b)}var T=t(i.height);if(T!==false){n.height=T+(_?0:g+y)}n.innerWidth=n.width-(m+b);n.innerHeight=n.height-(g+y);n.outerWidth=n.width+v;n.outerHeight=n.height+w;return n}return d});(function(r,o){"use strict";if(true){!(n=o,c=typeof n==="function"?n.call(t,i,t,e):n)}else if(typeof e=="object"&&e.exports){e.exports=o()}else{r.matchesSelector=o()}})(window,function e(){"use strict";var t=function(){var e=Element.prototype;if(e.matches){return"matches"}if(e.matchesSelector){return"matchesSelector"}var t=["webkit","moz","ms","o"];for(var i=0;i<t.length;i++){var n=t[i];var r=n+"MatchesSelector";if(e[r]){return r}}}();return function e(i,n){return i[t](n)}});(function(i,n){if(true){!(r=[c],l=function(e){return n(i,e)}.apply(t,r))}else if(typeof e=="object"&&e.exports){e.exports=n(i,require("desandro-matches-selector"))}else{i.fizzyUIUtils=n(i,i.matchesSelector)}})(window,function e(t,i){var n={};n.extend=function(e,t){for(var i in t){e[i]=t[i]}return e};n.modulo=function(e,t){return(e%t+t)%t};n.makeArray=function(e){var t=[];if(Array.isArray(e)){t=e}else if(e&&typeof e.length=="number"){for(var i=0;i<e.length;i++){t.push(e[i])}}else{t.push(e)}return t};n.removeFrom=function(e,t){var i=e.indexOf(t);if(i!=-1){e.splice(i,1)}};n.getParent=function(e,t){while(e!=document.body){e=e.parentNode;if(i(e,t)){return e}}};n.getQueryElement=function(e){if(typeof e=="string"){return document.querySelector(e)}return e};n.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};n.filterFindElements=function(e,t){e=n.makeArray(e);var r=[];e.forEach(function(e){if(!(e instanceof HTMLElement)){return}if(!t){r.push(e);return}if(i(e,t)){r.push(e)}var n=e.querySelectorAll(t);for(var o=0;o<n.length;o++){r.push(n[o])}});return r};n.debounceMethod=function(e,t,i){var n=e.prototype[t];var r=t+"Timeout";e.prototype[t]=function(){var e=this[r];if(e){clearTimeout(e)}var t=arguments;var o=this;this[r]=setTimeout(function(){n.apply(o,t);delete o[r]},i||100)}};n.docReady=function(e){if(document.readyState=="complete"){e()}else{document.addEventListener("DOMContentLoaded",e)}};n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var r=t.console;n.htmlInit=function(e,i){n.docReady(function(){var o=n.toDashed(i);var s="data-"+o;var a=document.querySelectorAll("["+s+"]");var l=document.querySelectorAll(".js-"+o);var c=n.makeArray(a).concat(n.makeArray(l));var u=s+"-options";var d=t.jQuery;c.forEach(function(t){var n=t.getAttribute(s)||t.getAttribute(u);var o;try{o=n&&JSON.parse(n)}catch(e){if(r){r.error("Error parsing "+s+" on "+t.className+": "+e)}return}var a=new e(t,o);if(d){d.data(t,i,a)}})})};return n});(function(i,o){if(true){!(r=[d,u],n=o,a=typeof n==="function"?n.apply(t,r):n)}else if(typeof e=="object"&&e.exports){e.exports=o(require("ev-emitter"),require("get-size"))}else{i.Outlayer={};i.Outlayer.Item=o(i.EvEmitter,i.getSize)}})(window,function e(t,i){"use strict";function n(e){for(var t in e){return false}t=null;return true}var r=document.documentElement.style;var o=typeof r.transition=="string"?"transition":"WebkitTransition";var s=typeof r.transform=="string"?"transform":"WebkitTransform";var a={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o];var l={transform:s,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function c(e,t){if(!e){return}this.element=e;this.layout=t;this.position={x:0,y:0};this._create()}var u=c.prototype=Object.create(t.prototype);u.constructor=c;u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};u.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};u.getSize=function(){this.size=i(this.element)};u.css=function(e){var t=this.element.style;for(var i in e){var n=l[i]||i;t[n]=e[i]}};u.getPosition=function(){var e=getComputedStyle(this.element);var t=this.layout._getOption("originLeft");var i=this.layout._getOption("originTop");var n=e[t?"left":"right"];var r=e[i?"top":"bottom"];var o=this.layout.size;var s=n.indexOf("%")!=-1?parseFloat(n)/100*o.width:parseInt(n,10);var a=r.indexOf("%")!=-1?parseFloat(r)/100*o.height:parseInt(r,10);s=isNaN(s)?0:s;a=isNaN(a)?0:a;s-=t?o.paddingLeft:o.paddingRight;a-=i?o.paddingTop:o.paddingBottom;this.position.x=s;this.position.y=a};u.layoutPosition=function(){var e=this.layout.size;var t={};var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");var r=i?"paddingLeft":"paddingRight";var o=i?"left":"right";var s=i?"right":"left";var a=this.position.x+e[r];t[o]=this.getXValue(a);t[s]="";var l=n?"paddingTop":"paddingBottom";var c=n?"top":"bottom";var u=n?"bottom":"top";var d=this.position.y+e[l];t[c]=this.getYValue(d);t[u]="";this.css(t);this.emitEvent("layout",[this])};u.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"};u.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"};u._transitionTo=function(e,t){this.getPosition();var i=this.position.x;var n=this.position.y;var r=parseInt(e,10);var o=parseInt(t,10);var s=r===this.position.x&&o===this.position.y;this.setPosition(e,t);if(s&&!this.isTransitioning){this.layoutPosition();return}var a=e-i;var l=t-n;var c={};c.transform=this.getTranslate(a,l);this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};u.getTranslate=function(e,t){var i=this.layout._getOption("originLeft");var n=this.layout._getOption("originTop");e=i?e:-e;t=n?t:-t;return"translate3d("+e+"px, "+t+"px, 0)"};u.goTo=function(e,t){this.setPosition(e,t);this.layoutPosition()};u.moveTo=u._transitionTo;u.setPosition=function(e,t){this.position.x=parseInt(e,10);this.position.y=parseInt(t,10)};u._nonTransition=function(e){this.css(e.to);if(e.isCleaning){this._removeStyles(e.to)}for(var t in e.onTransitionEnd){e.onTransitionEnd[t].call(this)}};u.transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var i in e.onTransitionEnd){t.onEnd[i]=e.onTransitionEnd[i]}for(i in e.to){t.ingProperties[i]=true;if(e.isCleaning){t.clean[i]=true}}if(e.from){this.css(e.from);var n=this.element.offsetHeight;n=null}this.enableTransition(e.to);this.css(e.to);this.isTransitioning=true};function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var f="opacity,"+d(s);u.enableTransition=function(){if(this.isTransitioning){return}var e=this.layout.options.transitionDuration;e=typeof e=="number"?e+"ms":e;this.css({transitionProperty:f,transitionDuration:e,transitionDelay:this.staggerDelay||0});this.element.addEventListener(a,this,false)};u.onwebkitTransitionEnd=function(e){this.ontransitionend(e)};u.onotransitionend=function(e){this.ontransitionend(e)};var h={"-webkit-transform":"transform"};u.ontransitionend=function(e){if(e.target!==this.element){return}var t=this._transn;var i=h[e.propertyName]||e.propertyName;delete t.ingProperties[i];if(n(t.ingProperties)){this.disableTransition()}if(i in t.clean){this.element.style[e.propertyName]="";delete t.clean[i]}if(i in t.onEnd){var r=t.onEnd[i];r.call(this);delete t.onEnd[i]}this.emitEvent("transitionEnd",[this])};u.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(a,this,false);this.isTransitioning=false};u._removeStyles=function(e){var t={};for(var i in e){t[i]=""}this.css(t)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};u.removeTransitionStyles=function(){this.css(p)};u.stagger=function(e){e=isNaN(e)?0:e;this.staggerDelay=e+"ms"};u.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};u.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()};u.reveal=function(){delete this.isHidden;this.css({display:""});var e=this.layout.options;var t={};var i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:true,onTransitionEnd:t})};u.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};u.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity){return"opacity"}for(var i in t){return i}};u.hide=function(){this.isHidden=true;this.css({display:""});var e=this.layout.options;var t={};var i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:true,onTransitionEnd:t})};u.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return c});(function(i,n){"use strict";if(true){!(r=[d,u,l,a],s=function(e,t,r,o){return n(i,e,t,r,o)}.apply(t,r))}else if(typeof e=="object"&&e.exports){e.exports=n(i,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"))}else{i.Outlayer=n(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)}})(window,function e(t,i,n,r,o){"use strict";var s=t.console;var a=t.jQuery;var l=function(){};var c=0;var u={};function d(e,t){var i=r.getQueryElement(e);if(!i){if(s){s.error("Bad element for "+this.constructor.namespace+": "+(i||e))}return}this.element=i;if(a){this.$element=a(this.element)}this.options=r.extend({},this.constructor.defaults);this.option(t);var n=++c;this.element.outlayerGUID=n;u[n]=this;this._create();var o=this._getOption("initLayout");if(o){this.layout()}}d.namespace="outlayer";d.Item=o;d.defaults={containerStyle:{position:"relative"},initLayout:true,originLeft:true,originTop:true,resize:true,resizeContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=d.prototype;r.extend(f,i.prototype);f.option=function(e){r.extend(this.options,e)};f._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&this.options[t]!==undefined?this.options[t]:this.options[e]};d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"
};f._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);r.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");if(e){this.bindResize()}};f.reloadItems=function(){this.items=this._itemize(this.element.children)};f._itemize=function(e){var t=this._filterFindItemElements(e);var i=this.constructor.Item;var n=[];for(var r=0;r<t.length;r++){var o=t[r];var s=new i(o,this);n.push(s)}return n};f._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)};f.getItemElements=function(){return this.items.map(function(e){return e.element})};f.layout=function(){this._resetLayout();this._manageStamps();var e=this._getOption("layoutInstant");var t=e!==undefined?e:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=true};f._init=f.layout;f._resetLayout=function(){this.getSize()};f.getSize=function(){this.size=n(this.element)};f._getMeasurement=function(e,t){var i=this.options[e];var r;if(!i){this[e]=0}else{if(typeof i=="string"){r=this.element.querySelector(i)}else if(i instanceof HTMLElement){r=i}this[e]=r?n(r)[t]:i}};f.layoutItems=function(e,t){e=this._getItemsForLayout(e);this._layoutItems(e,t);this._postLayout()};f._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})};f._layoutItems=function(e,t){this._emitCompleteOnItems("layout",e);if(!e||!e.length){return}var i=[];e.forEach(function(e){var n=this._getItemLayoutPosition(e);n.item=e;n.isInstant=t||e.isLayoutInstant;i.push(n)},this);this._processLayoutQueue(i)};f._getItemLayoutPosition=function(){return{x:0,y:0}};f._processLayoutQueue=function(e){this.updateStagger();e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)};f.updateStagger=function(){var e=this.options.stagger;if(e===null||e===undefined){this.stagger=0;return}this.stagger=m(e);return this.stagger};f._positionItem=function(e,t,i,n,r){if(n){e.goTo(t,i)}else{e.stagger(r*this.stagger);e.moveTo(t,i)}};f._postLayout=function(){this.resizeContainer()};f.resizeContainer=function(){var e=this._getOption("resizeContainer");if(!e){return}var t=this._getContainerSize();if(t){this._setContainerMeasure(t.width,true);this._setContainerMeasure(t.height,false)}};f._getContainerSize=l;f._setContainerMeasure=function(e,t){if(e===undefined){return}var i=this.size;if(i.isBorderBox){e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth}e=Math.max(e,0);this.element.style[t?"width":"height"]=e+"px"};f._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var r=t.length;if(!t||!r){n();return}var o=0;function s(){o++;if(o==r){n()}}t.forEach(function(t){t.once(e,s)})};f.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;this.emitEvent(e,n);if(a){this.$element=this.$element||a(this.element);if(t){var r=a.Event(t);r.type=e;this.$element.trigger(r,i)}else{this.$element.trigger(e,i)}}};f.ignore=function(e){var t=this.getItem(e);if(t){t.isIgnored=true}};f.unignore=function(e){var t=this.getItem(e);if(t){delete t.isIgnored}};f.stamp=function(e){e=this._find(e);if(!e){return}this.stamps=this.stamps.concat(e);e.forEach(this.ignore,this)};f.unstamp=function(e){e=this._find(e);if(!e){return}e.forEach(function(e){r.removeFrom(this.stamps,e);this.unignore(e)},this)};f._find=function(e){if(!e){return}if(typeof e=="string"){e=this.element.querySelectorAll(e)}e=r.makeArray(e);return e};f._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();this.stamps.forEach(this._manageStamp,this)};f._getBoundingRect=function(){var e=this.element.getBoundingClientRect();var t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}};f._manageStamp=l;f._getElementOffset=function(e){var t=e.getBoundingClientRect();var i=this._boundingRect;var r=n(e);var o={left:t.left-i.left-r.marginLeft,top:t.top-i.top-r.marginTop,right:i.right-t.right-r.marginRight,bottom:i.bottom-t.bottom-r.marginBottom};return o};f.handleEvent=r.handleEvent;f.bindResize=function(){t.addEventListener("resize",this);this.isResizeBound=true};f.unbindResize=function(){t.removeEventListener("resize",this);this.isResizeBound=false};f.onresize=function(){this.resize()};r.debounceMethod(d,"onresize",100);f.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};f.needsResizeLayout=function(){var e=n(this.element);var t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth};f.addItems=function(e){var t=this._itemize(e);if(t.length){this.items=this.items.concat(t)}return t};f.appended=function(e){var t=this.addItems(e);if(!t.length){return}this.layoutItems(t,true);this.reveal(t)};f.prepended=function(e){var t=this._itemize(e);if(!t.length){return}var i=this.items.slice(0);this.items=t.concat(i);this._resetLayout();this._manageStamps();this.layoutItems(t,true);this.reveal(t);this.layoutItems(i)};f.reveal=function(e){this._emitCompleteOnItems("reveal",e);if(!e||!e.length){return}var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t);e.reveal()})};f.hide=function(e){this._emitCompleteOnItems("hide",e);if(!e||!e.length){return}var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t);e.hide()})};f.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)};f.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)};f.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e){return i}}};f.getItems=function(e){e=r.makeArray(e);var t=[];e.forEach(function(e){var i=this.getItem(e);if(i){t.push(i)}},this);return t};f.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t);if(!t||!t.length){return}t.forEach(function(e){e.remove();r.removeFrom(this.items,e)},this)};f.destroy=function(){var e=this.element.style;e.height="";e.position="";e.width="";this.items.forEach(function(e){e.destroy()});this.unbindResize();var t=this.element.outlayerGUID;delete u[t];delete this.element.outlayerGUID;if(a){a.removeData(this.element,this.constructor.namespace)}};d.data=function(e){e=r.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&u[t]};d.create=function(e,t){var i=h(d);i.defaults=r.extend({},d.defaults);r.extend(i.defaults,t);i.compatOptions=r.extend({},d.compatOptions);i.namespace=e;i.data=d.data;i.Item=h(o);r.htmlInit(i,e);if(a&&a.bridget){a.bridget(e,i)}return i};function h(e){function t(){e.apply(this,arguments)}t.prototype=Object.create(e.prototype);t.prototype.constructor=t;return t}var p={ms:1,s:1e3};function m(e){if(typeof e=="number"){return e}var t=e.match(/(^\d*\.?\d*)(\w*)/);var i=t&&t[1];var n=t&&t[2];if(!i.length){return 0}i=parseFloat(i);var r=p[n]||1;return i*r}d.Item=o;return d});(function(i,a){if(true){!(r=[s,u],n=a,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof e=="object"&&e.exports){e.exports=a(require("outlayer"),require("get-size"))}else{i.Masonry=a(i.Outlayer,i.getSize)}})(window,function e(t,i){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";n.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var e=0;e<this.cols;e++){this.colYs.push(0)}this.maxY=0};n.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0];var t=e&&e.element;this.columnWidth=t&&i(t).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter;var r=this.containerWidth+this.gutter;var o=r/n;var s=n-r%n;var a=s&&s<1?"round":"floor";o=Math[a](o);this.cols=Math.max(o,1)};n.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth");var t=e?this.element.parentNode:this.element;var n=i(t);this.containerWidth=n&&n.innerWidth};n.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth;var i=t&&t<1?"round":"ceil";var n=Math[i](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);var r=this._getColGroup(n);var o=Math.min.apply(Math,r);var s=r.indexOf(o);var a={x:this.columnWidth*s,y:o};var l=o+e.size.outerHeight;var c=this.cols+1-r.length;for(var u=0;u<c;u++){this.colYs[s+u]=l}return a};n.prototype._getColGroup=function(e){if(e<2){return this.colYs}var t=[];var i=this.cols+1-e;for(var n=0;n<i;n++){var r=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,r)}return t};n.prototype._manageStamp=function(e){var t=i(e);var n=this._getElementOffset(e);var r=this._getOption("originLeft");var o=r?n.left:n.right;var s=o+t.outerWidth;var a=Math.floor(o/this.columnWidth);a=Math.max(0,a);var l=Math.floor(s/this.columnWidth);l-=s%this.columnWidth?0:1;l=Math.min(this.cols-1,l);var c=this._getOption("originTop");var u=(c?n.top:n.bottom)+t.outerHeight;for(var d=a;d<=l;d++){this.colYs[d]=Math.max(u,this.colYs[d])}};n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};if(this._getOption("fitWidth")){e.width=this._getContainerFitWidth()}return e};n.prototype._getContainerFitWidth=function(){var e=0;var t=this.cols;while(--t){if(this.colYs[t]!==0){break}e++}return(this.cols-e)*this.columnWidth-this.gutter};n.prototype.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!=this.containerWidth};return n})},function(e,t,i){(function(e,t){e(function(){"use strict";var e={};e.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",
ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}};e.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var i=Object.prototype.hasOwnProperty,n;e.FALLBACK_PHONE="UnknownPhone";e.FALLBACK_TABLET="UnknownTablet";e.FALLBACK_MOBILE="UnknownMobile";n="isArray"in Array?Array.isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"};function r(e,t){return e!=null&&t!=null&&e.toLowerCase()===t.toLowerCase()}function o(e,t){var i,n,r=e.length;if(!r||!t){return false}i=t.toLowerCase();for(n=0;n<r;++n){if(i===e[n].toLowerCase()){return true}}return false}function s(e){for(var t in e){if(i.call(e,t)){e[t]=new RegExp(e[t],"i")}}}(function t(){var r,o,a,l,c,u,d=e.mobileDetectRules;for(r in d.props){if(i.call(d.props,r)){o=d.props[r];if(!n(o)){o=[o]}c=o.length;for(l=0;l<c;++l){a=o[l];u=a.indexOf("[VER]");if(u>=0){a=a.substring(0,u)+"([\\w._\\+]+)"+a.substring(u+5)}o[l]=new RegExp(a,"i")}d.props[r]=o}}s(d.oss);s(d.phones);s(d.tablets);s(d.uas);s(d.utils);d.oss0={WindowsPhoneOS:d.oss.WindowsPhoneOS,WindowsMobileOS:d.oss.WindowsMobileOS}})();e.findMatch=function(e,t){for(var n in e){if(i.call(e,n)){if(e[n].test(t)){return n}}}return null};e.findMatches=function(e,t){var n=[];for(var r in e){if(i.call(e,r)){if(e[r].test(t)){n.push(r)}}}return n};e.getVersionStr=function(t,n){var r=e.mobileDetectRules.props,o,s,a,l;if(i.call(r,t)){o=r[t];a=o.length;for(s=0;s<a;++s){l=o[s].exec(n);if(l!==null){return l[1]}}}return null};e.getVersion=function(t,i){var n=e.getVersionStr(t,i);return n?e.prepareVersionNo(n):NaN};e.prepareVersionNo=function(e){var t;t=e.split(/[a-z._ \/\-]/i);if(t.length===1){e=t[0]}if(t.length>1){e=t[0]+".";t.shift();e+=t.join("")}return Number(e)};e.isMobileFallback=function(t){return e.detectMobileBrowsers.fullPattern.test(t)||e.detectMobileBrowsers.shortPattern.test(t.substr(0,4))};e.isTabletFallback=function(t){return e.detectMobileBrowsers.tabletPattern.test(t)};e.prepareDetectionCache=function(i,n,r){if(i.mobile!==t){return}var o,s,l;s=e.findMatch(e.mobileDetectRules.tablets,n);if(s){i.mobile=i.tablet=s;i.phone=null;return}o=e.findMatch(e.mobileDetectRules.phones,n);if(o){i.mobile=i.phone=o;i.tablet=null;return}if(e.isMobileFallback(n)){l=a.isPhoneSized(r);if(l===t){i.mobile=e.FALLBACK_MOBILE;i.tablet=i.phone=null}else if(l){i.mobile=i.phone=e.FALLBACK_PHONE;i.tablet=null}else{i.mobile=i.tablet=e.FALLBACK_TABLET;i.phone=null}}else if(e.isTabletFallback(n)){i.mobile=i.tablet=e.FALLBACK_TABLET;i.phone=null}else{i.mobile=i.tablet=i.phone=null}};e.mobileGrade=function(e){var t=e.mobile()!==null;if(e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||(e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3)||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t){return"A"}if(e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")){return"B"}if(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile")<=5.2){return"C"}return"C"};e.detectOS=function(t){return e.findMatch(e.mobileDetectRules.oss0,t)||e.findMatch(e.mobileDetectRules.oss,t)};e.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height};function a(e,t){this.ua=e||"";this._cache={};this.maxPhoneWidth=t||600}a.prototype={constructor:a,mobile:function(){e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.mobile},phone:function(){e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.phone},tablet:function(){e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.tablet},userAgent:function(){if(this._cache.userAgent===t){this._cache.userAgent=e.findMatch(e.mobileDetectRules.uas,this.ua)}return this._cache.userAgent},userAgents:function(){if(this._cache.userAgents===t){this._cache.userAgents=e.findMatches(e.mobileDetectRules.uas,this.ua)}return this._cache.userAgents},os:function(){if(this._cache.os===t){this._cache.os=e.detectOS(this.ua)}return this._cache.os},version:function(t){return e.getVersion(t,this.ua)},versionStr:function(t){return e.getVersionStr(t,this.ua)},is:function(t){return o(this.userAgents(),t)||r(t,this.os())||r(t,this.phone())||r(t,this.tablet())||o(e.findMatches(e.mobileDetectRules.utils,this.ua),t)},match:function(e){if(!(e instanceof RegExp)){e=new RegExp(e,"i")}return e.test(this.ua)},isPhoneSized:function(e){return a.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){if(this._cache.grade===t){this._cache.grade=e.mobileGrade(this)}return this._cache.grade}};if(typeof window!=="undefined"&&window.screen){a.isPhoneSized=function(i){return i<0?t:e.getDeviceSmallerSide()<=i}}else{a.isPhoneSized=function(){}}a._impl=e;a.version="1.3.7 2017-09-06";return a})})(function(t){if(typeof e!=="undefined"&&e.exports){return function(t){e.exports=t()}}else if(true){return i(773)}else if(typeof window!=="undefined"){return function(e){window.MobileDetect=e()}}else{throw new Error("unknown environment")}}())},function(e,t,i){var n;(function(){"use strict";var r;var o;function s(e){if(typeof this==="undefined"||Object.getPrototypeOf(this)!==s.prototype){return new s(e)}r=this;r.version="3.3.1";r.tools=new x;if(r.isSupported()){r.tools.extend(r.defaults,e||{});a(r.defaults);r.store={elements:{},containers:[]};r.sequences={};r.history=[];r.uid=0;r.initialized=false}else if(typeof console!=="undefined"&&console!==null){console.log("ScrollReveal is not supported in this browser.")}return r}s.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:true,reset:false,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(e){},afterReveal:function(e){},beforeReset:function(e){},afterReset:function(e){}};s.prototype.isSupported=function(){var e=document.documentElement.style;return"WebkitTransition"in e&&"WebkitTransform"in e||"transition"in e&&"transform"in e};s.prototype.reveal=function(e,t,i,n){var o;var s;var f;var h;var v;var w;if(t!==undefined&&typeof t==="number"){i=t;t={}}else if(t===undefined||t===null){t={}}o=a(t);s=l(e,o);if(!s.length){console.log('ScrollReveal: reveal on "'+e+'" failed, no elements found.');return r}if(i&&typeof i==="number"){w=c();v=r.sequences[w]={id:w,interval:i,elemIds:[],active:false}}for(var b=0;b<s.length;b++){h=s[b].getAttribute("data-sr-id");if(h){f=r.store.elements[h]}else{f={id:c(),domEl:s[b],seen:false,revealing:false};f.domEl.setAttribute("data-sr-id",f.id)}if(v){f.sequence={id:v.id,index:v.elemIds.length};v.elemIds.push(f.id)}u(f,t,o);d(f);p(f);if(r.tools.isMobile()&&!f.config.mobile||!r.isSupported()){f.domEl.setAttribute("style",f.styles.inline);f.disabled=true}else if(!f.revealing){f.domEl.setAttribute("style",f.styles.inline+f.styles.transform.initial)}}if(!n&&r.isSupported()){m(e,t,i);if(r.initTimeout){window.clearTimeout(r.initTimeout)}r.initTimeout=window.setTimeout(g,0)}return r};s.prototype.sync=function(){if(r.history.length&&r.isSupported()){for(var e=0;e<r.history.length;e++){var t=r.history[e];r.reveal(t.target,t.config,t.interval,true)}g()}else{console.log("ScrollReveal: sync failed, no reveals found.")}return r};function a(e){if(e&&e.container){if(typeof e.container==="string"){return window.document.documentElement.querySelector(e.container)}else if(r.tools.isNode(e.container)){return e.container}else{console.log('ScrollReveal: invalid container "'+e.container+'" provided.');console.log("ScrollReveal: falling back to default container.")}}return r.defaults.container}function l(e,t){if(typeof e==="string"){return Array.prototype.slice.call(t.querySelectorAll(e))}else if(r.tools.isNode(e)){return[e]}else if(r.tools.isNodeList(e)){return Array.prototype.slice.call(e)}return[]}function c(){return++r.uid}function u(e,t,i){if(t.container)t.container=i;if(!e.config){e.config=r.tools.extendClone(r.defaults,t)}else{e.config=r.tools.extendClone(e.config,t)}if(e.config.origin==="top"||e.config.origin==="bottom"){e.config.axis="Y"}else{e.config.axis="X"}}function d(e){var t=window.getComputedStyle(e.domEl);if(!e.styles){e.styles={transition:{},transform:{},computed:{}};e.styles.inline=e.domEl.getAttribute("style")||"";e.styles.inline+="; visibility: visible; ";e.styles.computed.opacity=t.opacity;if(!t.transition||t.transition==="all 0s ease 0s"){e.styles.computed.transition=""}else{e.styles.computed.transition=t.transition+", "}}e.styles.transition.instant=f(e,0);e.styles.transition.delayed=f(e,e.config.delay);e.styles.transform.initial=" -webkit-transform:";e.styles.transform.target=" -webkit-transform:";h(e);e.styles.transform.initial+="transform:";e.styles.transform.target+="transform:";h(e)}function f(e,t){var i=e.config;return"-webkit-transition: "+e.styles.computed.transition+"-webkit-transform "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s; "+"transition: "+e.styles.computed.transition+"transform "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s, opacity "+i.duration/1e3+"s "+i.easing+" "+t/1e3+"s; "}function h(e){var t=e.config;var i;var n=e.styles.transform;if(t.origin==="top"||t.origin==="left"){i=/^-/.test(t.distance)?t.distance.substr(1):"-"+t.distance}else{i=t.distance}if(parseInt(t.distance)){n.initial+=" translate"+t.axis+"("+i+")";n.target+=" translate"+t.axis+"(0)"}if(t.scale){n.initial+=" scale("+t.scale+")";n.target+=" scale(1)"}if(t.rotate.x){n.initial+=" rotateX("+t.rotate.x+"deg)";n.target+=" rotateX(0)"}if(t.rotate.y){n.initial+=" rotateY("+t.rotate.y+"deg)";n.target+=" rotateY(0)"}if(t.rotate.z){n.initial+=" rotateZ("+t.rotate.z+"deg)";n.target+=" rotateZ(0)"}n.initial+="; opacity: "+t.opacity+";";n.target+="; opacity: "+e.styles.computed.opacity+";"}function p(e){var t=e.config.container;if(t&&r.store.containers.indexOf(t)===-1){r.store.containers.push(e.config.container)}r.store.elements[e.id]=e}function m(e,t,i){var n={target:e,config:t,interval:i};r.history.push(n)}function g(){if(r.isSupported()){b();for(var e=0;e<r.store.containers.length;e++){r.store.containers[e].addEventListener("scroll",v);r.store.containers[e].addEventListener("resize",v)}if(!r.initialized){window.addEventListener("scroll",v);window.addEventListener("resize",v);r.initialized=true}}return r}function v(){o(b)}function w(){var e;var t;var i;var n;r.tools.forOwn(r.sequences,function(o){n=r.sequences[o];e=false;for(var s=0;s<n.elemIds.length;s++){i=n.elemIds[s];t=r.store.elements[i];if(k(t)&&!e){e=true}}n.active=e})}function b(){var e;var t;w();r.tools.forOwn(r.store.elements,function(i){t=r.store.elements[i];e=T(t);if(E(t)){t.config.beforeReveal(t.domEl);if(e){t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.delayed)}else{t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.target+t.styles.transition.instant)}_("reveal",t,e);t.revealing=true;t.seen=true;if(t.sequence){y(t,e)}}else if(C(t)){t.config.beforeReset(t.domEl);t.domEl.setAttribute("style",t.styles.inline+t.styles.transform.initial+t.styles.transition.instant);_("reset",t);t.revealing=false}})}function y(e,t){var i=0;var n=0;var o=r.sequences[e.sequence.id];o.blocked=true;if(t&&e.config.useDelay==="onload"){n=e.config.delay}if(e.sequence.timer){i=Math.abs(e.sequence.timer.started-new Date);window.clearTimeout(e.sequence.timer)}e.sequence.timer={started:new Date};e.sequence.timer.clock=window.setTimeout(function(){o.blocked=false;e.sequence.timer=null;v()},Math.abs(o.interval)+n-i)}function _(e,t,i){var n=0;var r=0;var o="after";switch(e){case"reveal":r=t.config.duration;if(i){r+=t.config.delay}o+="Reveal";break;case"reset":r=t.config.duration;o+="Reset";break}if(t.timer){n=Math.abs(t.timer.started-new Date);window.clearTimeout(t.timer.clock)}t.timer={started:new Date};t.timer.clock=window.setTimeout(function(){t.config[o](t.domEl);t.timer=null},r-n)}function E(e){if(e.sequence){var t=r.sequences[e.sequence.id];return t.active&&!t.blocked&&!e.revealing&&!e.disabled}return k(e)&&!e.revealing&&!e.disabled}function T(e){var t=e.config.useDelay;return t==="always"||t==="onload"&&!r.initialized||t==="once"&&!e.seen}function C(e){if(e.sequence){var t=r.sequences[e.sequence.id];return!t.active&&e.config.reset&&e.revealing&&!e.disabled}return!k(e)&&e.config.reset&&e.revealing&&!e.disabled}function S(e){return{width:e.clientWidth,height:e.clientHeight}}function I(e){if(e&&e!==window.document.documentElement){var t=O(e);return{x:e.scrollLeft+t.left,y:e.scrollTop+t.top}}else{return{x:window.pageXOffset,y:window.pageYOffset}}}function O(e){var t=0;var i=0;var n=e.offsetHeight;var r=e.offsetWidth;do{if(!isNaN(e.offsetTop)){t+=e.offsetTop}if(!isNaN(e.offsetLeft)){i+=e.offsetLeft}e=e.offsetParent}while(e);return{top:t,left:i,height:n,width:r}}function k(e){var t=O(e.domEl);var i=S(e.config.container);var n=I(e.config.container);var r=e.config.viewFactor;var o=t.height;var s=t.width;var a=t.top;var l=t.left;var c=a+o;var u=l+s;return d()||f();function d(){var t=a+o*r;var d=l+s*r;var f=c-o*r;var h=u-s*r;var p=n.y+e.config.viewOffset.top;var m=n.x+e.config.viewOffset.left;var g=n.y-e.config.viewOffset.bottom+i.height;var v=n.x-e.config.viewOffset.right+i.width;return t<g&&f>p&&d>m&&h<v}function f(){return window.getComputedStyle(e.domEl).position==="fixed"}}function x(){}x.prototype.isObject=function(e){return e!==null&&typeof e==="object"&&e.constructor===Object};x.prototype.isNode=function(e){return typeof window.Node==="object"?e instanceof window.Node:e&&typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"};x.prototype.isNodeList=function(e){var t=Object.prototype.toString.call(e);var i=/^\[object (HTMLCollection|NodeList|Object)\]$/;return typeof window.NodeList==="object"?e instanceof window.NodeList:e&&typeof e==="object"&&i.test(t)&&typeof e.length==="number"&&(e.length===0||this.isNode(e[0]))};x.prototype.forOwn=function(e,t){if(!this.isObject(e)){throw new TypeError('Expected "object", but received "'+typeof e+'".')}else{for(var i in e){if(e.hasOwnProperty(i)){t(i)}}}};x.prototype.extend=function(e,t){this.forOwn(t,function(i){if(this.isObject(t[i])){if(!e[i]||!this.isObject(e[i])){e[i]={}}this.extend(e[i],t[i])}else{e[i]=t[i]}}.bind(this));return e};x.prototype.extendClone=function(e,t){return this.extend(this.extend({},e),t)};x.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};if(true){!(n=function(){return s}.call(t,i,t,e),n!==undefined&&(e.exports=n))}else if(typeof e!=="undefined"&&e.exports){e.exports=s}else{window.ScrollReveal=s}})()},function(e,t,i){(function(i,n){!function(i,n){true?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.TillWatch=n():i.TillWatch=n()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(12),c=n(l),u=i(15),d=n(u),f=i(10),h=n(f),p=i(13),m=n(p),g=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(i.timeout=6e4,i.interval=50,"function"!=typeof e.condition)throw new Error("You must pass in a condition function");return(0,d["default"])(i,e),i}return s(t,e),a(t,[{key:"condition",value:function(e){return!0}}]),a(t,[{key:"watch",value:function(e,t){var i=new c["default"];if(this.condition(e))return i.resolve(e),i.promise;this.observer||this.startObserving();var n=this.watchList.get(e);return n||(n=[],n.created=Date.now(),n.timeout=t,this.watchList.set(e,n)),n.push(i),i.promise}},{key:"unwatch",value:function(e,t){var i=["Unwatching",e];if(!t)return this.forDeferreds(e,function(e){return e.reject(i)});var n=this.watchList.get(e);if(n){var r=(0,h["default"])(n,function(e){return e.promise===t});if(r){var o=n.indexOf(r);n.splice(o,1),r.reject(i),0===n.length&&(this.watchList["delete"](e),this.checkWatchList())}}}}]),t}(m["default"]);e.exports=g},function(e,t,i){e.exports=!i(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(19);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(7),r=i(6);e.exports=function(e){return n(r(e))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(null==e)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i,n=Object(e),r=n.length>>>0,o=arguments[1],s=0;s<r;s++)if(i=n[s],t.call(o,i,s,n))return i}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(14),a=n(s),l=function(){function e(){r(this,e),this.watchList=new a["default"]}return o(e,[{key:"checkWatchList",value:function(){0===this.watchList.size&&this.stopObserving()}},{key:"forDeferreds",value:function(e,t){var i=this.watchList.get(e);if(i){for(var n,r=function(e){setTimeout(function(){return t(e)},0)};n=i.pop();)r(n);this.watchList["delete"](e),this.checkWatchList()}}}]),e}();t["default"]=l},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=i(42),o=function e(){var t=this;n(this,e),this.promise=new r.Promise(function(e,i){t.resolve=e,t.reject=i})};t["default"]=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(11),c=n(l),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"startObserving",value:function(){var e=this;this.observer=window.setInterval(function(){e.watchList.forEach(function(t,i){e.condition(i)?e.forDeferreds(i,function(e){return e.resolve(i)}):Date.now()-t.created>(t.timeout||e.timeout)&&e.forDeferreds(i,function(e){return e.reject([new Error("Watching timed out"),i])})})},this.interval)}},{key:"stopObserving",value:function(){window.clearInterval(this.observer),this.observer=null}}]),t}(c["default"]);t["default"]=u},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e),this.keys=[],this.values=[],this.size=0}return n(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);if(t!==-1)return this.values[t]}},{key:"set",value:function(e,t){var i=this.keys.indexOf(e);return i===-1?(this.keys.push(e),
this.values.push(t),void this.size++):void(this.values[i]=t)}},{key:"delete",value:function(e){var t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),this.values.splice(t,1),this.size--)}},{key:"forEach",value:function(e){for(var t=0;t<this.keys.length;t++)e(this.values[t],this.keys[t])}}]),e}();t["default"]=window.Map||r},function(e,t,i){i(41),e.exports=i(5).Object.assign},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(4);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){var n=i(9),r=i(37),o=i(36);e.exports=function(e){return function(t,i,s){var a,l=n(t),c=r(l.length),u=o(s,c);if(e&&i!=i){for(;c>u;)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(16);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(4),r=i(3).document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(3),r=i(5),o=i(20),s=i(25),a="prototype",l=function(e,t,i){var c,u,d,f=e&l.F,h=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,w=h?r:r[t]||(r[t]={}),b=w[a],y=h?n:p?n[t]:(n[t]||{})[a];h&&(i=t);for(c in i)u=!f&&y&&void 0!==y[c],u&&c in w||(d=u?y[c]:i[c],w[c]=h&&"function"!=typeof y[c]?i[c]:g&&u?o(d,n):v&&y[c]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((w.virtual||(w.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&s(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(28),r=i(33);e.exports=i(1)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){e.exports=!i(1)&&!i(2)(function(){return 7!=Object.defineProperty(i(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(31),r=i(29),o=i(32),s=i(38),a=i(7),l=Object.assign;e.exports=!l||i(2)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var i=s(e),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var f,h=a(arguments[c++]),p=u?n(h).concat(u(h)):n(h),m=p.length,g=0;m>g;)d.call(h,f=p[g++])&&(i[f]=h[f]);return i}:l},function(e,t,i){var n=i(17),r=i(26),o=i(39),s=Object.defineProperty;t.f=i(1)?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){var n=i(24),r=i(9),o=i(18)(!1),s=i(34)("IE_PROTO");e.exports=function(e,t){var i,a=r(e),l=0,c=[];for(i in a)i!=s&&n(a,i)&&c.push(i);for(;t.length>l;)n(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},function(e,t,i){var n=i(30),r=i(22);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){var n=i(35)("keys"),r=i(40);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(3),r="__core-js_shared__",o=n[r]||(n[r]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,i){var n=i(8),r=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):o(e,t)}},function(e,t,i){var n=i(8),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(6);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(4);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t,i){var n=i(23);n(n.S+n.F,"Object",{assign:i(27)})},function(e,t,i){var n;(function(e,r,o){(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function a(e){return"function"==typeof e}function l(e){X=e}function c(e){ee=e}function u(){return function(){e.nextTick(m)}}function d(){return function(){Y(m)}}function f(){var e=0,t=new ne(m),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function p(){return function(){setTimeout(m,1)}}function m(){for(var e=0;e<Z;e+=2){var t=se[e],i=se[e+1];t(i),se[e]=void 0,se[e+1]=void 0}Z=0}function g(){try{var e=i(46);return Y=e.runOnLoop||e.runOnContext,d()}catch(e){return p()}}function v(e,t){var i=this,n=new this.constructor(b);void 0===n[ce]&&K(n);var r=i._state;if(r){var o=arguments[r-1];ee(function(){M(r,n,o,i._result)})}else R(i,n,e,t);return n}function w(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(b);return O(i,e),i}function b(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(e){return he.error=e,he}}function T(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function C(e,t,i){ee(function(e){var n=!1,r=T(i,t,function(i){n||(n=!0,t!==i?O(e,i):x(e,i))},function(t){n||(n=!0,D(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&r&&(n=!0,D(e,r))},e)}function S(e,t){t._state===de?x(e,t._result):t._state===fe?D(e,t._result):R(t,void 0,function(t){O(e,t)},function(t){D(e,t)})}function I(e,t,i){t.constructor===e.constructor&&i===ae&&constructor.resolve===le?S(e,t):i===he?D(e,he.error):void 0===i?x(e,t):a(i)?C(e,t,i):x(e,t)}function O(e,t){e===t?D(e,y()):s(t)?I(e,t,E(t)):x(e,t)}function k(e){e._onerror&&e._onerror(e._result),P(e)}function x(e,t){e._state===ue&&(e._result=t,e._state=de,0!==e._subscribers.length&&ee(P,e))}function D(e,t){e._state===ue&&(e._state=fe,e._result=t,ee(k,e))}function R(e,t,i,n){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+de]=i,r[o+fe]=n,0===o&&e._state&&ee(P,e)}function P(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n,r,o=e._result,s=0;s<t.length;s+=3)n=t[s],r=t[s+i],n?M(i,n,r,o):r(o);e._subscribers.length=0}}function A(){this.error=null}function N(e,t){try{return e(t)}catch(e){return pe.error=e,pe}}function M(e,t,i,n){var r,o,s,l,c=a(i);if(c){if(r=N(i,n),r===pe?(l=!0,o=r.error,r=null):s=!0,t===r)return void D(t,_())}else r=n,s=!0;t._state!==ue||(c&&s?O(t,r):l?D(t,o):e===de?x(t,r):e===fe&&D(t,r))}function L(e,t){try{t(function(t){O(e,t)},function(t){D(e,t)})}catch(t){D(e,t)}}function B(){return me++}function K(e){e[ce]=me++,e._state=void 0,e._result=void 0,e._subscribers=[]}function F(e){return new ye(this,e).promise}function H(e){var t=this;return new t(Q(e)?function(i,n){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(i,n)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function W(e){var t=this,i=new t(b);return D(i,e),i}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[ce]=B(),this._result=this._state=void 0,this._subscribers=[],b!==e&&("function"!=typeof e&&j(),this instanceof z?L(this,e):$())}function V(e,t){this._instanceConstructor=e,this.promise=new e(b),this.promise[ce]||K(this.promise),Q(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):D(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function G(){var e;if("undefined"!=typeof r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=be)}var q;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y,X,J,Q=q,Z=0,ee=function(e,t){se[Z]=e,se[Z+1]=t,Z+=2,2===Z&&(X?X(m):J())},te="undefined"!=typeof window?window:void 0,ie=te||{},ne=ie.MutationObserver||ie.WebKitMutationObserver,re="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),oe="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,se=new Array(1e3);J=re?u():ne?f():oe?h():void 0===te?g():p();var ae=v,le=w,ce=Math.random().toString(36).substring(16),ue=void 0,de=1,fe=2,he=new A,pe=new A,me=0,ge=F,ve=H,we=W,be=z;z.all=ge,z.race=ve,z.resolve=le,z.reject=we,z._setScheduler=l,z._setAsap=c,z._asap=ee,z.prototype={constructor:z,then:ae,catch:function(e){return this.then(null,e)}};var ye=V;V.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===ue&&i<e;i++)this._eachEntry(t[i],i)},V.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===le){var r=E(e);if(r===ae&&e._state!==ue)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===be){var o=new i(b);I(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){t(e)}),t)}else this._willSettleAt(n(e),t)},V.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===ue&&(this._remaining--,e===fe?D(n,i):this._result[t]=i),0===this._remaining&&x(n,this._result)},V.prototype._willSettleAt=function(e,t){var i=this;R(e,void 0,function(e){i._settledAt(de,t,e)},function(e){i._settledAt(fe,t,e)})};var _e=G,Ee={Promise:be,polyfill:_e};i(44).amd?(n=function(){return Ee}.call(t,i,t,o),!(void 0!==n&&(o.exports=n))):"undefined"!=typeof o&&o.exports?o.exports=Ee:"undefined"!=typeof this&&(this.ES6Promise=Ee),_e()}).call(this)}).call(t,i(43),function(){return this}(),i(45)(e))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&a())}function a(){if(!m){var e=r(s);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(e){u=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||m||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){}])})}).call(t,i(16),i(2))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(40),i(69)],r=function(e,t,i,n){var r={};var o=i.extend({slideDistance:20,placeholderGutter:20,initialize:function(){this.render()},render:function(){var e=this.$el.is(":focus");this.$el.after('<div class="form-control__placeholder">'+this.$el.attr("placeholder")+"</div>");if(e){this.$el.focus()}this.$placeholder=this.$el.siblings(".form-control__placeholder");this.inputPaddingRight=parseInt(this.$el.css("padding-right").split("px")[0],10);this.$placeholder.css("line-height",this.$el.css("height"))},showPlaceholder:function(){this.$placeholder.addClass("is-visible").css("padding-right",this.inputPaddingRight+"px").on("click",this.$el.focus())},hidePlaceholder:function(){this.$placeholder.removeClass("is-visible").css("padding-right",this.inputPaddingRight+this.queryOption("slideDistance")+"px").off("click","**")},refresh:function(){if(this.$el.val()){var e=this.$el.width();var t=n.detectInputWidth(this.$el);var i=this.$placeholder.width();if(t+i+this.queryOption("placeholderGutter")>e){this.hidePlaceholder()}else{this.showPlaceholder()}}else{this.hidePlaceholder()}}});function s(e){var t=e.data("adv-placeholder");if(!t){t=new o({el:e});e.data("adv-placeholder",t)}t.refresh()}function a(t){s(e(this))}var r={initialize:function(){var i=200;e(document).off("keyup.adv-placeholder").on("keyup.adv-placeholder","[data-adv-placeholder]",t.throttle(a,i))},updatePlaceholder:s};return r}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(9)],r=function(e){var t=e.Model.extend({defaults:{hsv:{h:0,s:1,v:1},rgb:{},hex:""},initialize:function(e){this.on({"change:hsv":this.onChangeHsv,"change:rgb":this.onChangeRgb,"change:hex":this.onChangeHex})},toJSON:function(e){return JSON.parse(JSON.stringify(this.attributes))},set:function(t,i,n){if(t==="hsv"){i.h%=360}else if(typeof t==="object"&&t.hsv){t.hsv.h%=360}e.Model.prototype.set.apply(this,arguments)},onChangeHsv:function(e,t){var i=this.hsv2rgb(t);this.set({rgb:i,hex:i.hex},{silent:true})},onChangeRgb:function(e,t){this.set({hex:this.rgb2hex(t),hsv:this.rgb2hsv(t)},{silent:true})},onChangeHex:function(e,t){this.set({rgb:this.hex2rgb(t),hsv:this.hex2hsv(t)},{silent:true})},hsv2rgb:function(e){var t,i,n,r,o;var s=e.h%360/60;o=e.v*e.s;r=o*(1-Math.abs(s%2-1));t=i=n=e.v-o;s=~~s;t+=[o,r,0,0,r,o][s];i+=[r,o,o,r,0,0][s];n+=[0,0,r,o,o,r][s];var a=Math.floor(t*255);var l=Math.floor(i*255);var c=Math.floor(n*255);return{r:a,g:l,b:c,hex:"#"+(16777216|c|l<<8|a<<16).toString(16).slice(1)}},hsv2hex:function(e){return this.hsv2rgb(e).hex},rgb2hsv:function(e){var t=e.r;var i=e.g;var n=e.b;if(e.r>1||e.g>1||e.b>1){t/=255;i/=255;n/=255}var r,o,s,a;s=Math.max(t,i,n);a=s-Math.min(t,i,n);r=a==0?null:s==t?(i-n)/a+(i<n?6:0):s==i?(n-t)/a+2:(t-i)/a+4;r=r%6*60;o=a==0?0:a/s;return{h:r,s:o,v:s}},rgb2hex:function(e){return this.hsv2rgb(this.rgb2hsv(e)).hex},hex2hsv:function(e){return this.rgb2hsv(this.hex2rgb(e))},hex2rgb:function(e){if(e.length===4){e=this.shorthand2hex(e)}return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}},shorthand2hex:function(e){return e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]},isHexColor:function(e){var t=/(^[0-9a-f]{6}$)|(^[0-9a-f]{3}$)/i;return t.test(e)}});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(413)],r=function(e){var t=new e({isVisible:function(e){return e.offsetWidth>0||e.offsetHeight>0},condition:function(e){return document.body.contains(e)&&this.isVisible(e)}});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(3),i(40)],r=function(e,t,i,n,r){var o=i.Model.extend({defaults:{icon:null,text:null,textHtml:null,value:null,selected:false}});var s=i.Collection.extend({model:o});var a=i.View.extend({tagName:"li",className:"group__item",template:'<label class="switcher__form-control form-control form-control--radio-check form-control--borderless">\n'+'<input type="radio" name="{{name}}" value="{{value}}" {{#selected}}checked{{/selected}}>\n'+'<span class="form-control__indicator"></span>\n'+'{{#icon}}<span class="icon switcher__icon">{{icon}}</span>{{/icon}}\n'+'<span class="switcher__text" {{#iconAfterText}}data-icon-after="{{iconAfterText}}"{{/iconAfterText}}>{{text}}</span>\n'+"{{{textHtml}}}\n"+"</label>",events:{"click input[type=radio]":"select"},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){this.$el.html(n.render(this.template,this.model.attributes));var e=this.model.get("selected");this.$el.toggleClass("is-selected",e).find("input:radio").attr("checked",e);return this},select:function(){this.model.set("selected",true);this.trigger("item:selected")}});var l=r.extend({selectedModel:null,isOpen:false,tagName:"ul",className:"switcher group group--flush",_initialize:function(){this.setElement(this.queryOption("el"));this.buildOptions(this.queryOption("items")||[])},render:function(e){this.collection.each(function(e){var t=new a({model:e});this.$el.append(t.render().el);this.listenTo(t,"item:selected",function(){this.handleOptionSelected(t.model);this.toggle()})}.bind(this));this.$el.addClass(this.isOpen?"is-open":"is-closed");return this},buildOptions:function(e){var i=this;var n=new s;var r=t.uniqueId("switcher__");this.isOpen=true;e.forEach(function(e){var t;if(typeof e==="object"){t=new o({name:r,text:e.text,textHtml:e.textHtml,icon:e.icon,iconAfterText:e.iconAfterText,value:e.value,selected:e.selected});if(t.get("selected")){i.selectedModel=t;i.isOpen=false}}else{throw new TypeError("Switcher Items must be an object")}n.add(t)});this.collection=n},select:function(e){var t;if(e){t=this.collection.findWhere({value:e})}if(t){if(t){t.set("selected",true)}this.handleOptionSelected(t)}else{this.unselect()}},handleOptionSelected:function(e){if(this.selectedModel!=e){if(this.selectedModel){this.selectedModel.set("selected",false)}this.selectedModel=e;if(!this.isOpen){this.updateObscuredOptions()}this._trigger("option:changed",e.get("value"))}},unselect:function(){if(this.selectedModel){this.selectedModel.set("selected",false);this.selectedModel=null;this._trigger("option:changed",null);this.open()}},toggle:function(){if(!this.isOpen){this.open()}else{this.close()}},open:function(){var e=this;if(!this.isOpen){this.$el.find(".group__item").slideDown(200,"swing",function(){e.$el.addClass("is-open").removeClass("is-closed")});this.isOpen=true;this._trigger("open")}},close:function(){var e=this;if(this.isOpen&&this.selectedModel){this.$el.find(".group__item.is-selected").siblings().slideToggle(200,"swing",function(){e.$el.addClass("is-closed").removeClass("is-open")});this.isOpen=false;this._trigger("close")}},updateObscuredOptions:function(){this.$el.find(".group__item.is-selected").css("display","").siblings().css("display","none")},getSelectedOption:function(){if(this.selectedModel){return this.selectedModel.get("value")}else{return null}}});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o,s){if(true){!(n=[i(420)],r=function(e){return s(o,e)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s(o,require("unipointer"))}else{o.Unidragger=s(o,o.Unipointer)}})(window,function e(t,i){"use strict";function n(){}function r(){}var o=r.prototype=Object.create(i.prototype);o.bindHandles=function(){this._bindHandles(true)};o.unbindHandles=function(){this._bindHandles(false)};var s=t.navigator;o._bindHandles=function(e){e=e===undefined?true:!!e;var t;if(s.pointerEnabled){t=function(t){t.style.touchAction=e?"none":""}}else if(s.msPointerEnabled){t=function(t){t.style.msTouchAction=e?"none":""}}else{t=n}var i=e?"addEventListener":"removeEventListener";for(var r=0;r<this.handles.length;r++){var o=this.handles[r];this._bindStartEvent(o,e);t(o);o[i]("click",this)}};o.pointerDown=function(e,t){if(e.target.nodeName=="INPUT"&&e.target.type=="range"){this.isPointerDown=false;delete this.pointerIdentifier;return}this._dragPointerDown(e,t);var i=document.activeElement;if(i&&i.blur){i.blur()}this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};o._dragPointerDown=function(e,t){this.pointerDownPoint=i.getPointerPoint(t);var n=this.canPreventDefaultOnPointerDown(e,t);if(n){e.preventDefault()}};o.canPreventDefaultOnPointerDown=function(e){return e.target.nodeName!="SELECT"};o.pointerMove=function(e,t){var i=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,i]);this._dragMove(e,t,i)};o._dragPointerMove=function(e,t){var n=i.getPointerPoint(t);var r={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};if(!this.isDragging&&this.hasDragStarted(r)){this._dragStart(e,t)}return r};o.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3};o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]);this._dragPointerUp(e,t)};o._dragPointerUp=function(e,t){if(this.isDragging){this._dragEnd(e,t)}else{this._staticClick(e,t)}};o._dragStart=function(e,t){this.isDragging=true;this.dragStartPoint=i.getPointerPoint(t);this.isPreventingClicks=true;this.dragStart(e,t)};o.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])};o._dragMove=function(e,t,i){if(!this.isDragging){return}this.dragMove(e,t,i)};o.dragMove=function(e,t,i){e.preventDefault();this.emitEvent("dragMove",[e,t,i])};o._dragEnd=function(e,t){this.isDragging=false;setTimeout(function(){delete this.isPreventingClicks}.bind(this));this.dragEnd(e,t)};o.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])};o.onclick=function(e){if(this.isPreventingClicks){e.preventDefault()}};o._staticClick=function(e,t){if(this.isIgnoringMouseUp&&e.type=="mouseup"){return}var i=e.target.nodeName;if(i=="INPUT"||i=="TEXTAREA"){e.target.focus()}this.staticClick(e,t);if(e.type!="mouseup"){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)}};o.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])};r.getPointerPoint=i.getPointerPoint;return r})},function(e,t,i){var n,r;(function(o,s){if(true){!(n=[i(405)],r=function(e){return s(o,e)}.apply(t,n),r!==undefined&&(e.exports=r))}else if(typeof e=="object"&&e.exports){e.exports=s(o,require("ev-emitter"))}else{o.Unipointer=s(o,o.EvEmitter)}})(window,function e(t,i){"use strict";function n(){}function r(){}var o=r.prototype=Object.create(i.prototype);o.bindStartEvent=function(e){this._bindStartEvent(e,true)};o.unbindStartEvent=function(e){this._bindStartEvent(e,false)};o._bindStartEvent=function(e,i){i=i===undefined?true:!!i;var n=i?"addEventListener":"removeEventListener";if(t.navigator.pointerEnabled){e[n]("pointerdown",this)}else if(t.navigator.msPointerEnabled){e[n]("MSPointerDown",this)}else{e[n]("mousedown",this);e[n]("touchstart",this)}};o.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}};o.getTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.identifier==this.pointerIdentifier){return i}}};o.onmousedown=function(e){var t=e.button;if(t&&(t!==0&&t!==1)){return}this._pointerDown(e,e)};o.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])};o.onMSPointerDown=o.onpointerdown=function(e){this._pointerDown(e,e)};o._pointerDown=function(e,t){if(this.isPointerDown){return}this.isPointerDown=true;this.pointerIdentifier=t.pointerId!==undefined?t.pointerId:t.identifier;this.pointerDown(e,t)};o.pointerDown=function(e,t){this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};var s={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};o._bindPostStartEvents=function(e){if(!e){return}var i=s[e.type];i.forEach(function(e){t.addEventListener(e,this)},this);this._boundPointerEvents=i};o._unbindPostStartEvents=function(){if(!this._boundPointerEvents){return}this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this);delete this._boundPointerEvents};o.onmousemove=function(e){this._pointerMove(e,e)};o.onMSPointerMove=o.onpointermove=function(e){if(e.pointerId==this.pointerIdentifier){this._pointerMove(e,e)}};o.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);if(t){this._pointerMove(e,t)}};o._pointerMove=function(e,t){this.pointerMove(e,t)};o.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])};o.onmouseup=function(e){this._pointerUp(e,e)};o.onMSPointerUp=o.onpointerup=function(e){if(e.pointerId==this.pointerIdentifier){this._pointerUp(e,e)}};o.ontouchend=function(e){var t=this.getTouch(e.changedTouches);if(t){this._pointerUp(e,t)}};o._pointerUp=function(e,t){this._pointerDone();this.pointerUp(e,t)};o.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])};o._pointerDone=function(){this.isPointerDown=false;delete this.pointerIdentifier;this._unbindPostStartEvents();this.pointerDone()};o.pointerDone=n;o.onMSPointerCancel=o.onpointercancel=function(e){if(e.pointerId==this.pointerIdentifier){this._pointerCancel(e,e)}};o.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);if(t){this._pointerCancel(e,t)}};o._pointerCancel=function(e,t){this._pointerDone();this.pointerCancel(e,t)};o.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])};r.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}};return r})},function(e,t,i){(function(e){(function(e,t,i){VimeoPlayer={player:null,defaults:{videoId:"139480129",mute:true,loop:true,autoplay:true},init:function t(i,n){var r=this;r.userOptions=n;r.$node=e(i);r.options=e.extend(true,{},r.defaults,r.userOptions);r.ID=(new Date).getTime();r.createBackgroundVideo();return r},createBackgroundVideo:function i(){var n=this;var r="https://player.vimeo.com/video/{video-id}?title=0&byline=0&portrait=0&badge=0"+"&autoplay={autoplay}&loop={loop}";r=r.replace("{video-id}",n.options.videoId);r=r.replace("{autoplay}",n.options.autoplay);r=r.replace("{loop}",n.options.loop);var o=e("<div/>",{class:"vimeoplayer-container",id:"vimeoplayer-container-"+n.ID});var s=e("<div/>",{class:"vimeoplayer-shield"});var a=e("<iframe/>",{src:r,id:n.ID,class:"vimeoplayer-player",frameborder:0});n.resize(a);o.append(a,s);n.$container=o;n.$node.append(o);var l=this.onIframeReady.bind(this);t.addEventListener?t.addEventListener("message",l,false):t.attachEvent("onmessage",l,false)},destroy:function(){var e=this;e.$node.removeData("VimeoPlayer");e.$container.remove();e.$node=null;e.$container=null},resize:function(e){var t=this.$node.outerWidth();var i=16/9;var n=Math.ceil(t/i);e.prop({width:t,height:n})},onIframeReady:function(t){if(typeof t.data!=="string"){return}var i=this;var n=JSON.parse(t.data);if(n.event==="ready"&&i.volumeSet!==true){i.volumeSet=true;var r=e('iframe[id="'+i.ID+'"]');var o=i.options.mute?"0":"100";var n=JSON.stringify({method:"setVolume",value:o});r[0].contentWindow.postMessage(n,r.attr("src"))}}};e.fn.VimeoPlayer=function(t){return this.each(function(){var i=this;var n=Object.create(VimeoPlayer);n.init(i,t);e.data(i,"VimeoPlayer",n)})}})(e,window,document)}).call(t,i(1))},,function(e,t,i){(function(e){if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,i){var n=function e(n){var o=i.createElement("script"),s=i.getElementsByTagName("head")[0];if(t.location.origin=="file://"){o.src="http://www.youtube.com/iframe_api"}else{o.src="//www.youtube.com/iframe_api"}s.appendChild(o);s=null;o=null;r(n)},r=function i(n){if(typeof YT==="undefined"&&typeof t.loadingPlayer==="undefined"){t.loadingPlayer=true;t.dfd=e.Deferred();t.onYouTubeIframeAPIReady=function(){t.onYouTubeIframeAPIReady=null;t.dfd.resolve("done");n()}}else if(typeof YT==="object"){n()}else{t.dfd.done(function(e){n()})}};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:true,repeat:true,width:e(t).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:false,fitToBackground:true,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function i(r,o){var s=this;s.userOptions=o;s.$node=e(r);s.$window=e(t);s.defaults.events={onReady:function(e){s.onPlayerReady(e);if(s.options.pauseOnScroll){s.pauseOnScroll()}if(typeof s.options.callback=="function"){s.options.callback.call(this)}},onStateChange:function(e){if(e.data===1){s.$node.addClass("loaded")}else if(e.data===0&&s.options.repeat){s.player.seekTo(s.options.start)}}};s.options=e.extend(true,{},s.defaults,s.userOptions);s.options.height=Math.ceil(s.options.width/s.options.ratio);s.ID=(new Date).getTime();s.holderID="YTPlayer-ID-"+s.ID;s.createBackgroundVideo();s.$window.on("resize.YTplayer"+s.ID,function(){s.resize(s)});n(s.onYouTubeIframeAPIReady.bind(s));s.resize(s);return s},pauseOnScroll:function e(){var t=this;t.$window.on("scroll.YTplayer"+t.ID,function(){var e=t.player.getPlayerState();if(e===1){t.player.pauseVideo()}});t.$window.scrollStopped(function(){var e=t.player.getPlayerState();if(e===2){t.player.playVideo()}})},createBackgroundVideo:function t(){var i=this;var n=e('<div id="ytplayer-container'+i.ID+'">\t\t\t\t\t\t\t\t\t\t<div id="'+i.holderID+'" class="ytplayer-player"></div>\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t<div id="ytplayer-shield" class="ytplayer-shield"></div>');i.$node.append(n);i.$YTPlayerString=n;n=null},resize:function i(n){var r=e(t);if(!n.options.fitToBackground){r=n.$node}var o=r.outerWidth(),s=r.outerHeight(),a,l,c=e("#"+n.holderID);if(o/n.options.ratio<s){a=Math.ceil(s*n.options.ratio);c.width(a).height(s).css({left:(o-a)/2,top:0})}else{l=Math.ceil(o/n.options.ratio);c.width(o).height(l).css({left:0,top:(s-l)/2})}c=null;r=null},onYouTubeIframeAPIReady:function e(){var i=this;i.player=new t.YT.Player(i.holderID,i.options)},onPlayerReady:function e(t){if(this.options.mute){t.target.mute()}if(this.options.playerVars&&this.options.playerVars.autoplay){t.target.playVideo()}},getPlayer:function e(){return this.player},destroy:function i(){var n=this;n.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded");n.$YTPlayerString.remove();e(t).off("resize.YTplayer"+n.ID);e(t).off("scroll.YTplayer"+n.ID);n.$node=null;n.$YTPlayerString=null;n.player.destroy();n.player=null}};e.fn.scrollStopped=function(t){var i=e(this),n=this;i.scroll(function(){if(i.data("scrollTimeout")){clearTimeout(i.data("scrollTimeout"))}i.data("scrollTimeout",setTimeout(t,250,n))})};e.fn.YTPlayer=function(t){return this.each(function(){var i=this;e(i).data("yt-init",true);var n=Object.create(YTPlayer);n.init(i,t);e.data(i,"ytPlayer",n)})}})(e,window,document)}).call(t,i(1))},,function(module,exports){(function(){var b=void 0,f=!0,j=null,l=!1;function m(){return function(){}}function p(e){return function(){return this[e]}}function s(e){return function(){return e}}var t;document.createElement("video");document.createElement("audio");document.createElement("track");function u(e,t,i){if("string"===typeof e){0===e.indexOf("#")&&(e=e.slice(1));if(u.wa[e])return u.wa[e];
e=u.v(e)}if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new u.w(e,t,i)}var v=u;window.Rd=window.Sd=u;u.Rb="4.2";u.Dc="https:"==document.location.protocol?"https://":"http://";u.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'};"GENERATED_CDN_VSN"!==u.Rb&&(v.options.flash.swf=u.Dc+"vjs.zencdn.net/"+u.Rb+"/video-js.swf");u.wa={};u.ka=u.CoreObject=m();u.ka.extend=function(e){var t,i;e=e||{};t=e.init||e.i||this.prototype.init||this.prototype.i||m();i=function(){t.apply(this,arguments)};i.prototype=u.k.create(this.prototype);i.prototype.constructor=i;i.extend=u.ka.extend;i.create=u.ka.create;for(var n in e)e.hasOwnProperty(n)&&(i.prototype[n]=e[n]);return i};u.ka.create=function(){var e=u.k.create(this.prototype);this.apply(e,arguments);return e};u.d=function(e,t,i){var n=u.getData(e);n.z||(n.z={});n.z[t]||(n.z[t]=[]);i.s||(i.s=u.s++);n.z[t].push(i);n.W||(n.disabled=l,n.W=function(t){if(!n.disabled){t=u.hc(t);var i=n.z[t.type];if(i)for(var i=i.slice(0),r=0,o=i.length;r<o&&!t.mc();r++)i[r].call(e,t)}});1==n.z[t].length&&(document.addEventListener?e.addEventListener(t,n.W,l):document.attachEvent&&e.attachEvent("on"+t,n.W))};u.o=function(e,t,i){if(u.lc(e)){var n=u.getData(e);if(n.z)if(t){var r=n.z[t];if(r){if(i){if(i.s)for(n=0;n<r.length;n++)r[n].s===i.s&&r.splice(n--,1)}else n.z[t]=[];u.dc(e,t)}}else for(r in n.z)t=r,n.z[t]=[],u.dc(e,t)}};u.dc=function(e,t){var i=u.getData(e);0===i.z[t].length&&(delete i.z[t],document.removeEventListener?e.removeEventListener(t,i.W,l):document.detachEvent&&e.detachEvent("on"+t,i.W));u.Ab(i.z)&&(delete i.z,delete i.W,delete i.disabled);u.Ab(i)&&u.sc(e)};u.hc=function(e){function t(){return f}function i(){return l}if(!e||!e.Bb){var n=e||window.event;e={};for(var r in n)"layerX"!==r&&"layerY"!==r&&(e[r]=n[r]);e.target||(e.target=e.srcElement||document);e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement;e.preventDefault=function(){n.preventDefault&&n.preventDefault();e.returnValue=l;e.zb=t};e.zb=i;e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation();e.cancelBubble=f;e.Bb=t};e.Bb=i;e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation();e.mc=t;e.stopPropagation()};e.mc=i;if(e.clientX!=j){r=document.documentElement;var o=document.body;e.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode;e.button!=j&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e};u.j=function(e,t){var i=u.lc(e)?u.getData(e):{},n=e.parentNode||e.ownerDocument;"string"===typeof t&&(t={type:t,target:e});t=u.hc(t);i.W&&i.W.call(e,t);if(n&&!t.Bb()&&t.bubbles!==l)u.j(n,t);else if(!n&&!t.zb()&&(i=u.getData(t.target),t.target[t.type])){i.disabled=f;if("function"===typeof t.target[t.type])t.target[t.type]();i.disabled=l}return!t.zb()};u.U=function(e,t,i){function n(){u.o(e,t,n);i.apply(this,arguments)}n.s=i.s=i.s||u.s++;u.d(e,t,n)};var w=Object.prototype.hasOwnProperty;u.e=function(e,t){var i,n;i=document.createElement(e||"div");for(n in t)w.call(t,n)&&(-1!==n.indexOf("aria-")||"role"==n?i.setAttribute(n,t[n]):i[n]=t[n]);return i};u.$=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};u.k={};u.k.create=Object.create||function(e){function t(){}t.prototype=e;return new t};u.k.ta=function(e,t,i){for(var n in e)w.call(e,n)&&t.call(i||this,n,e[n])};u.k.B=function(e,t){if(!t)return e;for(var i in t)w.call(t,i)&&(e[i]=t[i]);return e};u.k.fc=function(e,t){var i,n,r;e=u.k.copy(e);for(i in t)w.call(t,i)&&(n=e[i],r=t[i],e[i]=u.k.nc(n)&&u.k.nc(r)?u.k.fc(n,r):t[i]);return e};u.k.copy=function(e){return u.k.B({},e)};u.k.nc=function(e){return!!e&&"object"===typeof e&&"[object Object]"===e.toString()&&e.constructor===Object};u.bind=function(e,t,i){function n(){return t.apply(e,arguments)}t.s||(t.s=u.s++);n.s=i?i+"_"+t.s:t.s;return n};u.qa={};u.s=1;u.expando="vdata"+(new Date).getTime();u.getData=function(e){var t=e[u.expando];t||(t=e[u.expando]=u.s++,u.qa[t]={});return u.qa[t]};u.lc=function(e){e=e[u.expando];return!(!e||u.Ab(u.qa[e]))};u.sc=function(e){var t=e[u.expando];if(t){delete u.qa[t];try{delete e[u.expando]}catch(t){e.removeAttribute?e.removeAttribute(u.expando):e[u.expando]=j}}};u.Ab=function(e){for(var t in e)if(e[t]!==j)return l;return f};u.n=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)};u.t=function(e,t){var i,n;if(-1!=e.className.indexOf(t)){i=e.className.split(" ");for(n=i.length-1;0<=n;n--)i[n]===t&&i.splice(n,1);e.className=i.join(" ")}};u.ma=u.e("video");u.F=navigator.userAgent;u.Jc=/iPhone/i.test(u.F);u.Ic=/iPad/i.test(u.F);u.Kc=/iPod/i.test(u.F);u.Hc=u.Jc||u.Ic||u.Kc;var aa=u,x;var y=u.F.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b;aa.Dd=x;u.Fc=/Android/i.test(u.F);var ba=u,z;var A=u.F.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B?B:j):z=j;ba.Ec=z;u.Lc=u.Fc&&/webkit/i.test(u.F)&&2.3>u.Ec;u.Gc=/Firefox/i.test(u.F);u.Ed=/Chrome/i.test(u.F);u.Oc="ontouchstart"in window;u.wb=function(e){var t,i,n,r;t={};if(e&&e.attributes&&0<e.attributes.length){i=e.attributes;for(var o=i.length-1;0<=o;o--){n=i[o].name;r=i[o].value;if("boolean"===typeof e[n]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+n+","))r=r!==j?f:l;t[n]=r}}return t};u.Id=function(e,t){var i="";document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(i=e["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px");return i};u.yb=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)};u.Nb={};u.v=function(e){0===e.indexOf("#")&&(e=e.slice(1));return document.getElementById(e)};u.Ka=function(e,t){t=t||e;var i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600),o=Math.floor(t/60%60),s=Math.floor(t/3600);if(isNaN(e)||Infinity===e)r=n=i="-";r=0<r||0<s?r+":":"";return r+(((r||10<=o)&&10>n?"0"+n:n)+":")+(10>i?"0"+i:i)};u.Rc=function(){document.body.focus();document.onselectstart=s(l)};u.zd=function(){document.onselectstart=s(f)};u.trim=function(e){return(e+"").replace(/^\s+|\s+$/g,"")};u.round=function(e,t){t||(t=0);return Math.round(e*Math.pow(10,t))/Math.pow(10,t)};u.sb=function(e,t){return{length:1,start:function(){return e},end:function(){return t}}};u.get=function(e,t,i){var n,r;"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("This browser does not support XMLHttpRequest.")});r=new XMLHttpRequest;try{r.open("GET",e)}catch(e){i(e)}n=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http");r.onreadystatechange=function(){4===r.readyState&&(200===r.status||n&&0===r.status?t(r.responseText):i&&i())};try{r.send()}catch(e){i&&i(e)}};u.rd=function(e){try{var t=window.localStorage||l;t&&(t.volume=e)}catch(e){22==e.code||1014==e.code?u.log("LocalStorage Full (VideoJS)",e):18==e.code?u.log("LocalStorage not allowed (VideoJS)",e):u.log("LocalStorage Error (VideoJS)",e)}};u.jc=function(e){e.match(/^https?:\/\//)||(e=u.e("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href);return e};u.log=function(){u.log.history=u.log.history||[];u.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};u.Zc=function(e){var t,i;e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect());if(!t)return{left:0,top:0};e=document.documentElement;i=document.body;return{left:t.left+(window.pageXOffset||i.scrollLeft)-(e.clientLeft||i.clientLeft||0),top:t.top+(window.pageYOffset||i.scrollTop)-(e.clientTop||i.clientTop||0)}};u.c=u.ka.extend({i:function(e,t,i){this.b=e;this.g=u.k.copy(this.g);t=this.options(t);this.Q=t.id||(t.el&&t.el.id?t.el.id:e.id()+"_component_"+u.s++);this.ed=t.name||j;this.a=t.el||this.e();this.G=[];this.pb={};this.V={};if((e=this.g)&&e.children){var n=this;u.k.ta(e.children,function(e,t){t!==l&&!t.loadEvent&&(n[e]=n.Z(e,t))})}this.L(i)}});t=u.c.prototype;t.D=function(){this.j("dispose");if(this.G)for(var e=this.G.length-1;0<=e;e--)this.G[e].D&&this.G[e].D();this.V=this.pb=this.G=j;this.o();this.a.parentNode&&this.a.parentNode.removeChild(this.a);u.sc(this.a);this.a=j};t.K=p("b");t.options=function(e){return e===b?this.g:this.g=u.k.fc(this.g,e)};t.e=function(e,t){return u.e(e,t)};t.v=p("a");t.id=p("Q");t.name=p("ed");t.children=p("G");t.Z=function(e,t){var i,n;"string"===typeof e?(n=e,t=t||{},i=t.componentClass||u.$(n),t.name=n,i=new window.videojs[i](this.b||this,t)):i=e;this.G.push(i);"function"===typeof i.id&&(this.pb[i.id()]=i);(n=n||i.name&&i.name())&&(this.V[n]=i);"function"===typeof i.el&&i.el()&&(this.ra||this.a).appendChild(i.el());return i};t.removeChild=function(e){"string"===typeof e&&(e=this.V[e]);if(e&&this.G){for(var t=l,i=this.G.length-1;0<=i;i--)if(this.G[i]===e){t=f;this.G.splice(i,1);break}t&&(this.pb[e.id]=j,this.V[e.name]=j,(t=e.v())&&t.parentNode===(this.ra||this.a)&&(this.ra||this.a).removeChild(e.v()))}};t.T=s("");t.d=function(e,t){u.d(this.a,e,u.bind(this,t));return this};t.o=function(e,t){u.o(this.a,e,t);return this};t.U=function(e,t){u.U(this.a,e,u.bind(this,t));return this};t.j=function(e,t){u.j(this.a,e,t);return this};t.L=function(e){e&&(this.aa?e.call(this):(this.Ra===b&&(this.Ra=[]),this.Ra.push(e)));return this};t.Ta=function(){this.aa=f;var e=this.Ra;if(e&&0<e.length){for(var t=0,i=e.length;t<i;t++)e[t].call(this);this.Ra=[];this.j("ready")}};t.n=function(e){u.n(this.a,e);return this};t.t=function(e){u.t(this.a,e);return this};t.show=function(){this.a.style.display="block";return this};t.C=function(){this.a.style.display="none";return this};function D(e){e.t("vjs-lock-showing")}t.disable=function(){this.C();this.show=m()};t.width=function(e,t){return E(this,"width",e,t)};t.height=function(e,t){return E(this,"height",e,t)};t.Vc=function(e,t){return this.width(e,f).height(t)};function E(e,t,i,n){if(i!==b)return e.a.style[t]=-1!==(""+i).indexOf("%")||-1!==(""+i).indexOf("px")?i:"auto"===i?"":i+"px",n||e.j("resize"),e;if(!e.a)return 0;i=e.a.style[t];n=i.indexOf("px");return-1!==n?parseInt(i.slice(0,n),10):parseInt(e.a["offset"+u.$(t)],10)}u.q=u.c.extend({i:function(e,t){u.c.call(this,e,t);var i=l;this.d("touchstart",function(e){e.preventDefault();i=f});this.d("touchmove",function(){i=l});var n=this;this.d("touchend",function(e){i&&n.p(e);e.preventDefault()});this.d("click",this.p);this.d("focus",this.Na);this.d("blur",this.Ma)}});t=u.q.prototype;t.e=function(e,t){t=u.k.B({className:this.T(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.pa||"Need Text")+"</span></div>",od:"button","aria-live":"polite",tabIndex:0},t);return u.c.prototype.e.call(this,e,t)};t.T=function(){return"vjs-control "+u.c.prototype.T.call(this)};t.p=m();t.Na=function(){u.d(document,"keyup",u.bind(this,this.ba))};t.ba=function(e){if(32==e.which||13==e.which)e.preventDefault(),this.p()};t.Ma=function(){u.o(document,"keyup",u.bind(this,this.ba))};u.O=u.c.extend({i:function(e,t){u.c.call(this,e,t);this.Qc=this.V[this.g.barName];this.handle=this.V[this.g.handleName];e.d(this.qc,u.bind(this,this.update));this.d("mousedown",this.Oa);this.d("touchstart",this.Oa);this.d("focus",this.Na);this.d("blur",this.Ma);this.d("click",this.p);this.b.d("controlsvisible",u.bind(this,this.update));e.L(u.bind(this,this.update));this.P={}}});t=u.O.prototype;t.e=function(e,t){t=t||{};t.className+=" vjs-slider";t=u.k.B({od:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t);return u.c.prototype.e.call(this,e,t)};t.Oa=function(e){e.preventDefault();u.Rc();this.P.move=u.bind(this,this.Gb);this.P.end=u.bind(this,this.Hb);u.d(document,"mousemove",this.P.move);u.d(document,"mouseup",this.P.end);u.d(document,"touchmove",this.P.move);u.d(document,"touchend",this.P.end);this.Gb(e)};t.Hb=function(){u.zd();u.o(document,"mousemove",this.P.move,l);u.o(document,"mouseup",this.P.end,l);u.o(document,"touchmove",this.P.move,l);u.o(document,"touchend",this.P.end,l);this.update()};t.update=function(){if(this.a){var e,t=this.xb(),i=this.handle,n=this.Qc;isNaN(t)&&(t=0);e=t;if(i){e=this.a.offsetWidth;var r=i.v().offsetWidth;e=r?r/e:0;t*=1-e;e=t+e/2;i.v().style.left=u.round(100*t,2)+"%"}n.v().style.width=u.round(100*e,2)+"%"}};function F(e,t){var i,n,r,o;i=e.a;n=u.Zc(i);o=r=i.offsetWidth;i=e.handle;if(e.g.Ad)return o=n.top,n=t.changedTouches?t.changedTouches[0].pageY:t.pageY,i&&(i=i.v().offsetHeight,o+=i/2,r-=i),Math.max(0,Math.min(1,(o-n+r)/r));r=n.left;n=t.changedTouches?t.changedTouches[0].pageX:t.pageX;i&&(i=i.v().offsetWidth,r+=i/2,o-=i);return Math.max(0,Math.min(1,(n-r)/o))}t.Na=function(){u.d(document,"keyup",u.bind(this,this.ba))};t.ba=function(e){37==e.which?(e.preventDefault(),this.wc()):39==e.which&&(e.preventDefault(),this.xc())};t.Ma=function(){u.o(document,"keyup",u.bind(this,this.ba))};t.p=function(e){e.stopImmediatePropagation();e.preventDefault()};u.ea=u.c.extend();u.ea.prototype.defaultValue=0;u.ea.prototype.e=function(e,t){t=t||{};t.className+=" vjs-slider-handle";t=u.k.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t);return u.c.prototype.e.call(this,"div",t)};u.la=u.c.extend();function ca(e,t){e.Z(t);t.d("click",u.bind(e,function(){D(this)}))}u.la.prototype.e=function(){var e=this.options().Tc||"ul";this.ra=u.e(e,{className:"vjs-menu-content"});e=u.c.prototype.e.call(this,"div",{append:this.ra,className:"vjs-menu"});e.appendChild(this.ra);u.d(e,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return e};u.N=u.q.extend({i:function(e,t){u.q.call(this,e,t);this.selected(t.selected)}});u.N.prototype.e=function(e,t){return u.q.prototype.e.call(this,"li",u.k.B({className:"vjs-menu-item",innerHTML:this.g.label},t))};u.N.prototype.p=function(){this.selected(f)};u.N.prototype.selected=function(e){e?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",f)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",l))};u.R=u.q.extend({i:function(e,t){u.q.call(this,e,t);this.va=this.Ja();this.Z(this.va);this.I&&0===this.I.length&&this.C();this.d("keyup",this.ba);this.a.setAttribute("aria-haspopup",f);this.a.setAttribute("role","button")}});t=u.R.prototype;t.oa=l;t.Ja=function(){var e=new u.la(this.b);this.options().title&&e.v().appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.$(this.A),xd:-1}));if(this.I=this.createItems())for(var t=0;t<this.I.length;t++)ca(e,this.I[t]);return e};t.sa=m();t.T=function(){return this.className+" vjs-menu-button "+u.q.prototype.T.call(this)};t.Na=m();t.Ma=m();t.p=function(){this.U("mouseout",u.bind(this,function(){D(this.va);this.a.blur()}));this.oa?G(this):H(this)};t.ba=function(e){e.preventDefault();32==e.which||13==e.which?this.oa?G(this):H(this):27==e.which&&this.oa&&G(this)};function H(e){e.oa=f;e.va.n("vjs-lock-showing");e.a.setAttribute("aria-pressed",f);e.I&&0<e.I.length&&e.I[0].v().focus()}function G(e){e.oa=l;D(e.va);e.a.setAttribute("aria-pressed",l)}u.w=u.c.extend({i:function(e,t,i){this.M=e;t=u.k.B(da(e),t);this.u={};this.rc=t.poster;this.rb=t.controls;e.controls=l;u.c.call(this,this,t,i);this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled");this.U("play",function(e){u.j(this.a,{type:"firstplay",target:this.a})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())});this.d("ended",this.fd);this.d("play",this.Jb);this.d("firstplay",this.gd);this.d("pause",this.Ib);this.d("progress",this.jd);this.d("durationchange",this.pc);this.d("error",this.Fb);this.d("fullscreenchange",this.hd);u.wa[this.Q]=this;t.plugins&&u.k.ta(t.plugins,function(e,t){this[e](t)},this);var n,r,o,s;n=this.tc;e=function(){n();clearInterval(r);r=setInterval(u.bind(this,n),250)};t=function(){n();clearInterval(r)};this.d("mousedown",e);this.d("mousemove",n);this.d("mouseup",t);this.d("keydown",n);this.d("keyup",n);this.d("touchstart",e);this.d("touchmove",n);this.d("touchend",t);this.d("touchcancel",t);o=setInterval(u.bind(this,function(){this.ja&&(this.ja=l,I(this,f),clearTimeout(s),s=setTimeout(u.bind(this,function(){this.ja||I(this,l)}),2e3))}),250);this.d("dispose",function(){clearInterval(o);clearTimeout(s)})}});t=u.w.prototype;t.g=u.options;t.D=function(){this.j("dispose");this.o("dispose");u.wa[this.Q]=j;this.M&&this.M.player&&(this.M.player=j);this.a&&this.a.player&&(this.a.player=j);clearInterval(this.Qa);this.ya();this.h&&this.h.D();u.c.prototype.D.call(this)};function da(e){var t={sources:[],tracks:[]};u.k.B(t,u.wb(e));if(e.hasChildNodes()){var i,n,r,o;e=e.childNodes;r=0;for(o=e.length;r<o;r++)i=e[r],n=i.nodeName.toLowerCase(),"source"===n?t.sources.push(u.wb(i)):"track"===n&&t.tracks.push(u.wb(i))}return t}t.e=function(){var e=this.a=u.c.prototype.e.call(this,"div"),t=this.M;t.removeAttribute("width");t.removeAttribute("height");if(t.hasChildNodes()){var i,n,r,o,s;i=t.childNodes;n=i.length;for(s=[];n--;)r=i[n],o=r.nodeName.toLowerCase(),"track"===o&&s.push(r);for(i=0;i<s.length;i++)t.removeChild(s[i])}t.id=t.id||"vjs_video_"+u.s++;e.id=t.id;e.className=t.className;t.id+="_html5_api";t.className="vjs-tech";t.player=e.player=this;this.n("vjs-paused");this.width(this.g.width,f);this.height(this.g.height,f);t.parentNode&&t.parentNode.insertBefore(e,t);u.yb(t,e);return e};function J(e,t,i){e.h?(e.aa=l,e.h.D(),e.Db&&(e.Db=l,clearInterval(e.Qa)),e.Eb&&K(e),e.h=l):"Html5"!==t&&e.M&&(u.l.gc(e.M),e.M=j);e.ia=t;e.aa=l;var n=u.k.B({source:i,parentEl:e.a},e.g[t.toLowerCase()]);i&&(i.src==e.u.src&&0<e.u.currentTime&&(n.startTime=e.u.currentTime),e.u.src=i.src);e.h=new window.videojs[t](e,n);e.h.L(function(){this.b.Ta();if(!this.m.progressEvents){var e=this.b;e.Db=f;e.Qa=setInterval(u.bind(e,function(){this.u.kb<this.buffered().end(0)?this.j("progress"):1==this.Ia()&&(clearInterval(this.Qa),this.j("progress"))}),500);e.h.U("progress",function(){this.m.progressEvents=f;var e=this.b;e.Db=l;clearInterval(e.Qa)})}this.m.timeupdateEvents||(e=this.b,e.Eb=f,e.d("play",e.Ac),e.d("pause",e.ya),e.h.U("timeupdate",function(){this.m.timeupdateEvents=f;K(this.b)}))})}function K(e){e.Eb=l;e.ya();e.o("play",e.Ac);e.o("pause",e.ya)}t.Ac=function(){this.ec&&this.ya();this.ec=setInterval(u.bind(this,function(){this.j("timeupdate")}),250)};t.ya=function(){clearInterval(this.ec)};t.fd=function(){this.g.loop&&(this.currentTime(0),this.play())};t.Jb=function(){u.t(this.a,"vjs-paused");u.n(this.a,"vjs-playing")};t.gd=function(){this.g.starttime&&this.currentTime(this.g.starttime);this.n("vjs-has-started")};t.Ib=function(){u.t(this.a,"vjs-playing");u.n(this.a,"vjs-paused")};t.jd=function(){1==this.Ia()&&this.j("loadedalldata")};t.pc=function(){this.duration(L(this,"duration"))};t.Fb=function(e){u.log("Video Error",e)};t.hd=function(){this.H?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")};function M(e,t,i){if(e.h&&!e.h.aa)e.h.L(function(){this[t](i)});else try{e.h[t](i)}catch(e){throw u.log(e),e}}function L(e,t){if(e.h&&e.h.aa)try{return e.h[t]()}catch(i){throw e.h[t]===b?u.log("Video.js: "+t+" method not defined for "+e.ia+" playback technology.",i):"TypeError"==i.name?(u.log("Video.js: "+t+" unavailable on "+e.ia+" playback technology element.",i),e.h.aa=l):u.log(i),i}}t.play=function(){M(this,"play");return this};t.pause=function(){M(this,"pause");return this};t.paused=function(){return L(this,"paused")===l?l:f};t.currentTime=function(e){return e!==b?(this.u.oc=e,M(this,"setCurrentTime",e),this.Eb&&this.j("timeupdate"),this):this.u.currentTime=L(this,"currentTime")||0};t.duration=function(e){if(e!==b)return this.u.duration=parseFloat(e),this;this.u.duration===b&&this.pc();return this.u.duration};t.buffered=function(){var e=L(this,"buffered"),t=e.length-1,i=this.u.kb=this.u.kb||0;e&&(0<=t&&e.end(t)!==i)&&(i=e.end(t),this.u.kb=i);return u.sb(0,i)};t.Ia=function(){return this.duration()?this.buffered().end(0)/this.duration():0};t.volume=function(e){if(e!==b)return e=Math.max(0,Math.min(1,parseFloat(e))),this.u.volume=e,M(this,"setVolume",e),u.rd(e),this;e=parseFloat(L(this,"volume"));return isNaN(e)?1:e};t.muted=function(e){return e!==b?(M(this,"setMuted",e),this):L(this,"muted")||l};t.Sa=function(){return L(this,"supportsFullScreen")||l};t.xa=function(){var e=u.Nb.xa;this.H=f;e?(u.d(document,e.ub,u.bind(this,function(t){this.H=document[e.H];this.H===l&&u.o(document,e.ub,arguments.callee);this.j("fullscreenchange")})),this.a[e.uc]()):this.h.Sa()?M(this,"enterFullScreen"):(this.ad=f,this.Wc=document.documentElement.style.overflow,u.d(document,"keydown",u.bind(this,this.ic)),document.documentElement.style.overflow="hidden",u.n(document.body,"vjs-full-window"),this.j("enterFullWindow"),this.j("fullscreenchange"));return this};t.nb=function(){var e=u.Nb.xa;this.H=l;if(e)document[e.mb]();else this.h.Sa()?M(this,"exitFullScreen"):(N(this),this.j("fullscreenchange"));return this};t.ic=function(e){27===e.keyCode&&(this.H===f?this.nb():N(this))};function N(e){e.ad=l;u.o(document,"keydown",e.ic);document.documentElement.style.overflow=e.Wc;u.t(document.body,"vjs-full-window");e.j("exitFullWindow")}t.src=function(e){if(e instanceof Array){var t;e:{t=e;for(var i=0,n=this.g.techOrder;i<n.length;i++){var r=u.$(n[i]),o=window.videojs[r];if(o.isSupported())for(var s=0,a=t;s<a.length;s++){var c=a[s];if(o.canPlaySource(c)){t={source:c,h:r};break e}}}t=l}t?(e=t.source,t=t.h,t==this.ia?this.src(e):J(this,t,e)):this.a.appendChild(u.e("p",{innerHTML:this.options().notSupportedMessage}))}else e instanceof Object?window.videojs[this.ia].canPlaySource(e)?this.src(e.src):this.src([e]):(this.u.src=e,this.aa?(M(this,"src",e),"auto"==this.g.preload&&this.load(),this.g.autoplay&&this.play()):this.L(function(){this.src(e)}));return this};t.load=function(){M(this,"load");return this};t.currentSrc=function(){return L(this,"currentSrc")||this.u.src||""};t.Pa=function(e){return e!==b?(M(this,"setPreload",e),this.g.preload=e,this):L(this,"preload")};t.autoplay=function(e){return e!==b?(M(this,"setAutoplay",e),this.g.autoplay=e,this):L(this,"autoplay")};t.loop=function(e){return e!==b?(M(this,"setLoop",e),this.g.loop=e,this):L(this,"loop")};t.poster=function(e){e!==b&&(this.rc=e);return this.rc};t.controls=function(e){return e!==b?(e=!!e,this.rb!==e&&((this.rb=e)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.j("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.j("controlsdisabled"))),this):this.rb};u.w.prototype.Qb;t=u.w.prototype;t.Pb=function(e){return e!==b?(e=!!e,this.Qb!==e&&((this.Qb=e)?(this.n("vjs-using-native-controls"),this.j("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.j("usingcustomcontrols"))),this):this.Qb};t.error=function(){return L(this,"error")};t.seeking=function(){return L(this,"seeking")};t.ja=f;t.tc=function(){this.ja=f};t.Ob=f;function I(e,t){return t!==b?(t=!!t,t!==e.Ob&&((e.Ob=t)?(e.ja=f,e.t("vjs-user-inactive"),e.n("vjs-user-active"),e.j("useractive")):(e.ja=l,e.h.U("mousemove",function(e){e.stopPropagation();e.preventDefault()}),e.t("vjs-user-active"),e.n("vjs-user-inactive"),e.j("userinactive"))),e):e.Ob}var O,P,Q;Q=document.createElement("div");P={};Q.Fd!==b?(P.uc="requestFullscreen",P.mb="exitFullscreen",P.ub="fullscreenchange",P.H="fullScreen"):(document.mozCancelFullScreen?(O="moz",P.H=O+"FullScreen"):(O="webkit",P.H=O+"IsFullScreen"),Q[O+"RequestFullScreen"]&&(P.uc=O+"RequestFullScreen",P.mb=O+"CancelFullScreen"),P.ub=O+"fullscreenchange");document[P.mb]&&(u.Nb.xa=P);u.Ea=u.c.extend();u.Ea.prototype.g={Kd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};u.Ea.prototype.e=function(){return u.e("div",{className:"vjs-control-bar"})};u.Wb=u.q.extend({i:function(e,t){u.q.call(this,e,t);e.d("play",u.bind(this,this.Jb));e.d("pause",u.bind(this,this.Ib))}});t=u.Wb.prototype;t.pa="Play";t.T=function(){return"vjs-play-control "+u.q.prototype.T.call(this)};t.p=function(){this.b.paused()?this.b.play():this.b.pause()};t.Jb=function(){u.t(this.a,"vjs-paused");u.n(this.a,"vjs-playing");this.a.children[0].children[0].innerHTML="Pause"};t.Ib=function(){u.t(this.a,"vjs-playing");u.n(this.a,"vjs-paused");this.a.children[0].children[0].innerHTML="Play"};u.Xa=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.d("timeupdate",u.bind(this,this.Ba))}});u.Xa.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});e.appendChild(u.e("div").appendChild(this.content));return e};u.Xa.prototype.Ba=function(){var e=this.b.Lb?this.b.u.currentTime:this.b.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+u.Ka(e,this.b.duration())};u.Ya=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.d("timeupdate",u.bind(this,this.Ba))}});u.Ya.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});e.appendChild(u.e("div").appendChild(this.content));return e};u.Ya.prototype.Ba=function(){var e=this.b.duration();e&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+u.Ka(e))};u.$b=u.c.extend({i:function(e,t){u.c.call(this,e,t)}});u.$b.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};u.eb=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.d("timeupdate",u.bind(this,this.Ba))}});u.eb.prototype.e=function(){var e=u.c.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=u.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});e.appendChild(u.e("div").appendChild(this.content));return e};u.eb.prototype.Ba=function(){this.b.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+u.Ka(this.b.duration()-this.b.currentTime()))};u.Fa=u.q.extend({i:function(e,t){u.q.call(this,e,t)}});u.Fa.prototype.pa="Fullscreen";u.Fa.prototype.T=function(){return"vjs-fullscreen-control "+u.q.prototype.T.call(this)};u.Fa.prototype.p=function(){this.b.H?(this.b.nb(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.b.xa(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")};u.cb=u.c.extend({i:function(e,t){u.c.call(this,e,t)}});u.cb.prototype.g={children:{seekBar:{}}};u.cb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})};u.Xb=u.O.extend({i:function(e,t){u.O.call(this,e,t);e.d("timeupdate",u.bind(this,this.Aa));e.L(u.bind(this,this.Aa))}});t=u.Xb.prototype;t.g={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};t.qc="timeupdate";t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};t.Aa=function(){var e=this.b.Lb?this.b.u.currentTime:this.b.currentTime();this.a.setAttribute("aria-valuenow",u.round(100*this.xb(),2));this.a.setAttribute("aria-valuetext",u.Ka(e,this.b.duration()))};t.xb=function(){var e;"Flash"===this.b.ia&&this.b.seeking()?(e=this.b.u,e=e.oc?e.oc:this.b.currentTime()):e=this.b.currentTime();return e/this.b.duration()};t.Oa=function(e){u.O.prototype.Oa.call(this,e);this.b.Lb=f;this.Bd=!this.b.paused();this.b.pause()};t.Gb=function(e){e=F(this,e)*this.b.duration();e==this.b.duration()&&(e-=.1);this.b.currentTime(e)};t.Hb=function(e){u.O.prototype.Hb.call(this,e);this.b.Lb=l;this.Bd&&this.b.play()};t.xc=function(){this.b.currentTime(this.b.currentTime()+5)};t.wc=function(){this.b.currentTime(this.b.currentTime()-5)};u.$a=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.d("progress",u.bind(this,this.update))}});u.$a.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};u.$a.prototype.update=function(){this.a.style&&(this.a.style.width=u.round(100*this.b.Ia(),2)+"%")};u.Vb=u.c.extend({i:function(e,t){u.c.call(this,e,t)}});u.Vb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};u.fb=u.ea.extend();u.fb.prototype.defaultValue="00:00";u.fb.prototype.e=function(){return u.ea.prototype.e.call(this,"div",{className:"vjs-seek-handle"})};u.hb=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.h&&(e.h.m&&e.h.m.volumeControl===l)&&this.n("vjs-hidden");e.d("loadstart",u.bind(this,function(){e.h.m&&e.h.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});u.hb.prototype.g={children:{volumeBar:{}}};u.hb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})};u.gb=u.O.extend({i:function(e,t){u.O.call(this,e,t);e.d("volumechange",u.bind(this,this.Aa));e.L(u.bind(this,this.Aa));setTimeout(u.bind(this,this.update),0)}});t=u.gb.prototype;t.Aa=function(){this.a.setAttribute("aria-valuenow",u.round(100*this.b.volume(),2));this.a.setAttribute("aria-valuetext",u.round(100*this.b.volume(),2)+"%")};t.g={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};t.qc="volumechange";t.e=function(){return u.O.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};t.Gb=function(e){this.b.volume(F(this,e))};t.xb=function(){return this.b.muted()?0:this.b.volume()};t.xc=function(){this.b.volume(this.b.volume()+.1)};t.wc=function(){this.b.volume(this.b.volume()-.1)};u.ac=u.c.extend({i:function(e,t){u.c.call(this,e,t)}});u.ac.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};u.ib=u.ea.extend();u.ib.prototype.defaultValue="00:00";u.ib.prototype.e=function(){return u.ea.prototype.e.call(this,"div",{className:"vjs-volume-handle"})};u.da=u.q.extend({i:function(e,t){u.q.call(this,e,t);e.d("volumechange",u.bind(this,this.update));e.h&&(e.h.m&&e.h.m.volumeControl===l)&&this.n("vjs-hidden");e.d("loadstart",u.bind(this,function(){e.h.m&&e.h.m.volumeControl===l?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});u.da.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};u.da.prototype.p=function(){this.b.muted(this.b.muted()?l:f)};u.da.prototype.update=function(){var e=this.b.volume(),t=3;0===e||this.b.muted()?t=0:.33>e?t=1:.67>e&&(t=2);this.b.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute");for(e=0;4>e;e++)u.t(this.a,"vjs-vol-"+e);u.n(this.a,"vjs-vol-"+t)};u.na=u.R.extend({i:function(e,t){u.R.call(this,e,t);e.d("volumechange",u.bind(this,this.update));e.h&&(e.h.m&&e.h.m.Bc===l)&&this.n("vjs-hidden");e.d("loadstart",u.bind(this,function(){
e.h.m&&e.h.m.Bc===l?this.n("vjs-hidden"):this.t("vjs-hidden")}));this.n("vjs-menu-button")}});u.na.prototype.Ja=function(){var e=new u.la(this.b,{Tc:"div"}),t=new u.gb(this.b,u.k.B({Ad:f},this.g.Td));e.Z(t);return e};u.na.prototype.p=function(){u.da.prototype.p.call(this);u.R.prototype.p.call(this)};u.na.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};u.na.prototype.update=u.da.prototype.update;u.bb=u.q.extend({i:function(e,t){u.q.call(this,e,t);(!e.poster()||!e.controls())&&this.C();e.d("play",u.bind(this,this.C))}});u.bb.prototype.e=function(){var e=u.e("div",{className:"vjs-poster",tabIndex:-1}),t=this.b.poster();t&&("backgroundSize"in e.style?e.style.backgroundImage='url("'+t+'")':e.appendChild(u.e("img",{src:t})));return e};u.bb.prototype.p=function(){this.K().controls()&&this.b.play()};u.Ub=u.c.extend({i:function(e,t){u.c.call(this,e,t);e.d("canplay",u.bind(this,this.C));e.d("canplaythrough",u.bind(this,this.C));e.d("playing",u.bind(this,this.C));e.d("seeked",u.bind(this,this.C));e.d("seeking",u.bind(this,this.show));e.d("seeked",u.bind(this,this.C));e.d("error",u.bind(this,this.show));e.d("waiting",u.bind(this,this.show))}});u.Ub.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})};u.Va=u.q.extend();u.Va.prototype.e=function(){return u.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:"<span></span>","aria-label":"play video"})};u.Va.prototype.p=function(){this.b.play()};u.r=u.c.extend({i:function(e,t,i){u.c.call(this,e,t,i);var n,r;r=this;n=this.K();e=function(){if(n.controls()&&!n.Pb()){var e,t;r.d("mousedown",r.p);r.d("touchstart",function(e){e.preventDefault();e.stopPropagation();t=I(this.b)});e=function(e){e.stopPropagation();t&&this.b.tc()};r.d("touchmove",e);r.d("touchleave",e);r.d("touchcancel",e);r.d("touchend",e);var i,o,s;i=0;r.d("touchstart",function(){i=(new Date).getTime();s=f});e=function(){s=l};r.d("touchmove",e);r.d("touchleave",e);r.d("touchcancel",e);r.d("touchend",function(){s===f&&(o=(new Date).getTime()-i,250>o&&this.j("tap"))});r.d("tap",r.kd)}};t=u.bind(r,r.nd);this.L(e);n.d("controlsenabled",e);n.d("controlsdisabled",t)}});u.r.prototype.nd=function(){this.o("tap");this.o("touchstart");this.o("touchmove");this.o("touchleave");this.o("touchcancel");this.o("touchend");this.o("click");this.o("mousedown")};u.r.prototype.p=function(e){0===e.button&&this.K().controls()&&(this.K().paused()?this.K().play():this.K().pause())};u.r.prototype.kd=function(){I(this.K(),!I(this.K()))};u.r.prototype.m={volumeControl:f,fullscreenResize:l,progressEvents:l,timeupdateEvents:l};u.media={};u.media.Ua="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");function ea(){var e=u.media.Ua[i];return function(){throw Error('The "'+e+"\" method is not available on the playback technology's API")}}for(var i=u.media.Ua.length-1;0<=i;i--)u.r.prototype[u.media.Ua[i]]=ea();u.l=u.r.extend({i:function(e,t,i){this.m.volumeControl=u.l.Sc();this.m.movingMediaElementInDOM=!u.Hc;this.m.fullscreenResize=f;u.r.call(this,e,t,i);(t=t.source)&&this.a.currentSrc===t.src&&0<this.a.networkState?e.j("loadstart"):t&&(this.a.src=t.src);if(u.Oc&&e.options().nativeControlsForTouch!==l){var n,r,o,s;n=this;r=this.K();t=r.controls();n.a.controls=!!t;o=function(){n.a.controls=f};s=function(){n.a.controls=l};r.d("controlsenabled",o);r.d("controlsdisabled",s);t=function(){r.o("controlsenabled",o);r.o("controlsdisabled",s)};n.d("dispose",t);r.d("usingcustomcontrols",t);r.Pb(f)}e.L(function(){this.M&&(this.g.autoplay&&this.paused())&&(delete this.M.poster,this.play())});for(e=u.l.Za.length-1;0<=e;e--)u.d(this.a,u.l.Za[e],u.bind(this.b,this.Yc));this.Ta()}});t=u.l.prototype;t.D=function(){u.r.prototype.D.call(this)};t.e=function(){var e=this.b,t=e.M,i;if(!t||this.m.movingMediaElementInDOM===l)t?(i=t.cloneNode(l),u.l.gc(t),t=i,e.M=j):t=u.e("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),t.player=e,u.yb(t,e.v());i=["autoplay","preload","loop","muted"];for(var n=i.length-1;0<=n;n--){var r=i[n];e.g[r]!==j&&(t[r]=e.g[r])}return t};t.Yc=function(e){this.j(e);e.stopPropagation()};t.play=function(){this.a.play()};t.pause=function(){this.a.pause()};t.paused=function(){return this.a.paused};t.currentTime=function(){return this.a.currentTime};t.qd=function(e){try{this.a.currentTime=e}catch(e){u.log(e,"Video is not ready. (Video.js)")}};t.duration=function(){return this.a.duration||0};t.buffered=function(){return this.a.buffered};t.volume=function(){return this.a.volume};t.vd=function(e){this.a.volume=e};t.muted=function(){return this.a.muted};t.td=function(e){this.a.muted=e};t.width=function(){return this.a.offsetWidth};t.height=function(){return this.a.offsetHeight};t.Sa=function(){return"function"==typeof this.a.webkitEnterFullScreen&&(/Android/.test(u.F)||!/Chrome|Mac OS X 10.5/.test(u.F))?f:l};t.src=function(e){this.a.src=e};t.load=function(){this.a.load()};t.currentSrc=function(){return this.a.currentSrc};t.Pa=function(){return this.a.Pa};t.ud=function(e){this.a.Pa=e};t.autoplay=function(){return this.a.autoplay};t.pd=function(e){this.a.autoplay=e};t.controls=function(){return this.a.controls};t.loop=function(){return this.a.loop};t.sd=function(e){this.a.loop=e};t.error=function(){return this.a.error};t.seeking=function(){return this.a.seeking};u.l.isSupported=function(){return!!u.ma.canPlayType};u.l.lb=function(e){try{return!!u.ma.canPlayType(e.type)}catch(e){return""}};u.l.Sc=function(){var e=u.ma.volume;u.ma.volume=e/2+.1;return e!==u.ma.volume};u.l.Za="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");u.l.gc=function(e){if(e){e.player=j;for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src");"function"===typeof e.load&&e.load()}};u.Lc&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""});u.f=u.r.extend({i:function(e,t,i){u.r.call(this,e,t,i);var n=t.source;i=t.parentEl;var r=this.a=u.e("div",{id:e.id()+"_temp_flash"}),o=e.id()+"_flash_api";e=e.g;var s=u.k.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.Pa,loop:e.loop,muted:e.muted},t.flashVars),a=u.k.B({wmode:"opaque",bgcolor:"#000000"},t.params),l=u.k.B({id:o,name:o,class:"vjs-tech"},t.attributes);n&&(n.type&&u.f.cd(n.type)?(e=u.f.yc(n.src),s.rtmpConnection=encodeURIComponent(e.qb),s.rtmpStream=encodeURIComponent(e.Mb)):s.src=encodeURIComponent(u.jc(n.src)));u.yb(r,i);t.startTime&&this.L(function(){this.load();this.play();this.currentTime(t.startTime)});if(t.iFrameMode===f&&!u.Gc){var c=u.e("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});s.readyFunction="ready";s.eventProxyFunction="events";s.errorEventProxyFunction="errors";u.d(c,"load",u.bind(this,function(){var e,i=c.contentWindow;e=c.contentDocument?c.contentDocument:c.contentWindow.document;e.write(u.f.kc(t.swf,s,a,l));i.player=this.b;i.ready=u.bind(this.b,function(t){var i=this.h;i.a=e.getElementById(t);u.f.ob(i)});i.events=u.bind(this.b,function(e,t){this&&"flash"===this.ia&&this.j(t)});i.errors=u.bind(this.b,function(e,t){u.log("Flash Error",t)})}));r.parentNode.replaceChild(c,r)}else u.f.Xc(t.swf,r,s,a,l)}});t=u.f.prototype;t.D=function(){u.r.prototype.D.call(this)};t.play=function(){this.a.vjs_play()};t.pause=function(){this.a.vjs_pause()};t.src=function(e){u.f.bd(e)?(e=u.f.yc(e),this.Od(e.qb),this.Pd(e.Mb)):(e=u.jc(e),this.a.vjs_src(e));if(this.b.autoplay()){var t=this;setTimeout(function(){t.play()},0)}};t.currentSrc=function(){var e=this.a.vjs_getProperty("currentSrc");if(e==j){var t=this.Md(),i=this.Nd();t&&i&&(e=u.f.wd(t,i))}return e};t.load=function(){this.a.vjs_load()};t.poster=function(){this.a.vjs_getProperty("poster")};t.buffered=function(){return u.sb(0,this.a.vjs_getProperty("buffered"))};t.Sa=s(l);var R=u.f.prototype,S="rtmpConnection rtmpStream preload currentTime defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),T="error currentSrc networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" ");function fa(){var e=S[U],t=e.charAt(0).toUpperCase()+e.slice(1);R["set"+t]=function(t){return this.a.vjs_setProperty(e,t)}}function V(e){R[e]=function(){return this.a.vjs_getProperty(e)}}var U;for(U=0;U<S.length;U++)V(S[U]),fa();for(U=0;U<T.length;U++)V(T[U]);u.f.isSupported=function(){return 10<=u.f.version()[0]};u.f.lb=function(e){if(e.type in u.f.$c||e.type in u.f.zc)return"maybe"};u.f.$c={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};u.f.zc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};u.f.onReady=function(e){e=u.v(e);var t=e.player||e.parentNode.player,i=t.h;e.player=t;i.a=e;u.f.ob(i)};u.f.ob=function(e){e.v().vjs_getProperty?e.Ta():setTimeout(function(){u.f.ob(e)},50)};u.f.onEvent=function(e,t){u.v(e).player.j(t)};u.f.onError=function(e,t){u.v(e).player.j("error");u.log("Flash Error",t,e)};u.f.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")};u.f.Xc=function(e,t,i,n,r){e=u.f.kc(e,i,n,r);e=u.e("div",{innerHTML:e}).childNodes[0];i=t.parentNode;t.parentNode.replaceChild(e,t);var o=i.childNodes[0];setTimeout(function(){o.style.display="block"},1e3)};u.f.kc=function(e,t,i,n){var r="",o="",s="";t&&u.k.ta(t,function(e,t){r+=e+"="+t+"&amp;"});i=u.k.B({movie:e,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},i);u.k.ta(i,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'});n=u.k.B({data:e,width:"100%",height:"100%"},n);u.k.ta(n,function(e,t){s+=e+'="'+t+'" '});return'<object type="application/x-shockwave-flash"'+s+">"+o+"</object>"};u.f.wd=function(e,t){return e+"&"+t};u.f.yc=function(e){var t={qb:"",Mb:""};if(!e)return t;var i=e.indexOf("&"),n;-1!==i?n=i+1:(i=n=e.lastIndexOf("/")+1,0===i&&(i=n=e.length));t.qb=e.substring(0,i);t.Mb=e.substring(n,e.length);return t};u.f.cd=function(e){return e in u.f.zc};u.f.Nc=/^rtmp[set]?:\/\//i;u.f.bd=function(e){return u.f.Nc.test(e)};u.Mc=u.c.extend({i:function(e,t,i){u.c.call(this,e,t,i);if(!e.g.sources||0===e.g.sources.length){t=0;for(i=e.g.techOrder;t<i.length;t++){var n=u.$(i[t]),r=window.videojs[n];if(r&&r.isSupported()){J(e,n);break}}}else e.src(e.g.sources)}});function W(e){e.za=e.za||[];return e.za}function X(e,t,i){for(var n=e.za,r=0,o=n.length,s,a;r<o;r++)s=n[r],s.id()===t?(s.show(),a=s):i&&(s.J()==i&&0<s.mode())&&s.disable();(t=a?a.J():i?i:l)&&e.j(t+"trackchange")}u.X=u.c.extend({i:function(e,t){u.c.call(this,e,t);this.Q=t.id||"vjs_"+t.kind+"_"+t.language+"_"+u.s++;this.vc=t.src;this.Uc=t["default"]||t.dflt;this.yd=t.title;this.Jd=t.srclang;this.dd=t.label;this.fa=[];this.bc=[];this.ga=this.ha=0;this.b.d("fullscreenchange",u.bind(this,this.Pc))}});t=u.X.prototype;t.J=p("A");t.src=p("vc");t.tb=p("Uc");t.title=p("yd");t.label=p("dd");t.readyState=p("ha");t.mode=p("ga");t.Pc=function(){this.a.style.fontSize=this.b.H?140*(screen.width/this.b.width())+"%":""};t.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})};t.show=function(){Y(this);this.ga=2;u.c.prototype.show.call(this)};t.C=function(){Y(this);this.ga=1;u.c.prototype.C.call(this)};t.disable=function(){2==this.ga&&this.C();this.b.o("timeupdate",u.bind(this,this.update,this.Q));this.b.o("ended",u.bind(this,this.reset,this.Q));this.reset();this.b.V.textTrackDisplay.removeChild(this);this.ga=0};function Y(e){0===e.ha&&e.load();0===e.ga&&(e.b.d("timeupdate",u.bind(e,e.update,e.Q)),e.b.d("ended",u.bind(e,e.reset,e.Q)),("captions"===e.A||"subtitles"===e.A)&&e.b.V.textTrackDisplay.Z(e))}t.load=function(){0===this.ha&&(this.ha=1,u.get(this.vc,u.bind(this,this.ld),u.bind(this,this.Fb)))};t.Fb=function(e){this.error=e;this.ha=3;this.j("error")};t.ld=function(e){var t,i;e=e.split("\n");for(var n="",r=1,o=e.length;r<o;r++)if(n=u.trim(e[r])){-1==n.indexOf("-->")?(t=n,n=u.trim(e[++r])):t=this.fa.length;t={id:t,index:this.fa.length};i=n.split(" --> ");t.startTime=ga(i[0]);t.ua=ga(i[1]);for(i=[];e[++r]&&(n=u.trim(e[r]));)i.push(n);t.text=i.join("<br/>");this.fa.push(t)}this.ha=2;this.j("loaded")};function ga(e){var t=e.split(":");e=0;var i,n,r;3==t.length?(i=t[0],n=t[1],t=t[2]):(i=0,n=t[0],t=t[1]);t=t.split(/\s+/);t=t.splice(0,1)[0];t=t.split(/\.|,/);r=parseFloat(t[1]);t=t[0];e+=3600*parseFloat(i);e+=60*parseFloat(n);e+=parseFloat(t);r&&(e+=r/1e3);return e}t.update=function(){if(0<this.fa.length){var e=this.b.currentTime();if(this.Kb===b||e<this.Kb||this.La<=e){var t=this.fa,i=this.b.duration(),n=0,r=l,o=[],s,a,c,u;e>=this.La||this.La===b?u=this.vb!==b?this.vb:0:(r=f,u=this.Cb!==b?this.Cb:t.length-1);for(;;){c=t[u];if(c.ua<=e)n=Math.max(n,c.ua),c.Ha&&(c.Ha=l);else if(e<c.startTime){if(i=Math.min(i,c.startTime),c.Ha&&(c.Ha=l),!r)break}else r?(o.splice(0,0,c),a===b&&(a=u),s=u):(o.push(c),s===b&&(s=u),a=u),i=Math.min(i,c.ua),n=Math.max(n,c.startTime),c.Ha=f;if(r)if(0===u)break;else u--;else if(u===t.length-1)break;else u++}this.bc=o;this.La=i;this.Kb=n;this.vb=s;this.Cb=a;e=this.bc;t="";i=0;for(n=e.length;i<n;i++)t+='<span class="vjs-tt-cue">'+e[i].text+"</span>";this.a.innerHTML=t;this.j("cuechange")}}};t.reset=function(){this.La=0;this.Kb=this.b.duration();this.Cb=this.vb=0};u.Sb=u.X.extend();u.Sb.prototype.A="captions";u.Yb=u.X.extend();u.Yb.prototype.A="subtitles";u.Tb=u.X.extend();u.Tb.prototype.A="chapters";u.Zb=u.c.extend({i:function(e,t,i){u.c.call(this,e,t,i);if(e.g.tracks&&0<e.g.tracks.length){t=this.b;e=e.g.tracks;var n;for(i=0;i<e.length;i++){n=e[i];var r=t,o=n.kind,s=n.label,a=n.language,l=n;n=r.za=r.za||[];l=l||{};l.kind=o;l.label=s;l.language=a;o=u.$(o||"subtitles");r=new window.videojs[o+"Track"](r,l);n.push(r)}}}});u.Zb.prototype.e=function(){return u.c.prototype.e.call(this,"div",{className:"vjs-text-track-display"})};u.Y=u.N.extend({i:function(e,t){var i=this.ca=t.track;t.label=i.label();t.selected=i.tb();u.N.call(this,e,t);this.b.d(i.J()+"trackchange",u.bind(this,this.update))}});u.Y.prototype.p=function(){u.N.prototype.p.call(this);X(this.b,this.ca.Q,this.ca.J())};u.Y.prototype.update=function(){this.selected(2==this.ca.mode())};u.ab=u.Y.extend({i:function(e,t){t.track={J:function(){return t.kind},K:e,label:function(){return t.kind+" off"},tb:s(l),mode:s(l)};u.Y.call(this,e,t);this.selected(f)}});u.ab.prototype.p=function(){u.Y.prototype.p.call(this);X(this.b,this.ca.Q,this.ca.J())};u.ab.prototype.update=function(){for(var e=W(this.b),t=0,i=e.length,n,r=f;t<i;t++)n=e[t],n.J()==this.ca.J()&&2==n.mode()&&(r=l);this.selected(r)};u.S=u.R.extend({i:function(e,t){u.R.call(this,e,t);1>=this.I.length&&this.C()}});u.S.prototype.sa=function(){var e=[],t;e.push(new u.ab(this.b,{kind:this.A}));for(var i=0;i<W(this.b).length;i++)t=W(this.b)[i],t.J()===this.A&&e.push(new u.Y(this.b,{track:t}));return e};u.Ca=u.S.extend({i:function(e,t,i){u.S.call(this,e,t,i);this.a.setAttribute("aria-label","Captions Menu")}});u.Ca.prototype.A="captions";u.Ca.prototype.pa="Captions";u.Ca.prototype.className="vjs-captions-button";u.Ga=u.S.extend({i:function(e,t,i){u.S.call(this,e,t,i);this.a.setAttribute("aria-label","Subtitles Menu")}});u.Ga.prototype.A="subtitles";u.Ga.prototype.pa="Subtitles";u.Ga.prototype.className="vjs-subtitles-button";u.Da=u.S.extend({i:function(e,t,i){u.S.call(this,e,t,i);this.a.setAttribute("aria-label","Chapters Menu")}});t=u.Da.prototype;t.A="chapters";t.pa="Chapters";t.className="vjs-chapters-button";t.sa=function(){for(var e=[],t,i=0;i<W(this.b).length;i++)t=W(this.b)[i],t.J()===this.A&&e.push(new u.Y(this.b,{track:t}));return e};t.Ja=function(){for(var e=W(this.b),t=0,i=e.length,n,r,o=this.I=[];t<i;t++)if(n=e[t],n.J()==this.A&&n.tb()){if(2>n.readyState()){this.Gd=n;n.d("loaded",u.bind(this,this.Ja));return}r=n;break}e=this.va=new u.la(this.b);e.a.appendChild(u.e("li",{className:"vjs-menu-title",innerHTML:u.$(this.A),xd:-1}));if(r){n=r.fa;for(var s,t=0,i=n.length;t<i;t++)s=n[t],s=new u.Wa(this.b,{track:r,cue:s}),o.push(s),e.Z(s)}0<this.I.length&&this.show();return e};u.Wa=u.N.extend({i:function(e,t){var i=this.ca=t.track,n=this.cue=t.cue,r=e.currentTime();t.label=n.text;t.selected=n.startTime<=r&&r<n.ua;u.N.call(this,e,t);i.d("cuechange",u.bind(this,this.update))}});u.Wa.prototype.p=function(){u.N.prototype.p.call(this);this.b.currentTime(this.cue.startTime);this.update(this.cue.startTime)};u.Wa.prototype.update=function(){var e=this.cue,t=this.b.currentTime();this.selected(e.startTime<=t&&t<e.ua)};u.k.B(u.Ea.prototype.g.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)u.JSON=window.JSON;else{u.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;u.JSON.parse=function(a,c){function d(e,t){var i,n,r=e[t];if(r&&"object"===typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=d(r,i),n!==b?r[i]=n:delete r[i]);return c.call(e,t,r)}var e;a=String(a);Z.lastIndex=0;Z.test(a)&&(a=a.replace(Z,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}u.cc=function(){var e,t,i=document.getElementsByTagName("video");if(i&&0<i.length)for(var n=0,r=i.length;n<r;n++)if((t=i[n])&&t.getAttribute)t.player===b&&(e=t.getAttribute("data-setup"),e!==j&&(e=u.JSON.parse(e||"{}"),v(t,e)));else{u.jb();break}else u.Cc||u.jb()};u.jb=function(){setTimeout(u.cc,1)};"complete"===document.readyState?u.Cc=f:u.U(window,"load",function(){u.Cc=f});u.jb();u.md=function(e,t){u.w.prototype[e]=t};var ha=this;ha.Cd=f;function $(e,t){var i=e.split("."),n=ha;!(i[0]in n)&&n.execScript&&n.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)!i.length&&t!==b?n[r]=t:n=n[r]?n[r]:n[r]={}}$("videojs",u);$("_V_",u);$("videojs.options",u.options);$("videojs.players",u.wa);$("videojs.cache",u.qa);$("videojs.Component",u.c);u.c.prototype.player=u.c.prototype.K;u.c.prototype.dispose=u.c.prototype.D;u.c.prototype.createEl=u.c.prototype.e;u.c.prototype.el=u.c.prototype.v;u.c.prototype.addChild=u.c.prototype.Z;u.c.prototype.children=u.c.prototype.children;u.c.prototype.on=u.c.prototype.d;u.c.prototype.off=u.c.prototype.o;u.c.prototype.one=u.c.prototype.U;u.c.prototype.trigger=u.c.prototype.j;u.c.prototype.triggerReady=u.c.prototype.Ta;u.c.prototype.show=u.c.prototype.show;u.c.prototype.hide=u.c.prototype.C;u.c.prototype.width=u.c.prototype.width;u.c.prototype.height=u.c.prototype.height;u.c.prototype.dimensions=u.c.prototype.Vc;u.c.prototype.ready=u.c.prototype.L;u.c.prototype.addClass=u.c.prototype.n;u.c.prototype.removeClass=u.c.prototype.t;$("videojs.Player",u.w);u.w.prototype.dispose=u.w.prototype.D;u.w.prototype.requestFullScreen=u.w.prototype.xa;u.w.prototype.cancelFullScreen=u.w.prototype.nb;u.w.prototype.bufferedPercent=u.w.prototype.Ia;u.w.prototype.usingNativeControls=u.w.prototype.Pb;$("videojs.MediaLoader",u.Mc);$("videojs.TextTrackDisplay",u.Zb);$("videojs.ControlBar",u.Ea);$("videojs.Button",u.q);$("videojs.PlayToggle",u.Wb);$("videojs.FullscreenToggle",u.Fa);$("videojs.BigPlayButton",u.Va);$("videojs.LoadingSpinner",u.Ub);$("videojs.CurrentTimeDisplay",u.Xa);$("videojs.DurationDisplay",u.Ya);$("videojs.TimeDivider",u.$b);$("videojs.RemainingTimeDisplay",u.eb);$("videojs.Slider",u.O);$("videojs.ProgressControl",u.cb);$("videojs.SeekBar",u.Xb);$("videojs.LoadProgressBar",u.$a);$("videojs.PlayProgressBar",u.Vb);$("videojs.SeekHandle",u.fb);$("videojs.VolumeControl",u.hb);$("videojs.VolumeBar",u.gb);$("videojs.VolumeLevel",u.ac);$("videojs.VolumeMenuButton",u.na);$("videojs.VolumeHandle",u.ib);$("videojs.MuteToggle",u.da);$("videojs.PosterImage",u.bb);$("videojs.Menu",u.la);$("videojs.MenuItem",u.N);$("videojs.MenuButton",u.R);u.R.prototype.createItems=u.R.prototype.sa;u.S.prototype.createItems=u.S.prototype.sa;u.Da.prototype.createItems=u.Da.prototype.sa;$("videojs.SubtitlesButton",u.Ga);$("videojs.CaptionsButton",u.Ca);$("videojs.ChaptersButton",u.Da);$("videojs.MediaTechController",u.r);u.r.prototype.features=u.r.prototype.m;u.r.prototype.m.volumeControl=u.r.prototype.m.Bc;u.r.prototype.m.fullscreenResize=u.r.prototype.m.Hd;u.r.prototype.m.progressEvents=u.r.prototype.m.Ld;u.r.prototype.m.timeupdateEvents=u.r.prototype.m.Qd;$("videojs.Html5",u.l);u.l.Events=u.l.Za;u.l.isSupported=u.l.isSupported;u.l.canPlaySource=u.l.lb;u.l.prototype.setCurrentTime=u.l.prototype.qd;u.l.prototype.setVolume=u.l.prototype.vd;u.l.prototype.setMuted=u.l.prototype.td;u.l.prototype.setPreload=u.l.prototype.ud;u.l.prototype.setAutoplay=u.l.prototype.pd;u.l.prototype.setLoop=u.l.prototype.sd;$("videojs.Flash",u.f);u.f.isSupported=u.f.isSupported;u.f.canPlaySource=u.f.lb;u.f.onReady=u.f.onReady;$("videojs.TextTrack",u.X);u.X.prototype.label=u.X.prototype.label;$("videojs.CaptionsTrack",u.Sb);$("videojs.SubtitlesTrack",u.Yb);$("videojs.ChaptersTrack",u.Tb);$("videojs.autoSetup",u.cc);$("videojs.plugin",u.md);$("videojs.createTimeRange",u.sb)})()},function(e,t,i){var n,r;!(n=[i(9)],r=function(e){var t=e.Model.extend({defaults:{name:"",segments:[],user:{variables:{}}},getVariable:function(e){return this.get("user").variables!=null&&this.get("user").variables[e]},getSegment:function(){return this.get("user").segment}});return t}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r;!(n=[i(2),i(27),i(441)],r=function(e,t,i){var n=t,r=n.prototype;return n.extend({model:i,useServerGeneratedDefaultsFor:"CategoryImage"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(27),i(442)],r=function(e,t,i){var n=t,r=n.prototype;return n.extend({model:i,useServerGeneratedDefaultsFor:"Manufacturer"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(443)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductExternalMap"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(444)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductImage"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(445)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductMediaFile"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(446),i(435)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductModifier"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(447)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductModifierChoice"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(448)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductOption"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(449)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSku"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(450)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSkuFile"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(451)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSkuOptionPivot"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(27),i(452)],r=function(e,t){return e.extend({model:t,useServerGeneratedDefaultsFor:"ProductSkuOptionchoice"},{})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(24),i(159)],r=function(e,t,i){return t.extend({useServerGeneratedDefaultsFor:"CategoryImage",getMaxAvailableWidth:function(e){e=parseInt(e,10)||this.get("width");return this.get("width")<e?this.get("width"):e},uri:function(e){e=e?e:"{size}";var t=this.attributes;var n=t.owner_id+"-"+t.site_id+UPLOADS_BASE;if(!t.site_category_image_id){return"//"+n+t.uri}if(e!="{size}"&&e>parseInt(this.get("width"))){e=parseInt(this.get("width"))}var r=i.find();var o="s"+t.site_id+"_c"+t.site_category_id+"_i"+t.site_category_image_id+"_w"+e+"."+t.format;return"//"+n+"/uploads/"+r.get("upload_uid_location")+"/"+o},regenerate:function(){var e=this;e.rpc.resize.call(e,e.get("owner_id"),e.get("site_id"),e.get("site_category_id"),e.get("site_category_image_id"))}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(24)],r=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"Manufacturer"})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(24)],r=function(e,t){var i=t.extend({useServerGeneratedDefaultsFor:"ProductExternalMap"});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(24)],r=function(e,t,i){var n=i.extend({useServerGeneratedDefaultsFor:"ProductImage",rollback:function(){i.prototype.rollback.apply(this,arguments)},getMaxAvailableWidth:function(e){var i=t.max(Object.keys(this.get("urls")),Number.parseInt);e=parseInt(e,10)||i;return i<e?i:e},uri:function(e){var t=this.attributes.urls;var i=t[e]||"";if(i.length<1){console.error("Failed to find uri for product image given width of "+e)}return i},getMinAvailableWidth:function(e){if(e in this.attributes.urls!==false){return e}return t.min(Object.keys(this.attributes.urls),Number.parseInt)},regenerate:function(){var e=this;e.rpc.resize.call(e,e.get("owner_id"),e.get("site_id"),e.get("site_product_id"),e.get("site_product_image_id"))}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductMediaFile"})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductModifier"})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductModifierChoice"})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){var t=e.extend({useServerGeneratedDefaultsFor:"ProductOption",cloneDeep:function(){var t=e.prototype.cloneDeep.apply(this,arguments);t.set("site_product_id",null);return t}});t.prototype.defaults.name="";return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(24),i(438),i(440),i(431),i(439)],r=function(e,t){return t.extend({useServerGeneratedDefaultsFor:"ProductSku",cloneDeep:function(){var e=t.prototype.cloneDeep.apply(this,arguments);e.set("site_product_id",null);this.cloneDeepCollection("optionchoices",e);return e},get:function(e){if(e==="price"||e==="sale_price"){var i=this.attributes[e];return i!==null?parseFloat(i):null}return t.prototype.get.apply(this,arguments)},set:function(e,i){if(e==="price"||e==="sale_price"){if(i!==null&&typeof i==="string"){i=this.formatCurrencyString(i);i=parseFloat(i)}}return t.prototype.set.apply(this,arguments)},product_tracks_inventory:function(){var e=this.get("product");return e&&e.inventoryTrackingEnabled()},hasOptionchoices:function(t,i,n){t=e.isArray(t)?t:[t];i=e.isUndefined(i)?[]:i;i=e.isArray(i)?i:[i];n=e.isUndefined(n)?"all":n;var r=this.getSkuOptionchoices(),o,s;return e.some(t,function(t){o=0;s=e.every(t,function(t,n){if(e.indexOf(i,n)!==-1){o++;return true}return r[n]===t});if(s&&n==="all"){s=e.keys(t).length===e.keys(r).length+o}return s})},getSkuOptionchoices:function(){var e={};this.get("optionchoices").each(function(t){e[t.get("name")]=t.get("choice")});return e},formatCurrencyString:function(e){if(/,(\d{1,2}|\d{4,})$/.test(e)){var t=e.lastIndexOf(",");e=e.substr(0,t)+"."+e.substr(t+1)}e=e.replace(",","");return e}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){var t=e.extend({useServerGeneratedDefaultsFor:"ProductSkuFile",rollback:function(){e.prototype.rollback.apply(this,arguments)}});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductSkuOptionPivot"})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(24)],r=function(e){return e.extend({useServerGeneratedDefaultsFor:"ProductSkuOptionchoice",cloneDeep:function(){var t=e.prototype.cloneDeep.apply(this,arguments);t.set("site_product_id",null);t.set("site_product_sku_id",null);return t}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(7),i(51)],r=function(e,t,i){"use strict";var n=i.extend({fetch:function(i){var n=this;i=i?e.clone(i):{};return t.request("editor:commerce:categories:fetch",i).done(function(e){n.set(e)})}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(7),i(11),i(101)],r=function(e,t,i,n){"use strict";var r=n.extend({fetch:function(i){var n=this;i=i?e.clone(i):{};return t.request("editor:commerce:categoryHierarchy:fetch",i).done(function(e){n.set(e)})}});i.vent.on("site:initialized",function(){n.prototype.defaults.owner_id=window.com_userID;n.prototype.defaults.site_id=window.com_currentSite});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(6),i(5),i(4),i(649)],r=function(e,t,i,n){var r=i.Marionette.Layout.extend({className:"published-ecom-feature-upsell",template:n,templateHelpers:function(){var e=this;return{upsellToPlan:function(){var i=e.usingPlanLvl;var n=t.Restrictions.levelToName(i);return t.utl("ecommerce.editor.store_demo.editor.must_upgrade_enable_features",n)},features:this.descriptions}},ui:{upgradeBtn:".js-upgrade-btn"},events:{"click @ui.upgradeBtn":"promptUpgrade"},initialize:function(){var e=t.Restrictions.level;var i=this.checkFeatureUsage(e);if(e<i&&0<this.descriptions.length){this.render()}},onRender:function(){this.$el.addClass("published-ecom-feature-upsell")},featureDescriptors:{com_product_limit:function(e){return t.utl("ecommerce.editor.store_demo.editor.products")},com_manage_gift_cards:function(){return t.utl("ecommerce.editor.store_demo.editor.gift_cards")},com_shipping_settings:function(){return t.utl("ecommerce.editor.store_demo.editor.shipping")},com_real_time_shipping:function(){return t.utl("ecommerce.editor.store_demo.editor.real_time_shipping")},com_promote_store_email:function(){return t.utl("ecommerce.editor.store_demo.editor.customized_store_emails")},com_abandoned_carts:function(){return t.utl("ecommerce.editor.store_demo.editor.abandoned_cart_recovery")},com_coupons:function(){return t.utl("ecommerce.editor.store_demo.editor.coupons")},com_tax_settings:function(){
return t.utl("ecommerce.editor.store_demo.editor.taxes")},com_digital_products:function(){return t.utl("ecommerce.editor.store_demo.editor.digital_products")},com_inventory_tracking:function(){return t.utl("ecommerce.editor.store_demo.editor.inventory_tracking")}},checkHasAccess:function(e,i){var n=t.Restrictions.hasAccess(e);if(!n){return n}var r=Number(t.Restrictions.accessValue(e));if(r===-1){return true}var o=Number(i)>r;n=!o;return n},checkFeatureUsage:function(e){this.usingPlanLvl=e;var i=this.options.usedFeatures;var n=this.descriptions=[];for(var r in i){if(!i.hasOwnProperty(r)){continue}var o=i[r];if(!o){continue}var s=this.checkHasAccess(r,o);var a=Number(t.Restrictions.isUpgradable(r));var l=!s&&a;if(!l){continue}if(this.usingPlanLvl<a){this.usingPlanLvl=a;this.upgradeRestrictionId=r}var c=this.featureDescriptors[r];n.push(c())}return this.usingPlanLvl},promptUpgrade:function(t){t.preventDefault();if(!this.upgradeRestrictionId){return}e.vent.trigger("billing:upgrade:window",{level:this.usingPlanLvl,restrictionID:this.upgradeRestrictionId,restrictionType:"feature",refer:"commerce"})}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(66)],r=function(e,t){var i={saveProductChanges:function(i,n,r,o){o=o||{};var s=t.findOrCreate({site_product_id:n}),a=s.fetch();a.done(function(){if(i=="title"){if(r.text().length){s.set("name",r.text());s.save({entry_point:o.entryPoint})}else{r.text(s.get("name"))}if(o.productPage){e("#wsite-com-breadcrumbs").find(".wsite-com-link-text:last").text(r.text())}}else if(i=="description"){var t=r.html();if(t==r.attr("placeholder")){t=""}s.set("short_description",t);s.save({entry_point:o.entryPoint})}});a.fail(function(){console.log("product load failed")})}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(12),i(3),i(6),i(11),i(7),i(453),i(454),i(125),i(323),i(249),i(258),i(341)],r=function(e,t,i,n,r,o,s,a,l,c){"use strict";var u=r.module("commerce.category");u.on("start",function(){u.listenTo(r.vent,{pageRendered:function(){if(Weebly.Commerce&&Weebly.COMMERCE_ENABLED&&!t.chromeless){u.onUpdateElementList()}}});u.listenTo(n,{"commerce:category:page:change":function(){Category.Page.onUpdateElementList()}})});u.onUpdateElementList=function(){if(Weebly.view.isMobileView){Weebly.Commerce.Site.Mobile.Category.initialize();return}e(".wsite-com-category-product, .wsite-com-category-product-featured, .wsite-com-category-subcategory").attr("title","Drag to reorder");if(e("#wsite-com-area-category").length){this.initialize()}};u.initialize=function(){var t=Weebly.Commerce.Site.Category.View.ProductList;var n=e("#wsite-com-area-category");if(Weebly.Permissions.store_settings){var r=n.attr("data-id");var o=l.storefrontSettings.get("storefront_category_id");var s=r==o;n.append(i.render(c,{type:"category",uiFramework:true,buttons:[{id:"commerce_editor_category_editinstoretab",text:s?_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_2"):_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_3")},{id:"commerce_editor_add_product_by_category",text:_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_4")}]}));u.showCategoryEditToolbar()}u.initializeEvents();u.initializeCategories();setTimeout(function(){t.clearHeights();t.setHeights()},500);setTimeout(function(){t.clearHeights();t.setHeights()},1250)};u.initializeCategories=function(){var t=Weebly.Commerce.Site.Category.View.ProductList;var i=e("#wsite-com-area-category");var n=i.data("id"),r=new s,l=a.findOrCreate();r.fetch().then(function(){return l.fetch()}).done(function(){var s=i.find(".wsite-com-category-subcategory-group");var a=r.findWhere({site_category_id:n+""});d(s,{update:function(){var t=s.find("[data-id]").map(function(){var t=e(this).attr("data-id");var i=l.find(t);return i}).toArray();var i=l.find(n);i.children=t;l.once("sync",function(){o.execute("editor:commerce:categoryHierarchy:force")});l.save()}});var c=i.find(".wsite-com-category-product-featured-group");d(c,{items:".wsite-com-category-product-featured, .wsite-com-category-product",update:function(){var i=c.find("[data-id]").map(function(){return e(this).attr("data-id")}).toArray();var n=t.offset||0;var r=a.get("preferred_order_product_ids");r.splice.apply(r,[n,i.length].concat(i));a.set("preferred_order_product_ids",r);a.once("sync",function(){o.execute("editor:commerce:categories:force")});a.save()}});var u=i.find(".wsite-com-category-product-group");d(u,{items:".wsite-com-category-product",update:function(){var t=u.find("[data-id]").map(function(){return e(this).attr("data-id")}).toArray();var i=Weebly.Commerce.Site.Category.View.ProductList.offset||0;var n=a.get("preferred_order_product_ids");n.splice.apply(n,[i,t.length].concat(t));a.set("preferred_order_product_ids",n);a.once("sync",function(){o.execute("editor:commerce:categories:force")});a.save()}});var f=e("body").hasClass("wsite-theme-light")?"wsite-theme-light":"wsite-theme-dark";var h=e("#wsite-com-empty-category");h.addClass(f);e.merge(h.find(".com-empty-action"),e("#commerce_editor_add_product_by_category")).on("click",function(){o.execute("store:product:addOrList",a.get("site_category_id"))})})};u.initializeEvents=function(){var t=e("#wsite-com-area-category");var i=Weebly.Commerce.Site.Category.View.ProductList;e("#commerce_editor_category_editinstoretab").on("click",this.editCategoryInStore);e("#wsite-com-category-product-group-pagelist").on("click","a",function(n){var s=window.userID,a=window.currentSite,l=t.data("id"),c=n.target.getAttribute("data-page"),d=e("#wsite-com-category-product-group-pagelimit").val();n.preventDefault();n.stopPropagation();o.execute("loading:start","CategoryPageEdit::pageListClick");Weebly.Commerce.RPC.Category.generateProductList(s,a,l,c,d).always(function(){o.execute("loading:stop","CategoryPageEdit::pageListClick")}).done(function(t){e("#wsite-com-category-product-group").replaceWith(t.content);e("#wsite-com-category-product-group-pagelist").html(t.pagelist);r.execute("element:setHandlers");i.total=t.total;i.offset=c*d;i.setHeights();e(window).scrollTop(0);u.initializeCategories()})})};u.editCategoryInStore=function(t){var i=e("#wsite-com-area-category").attr("data-id");o.execute("store:category:edit",i)};u.showCategoryEditToolbar=function(t){if(e("#commerce_editor_category_saveheader").length==0){var i=e("#wsite-com-area-category").attr("data-id");var n=e("#"+currentSite+"c"+i).children().length;e("#commerce_editor_category_editheader > span").text(n==0?_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_5"):_W.utl("javascript.commerce.editor.view.elements.CategoryPageEdit_6"));e("#commerce_editor_category_editchoices").show()}};u.hideCategoryEditToolbar=function(t){e("#commerce_editor_category_editchoices").hide()};function d(t,i){function n(){return t.find(i.items||"> *")}var r=e.extend({},i,{helper:"clone",start:function(){t.sortable("refreshPositions");var e=f(n());n().css("height",e);if(i.start){i.start.apply(t[0],arguments)}},stop:function(){if(i.stop){i.stop.apply(t[0],arguments)}}});t.sortable(r)}function f(t){var i=0;t.each(function(){i=Math.max(i,e(this).height())});return i}return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(12),i(3),i(11),i(7),i(456),i(61),i(259),i(342),i(323)],r=function(e,t,i,n,r,o,s,a,l,c){"use strict";var u=n.module("commerce.product");u.on("start",function(){u.listenTo(n.vent,{pageRendered:function(){if(Weebly.Commerce&&Weebly.COMMERCE_ENABLED&&!t.chromeless){u.onUpdateElementList()}}})});u.onUpdateElementList=function(){var t=e("#wsite-com-product-area");if(t.length&&Weebly.Permissions.store_settings){if(!e("#commerce_editor_editproductinstore").length){e("#wsite-com-area-product").prepend(i.render(c,{type:"product",uiFramework:true,buttons:[{id:"commerce_editor_editproductinstore",text:_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_2")}]}));e("#commerce_editor_editproductinstore").bind("click",u.editProductInStoreTab)}e("#commerce_editor_product_editchoices").show();var n=e("#wsite-com-product-gen").attr("data-id");var r=t.find("#wsite-com-product-title");var d=t.find("#wsite-com-product-short-description").find(".paragraph");var f=_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_3");e("#wsite-com-product-add-to-cart").attr("data-content",_W.utl("javascript.commerce.editor.view.elements.ProductPageEdit_4")).popover({trigger:"hover",placement:"top",container:"#_editor-ui",delay:{show:500,hide:100}}).removeAttr("data-original-title");r.attr("placeholder","");s.makeElementContentEditable(r.get(0),{richTextControls:false,saveCallback:function(){var e={productPage:true,entryPoint:"productPageTitleEdit"};o.saveProductChanges("title",n,r,e)}});d.attr("placeholder",f);s.makeElementContentEditable(d.get(0),{saveCallback:function(){o.saveProductChanges("description",n,d,{entryPoint:"productPageDescriptionEdit"})}})}(new a).initialize();if(Weebly.view.isMobileView&&e("#wsite-com-area-product").length){(new l).initialize()}};u.editProductInStoreTab=function(t){var i=e("#wsite-com-product-gen").attr("data-id");r.execute("store:product:edit",i,true)};return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(6),i(668)],r=function(e,t,i,n,r){var o=t.Marionette.ItemView.extend({template:i.compile(r),tagName:"li",className:"product-item-empty"});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(4),i(3),i(71),i(670)],r=function(e,t,i,n,r){var o=t.Marionette.ItemView.extend({template:i.compile(r),tagName:"li",className:"product-sku-item",templateHelpers:function(){var t=this.options.product;return{hasSku:function(){return this.optionchoices.size()>0},variation:function(){var t=[],i;e.each(this.optionchoices,function(e){i=n.filterOptionText(e.choice);t.push(i)});return t.join(", ")},thumb:function(){return t.thumbnail(null,this.image_order?this.image_order[0]:null)}}},events:{"click .connect-product-button":"selectProduct"},initialize:function(e){this.options=e},selectProduct:function(){this.trigger("select",this.model)}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(460),i(669)],r=function(e,t,i,n){var r=e.Marionette.CompositeView.extend({template:t.compile(n),itemView:i,itemViewContainer:".product-skus",tagName:"li",className:"product-item",ui:{skus:".product-skus",skuToggle:".toggle-product-button span"},events:{"click .toggle-product-button":"toggleProduct","click .connect-single-product-button":"selectProduct"},templateHelpers:function(){var e=this.model;return{thumb:function(){return e.thumbnail()},productName:function(){return this.name},hasSku:function(){return this.skus.length>1&&this.options2.length?true:null}}},initialize:function(){if(this.model.get("skus").size()>1){this.collection=this.model.get("skus")}},itemViewOptions:function(){return{product:this.model}},toggleProduct:function(e){var t=this.ui.skus,i=t.is(":visible")?"w-icon-increase":"w-icon-decrease";this.ui.skuToggle.attr("class",i);t.toggle()},selectProduct:function(){this.trigger("select",this.model.get("skus").first())},onItemviewSelect:function(e,t){this.trigger("select",t)}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(6),i(463),i(32),i(231),i(671)],r=function(e,t,i,n,r,o,s){var a=e.Marionette.Layout.extend({template:t.compile(s),ui:{search:"input[name=search]",addNewBtn:".product-element-add-product",scrollInner:".scroll-inner"},regions:{listRegion:".list-region"},events:{"keyup input[name=search]":"search","click @ui.addNewBtn":"addNewProduct","click .btn-cancel":"dialogCancel"},dialog:{title:_W.utl("javascript.commerce.editor.view.elements.ProductSelectListLayoutView_1"),buttons:[{group:"pull-right",buttons:[{text:_W.utl("javascript.commerce.editor.view.elements.ProductSelectListLayoutView_2"),className:"btn-com btn-cancel"}]}],dialogClass:"product-element-chose-product-dialog"},initialize:function(e){this.deferred=e},onRender:function(){this.renderList();this.ui.scrollInner.weeblyScroll();if(!Weebly.Permissions.store_settings){this.ui.addNewBtn.remove()}},onClose:function(){this.ui.scrollInner.weeblyScroll("destroy")},renderList:function(){var e=this,t=new n({searchText:e.searchText});e.listRegion.show(t);e.listenTo(t,"select",function(t){e.trigger("dialog:close");e.deferred.resolve({site_product_id:t.get("site_product_id"),site_product_sku_id:t.get("site_product_sku_id")})})},dialogCancel:function(){this.deferred.reject();this.trigger("dialog:close")},search:function(e){var t=this,i=e.which||e.keyCode,n=i==13?0:250;clearTimeout(t.searchTimeout);t.searchTimeout=setTimeout(function(){t.searchText=t.ui.search.val();t.renderList()},n)},addNewProduct:function(){var e=this;e.trigger("dialog:close");if(o.isCommerceFunnel()&&!i.bootstrap.enableCommerceThree){r.go("store","products/new")}else{i.vent.triggerCascade("store:product:add")}}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(6),i(74),i(461),i(459),i(135),i(322)],r=function(e,t,i,n,r,o,s,a){var l=t.Marionette.CollectionView,c=l.prototype;var u=l.extend({tagName:"ul",itemView:o,emptyView:t.View,initialize:function(e){var t=this;t.currentProduct=e.currentProduct;t.pagedCollection=new r([],{mode:"infinite",state:{pageSize:10},searchText:e.searchText,view:"detail"});t.collection=t.pagedCollection.fullCollection;t.fetchPromise=t.pagedCollection.fetch({allowGiftCards:true}).done(function(){t.emptyView=s;if(!t.isClosed&&t.collection.isEmpty())t.render()})},_initialEvents:function(){var t=this;c._initialEvents.apply(t,arguments);t.listenTo(t.collection,"add remove reset",function(){e.waypoints("refresh")})},onShow:function(){var t=this,i=t.pagedCollection,n=t.parent=t.$el.parent();var r=new a({el:e("<div>").insertAfter(t.$el).addClass("loading")}).render();var o=function(){if(!i.hasNext()){r.close()}};t.fetchPromise.done(o);t.$el.waypoint({context:n,offset:"bottom-in-view",handler:function(e){if(e!="down")return;if(!i.hasNext())return;i.getNextPage().done(o)}})},onClose:function(){this.parent.weeblyScroll("destroy")},onItemviewSelect:function(e,t){this.trigger("select",t)}});return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(9),i(3),i(71)],r=function(e,t,i,n,r){var o=i.View.extend({tagName:"div",initialize:function(e){this.options=e;this.render()},render:function(){var t='<input type="hidden" name="item_name_{{ itemNumber }}" value="{{ name }}">'+'<input type="hidden" name="amount_{{ itemNumber }}" value="{{ price }}">'+'<input type="hidden" name="quantity_{{ itemNumber }}" value="{{ quantity }}">';var i=this.model.get("name");if(!i){i=this.model.get("short_description")?this.model.get("short_description").substring(0,60):e.stl("javascript.commerce.site.view.checkout.OrderItem.PaypalItem_1")}var r={quantity:this.model.get("quantity"),name:i,price:this.model.get("discounted_price"),itemNumber:this.options.itemNumber+1};t=n.render(t,r);t+=this.renderOptions();this.$el.html(t);return this},renderOptions:function(){var e=this;var i="";var o='<input type="hidden" name="on{{ index }}_{{ itemNumber }}" value="{{ name }}">'+'<input type="hidden" name="os{{ index }}_{{ itemNumber }}" value="{{ value }}">';if(!t.isEmpty(this.model.get("options"))){var s=0;t.each(this.model.get("options"),function(t,a){var l={itemNumber:e.options.itemNumber+1,value:r.filterOptionText(t),name:a,index:s++};i+=n.render(o,l)})}return i}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(9),i(3),i(200),i(256),i(71),i(134),i(133),i(480)],r=function(e,t,i,n,r,o,s,a,l,c,u){var d=n.View.extend({tagName:"li",className:"wsite-product-item",events:{"click .wsite-remove-button":"handleDeleteButton"},initialize:function(e){this.options=e;this.render();this.model.on("change",this.handleModelChange,this);this.model.on("remove",this.handleModelRemove,this)},render:function(){var t=this.options.template;var n=this.model.get("discounted_price");n=Number(n).toFixed(2);var s=this.model.get("name");var d=this.model.get("product_type");var f=this.model.get("options");var h=i.map(this.model.get("modifier_selections"),function(e){return{name:e.name,value:e.choice_name_formatted}}.bind(this));var p=i.map(f,function(e,t){var i=a.filterOptionText(e);return{name:t,value:i}});p=p.concat(h);if(d==="giftcard"){p=[{name:e.stl("ecommerce.checkout.gift_card.for_email"),value:p[u.RECIPIENT_EMAIL].value}]}var m={thumbnail_html:o("wsite-list",this.model.get("image_info"),80,1),url:this.model.get("product_url"),title_html:s,options:p,price_number:l.formatCurrency(n,c.customerLocale,this.options.currency),quantity:this.model.get("quantity")};this.template=r.render(t,m);this.$el.html(this.template);return this},handleModelRemove:function(){this.$el.fadeOut(200,function(){t(this).remove()})},handleModelChange:function(){var e=this.model.changedAttributes();if(e&&e.quantity===0){this.model.destroy()}},handleDeleteButton:function(e){this.model.save({quantity:0,total_price:0});var i=t(e.currentTarget);this.updateQuantity(i,0)},updateQuantity:function(i,n){var r=t.isNumeric(n)?n:parseInt(i.val());var o=this.model.get("quantity");var a=this;t("#wsite-com-checkout-cart .wsite-checkout-server-error").remove();if(r===""||isNaN(r)){i.val(this.model.get("quantity"));return}e.Commerce.RPC.OrderItem.updateQuantity({site_order_id:this.model.get("site_order_id"),site_order_item_id:this.model.get("site_order_item_id"),quantity:r}).done(function(e){var t=e.data.quantity;if(e.success){a.model.save({quantity:t,total_price:a.model.get("discounted_price")*t});var n=t-o;var r={site_product_id:a.model.get("site_product_id"),site_product_sku_id:a.model.get("site_product_sku_id"),name:a.model.get("name"),optionshash:a.model.get("options"),price:a.model.get("current_price")};var l={site_order_id:a.model.get("site_order_id")};if(n<=0){r.quantity=n*-1;s.trackRemoveFromCart("mini_cart",r,l)}else{r.quantity=n;s.trackAddToCart("mini_cart",r,l)}}else{i.val(t).focus();a.trigger("error",e.message)}})}});return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(9),i(3)],r=function(e,t){var i=e.View.extend({tagName:"li",initialize:function(e){var t=this;t.options=e;t.render()},render:function(){var e=this,i=e.options.template,n={};e.template=t.render(i,n);e.$el.html(e.template);return e}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(9),i(465),i(466)],r=function(e,t,i){var n=e.View.extend({tagName:"ul",className:"wsite-product-list",initialize:function(e){this.options=e;this.render();this.collection.on("change",this.handleCollectionChange,this)},render:function(){var e=this,n=e.options,r;if(this.collection.length){this.collection.each(function(i){r=new t({template:n.template,model:i,id:"item-"+i.get("site_product_id")+"-"+i.get("site_product_sku_id"),currency:n.currency});e.$el.append(r.el)})}else{r=new i({template:n.emptyTemplate});e.$el.html(r.el)}return e},handleCollectionChange:function(){if(this.collection.length===0){this.render()}}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(396)],r=function(e){var t={indexMap:{},$slider:null,initialize:function(){var t=this;e("#wsite-com-product-slider .wsite-com-slide").each(function(){var i=e(this);var n=i.data("image-id");t.indexMap[n]=i.index()});this.$slider=e("#wsite-com-product-slider .wsite-com-product-images").swiper({pagination:"#wsite-com-product-slider .wsite-images-pager",slideClass:"wsite-com-slide",wrapperClass:"wsite-com-slides",paginationElementClass:"wsite-page-button",paginationVisibleClass:"wsite-page-button-visible",paginationActiveClass:"wsite-page-button-active",slideActiveClass:"wsite-slide-active",slideVisibleClass:"wsite-slide-visible",loop:true,grabCursor:true,paginationClickable:true,calculateHeight:true,resizeReInit:true,centeredSlides:false})}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(131)],r=function(e,t){var i=t.extend({checkboxes:[],initialize:function(i){t.prototype.initialize.call(this,i);this.checkboxes=e("input[type=checkbox]",i);var n=this;this.checkboxes.on("change",function(){var t=n.checkboxes.filter(":checked").map(function(){return{value:e(this).val(),delta:e(this).data("price")||0}}).toArray();n.value=t.map(function(e){return e.value});n.delta=t.reduce(function(e,t){return e+t.delta},0);n.validate.apply(n,null);n.element.trigger("modifier:changed",n)}).first().change()},getSelection:function(){if(this.value.length>0){return{id:this.id,value:this.value,name:this.element.data("modifier-name"),site_product_modifier_id:this.element.data("site-product-modifier-id")}}return null},validate:function(){var e=this.maxSelected===0;this.valid=this.value.length>=this.minSelected&&(e||this.value.length<=this.maxSelected)}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(131)],r=function(e,t){var i=t.extend({initialize:function(i){t.prototype.initialize.call(this,i);var n=this;e("select",i).on("change",function(){var t=e(this);n.value=t.val();n.delta=e("option:selected",t).data("price")||0;n.validate.apply(n,null);n.element.trigger("modifier:changed",n)}).change()},getSelection:function(){if(this.value){return{id:this.id,value:[this.value],name:this.element.data("modifier-name"),site_product_modifier_id:this.element.data("site-product-modifier-id")}}return null},validate:function(){if(this.minSelected===this.maxSelected&&this.isValueEmpty()){this.selectionMessage=_W.stl("product_modifiers.validation.required");this.valid=false;return}this.valid=true}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(131)],r=function(e,t,i){var n=i.extend({modifiers:[],listeners:[],initialize:function(){},add:function(e){this.modifiers.push(e);var i=this;e.onChange(function(e){t.each(i.listeners,function(t){t.call(i,e,{delta:i.getPriceDelta(),selections:i.getSelection()})})})},getPriceDelta:function(){return this.modifiers.reduce(function(e,t){return e+t.getPriceDelta()},0)},getSelection:function(){return this.modifiers.map(function(e){return e.getSelection()}).filter(t.identity)},onChange:function(e){this.listeners.push(e)},isValid:function(){return!this.modifiers.some(function(e){return!e.isValid()})}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(131)],r=function(e,t,i){var n=i.extend({initialize:function(e){i.prototype.initialize.call(this,e);var n=this;t(".text-modifier-input",e).on("change keyup paste",function(){n.value=t(this).val().trim();n.validate.apply(n,null);n.element.trigger("modifier:changed",n)}).change()},getSelection:function(){return{id:this.id,value:this.value,name:this.element.data("modifier-name"),site_product_modifier_id:this.element.data("site-product-modifier-id")}},validate:function(){if(this.minSelected>=1&&this.isValueEmpty()){this.selectionMessage=e.stl("product_modifiers.validation.required");this.valid=false;return}if(this.maxSelected>=1&&!this.isValueEmpty()&&this.value.length>this.maxSelected){this.resetSelectionMessage();this.valid=false;return}this.valid=true}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){var i={initialize:function(e){var i=e.find(".cloud-zoom, .cloud-zoom-gallery");i.CloudZoom&&i.CloudZoom();t(document).off("keydown",this.navigateProductImages).on("keydown",this.navigateProductImages)},navigateProductImages:function(i){var n=["input","textarea"];if(t.inArray(i.target.nodeName.toLowerCase(),n)!==0&&t("#wsite-com-product-images-strip").children("a.wsite-com-product-images-secondary").length){if(!e.Commerce.Editor||t("#wsite-com-product-area").length&&i.target.contentEditable!="true"){var r=t("#wsite-com-product-images-strip").children("a.wsite-com-product-images-secondary"),o=t("#zoom1")[0],s=r.filter(function(){return this.href==o.href});if(i.keyCode==37&&!s.prev().click().length){r.last().click()}else if(i.keyCode==39&&!s.next().click().length){r.first().click()}}}}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){var i={initialize:function(i){t(".wsite-product, .product").each(function(n,r){var o=t(r);var s=o.find("[data-add-to-cart]");var a=o.find(".product-text-option");if(s.length&&e.Commerce.RPC.Product.isInStock){e.Commerce.RPC.Product.isInStock(s.data("site-product-id"),s.data("site-product-sku-id")).done(function(e){if(!e){s.addClass("wsite-soldout-product-button")}});s.on({click:function(e){i(e,a)},keypress:function(e){if(e.which===32||e.which===13){i(e)}}})}})}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){var i={networks:{twitter:{height:440,width:585},pinterest:{height:340,width:765},facebook:{height:315,width:485},plus:{height:600,width:600}},initialize:function(t){if(window.inEditor&&window.inEditor())return;var n;t.find("#wsite-com-product-social-sharing").on("click","a",function(t){n=i.networks[t.currentTarget.getAttribute("data-network")];n=n?n:{height:500,width:500};window.open(t.currentTarget.href,e.utl("Share"),"height="+n.height+", width="+n.width+" scrollbars=no, resizeable=no");t.preventDefault()})}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(3),i(132)],r=function(e,t,i,n,r){var o=n.compile(['<div class="wsite-com-product-option-color-container {{^available}}wsite-com-product-option-color-unavailable{{/available}}">','<span class="wsite-com-product-option-color-select"></span>','<span class="wsite-com-product-option-color-swatch" style="background-color:{{color}}" title="{{name}}" data-value="{{value}}" tabindex="0"></span>',"</div>"].join(""));function s(e,i){var n=function(){};n.prototype=new e;n.prototype.constructor=n;n.prototype.parent=e.prototype;n.prototype=t.extend(n.prototype,i);return n}var a=s(r,{initializeEvents:function(){var e=this;this.select=this.$el.find("select");this.container=t(document.createElement("div")).addClass("wsite-com-product-option-swatches");this.select.after(this.container);this.$el.on("click",".wsite-com-product-option-color-swatch",function(){e.setValue(this.getAttribute("data-value"))});this.$el.on("keypress",".wsite-com-product-option-color-swatch",function(t){if(i.indexOf([32,13],t.which)!==-1){t.preventDefault();t.stopPropagation();e.setValue(t.target.getAttribute("data-value"))}})},setValue:function(e){var t={};t[this.select.attr("name")]=e;this.select.val(e);this.onChange(t);this.highlight(e)},render:function(){var i=this,n,r,s,a;this.select.addClass("w-input-offscreen").attr("tabindex","-1");this.select.children().each(function(l,c){if(c.value==="")return true;n=c.getAttribute("data-color-hex");r=c.getAttribute("data-color-name");s=c.getAttribute("data-available")==="1";a=t(o({available:s,color:n,name:s?r:r+"&nbsp;"+e.stl("javascript.commerce.site.view.renderers.ColorRenderer_1"),value:c.value}));i.container.append(a)});this.highlight(this.select.val())},highlight:function(e){this.container.find(".wsite-selected").removeClass("wsite-selected");if(e){this.container.find(".wsite-com-product-option-color-swatch").filter('[data-value="'+e+'"]').addClass("wsite-selected")}},update:function(e){var i,n,r=this,o=this.select.val();this.container.children(".wsite-com-product-option-color-container").each(function(r,o){i=t(o);n=i.find("[data-value]").attr("data-value");if(n!==""){i.toggleClass("wsite-com-product-option-color-unavailable",!e[n])}})}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(132),i(71)],r=function(e,t,i,n){function r(e,i){var n=function(){};n.prototype=new e;n.prototype.constructor=n;n.prototype.parent=e.prototype;n.prototype=t.extend(n.prototype,i);return n}var o=r(i,{initializeEvents:function(){var e=this,t;this.select=this.$el.find("select");this.select.on("change",function(t){e.onChange.call(this,e)})},render:function(){},update:function(t){var i=this.select.val(),r=this.select;this.select.children("option").each(function(i,r){if(r.value===""){return}var o=n.filterOptionText(r.value);r.innerText=o+(t[r.value]?"":e.stl("javascript.commerce.site.view.renderers.DropdownRenderer_1"))})}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(132)],r=function(e,t,i){function n(e,i){var n=function(){};n.prototype=new e;n.prototype.constructor=n;n.prototype.parent=e.prototype;n.prototype=t.extend(n.prototype,i);return n}var r=n(i,{initializeEvents:function(){var e=this,t;this.radios=this.$el.find("input[type=radio]");this.radios.on("change",function(i){t={};t[this.name]=this.value;e.onChange.call(e,t)})},render:function(){},update:function(i){var n=this.radios.val(),r=this.radios;this.radios.each(function(n,r){if(r.value!==""){var o=t(r);var s=o.closest("label");s=s.length===0?o.siblings("label"):s;s.toggleClass("wsite-com-product-option-label-unavailable",!i[r.value]).find(".wsite-com-product-option-radio-availability").text(i[r.value]?"":e.stl("javascript.commerce.site.view.renderers.RadioRenderer_1"))}})}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(132),i(71)],r=function(e,t,i){function n(t,i){var n=function(){};n.prototype=new t;n.prototype.constructor=n;n.prototype.parent=t.prototype;n.prototype=e.extend(n.prototype,i);return n}var r=n(t,{initializeEvents:function(){var e=this;e.input=e.$el.find(".text-option-input");e.input.val("");e.errorMessageDiv=e.$el.find(".product-option-error-message");e.input.on("keyup change blur",function(t){e.onChange.call(this,e);if(!e.validate){e.validate=e.validateTextOption}})},update:function(e){var t=this.input.val();t=t.replace(/\r?\n/g,"\r\n");if(this.validate){this.errorMessageDiv.text(this.validate(e[t]["options"],t))}},validateTextOption:function(e,t){if(t===undefined||t===null){}else if(e.required&&t.length===0){return"Text input is required"}else if(e.max_length&&t.length>e.max_length){return"Maximum number of characters is "+e.max_length}return""}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n;!(n=function(){return{AMOUNT:0,SENDER_NAME:1,RECIPIENT_NAME:2,RECIPIENT_EMAIL:3,GIFT_MESSAGE:4}}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){var n,r;!(n=[i(161)],r=function(e){"use strict";var t=new e(window.bridgeTarget);return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(2),i(5),i(12),i(25),i(19),i(103),i(530),i(60)],r=function(e,t,i,n,r,s,a,l,c){var u=Class.create(s,{initialize:function($super,e,t){$super(e,t);this.elID="secondlist";this.template=e.template;if(e.main_elements){this.main=new a({elements:e.main_elements},t)}if(e.sidebar_elements){this.sidebar=new a({elements:e.sidebar_elements},t)}},getHTML:function(){return"<div id='"+this.elID+"' class='weebly-area wsite-not-footer'>"+this.getInnerHTML()+"</div>"},getInnerHTML:function(){return"<ul class='weebly-content-area'>"+d(this.template)+"</ul>"},afterRender:function($super){$super();var t=currentPage.replace(/^(\d+).*/,"$1");var i=this.main;var r;if(i){i.elID=e(".blog-content").children('[id$="-blog"]').attr("id");i.el=o(i.elID);i.innerElID="secondlist-blog";i.beforeRender();i.el.innerHTML="<div>"+i.getInnerHTML()+"</div>";i.afterRender();o("secondlist-blog").removeClassName("weebly-content-area").setStyle({margin:0,padding:0,width:"100%","min-height":"400px",position:"relative"})}else{r=e(this.el);l.init(r)}var s=this.sidebar;var a=$$(".blog-sidebar .column-blog");if(s&&a.length){s.elID=a[0].id;s.el=o(s.elID);s.beforeRender();s.el.innerHTML='<div class="blog-sidebar-separator">'+s.getInnerHTML()+"</div>";s.afterRender();o(s.el).down().down().removeClassName("weebly-content-area").addClassName("columnlist-blog").setStyle({margin:0,padding:0})}if(n.chromeless){e("#blog-navigation, #blog-navigation-placeholder").hide();
}},unrender:function(){if(this.main){this.main.unrender()}if(this.sidebar){this.sidebar.unrender()}}});t.each(["addColumn","addElement","removeEmptyColumns","removeElement","spliceExistingElements","replaceElement","spliceElement","findElement","moveBelow","moveAbove","moveToColumn","insertEmptyMessage"],function(e){u.prototype[e]=function(){if(this.main){return this.main[e].apply(this.main,arguments)}if(!this.sidebar){return}return this.sidebar[e].apply(this.sidebar,arguments)}});function d(e){e=e.replace(/wSlideshow\.render\((\{.*?\})\)/g,function(e,t){var i=t;i=i.replace(/images:\}$/,"images:[]}");i=i.evalJSON();c.generateHTML(i.elementID,i);setTimeout(function(){whenThemeCSSLoaded(function(){c.init(i.elementID)})},0);return""});if(n.chromeless){e=e.replace(/(['"\(])\s*(\/uploads|weebly\/)/gi,"$1http://"+configSiteName+"$2");e=e.replace(/(['"'\(])\s*\/\//gi,"$1http://")}return e}i.BlogArea=u;s.register(function(e){return e.is_blog===true},u);return u}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(6),i(11),i(3),i(7),i(21),i(108),i(300),i(569),i(25),i(56),i(19),i(10),i(80),i(18),i(741)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g){var v=Class.create(f,l,{hasSectionsInTheme:false,initialize:function($super,e,t){$super(e,t);this.sections=new c(e["sections"],{context:t});this.sections.on({"sections:updated":function(){n.execute("themeBackground:extend",this.sections.getImageEditorObject());n.vent.trigger("section:background:image:render")},"section:shift":this.renderShiftedSections},this);this.context=t;this.hasSectionsInTheme=this.hasSections();this.elID="";if(this.isMain()){this.elID="secondlist"}if(s.inEditorContext()){i.vent.trigger("editor:elementareacollection:unrender").on({"section:add:after":this.addSection,"editor:elementareacollection:unrender":function(){i.vent.off(["section:add:after","editor:elementareacollection:unrender"].join(" "),null,this)}},this)}},attachEventListeners:function(){this.detachAllEvents();o.commands.setHandlers({"section:background:image:update":this.updateSectionBackgroundImage.bind(this)});o.on({"section:add:after":this.addSection,"section:remove:after":this.removeSection},this)},detachAllEvents:function(){o.commands.removeHandlers(["section:background:image:update"]);o.off(["section:add:after","section:remove:after"].join(" "),null,this)},hasSections:function(){var e=window.getPageType(currentPage,currentThemeData,_W.view.isMobileView),t=m.currentThemeData.page_type_templates[e];return u.pageHasSectionsMarkup(t)&&this.isMain()},getHTML:function(){var e={elId:this.elID,containerClassName:this.name=="footer"||this.type=="footer"?" wsite-footer":" wsite-not-footer"};e.sections=this.sections.reduce(function(e,t){return e+t.get("elementArea").getHTML()},"");return r.render(g,e)},getInnerHTML:function(){return this.el.innerHTML},renderShiftedSections:function(e,t,i){var n=d.getSectionElement(t);var r=d.getSectionElement(e);var o=n.parent("."+h.SECTION_WRAP_NAME);var s=r.parent("."+h.SECTION_WRAP_NAME);if(i<0){o.before(s)}else{o.after(s)}p.scrollToElement(s);this.afterRender();this.sections.get(e).trigger("sections:shifted")},afterRender:function(){if(this.hasSectionsInTheme){this.attachEventListeners()}this.sections.each(function(e){e.get("elementArea").afterRender()},this)},addSection:function(t){var i=t.section_order-1;var n=this.sections.add(t,{at:i,context:this.context});if(s.inEditorContext()){return}var r=n.get("elementArea");var o=r.getHTML();var a=e("#"+this.elID);var l=a.children();var c=l.eq(i);if(!c.length){a.append(o);c=d.getSectionElement(t.section_id)}else{c=c.before(o).prev()}if(l.length===1){var f=l.eq(0);var h=f.find(".empty-element-message");if(h.length){h.height(0);u.resizeEmptyMessage(f)}}r.afterNewSection()},removeSection:function(e){if(s.inEditorContext()){return}d.getSectionElement(e).parent().remove();if(this.sections.length===1){var t=d.getSectionElement(this.sections.first().id);u.resizeEmptyMessage(t)}},getAreaFromSectionId:function(e){return this.sections.get(e).get("elementArea")},getSectionFromElementId:function(e){var t;this.sections.some(function(i){var n=i.get("elementArea").findElement(i.get("elementArea").elements,e);if(n){t=i;return true}});return t},updateSectionBackgroundImage:function(e,t){this.sections.updateSectionBackgroundImage(e,t)},spliceElement:function(e){var t=this.getSectionFromElementId(e);if(t){return t.get("elementArea").spliceElement(e)}else{return null}},moveAbove:function(e,t){var i=this.getSectionFromElementId(e);if(i){i.get("elementArea").moveAbove(e,t)}else{throw"Target element: "+e+", does not exist in sections."}},moveBelow:function(e,t){var i=this.getSectionFromElementId(e);if(i){i.get("elementArea").moveBelow(e,t)}else{throw"Target element: "+e+", does not exist in sections."}},moveToSection:function(e,t){var i=this.getAreaFromSectionId(t);if(i){i.relocateElement(e,0)}else{throw"Section: "+t+" does not exist in sections."}},afterRemoveElement:function(){this.sections.each(function(e){e.get("elementArea").afterRemoveElement()})},getElements:function(e){return this.getAreaFromSectionId(e).elements},isMain:function(){return(this.type==="content"||this.context.kind=="blog"&&currentBlog.postId)&&!this.name&&this.context.kind!="store"},unrender:function(){this.detachAllEvents();this.sections.each(function(e){e.get("elementArea").unrender()})}});f.register(function(e){return e.type==="content"&&!e.name&&Object.keys(e).indexOf("sections")!==-1},v);return v}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(19),i(29)],r=function(e,t,i){var n=Class.create(t,{getHTML:function(){if(!i.isMobileView){return"<span id='"+this.elID+"'></span>"}return"<span id='"+this.elID+"' class='wsite-area wsite-buttonheader' >"+this.getInnerHTML()+"</span>"},getInnerHTML:function(){return"<a class='wsite-cart-link' href='#'>"+"<span class='wsite-cart-link-inner disable-user-select'></span>"+"</a>"},afterRender:function($super){$super();e(this.el).find(".wsite-cart-link").on("click",function(){return false});var t=Weebly.Commerce&&Weebly.Commerce.hasCart===true;if(!t||window.initCommerceModels===undefined){e(this.el).hide()}}});Weebly.HeaderButtonArea=n;t.register("headerbutton",n)}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(12),i(11),i(108),i(7),i(262),i(18),i(570),i(194),i(25),i(56),i(80),i(742),i(327),i(328),i(10),i(19)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w){var b=Class.create(a,{initialize:function($super,e,t){var i=this;$super(e,t);this.parentString=e.parent_string;this.section=new c(e.header_section);this.containerID=v.HEADER_SECTION_AREA_ID;this.section.on("headerSection:updated",function(){r.execute("themeBackground:extend",this.section.getImageEditorObject());r.vent.trigger("headerSection:background:image:render")},this);this.section.get("setting").on({"change:header_setting_id":function(e,t){this.updateBackgroundId(t)}},this)},afterRender:function($super){this.innerElID=this.innerElID||this.elID;this.elID=this.containerID;$super();this.innerEl=e("#"+this.innerElID)[0]},insertEmptyMessage:function(){var t="";if(!n.chromeless){var r={content_area:this.name,has_sections:true,is_header_section:true};t=i.render(g,r);var o=e(t);t=o[0].outerHTML}else{t=i.render(m,{})}return t},getHTML:function(){var e=this.getInnerHTML();var t=l.currentThemeData;var n=t.page_type_templates[window.currentPageType];var r={el_id:this.containerID,style:this.section.getSectionStyle(),content:e,class_names:this.getWrapperClassNames(),highlight_class_name:v.SECTION_HIGHLIGHT_CLASS_NAME,prefix_html:n.header_prefix_mustache,postfix_html:n.header_postfix_mustache};if(this.parentString){r.data=[{key:v.HEADER_SECTION_PARENT_STRING_NAME,value:this.parentString}]}return i.render(p,r)},rerender:function(){var t=e(this.getHTML()).find("."+v.HEADER_SECTION_CLASS_NAME)[0];this.el.innerHTML=t.innerHTML;this.afterRender()},getWrapperClassNames:function($super){var e=[$super(),"wsite-header-elements"];if(this.name===v.HEADER_SECTION_TAG_NAME){var t=v.HEADER_SECTION_BACKGROUND_CLASS_NAME;if(!this.section.hasNewSetting()){t=t+"-"+this.section.get("setting").id}e.push(t)}return e.join(" ")},attachEditModeListeners:function($super){$super();s.commands.setHandlers({"headerSection:hideEditBox":this.hideEditMode.bind(this),"headerSection:clear":this.clearSection.bind(this)});s.on({"headerSection:layoutSave":this.onLayoutSave,"headerSection:set:properties:after":this.setStyle,"pageLayouts:headerSectionLayoutApplied":this.onLayoutApplied},this)},detachEditModeListeners:function($super){$super();s.commands.removeHandlers(["headerSection:clear","headerSection:hideEditBox"]);s.off(["headerSection:layoutSave","headerSection:set:properties:after","pageLayouts:headerSectionLayoutApplied"].join(" "),null,this)},showEditMode:function($super){if(this.control){return}var e=this.section.get("setting");var t=e.isCustomized();var i=this.section.isBackgroundEditable();var n=this.elements.length===0;var r=!t&&n;this.control=this.initializeControlView({model:e,isHeaderSection:true,isSectionEmpty:n,showEdit:i,showDelete:false,showAddLayout:r,showChangeLayout:!r,showMove:false,fallbackAlignment:this.$sectionEl.css("vertical-align"),baseSetting:this.section.getBaseSetting(),forceRepositionBelow:true});var o=u.CONTROL_HEIGHT+u.CONTROL_ARROW_HEIGHT;h.scrollToElement(this.$sectionEl,{centerFallback:"bottom",paddingBottom:o});$super()},chooseSectionLayout:function(){var e=this.section.id;var t=this.section.generateSelector();return o.show("section:chooseSectionLayout",t,{sectionId:e,parentString:this.parentString,isHeaderSection:true,placement:"bottom"}).always(function(){o.close("section:chooseSectionLayout");this.hideEditMode()}.bind(this))},applyVideoStillImage:function(e){r.themeBackground.applyBackgroundToElement(e,"header-section-"+this.section.id)},replaceArea:function(t){var i=e(this.getHTML());e(t).parents("."+v.SECTION_WRAP_NAME).replaceWith(i);this.el=i.find(".weebly-content-area")[0]},updateBackgroundId:function(t){var i=e(this.el);var n=v.HEADER_SECTION_BACKGROUND_CLASS_NAME+"-"+t;var r=new RegExp(v.HEADER_SECTION_BACKGROUND_CLASS_NAME+"-\\d+","ig");if(!i.is("."+n)){i.attr("class",function(e,t){return t.replace(r,"")});i.addClass(n)}},onLayoutSave:function(){if(t.result(this.section,"hasBackgroundVideo")){var i=e(this.el);f.destroyVideoBackground(i)}},onLayoutApplied:function(){if(t.result(this.section,"hasBackgroundVideo")){var i=e(this.el);var n=this.section.getBackgroundContent();f.applyBackgroundVideo(i,n,true)}this.hideEditMode()},onControlBackgroundOpen:function(e,t){var i=t?"editor:background:replace":"editor:background:open";var n="header-section";if(!this.section.hasNewSetting()){n=n+"-"+this.section.get("setting").id}this.hideEditMode();s.execute(i,n);h.scrollToElement(this.$sectionEl)},onControlLayoutChange:function(){var e={sectionId:this.section.id,isHeaderSection:true};this.control.close();o.show("section:confirmDeleteElements",this.section.generateSelector(),e).always(function(){o.close("section:confirmDeleteElements")}).fail(function(){this.hideEditMode()}.bind(this)).done(function(){this.chooseSectionLayout()}.bind(this))}});w.register(function(e){return e.type==="content"&&e.name===v.HEADER_SECTION_TAG_NAME&&e.elements},b);return b}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(19),i(14)],r=function(e,t,i,n){var r=Class.create(i,{getHTML:function($super){if(!t.view.isMobileView){return"<span id='"+this.elID+"'></span>"}return"<span id='"+this.elID+"'"+" class='weebly-area wsite-homepage'"+">"+this.getInnerHTML()+"</span>"},getInnerHTML:function(){return"<a class='wsite-home-link'>"+"<span class='wsite-home-link-inner disable-user-select'></span>"+"</a>"},afterRender:function($super){$super();e(this.el).find(".wsite-home-link").on("click",function(e){var t=n.getHomepage();if(t){window.goUpdateList(t.id,1)}e.preventDefault()})}});t.HomeButtonArea=r;i.register("homebutton",r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(18),i(14),i(276),i(739),i(19),i(94),i(29),i(368),i(7),i(498),i(263),i(50)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p=Class.create(f,{removeResizing:null,isImage:function(){if(!this.data.type){return this.data.isImage}return Boolean(this.data.type==="image"&&this.data.image)},setIsImage:function(e){this.data.type=e?"image":"text"},getInnerHTML:function(){var n=this.attrs;var s=this.data;var a=i.currentThemeData.logo_margin_top;var l=i.currentThemeData.logo_margin_left;var c=i.currentThemeData.logo_margin_right;var u=!t.isUndefined(a)||!t.isUndefined(l)||!t.isUndefined(c);var d=this.isImage();var f=false;var h;var p;var m;if(d){h="cursor:pointer;";if(a){h+="margin-top:"+a+"px;"}if(l){h+="margin-left:"+l+"px;"}if(c){h+="margin-right:"+c+"px;"}if(n["max-width"]){p=n["max-width"]}else if(i.currentThemeData.logo_max_width){p=i.currentThemeData.logo_max_width}else{p=false}if(n["max-height"]){m=n["max-height"]-(a||0)}else if(i.currentThemeData.logo_max_height){m=i.currentThemeData.logo_max_height}else{m=false}if(p!==false){h+="max-width:"+p+"px;"}if(m!==false){h+="max-height:"+m+"px;"}if(u){m=false}}else{f=hideTitle||!e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""))}var g="";if(d){if(s.image){g=s.image.editorUrl}else{g=s.url;if(g&&!g.match("://")){g="/uploads/"+g}}}var v=e(r.render("shared/areas/logo",o,{is_image:d,max_height:m,image_url:g,image_css:h,is_hidden_text:f,text:currentSiteTitle}));var w=v.find("a").removeAttr("href").eq(0);if(d){v.find("img").eq(0).attr("onload","refreshNavCondense()")}else{w.html(e("<span>",{html:w.html(),class:"editable-text",attr:{contenteditable:"true",id:"wsite-title"}}))}v=v[0].outerHTML;return v},afterRender:function($super){$super();var t=this.data,i=this.isImage(),r=e(this.el),o=n.getHomepage();if(!i&&l.isMobileView){r.css("display","inline")}else{r.css("display","inline-block");r.on("click",".wsite-logo",function(t){if(e(t.currentTarget).find("img").length){u.request("page:navigate:go",o.id)}})}if(i){var s=this;this.removeResizing=d(r,{startResize:function(){s.resizing=true;s.toolbar.hide()},stopResize:function(e,t){u.execute("loading:start","logoArea:resized");s.resizing=false;Weebly.Editor.RPC.ImageEditor.resizeImageArea({page_id:0,type:s.type,name:s.name},s.data,t.size.width,t.size.height).done(function(e){s.data=e;s.rerender();u.execute("loading:stop","logoArea:resized")})},onResize:function(){}})}},renderToolbar:function(){var t=this;var n=t.toolbar=new a({targetElement:t.el,parent:"_editor-ui",align:"left",beforeShow:function(){return!t.resizing}});var r=n.getInnerElement();var o=this.data;var s=this.attrs;e(r).addClass("logo-toolbar");var l=e("<span>",{class:"hover-toolbar-logooff",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_1"),appendTo:r}).on("click",function(){t.setIsImage(false);var e={};hideTitle=true;e.hide_title=true;t.save(e);t.rerender();refreshNavCondense()});var u=e("<span>",{class:"hover-toolbar-logotext",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_2"),appendTo:r}).on("click",function(){var i={};hideTitle=false;i.show_title=true;if(!e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""))){currentSiteTitle="Site Title"}t.setIsImage(false);t.save(i);t.rerender();refreshNavCondense()});var d=e("<span>",{class:"hover-toolbar-logoimage",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_3"),appendTo:r}).on("click",function(){if(o.image&&o.image.editorUrl){t.setIsImage(true);t.save();t.rerender();refreshNavCondense()}else{n.hide();t.chooseImage({type:"area",area_type:"logo",area_name:t.name||"logo",disableStockMedia:true,width:s["max-width"]||400,height:s["max-height"]||100})}});if(this.isImage()){d.addClass("hover-toolbar-logoimage-pressed")}else{var f=t.name?o.hideTitle||false:hideTitle;if(f||!e.trim(currentSiteTitle.replace(/<br[^>]*>/gi,""))){l.addClass("hover-toolbar-logooff-pressed")}else{u.addClass("hover-toolbar-logotext-pressed")}}if(this.isImage()){var p=e("<span>",{class:"hover-toolbar-edit",html:_W.utl("html.weebly.libraries.classes.areas.LogoArea_4"),appendTo:r});t.initEditButton(p);e("<span>",{class:"hover-toolbar-remove",appendTo:r}).on("click",function(){h.confirm({parent:"#_editor-ui ._editor-ui__framework",outerClassName:"modal--transparent",isModalLight:false,title:_W.utl("html.weebly.libraries.classes.areas.LogoArea_5"),message:_W.utl("html.weebly.libraries.classes.areas.LogoArea_6"),proceedButton:{text:_W.utl("html.weebly.libraries.classes.areas.LogoArea_7"),className:"btn--destructive"},cancelButton:{text:_W.utl("html.weebly.libraries.classes.areas.LogoArea_8")},isModal:true,isPositionFixed:true}).done(function(){c.hideTooltips();t.setIsImage(false);delete t.data.image;var e={theme_id:currentTheme,remove_logo_margins:true,logo_max_width:"",logo_max_height:"",show_title:true};hideTitle=false;e.show_title=true;delete i.currentThemeData.logo_margin_top;delete i.currentThemeData.logo_margin_left;delete i.currentThemeData.logo_margin_right;delete i.currentThemeData.logo_max_width;delete i.currentThemeData.logo_max_height;t.save(e);t.rerender();refreshNavCondense()})})}},initEditButton:function(e){e.on("click",function(){this.toolbar.hide();var e={mode:"area",imageEditorData:this.data,area:{page_id:this.context.pageID||"",type:this.type,name:this.name}};this.editImage(e)}.bind(this))},unrender:function($super){$super();if(this.removeResizing){this.removeResizing()}}});Weebly.LogoArea=p;s.register("logo",p);return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(19)],r=function(e,t){var i=window.Class.create(t,{elID:"wsite-nav-login-a",getHTML:function(){return"<span class='wsite-custom-membership-wrapper' id='member-login'><a href='#'"+" id='"+this.elID+"'"+"></a></span>"}});e.CustomMembershipArea=i;t.register("membership",i);return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(19)],r=function(e,t,i){var n=window.Class.create(i,{getHTML:function($super){if(!t.view.isMobileView){return"<span id='"+this.elID+"'></span>"}return"<span id='"+this.elID+"'"+" class='weebly-area wsite-menubutton'"+">"+this.getInnerHTML()+"</span>"},getInnerHTML:function(){return'<a class="wsite-menu-button">'+'<span class="wsite-menu-button-text disable-user-select">Menu</span>'+'<div class="wsite-menu-button-bars">'+'<span class="wsite-menu-button-bar"></span>'+'<span class="wsite-menu-button-bar"></span>'+'<span class="wsite-menu-button-bar"></span>'+"</div>"+"</a>"},afterRender:function($super){$super();e(this.el).find(".wsite-menu-button").on("click",t.mobile_navigation.menuTap)}});t.MenuButtonArea=n;i.register("menubutton",n);return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(19)],r=function(e,t){var i=window.Class.create(t,{elID:"wsite-nav-cart-a",getHTML:function(){return"<span class='wsite-custom-cart-wrapper'><a href='#'"+" id='"+this.elID+"'"+"></a></span>"}});e.CustomMinicartArea=i;t.register("minicart",i);return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(2),i(5),i(19),i(103)],r=function(e,t,i,n,r){var s=Class.create(n,{initialize:function($super,e,t){$super(e,t);this.elID="secondlist";this.template=e.template;var i=e.long_description_elements;if(i){this.descriptionArea=new r({elements:i},t)}},getInnerHTML:function(){return"<ul>"+this.template+"</ul>"},afterRender:function(){var t=this.descriptionArea;if(t){var i=e(".wsite-com-long-description")[0];if(i){i.wrap("div");var n=i.up();n.id=i.id+"-up";t.elID=i.id;t.el=n;t.rerender();o(i.id).className=i.className;o(i.id).style.position="relative"}}}});t.each(["addColumn","addElement","removeEmptyColumns","removeElement","spliceExistingElements","replaceElement","spliceElement","findElement","moveBelow","moveAbove","moveToColumn"],function(e){s.prototype[e]=function(){return this.descriptionArea[e].apply(this.descriptionArea,arguments)}});i.ProductArea=s;n.register(function(e){return"long_description_elements"in e},s);return s}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(12),i(7),i(19),i(94),i(29),i(31),i(320)],r=function(e,t,i,n,r,o,s){var a=Class.create(n,{getHTML:function(){var e=s.hasAccess("show_settings_site_search");if(!e){return"<span id='"+this.elID+"'></span>"}return"<span id='"+this.elID+"'"+" class='weebly-area wsite-search'"+">"+this.getInnerHTML()+"</span>"},getInnerHTML:function(){return"<input type='text' class='wsite-search-input' autocomplete='off' placeholder='"+_W.utl("html.weebly.libraries.classes.areas.SearchArea_1")+"' />"+"<span class='wsite-search-button'>"+"<span class='wsite-search-button-inner'></span>"+"</span>"},afterRender:function($super){var i=this;$super();e(this.el).find("input").popover({content:_W.utl("javascript.editor-site-shared.build.areas.SearchArea_4"),trigger:"focus",placement:"bottom",container:"#_editor-ui",delay:{show:500,hide:100}}).on({"shown.bs.popover":function(){i.toolbar.hide()},mouseleave:function(){e(this).popover("hide")}});if(this.toolbar){this.toolbar.destroy()}if(!t.chromeless){this.renderToolbar()}},renderToolbar:function(){var e=this;var t=new r({targetElement:e.el,afterHide:e.handleAfterHide.bind(e),parent:"_editor-ui"});var i=t.getInnerElement();i.addClassName("search-toolbar");i.innerHTML='<span class="toolbar-show hover-toolbar-option hover-toolbar-option-left hover-toolbar-option-pressed">'+_W.utl("html.weebly.libraries.classes.areas.SearchArea_2")+"</span>"+'<span class="toolbar-hide hover-toolbar-option hover-toolbar-option-right">'+_W.utl("html.weebly.libraries.classes.areas.SearchArea_3")+"</span>";i.down(".toolbar-hide").observe("click",e.handleHideToolbar.bind(this));e.showButton=i.down(".toolbar-show").observe("click",e.handleShowToolbar.bind(this));this.toolbar=t},handleAfterHide:function(){l(this.showButton,this.toolbar.getInnerElement())},handleShowToolbar:function(e){if(!e.target.className.match(/hover-toolbar-option-pressed/)){this.show();if(o.isMobileView){i.execute("mobile:area:setHidden",false,this.type,this.name,this.context===Weebly.siteContext)}else{i.execute("design:showSiteArea",true,"search")}}l(e.target,this.toolbar.getInnerElement())},handleHideToolbar:function(e){if(!e.target.className.match(/hover-toolbar-option-pressed/)){this.hide();if(o.isMobileView){i.execute("mobile:area:setHidden",true,this.type,this.name,this.context===Weebly.siteContext)}else{i.execute("design:hideSiteArea",true,"search")}}l(e.target,this.toolbar.getInnerElement())},unrender:function(){if(this.toolbar)this.toolbar.destroy()}});function l(e,t){t.select(".hover-toolbar-option-pressed").invoke("removeClassName","hover-toolbar-option-pressed");e.addClassName("hover-toolbar-option-pressed")}Weebly.SearchArea=a;n.register("search",a)}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(5),i(9),i(3),i(6),i(11),i(108),i(7),i(19),i(262),i(17),i(567),i(194),i(80),i(56),i(25),i(532),i(279),i(18),i(10),i(21),i(743),i(374)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E){var T=Class.create(u,{isSection:false,initialize:function($super,e,t){$super(e,t);if(e.section){this.section=e.section;this.isSection=true}if(this.elID==="secondlist"){this.elID=c.getNewElID()}if(e.sections&&!e.elements){this.elements=t.loadElements(e.sections[0]||[])}else{this.elements=t.loadElements(e.elements)}},afterRender:function($super){var t=this;$super();var i=e("#"+this.elID);var n=i.find(".section-layout-button");if(n){n.off("click").on("click",function(e){t.chooseSectionLayout()})}},afterNewSection:function(){this.afterRender();p.scrollToElement(this.$sectionEl);var e=this.$sectionEl.parent();var t=this.$sectionEl.find(".wsite-section-content");var i=e.attr("style")||"";e.addClass("new-section");e.css({"min-height":0});t.slideUp(0).slideDown(500,"easeOutCubic",function(){g.resizeEmptyMessage(this.$sectionEl);e.attr("style",i).removeClass("new-section");this.showEditMode();this.chooseSectionLayout();s.vent.trigger("editor:sections:newSectionRendered")}.bind(this))},attachEditModeListeners:function($super){$super();l.commands.setHandlers({"section:hideEditBox":this.hideEditMode.bind(this),"section:clear":this.clearSection.bind(this)});l.on({"section:set:properties:after":this.setStyle,"pageLayouts:gallery:show:after":this.hideEditMode},this)},detachEditModeListeners:function($super){$super();l.commands.removeHandlers(["section:hideEditBox","section:clear"]);l.off(["section:set:properties:after","pageLayouts:gallery:show:after"].join(" "),null,this)},showEditMode:function($super){if(this.control){return}var e=this.section.isCustomized();var t=this.elements.length===0;var i=!e&&t;var n=this.section.collection.length===1&&(!t||e);this.control=this.initializeControlView({model:this.section,showDelete:this.section.collection.length>1&&!n,showClear:n,showAddLayout:i,isSectionEmpty:t,fallbackAlignment:this.$sectionEl.css("vertical-align")});var r=h.CONTROL_HEIGHT+h.CONTROL_ARROW_HEIGHT;p.scrollToElement(this.$sectionEl,{paddingTop:this.control.options.preferTop?r:0,paddingBottom:this.control.options.preferTop?0:r});$super()},showMoveCopyDialog:function(){var e=this.moveCopyDialog=new v({section:this.section,parent:"._editor-ui__framework",pointAt:this.$sectionEl,preferTop:this.control.options.preferTop,preferBottom:this.control.options.preferBottom});e.open().on({"page:selected":function(t,n){var r;var s;switch(t){case w.MODE_COPY:r="copyToPage";s="copy";break;case w.MODE_MOVE:r="moveToPage";s="move";break;default:r=false;return}if(r){e.setIsLoading(true);var a=n.pageID;i.Section.RPC.Section[r](a,this.section.id).always(function(){e.setIsLoading(false)}).done(function(){o.trackEditorEvent({object_category:"legacy_section",action:s,property:"self"});e.close();var t="page:navigate"+(a===window.currentPage?"":":go");l.request(t,a)}).fail(function(){e.alert({title:i.utl("javascript.site.editor.sections.SectionControlView_movecopy_error_title"),message:i.utl("javascript.site.editor.sections.SectionControlView_movecopy_error_text")})})}},close:function(){if(this.control){this.control.show()}},"section:shift:up":function(){this.section.collection.shiftSections(this.section.id,-1)},"section:shift:down":function(){this.section.collection.shiftSections(this.section.id,1)}},this);e.listenTo(this.section,"sections:shifted",function(){e.updatePosition()})},chooseSectionLayout:function(){var e=this.section.id;var t=this.section.generateSelector();if(!_.inEditorContext()){e=window.userID+"-"+window.currentSite+"-"+e}this.control.close();return a.show("section:chooseSectionLayout",t,{sectionId:e}).done(function(){this.hideEditMode()}.bind(this))},confirmClearSection:function(t){var i=e.Deferred();var n=new f({parent:"._editor-ui__framework",onBeforeProceed:function(){return i.resolve().then(function(){return t})}});n.open();return i.promise()},applyVideoStillImage:function(e){s.themeBackground.applyBackgroundToElement(e,"section-"+this.section.id)},removeEmptyColumns:function(){var t=this;e("#"+this.elID+" .wsite-multicol-li").each(function(){var i=e(this);var n=i.prop("id").replace("inside_","");var r=d.getElementObject(n);r.removeEmptyColumns(t.getSectionId())})},removeElement:function(e){var t=this.context.deleteElement(e);this.spliceElement(t.id);this.afterRemoveElement()},moveBelow:function(t,i){var n=e("#inside_"+i.id);var r=e("#inside_"+t);r.after(n);if(r.parent().hasClass("columnlist")){this.moveToColumn(i,t)}else{var o=0;for(var s=0;s<this.elements.length;s++){var a=this.elements[s];if(a.id==t){o=s;break}}this.elements.splice(o+1,0,i)}},moveAbove:function(t,i){var n=e("#inside_"+i.id);var r=e("#inside_"+t);r.before(n);if(r.parent().hasClass("columnlist")){this.moveToColumn(i,t,true)}else{var o=0;for(var s=0;s<this.elements.length;s++){var a=this.elements[s];if(a.id==t){o=s;break}}this.elements.splice(o,0,i)}},getClassNames:function(){return""},getSectionId:function(){return this.section.id},getHTML:function($super){var e=b.currentThemeData;var t=e.page_type_templates[window.currentPageType];var i=!this.isSection?"":t.section_prefix_mustache;var n=!this.isSection?"":t.section_postfix_mustache;var o=this.isSection?this.getInnerHTML():$super();var s={content:o,style:this.section.getSectionStyle(),class_names:this.getWrapperClassNames(),highlight_class_name:y.SECTION_HIGHLIGHT_CLASS_NAME,prefix_html:i,postfix_html:n,data:[{key:"section",value:this.section.id}]};return r.render(E,s)},getWrapperClassNames:function($super){var e=$super().split(" ");e=t.without(e,"weebly-area","wsite-elements","wsite-not-footer");e.push(y.SECTION_BACKGROUND_CLASS_NAME+this.section.id);return e.join(" ")},onControlBackgroundOpen:function(e,t){var i=t?"editor:background:replace":"editor:background:open";this.hideEditMode();l.execute(i,"section-"+e);p.scrollToElement(this.$sectionEl)},onControlRemove:function(t){var i=e.Deferred();this.control.hide();this.confirmClearSection(i.promise()).then(function(){this.hideEditMode();return this.section.collection.remove(t,true)}.bind(this)).done(function(){i.resolve()}.bind(this)).fail(function(){this.control.show()}.bind(this))},onControlMove:function(e){this.showMoveCopyDialog(this.$sectionEl,e);this.control.hide()},onControlClear:function(){var t=e.Deferred();this.control.hide();this.confirmClearSection(t.promise()).then(function(){this.section.setEmptyBackground();return this.section.clearElements()}.bind(this)).done(function(){this.removeAllElements();this.hideEditMode();g.resizeEmptyMessage(this.$sectionEl);t.resolve()}.bind(this)).fail(function(){this.control.show()}.bind(this))}});return T}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(19),i(31)],r=function(e,t,i){var n='<div class="wsite-footer-separator"></div>';var r='<div class="wsite-footer-version">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_1")+' <span class="wsite-footer-version-text">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_2")+' <span class="wsite-footer-vertical">|</span> <a class="wsite-version-web" href="#">'+e.utl("html.weebly.libraries.classes.areas.SimpleFooterArea_3")+"</a></span>"+"</div>";var o=window.Class.create(t,{getHTML:function($super){var t=$super();if(e.view.isMobileView){t+='<div class="wsite-mobile-footer">';if(e.Reseller&&e.Reseller.isResellerUser){t+=r}else{t+='<span id="weeblyfootertext"></span>';if(!e.view.isNativeApp){t+=n+r}}t+="</div>"}else{t+='<span id="weeblyfootertext"></span>'}return t}});t.register(function(e){return(e.type=="content"&&e.name=="footer"||e.type=="footer")&&!(window.ENABLE_ADVANCED_FOOTER&&i.hasAccess("edit_footer"))},o);return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(19)],r=function(e,t){var i=Class.create(t,{initialize:function($super,e,t){$super(e,t);this.element=t.loadElement(e.element)},getInnerHTML:function(){return"<ul class='weebly-single-area'>"+this.element.renderHTML(false)+"</ul>"},beforeRender:function($super){$super();this.context.elementsByID[this.element.id].beforeRender()},afterRender:function($super){$super();this.element.afterRender(this.el.down("#inside_"+this.element.id))}});e.SingleElementArea=i;t.register(["social","button"],i);return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(5),i(12),i(7),i(19),i(46),i(276),i(740)],r=function(e,t,i,n,r,s,a){var l=Class.create(n,{tagName:"span",getInnerHTML:function(){var e=this.data.text||"";e=e.strip();e=e||t.areaDefaultPlaceholderText[this.name]||t.defaultPlaceholderText;return s.render("shared/areas/text",a,{phone:this.name=="phone",headline:this.name=="headline",headline_paragraph:this.name=="headline-paragraph",text:e})},afterRender:function($super){$super();var e=this;var n=e.el.down();n.id="wsite-"+e.name;n.style.minHeight="1em";n.style.paddingRight="1px";makeElementContentEditable(n,{richTextControls:e.name!="phone"&&!t.chromeless,emptyText:t.areaDefaultPlaceholderText[e.name]||t.defaultPlaceholderText,
saveCallback:function(t,i){e.data.text=i;e.save();var r=o(n).closest("table");r.hide();setTimeout(function(){r.css("display","")},0)},startedEditingCallback:function(){i.trigger(r.EVENTS.AREA_TEXT_EDITING_START,e.type,e.name)}})}});e.TextArea=l;n.register("text",l);return l}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(1))},function(e,t,i){var n,r;!(n=[i(5),i(12),i(19)],r=function(e,t,i){var n=window.Class.create(i,{elID:"wsite-title",getHTML:function(){return"<div"+" id='"+this.elID+"'"+" class='editable-text'"+" contenteditable='true'"+">"+this.getInnerHTML()+"</div>"},getInnerHTML:function(){return window.currentSiteTitle},afterRender:function($super){$super();if(window.hideTitle){this.el.style.visibility="hidden"}else{this.el.style.visibility=""}}});e.TitleArea=n;i.register("title",n);return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(79),i(147)],r=function(e,t){return function e(i,n){var r=i.find("img").eq(0);var o=null;var s={mouseover:a,mouseout:l};i.on(s);function a(){if(!r.data("ui-resizable")){c()}if(o){o.show()}}function l(){if(o){o.hide()}}function c(){if(!r.length||r.data("ui-resizable")||r.width()<=0||r.height()<=0||!r[0].complete){return false}var e=r.css("max-width")+"";var i=r.css("max-height")+"";e=e.match(/^(\d+)(?:px)?$/);if(e){e=parseInt(e[1],10)}i=i.match(/^(\d+)(?:px)?$/);if(i){i=parseInt(i[1],10)}r.resizable({handles:"se",aspectRatio:true,maxWidth:e,maxHeight:i,start:n.startResize,stop:n.stopResize,resize:n.onResize}).closest(".ui-wrapper").css({display:"inline-block",overflow:"visible","vertical-align":r.css("vertical-align")});o=r.siblings(".ui-resizable-handle").addClass("imageresizer");t.init(o,window._W.utl("javascript.editor.build.images.resizing_1"),true);return true}return function e(){if(r.data("ui-resizable")){r.resizable("destroy");o=null;i.off(s)}}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1)],r=function(e,t){var i={filterOptionText:function(e){return e.replace(/<#[A-Za-z0-9]+>$/,"")},saveProductField:function(i,n,r){var o=t("#"+i);var s=o[0].className.match(/price|title|description/);if(s){s=s[0]}if(s==="price"){n=o.text();n=n.replace(/[^\d\.]/g,"")}var a;if(s){a=i.replace(/[^\d]/g,"")}else{a=e.Elements.getCurrentProductID()}var l=o[0].up(".element");var c=l?l.id:"";new window.Ajax.Request(window.ajax,{parameters:{pos:"updateproduct",productID:a,type:s,value:n,ucfid:c,align:r,cookie:document.cookie,token:e.RequestToken},onFailure:window.errFunc})}};window.saveProductField=i.saveProductField;return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(139),i(15),i(311)],r=function(e,t,i,n){var r=false,o;var s=Class.create(n,{mediaElement:null,afterRender:function($super,t,i){$super(t,i);var n=e(this.li);var s=this.findWidth(n),a=this.getPropertyResult("<!TRACKTITLE!>"),l=this.getPropertyResult("<!ARTIST!>");var c=n.find("audio");c.attr("preload","none");var u=this.getPropertyResult("<!AUTOSTART!>");u=u==="yes";if(this.id==o&&u===false){r=false}if(!r&&u){r=true;o=this.id}else{u=false}if(u){c.attr("autoplay","autoplay")}var d={audioWidth:s,enableKeyboard:false,isVideo:false,success:this.blurControls};var f=c.attr("src");if(typeof f=="undefined"||f===null||f==""){d.type="audio/mp3"}var h=mejs.players.length;for(var p=0;p<h;p++){var m=mejs.players[p];if(m.id===this.id){if(!m.paused&&!m.ended){m.pause()}m.remove();mejs.players.splice(p,1);delete c[0].player;break}}this.mediaElement=new mejs.MediaElementPlayer(c,d);this.mediaElement.id=this.id;this.mediaElement.autostart=u;var g=n.find(".mejs-container");if(g.length>0){var v=a&&a.length>0,w=l&&l.length>0;var b='<div class="wsite-mejs-track">';if(v&&w){b+='<span class="wsite-mejs-title">'+a+"</span>"+'<span class="wsite-mejs-track-sep"> - </span>'+'<span class="wsite-mejs-artist">'+l+"</span>"+"</div>"}else if(v){b+='<span class="wsite-mejs-title">'+a+"</span>"+"</div>"}else if(w){b+='<span class="wsite-mejs-artist">'+l+"</span>"+"</div>"}else{b=""}g.append(b)}},blurControls:function(t,i){var n=e(i).closest(".mejs-container").find("button");t.addEventListener("play",function(){n.blur()},false);t.addEventListener("pause",function(){n.blur()},false)},getPropertyResult:function(e){var t=this.getContentField().getProperty(e);if(t){return t.property_result}},reposition:function($super){$super();this.setWidth()},findWidth:function(e){var t=e.innerWidth();t=t&&t<400?t<235?235:t:400;return t},setWidth:function(){var t=e(this.li);var i=this.findWidth(t);this.mediaElement.setPlayerSize(i,this.mediaElement.height);this.mediaElement.setControlsSize()}});e(function(){var e=function(e){var t=false;if(e=="updateList"){t=true}for(var i=0,n=mejs.players.length;i<n;i++){var o=mejs.players[i];if(!o.paused&&!o.ended){o.pause()}o.hasFocus=false;if(t){o.remove()}}if(t){mejs.players=[];r=false}};i.addListener("navPageChange",e)});n.register("67748238",s);return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(12),i(15)],r=function(e,t,i,n){var r=Class.create(n,{processHTML:function($super,t,n){var r=null;var o=null;var s=[];t=$super(t);s=e.parseHTML(t);if(s&&e(s).filter(".element").length){r=e(t).find(".wsite-button-inner");if(r.length){o=r.html();if(o){t=r.html(o).closest(".element")[0].outerHTML}}}t=t.replace(/<a /gi,"<span ");t=t.replace(/<\/a>/gi,"</span>");if(i.chromeless){t.replace(/javascript:;/gi,"")}return t},afterRender:function($super,i,n){$super(i,n);var r=i.down(".wsite-button-inner");makeElementContentEditable(r,{richTextControls:false,saveCallback:function(e,i){i=i||t.utl("html.weebly.libraries.classes.elements.ButtonElement_1");this.setPropertyResult("<!TEXT!>",i);this.save();this.rerender()}.bind(this)});if(r){e(r).css("cursor","text")}},getPropertyResult:function(e){var t=this.getContentField().getProperty(e);if(t){return t.property_result}},setPropertyResult:function(e,t){var i=this.getContentField().getProperty(e);if(i){i.property_result=t}},save:function(){this.getContentField().saveProperties()}});n.register("59396708",r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(12),i(7),i(15),i(264),i(196),i(21),i(216),i(681),i(680),i(682)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f){var h=window.Class.create(s,{renderHTML:function($super){u=n.chromeless?d:u;return $super(u)},rerenderContentField:function($super,n,r,o,s){var l;var d;var h=e(r);this.mapProperties(n,s).then(function(e){this.propertiesModel=e;var p=n.getProperty("<!CATSPERPAGE!>").ucfpid;var m=n.getProperty("<!PAGINATIONOPTS!>").ucfpid;var g=n.getProperty("<!LAYOUT!>").ucfpid;var v=n.getProperty("<!SEQUENCE!>").ucfpid;var w=false;var b=this.propertiesModel["INFOPLACEMENT"];if(!this.propertiesModel["SHOWIMAGE"]&&!this.propertiesModel["SHOWBUTTON"]&&!this.propertiesModel["SHOWNAME"]||!this.propertiesModel["SHOWIMAGE"]&&(b==="hover"||b==="over")){d=i.render(f);l=i.render(c,{layout_html:d});h.find(".commerce-elements-wrapper").html(l)}else if(e["models"].length===0){d=i.render(u);l=i.render(c,{layout_html:d});h.find(".commerce-elements-wrapper").html(l)}else{w=true}if(w){if(t.isUndefined(s[p])&&t.isUndefined(s[g])&&t.isUndefined(s[m])&&t.isUndefined(s[v])){l=this.renderLayout(e);h.find(".commerce-layout-wrapper").html(l);if(this.maxPage>1){a.resetPagination(h.find(".product-pagination"),this.$initialPaginationEl)}this.afterRerenderContentField(n,r,o)}else{this.rerenderCategories(h,n,o)}}else{this.afterRerenderContentField(n,r,o)}}.bind(this))},paginationCallback:function(e,t){if(this.propertiesModel["LAYOUT"]!=="singlerow"){e.find(".pagination__overlay").show()}this.fetchModelsPage(this.propertiesModel,t).done(this.renderItemsPage.bind(this,e))},fetchModelsPage:function(e,t){var i=e["SEQUENCE"];var n=parseInt(e["CATSPERPAGE"]);var o=t*n;var s=this.getContentField();r.execute("loading:start","categories-element::pagination-fetch");return r.request("categories-element:pagination:fetch",s.ucfid,i,o,n).always(r.execute.bind(r,"loading:stop","categories-element::pagination-fetch")).then(function(e){return e.data})},openSequenceSelectDialog:function($super,e){r.execute("categories-element:select-categories",{origin:"empty-element",ucfid:e.ucfid,sequence:JSON.parse(e.getProperty("<!SEQUENCE!>").property_result),imageData:JSON.parse(e.getProperty("<!IMAGEDATA!>").property_result)})},shouldFetchModels:function($super,e,i){var n=e.getProperty("<!SEQUENCE!>").ucfpid;var r=e.getProperty("<!CATSPERPAGE!>").ucfpid;return!t.isUndefined(i[n])||!t.isUndefined(i[r])},rerenderCategories:function(e,t,i){var n=parseInt(this.propertiesModel["CATSPERPAGE"]);var r=this.propertiesModel["SEQUENCE"];this.maxPage=Math.ceil(r.length/n);var o=this.renderModels(t);e.html(o);this.afterRerenderContentField(t,e.get(0),i)}});o.register("90123933",h);return h}.apply(t,n),r!==undefined&&(e.exports=r))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(6),__webpack_require__(15),__webpack_require__(12),__webpack_require__(10)],__WEBPACK_AMD_DEFINE_RESULT__=function($,_,editorApp,Element,Config,UICONST){var ContentAreaElement=window.Class.create(Element,{initialize:function($super,e,t){$super(e,t);var i=this;i.context=t;if(i.children){i.children=t.loadElements(i.children)}},afterRender:function($super,li,isRerender){$super(li,isRerender);var element=this;var elementLi=$(li);elementLi.addClass("content-area-element");elementLi.attr("data-ucfid",Object.keys(element.content_fields)[0]);elementLi.attr("data-peid",element.id);if(element.children&&element.children.length==0){if(!Config.chromeless){elementLi.append('<div class="empty-content-area-element">'+_W.utl("javascript.editor-site-shared.build.elements.ContentAreaElement_2")+'<ul class="content-area-list"></ul></div>')}}else{elementLi.append('<ul class="content-area-list"></ul>');_.each(element.children,function(childData,index){var childElement=element.context.elementsByID[childData.id];childElement.beforeRender(isRerender);var childHtml=childElement.renderHTML();childElement.li=$(childHtml)[0];var scriptsToEval=[];if($(childHtml).length>0){_.each($(childHtml),function(e){if($(e).is("script")){scriptsToEval.push(e)}})}$(childElement.li).attr("data-page-element-order",childData.page_element_order);elementLi.find(".content-area-list").first().append(childElement.li);childElement.afterRender(childElement.li,isRerender);_.each(scriptsToEval,function(oneScript){eval($(oneScript).html())})})}}});Element.register(UICONST.CONTENT_AREA_ELEMENT_ID,ContentAreaElement);return ContentAreaElement}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(2),i(5),i(12),i(136)],r=function(e,t,i,n,r){var s="92495494";var a="58377875";var l="77980269";var c=Class.create({initialize:function(e,n){var r=i.Elements?i.Elements.unsyncedProperties:{};this.ucfid=n.ucfid;this.eid=e;this.cfid=n.cfid;this.properties={};t.each(n.properties,function(e){var t=e.property_result;if(this.ucfid&&r.hasOwnProperty(this.ucfid)){t=r[this.ucfid]}this.properties[e.cfpid]={cfpid:e.cfpid,ucfpid:e.ucfpid,property_result:t,reference_property:e.reference_property}},this);this.content=n.content;this.contentFieldContent=n.content_field_content;this.contentFieldAlign=n.content_field_align},getProperty:function(e){if(typeof e==="number"){e+=""}if(typeof e==="string"){e=e.match(/^<!\w+!>$/)?{reference_property:e}:{ucfpid:e}}return hashSearch(this.properties,e)},fetchDefinition:function(){var e=r.getDefinition(this.eid);if(e){return e.contentfields[this.cfid]}return null},parseTagType:function(t){return e(t).prop("tagName")},parseTagAttributes:function(t){var i={};var n=e(t)[0].attributes;for(var r=0;r<n.length;r++){var o=n.item(r).nodeName;var s=n.item(r).nodeValue;i[o]=s}return i},createStartTag:function(e,i){var n="<"+e;t.each(i,function(e,t){n+=" "+t+'="'+e+'"'});return n+">"},render:function(){var e=this.fetchDefinition();if(!e){return""}var r=e.contentFieldProperties;var o=e.htmlStart;var s=this.parseTagType(o);var a="";var l="";var c="";var u="";var d="";if(s){a=this.parseTagAttributes(o);if(!a["class"]){a["class"]=""}}if(e.hasContent==1){l=this.contentFieldContent;if(!l){l=i.utl("html.weebly.libraries.classes.Element_2")}if(n.chromeless&&l.match("Click here to edit.")){l=i.utl("html.weebly.libraries.classes.Element_3")}l=l.replace(/^(title|paragraph).*click here to edit\.$/i,i.utl("html.weebly.libraries.classes.Element_4"));if(this.contentFieldAlign){u+="text-align:"+this.contentFieldAlign}}else if(e.hasContent==2){c=e.customContent;c=c.replace(/%%ELEMENTID%%/gi,this.ucfid);c=c.replace(/%%PAGEELEMENTID%%/gi,this.cfid);c=c.safeReplace(/%%WEEBLYCONFIGDOMAIN%%/gi,configSiteName);c=c.safeReplace(/%%WEEBLYSUBDOMAIN%%/gi,configSiteName.replace(/\.weebly\.com$/,""));c=c.safeReplace(/%%WHITELABELDOMAIN%%/gi,i.WHITE_LABEL_DOMAIN)}t.each(r,function(e){var t=null;var i=e.property;var n=this.properties[e.cfpid];if(n&&typeof n.property_result!=="undefined"){t=n.property_result}if(t===null||t===""){t=e.propertyDefault}if(e.markupType=="css"){u+=i+":"+t+";"}else if(e.markupType=="html"){a[i]=t}else if(e.markupType=="custom"){t=e.resultInEditor||t;if(i=="%%CUSTOM%%"){t=t.replace("<embed",'<embed wmode="transparent" allownetworking="internal"')}if(i){d=new RegExp(i,"mg");c=c.replace(d,t)}}},this);c=c.replace("%%WEEBLYUSERID%%",window.userID);c=c.replace("%%INEDITOR%%",i.EDITOR?1:0);c=c.replace(/<weebly only_export[^>]*>([\S\s]*?)<\/weebly>/i,"");if(n.chromeless){if(this.isPlaceholder()){a["class"]+=" tablet-placeholder";c=this.addPlaceholderHTML(c)}else{a["class"]=a["class"].replace("tablet-placeholder"," ")}}if(e.selectable){a["class"]+=" element"}if(e.hasContent==1&&e.hidden!=1){a["contentEditable"]="true";a["class"]+=" editable-text"}a["id"]=this.ucfid;if(u){a["style"]=a["style"]?a["style"]+";"+u:u}return this.createStartTag(s,a)+c+l+e.htmlEnd},isPlaceholder:function(e){var t=false;var i=this.getProperty("<!DATA!>")||{};var n=i.property_result||"{}";var r={};try{r=JSON.parse(n)}catch(e){console.log("Malformed JSON data")}var o=this.getProperty("<!SRC!>")||this.getProperty("<!VIDEOFILE!>")||this.getProperty("<!IMAGESET!>")||this.getProperty("<!IMAGES!>")||this.getProperty("<!PRODUCTID!>")||{};var s=o.property_result;if(r.placeholder){t=true}if(typeof s=="string"){if(s.match(/na.png/g)){t=true}}if(typeof s=="string"&&(s==""||s=="[]")){t=true}return t},addPlaceholderHTML:function(e){e=e.replace(/<img[^>]*>[^<]*/gim,'<span class="icon icon-image"></span>'+i.utl("html.weebly.libraries.classes.Element_5"));e=e.replace(/<iframe[^>]*>[^<]*<\/iframe>/gim,'<a><span class="icon icon-video"></span>'+i.utl("html.weebly.libraries.classes.Element_6")+"</a>");e=e.replace(/<!WEEBLYGALLERY2?\-.*?!>/g,'<a><span class="icon icon-gallery"></span>'+i.utl("html.weebly.libraries.classes.Element_7")+"</a>");e=e.replace(/<!WEEBLYSLIDESHOW\-.*?!>/g,'<a><span class="icon icon-slideshow"></span>'+i.utl("html.weebly.libraries.classes.Element_8")+"</a>");e=e.replace(/282/gi,"auto");e=e.replace(/^(<div><!PRODUCT!><\/div>)/gim,'<div class="product-placeholder"><a><span class="icon icon-product"></span>'+i.utl("html.weebly.libraries.classes.Element_9")+"</a></div>");return e},saveProperties:function(e){if(n.chromeless){try{throw new Error("Invalid element property save attempted in script")}catch(e){console.log(e.message);return}}Weebly.Editor.RPC.Elements.saveProperties(this.ucfid,Object.toJSON(this.properties)).done(e||o.noop).fail(window.errFunc)},isEmbedCodeWithHTMLProperty:function(e){return this.eid===s&&this.cfid===a&&e===l}});return c}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(1))},function(e,t,i){var n,r;!(n=[i(22)],r=function(){var e=Class.create({initialize:function(e,t){this.cfid=e;this.name=t.name;this.htmlStart=t.html_start;this.htmlEnd=t.html_end;this.hasContent=t.has_content;this.hasImage=t.has_image;this.hidden=t.hidden;this.customContent=t.custom_content;this.elementonChangeJs=t.element_onchange_js;this.elementJs=t.element_js;this.selectable=t.selectable;this.contentFieldProperties=t.content_field_properties.map(function(e){return{cfpid:e.cfpid,title:e.title,options:e.options,property:e.property,result:e.result,markupType:e.markup_type,advanced:e.advanced,propertyDefault:e.property_default,resultInEditor:e.result_in_editor,displayOrder:e.display_order,referenceProperty:e.reference_property,hidden:e.hidden}})},getProperty:function(e){if(typeof e=="number"){e+=""}if(typeof e=="string"){if(e.match(/^%%\w+%%$/)){e={property:e}}else if(e.match(/^<!\w+!>$/)){e={referenceProperty:e}}else{e={cfpid:e}}}return arraySearch(this.contentFieldProperties,e)}});return e}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(15),i(45),i(703),i(704),i(11)],r=function(e,t,i,n,r,o,s,a){function l(e){var i=e.data;t.defer(t.bind(i.afterRender,i,this))}var c=window.Class.create(r,{resizeFrameInterval:null,written:false,85662917:function(t,i){var n=this.getContentField();var r=n.ucfid;var o=e("#custom-frame-"+r,this.li);var s=o[0].contentWindow||o[0];if(s.updateAlign){s.updateAlign(t)}},appendIframeCover:function(t){var n=i.render(s);var r=e(n);var o=t.parent();this.$frameBlocker=r.find(".customhtml-blocker");t.detach();this.$frameBlocker.after(t);o.append(r);this.setFrameBlockerEvents()},afterRender:function($super,n,r){$super(n,r);var s=e(n);s.off("dragstop:drop",l).on("dragstop:drop",this,l);if(r){return}var c=this.getContentField();var u=c.getProperty("<!HTML!>").property_result;u=u.replace(/<script[^>]*www.clickbook.net[^>]*cb_mode1\.js[^>]*>\s*<\/script>/i,"");var d=s.find("iframe");this.appendIframeCover(d);var f=d[0].contentWindow||d[0];var h=e("#wsite-theme-"+window.currentTheme+"-file").html();var p=e("#designOptionsStyle");if(p.length){h=h+p.html()}var m=h.split("@media");if(m.length>1){h=m[0];for(var g=1;g<m.length;g++){var v=m[g].split(/\n\s*\}\s*\n/,2);if(v.length===2){h+=v[1]}}}var w=e('script[src*="jquery"]').eq(0).attr("src");var b=e("#wsite-base-style").eq(0).attr("href");f.ucfid=c.ucfid;var y=null;var _=function(){var t=e("#secondlist",this.document).outerHeight();if(t>0&&y!==t&&this.parent.resizeCustomHtml){y=t;this.parent.resizeCustomHtml(c.ucfid,y);a.vent.trigger("forceDocumentSizeChange")}};var E=function(e,t){var n=i.render(o,{theme:window.currentTheme,align:c.getProperty("<!ALIGN!>").property_result,content:e,jquery_url:w,sites_css_url:b,theme_css:h,ucfid:c.ucfid,build_time:window.buildTime?window.buildTime:Math.ceil(Math.random()*1e3*1e3)});if(t){this.written=false}if(!this.written){f.document.open();f.document.write(n);f.document.close();f.resizeFrame=_;f.setContent=E;f.updateAlign=T;this.written=true}else{var r=new DOMParser;var s=r.parseFromString(n,"text/html");f.document.childNodes[0].replaceChild(s.body,f.document.body)}}.bind(this);var T=function(t){if(t){e("#customhtml-content").css({"text-align":t})}};f.resizeFrame=_;f.setContent=E;f.updateAlign=T;if(this.resizeFrameInterval){clearInterval(this.resizeFrameInterval)}this.resizeFrameInterval=setInterval(t.bind(f.resizeFrame,f),500);f.setContent(u)},unrender:function($super){$super();if(this.resizeFrameInterval){clearInterval(this.resizeFrameInterval)}this.unsetFrameBlockerEvents()},setFrameBlockerEvents:function(){this.$frameBlocker.on("click",function(){this.style.visibility="hidden";a.vent.on({"element:options:dialog:close":function(){this.style.visibility="visible"}.bind(this)})})},unsetFrameBlockerEvents:function(){if(this.$frameBlocker){this.$frameBlocker.off("click");this.$frameBlocker=null;a.vent.off("element:options:dialog:close",null,this)}}});window.resizeCustomHtml=function(t,i){var n=e("#custom-frame-"+t);n.css({height:i+"px"})};n.register("92495494",c);return c}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(17),i(15),i(45),i(265),i(501),i(267),i(517),i(500),i(510),i(515),i(518),i(519),i(266),i(268),i(348),i(506),i(513),i(509),i(511),i(503),i(512),i(502),i(516),i(514)],r=function(e,t,i,n){function r(){var r=this;r.elementsByID={};r.contentFieldsByID={};r.loadElement=o;r.loadElements=s;r.deleteElement=a;function o(e){var o=i.getElementObject(e);var s=false;var a=false;if(!o){o=n.load(e,r)}else{a=true;if(o.context&&o.context!==r){s=true;delete o.context.elementsByID[o.id]}}r.elementsByID[o.id]=o;t.each(o.content_fields,function(i){if(s){delete o.context.contentFieldsByID[i.ucfid]}r.contentFieldsByID[i.ucfid]=i;if(a&&e.content_fields){var n=t.findWhere(e.content_fields,{ucfid:i.ucfid});if(n&&n.content){i.content=n.content}}});if(s){o.context=r}return o}function s(e){return e.map(function(e){return o(e,r)})}function a(n){var o=i.getElementObject(n);t.each(o.content_fields,function(e){delete r.contentFieldsByID[e.ucfid]});delete r.elementsByID[o.id];e("#inside_"+o.id).remove();o.unrender();return o}}return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(505),i(22)],r=function(e,t){var i=Class.create({initialize:function(i,n){this.elementid=i;this.displayname=n.name;this.contentfields={};this.manifest=JSON.parse(n.manifest);e.each(n.content_fields,function(e){var i=new t(e.cfid,e);this.contentfields[e.cfid]=i},this)},getContentField:function(e){return hashSearch(this.contentfields,e)}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(10),i(15),i(45)],r=function(e,t,i,n){var r=window.Class.create(n,{afterRender:function($super,t,i){$super(t,i);var n=e(t);if(i){var r=n.find("img");if(r.data("ui-resizable")){r=r.closest(".ui-wrapper")}n.find(".element").eq(0).css("width",r.outerWidth(true)+"px")}e("<div>",{class:"w-delete-outer",html:'<div class="w-delete" title="'+window._W.utl("javascript.editor-site-shared.build.elements.ImageTextElement_2")+'"></div>',on:{mouseover:o,mouseout:s},appendTo:n.find(".imgPusher").closest(".element")})},"<!SRC!>":function(){var e;try{e=JSON.parse(this.getPropertyResult("<!DATA!>"))}catch(e){}if(e&&e.image){return e.image.editorUrl}return this.getPropertyResult("<!SRC!>")}});function o(){e(this).closest(".element").addClass("inside-delete-hover")}function s(){e(this).closest(".element").removeClass("inside-delete-hover")}i.register(t.CURRENT_PARAGRAPH_IMAGE_ELEMENT,r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(12),i(6),i(11),i(15)],r=function(e,t,i,n,r,o){var s=Class.create(o,{$mapIframeCover:null,afterRender:function($super,t,i){$super(t,i);this.setMapType();var r=this;n.vent.on("viewChange",function(){r.setMapType()});this.$mapIframeCover=e(t).find(".wsite-map-coverbox");this.bindMapCoverEvents()},unrender:function($super){$super();this.unbindMapCoverEvents()},setMapType:function(){var n=e(this.li);var r=n.find("iframe");var o=r.attr("src");if(!o){return}if(o.indexOf("&touch=")>=0){var s=t.view.isMobileView||i.chromeless?"1":"0";o=o.replace(/&touch=[01]/,"&touch="+s)}else{o=t.view.isMobileView||i.chromeless?o+"&touch=1":o+"&touch=0"}r.attr("src",o)},bindMapCoverEvents:function(){if(this.$mapIframeCover){this.$mapIframeCover.on("click.map-frame-cover",function(){var t=e(this);t.hide();r.vent.once("element:options:dialog:close",function(){t.show()})})}},unbindMapCoverEvents:function(){if(this.$mapIframeCover){this.$mapIframeCover.off("click.map-frame-cover");this.$mapIframeCover=null}}});o.register("42844424",s);return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(15),i(23),i(10)],r=function(e,t,i,n,r){var o=window.Class.create(i,{initialize:function($super,e,i){$super(e,i);var n=this;n.context=i;if(n.children){t.each(n.children,function(e){n.context.loadElement(e)})}},afterRender:function($super,i,n){$super(i,n);var o=this;var s=e(i);s.find(".platform-element-child-placeholder").each(function(i,s){var a=e(s);var l=a.data("field-name");var c=a.data("field-type");var u=a.data("default");var d=a.data("width");var f=l+":"+c;var h=o.children[f];if(!h){t.each(o.children,function(e){if(e.platform_setting_name==f){h=e}})}if(h){var p=o.context.elementsByID[h.id];p.beforeRender(n);var m=p.renderHTML();p.li=e(m)[0];e(p.li).addClass("platform-element-child");e(p.li).attr("data-field-name",l);e(p.li).attr("data-field-type",c);e(p.li).attr("data-default-text",u);e(p.li).attr("data-page-element-order",h.page_element_order);a.replaceWith(p.li);p.afterRender(p.li,n);if(h.eid=="44785763"&&u){t.each(p.content_fields,function(t){if(t.cfid=="93182214"){if(t.contentFieldContent==""||t.contentFieldContent.match(_W.utl("javascript.editor-site-shared.build.elements.PlatformElement_2"))){e(p.li).find(".editable-text").text(u)}}})}if(h.eid==r.CONTENT_AREA_ELEMENT_ID&&d){e(p.li).css("width",d)}}});var a=s.find(".platform-element-overlay").length===0;if(window.inEditor&&window.inEditor()&&a){s.find(".platform-element-contents").prepend("<div class='platform-element-overlay'> </div>")}},onDrag:function($super,e,t,i){i=$super(e,t,i);if(!i||!i.el||!this.elData){return i}if(n.isChildOf(i.el,this.elData.id)){return null}return i}});window.PlatformElement=o;i.register("75699656",o);return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(12),i(7),i(15),i(264),i(196),i(21),i(216),i(694),i(693),i(695)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f){var h=window.Class.create(s,{renderHTML:function($super){u=n.chromeless?d:u;return $super(u)},rerenderContentField:function(n,r,o,s){var l;var d;var h=e(r);this.mapProperties(n,s).then(function(e){this.propertiesModel=e;var p=n.getProperty("<!PRODSPERPAGE!>").ucfpid;var m=n.getProperty("<!PAGINATIONOPTS!>").ucfpid;var g=n.getProperty("<!LAYOUT!>").ucfpid;var v=n.getProperty("<!SEQUENCE!>").ucfpid;var w=false;var b=this.propertiesModel["INFOPLACEMENT"];if(!this.propertiesModel["SHOWIMAGE"]&&!this.propertiesModel["SHOWBUTTON"]&&!this.propertiesModel["SHOWSHORTDESCRIPTION"]&&!this.propertiesModel["SHOWPRICE"]&&!this.propertiesModel["SHOWNAME"]||!this.propertiesModel["SHOWIMAGE"]&&(b==="over"||b==="hover")){d=i.render(f);l=i.render(c,{layout_html:d});h.find(".commerce-elements-wrapper").html(l)}else if(e["models"].length===0){d=i.render(u);l=i.render(c,{layout_html:d});h.find(".commerce-elements-wrapper").html(l)}else{w=true}if(w){if(t.isUndefined(s[p])&&t.isUndefined(s[g])&&t.isUndefined(s[m])&&t.isUndefined(s[v])){l=this.renderLayout(e);h.find(".commerce-layout-wrapper").html(l);if(this.maxPage>1){a.resetPagination(h.find(".product-pagination"),this.$initialPaginationEl)}this.afterRerenderContentField(n,r,o)}else{this.rerenderProducts(h,n,o)}}else{this.afterRerenderContentField(n,r,o)}}.bind(this))},paginationCallback:function(e,t){if(this.propertiesModel["LAYOUT"]!=="singlerow"){e.find(".pagination__overlay").show()}this.fetchModelsPage(this.propertiesModel,t).done(this.renderItemsPage.bind(this,e))},fetchModelsPage:function(e,t){var i=e["SEQUENCE"];var n=e["IMAGEDATA"];var o=parseInt(e["PRODSPERPAGE"]);var s=t*o;var a=this.getContentField();r.execute("loading:start","products-element::pagination-fetch");return r.request("products-element:pagination:fetch",a.ucfid,i,n,s,o).always(r.execute.bind(r,"loading:stop","products-element::pagination-fetch")).then(function(e){return e.data})},openSequenceSelectDialog:function(e){r.execute("products-element:select-products",{origin:"empty-element",ucfid:e.ucfid,sequence:JSON.parse(e.getProperty("<!SEQUENCE!>").property_result),imageData:JSON.parse(e.getProperty("<!IMAGEDATA!>").property_result)})},shouldFetchModels:function(e,i){var n=e.getProperty("<!SEQUENCE!>").ucfpid;var r=e.getProperty("<!IMAGEDATA!>").ucfpid;var o=e.getProperty("<!PRODSPERPAGE!>").ucfpid;return!t.isUndefined(i[n])||!t.isUndefined(i[r])||!t.isUndefined(i[o])},rerenderProducts:function(e,t,i){var n=parseInt(this.propertiesModel["PRODSPERPAGE"]);var o=this.propertiesModel["SEQUENCE"];var t=this.getContentField();r.execute("loading:start","products-element::max-page");r.request("products-element:pagination:max-page:get",t.ucfid,o,n).always(r.execute.bind(r,"loading:stop","products-element::max-page")).done(function(n){this.maxPage=parseInt(n.data);var r=this.renderModels(t);e.html(r);this.afterRerenderContentField(t,e.get(0),i)}.bind(this))}});o.register("90123932",h);return h}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(15),i(45),i(23),i(10)],r=function(e,t,i,n){var r=window.Class.create(t,{onDrag:function($super,e,t,r){r=$super(e,t,r);if(r&&(r.position===n.POSITION_LEFT||r.position===n.POSITION_RIGHT||i.isChildOfMultiColumn(r.el))){return null}return r}});e.register("16151740",r);return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(15),i(45),i(7)],r=function(e,t,i,n){var r="PROCESSING";var o="ERROR";var s="DONE";var a=1e3;var l=1e3;var c=5e3;var u=window.Class.create(i,{lastStatus:null,afterRender:function($super,e){if(this.lastStatus!==s){this.checkConversion(e,a)}$super()},checkConversion:function(t,i){setTimeout(function(){if(e("#body").find(t).length===1){var r=this.getContentField();var a=r.getProperty("<!DOCID!>").property_result;n.request("scribd-document-element:status:get",a).then(function(n){var a=n.data;var u=document.getElementById(r.ucfid+"-emptyState");var d=document.getElementById(r.ucfid+"-errorState");var f=document.getElementById("scriptInclude"+r.ucfid);this.lastStatus=a;if(a===s){u.style.display="none";d.style.display="none";f.style.display="block";var h=e(t).find(".element");this.rerenderContentField(r,h)}else if(a===o){u.style.display="none";d.style.display="block";f.style.display="none"}else{u.style.display="block";d.style.display="none";f.style.display="none";this.checkConversion(t,Math.min(i+l,c))}}.bind(this))}}.bind(this),i)}});t.register("3971316",u);return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(15)],r=function(e,t,i){var n=Class.create(i,{afterRender:function($super,t,i){$super(t,i);e(t).find("form").on("submit",this.handleSubmit.bind(this)).find("span.wsite-search-element-submit").on("click",this.handleSubmit.bind(this))},handleSubmit:function(i){var n=e(i.target).find("input.wsite-search-element-input").eq(0);window.hideTip("tipsearch-info",1);window.showTip(t.utl("html.weebly.libraries.classes.elements.SearchElement_1"),n,"y","search-info",1,225);i.preventDefault()}});i.register("90122486",n);return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(45),i(10),i(15),i(25),i(156),i(18)],r=function(e,t,i,n,r,o){var s=window.Class.create(e,{stopDrag:function(e,t,i){if(!i&&!n.pageHasDroppableSections(o.currentThemeData.page_type_templates[window.currentPageType],window.currentPageKind)){r.alert({parent:"#orbitDialogContainer",title:_W.utl("sections.dialogs.SectionsUnsupported_title"),message:_W.utl("sections.dialogs.SectionsUnsupported_message")})}}});i.register(t.SECTION_ELEMENT,s);return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(2),i(12),i(181),i(18),i(15),i(7),i(36)],r=function(e,t,i,n,r,s,a,l){var c={facebook:{display:"Facebook",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_17")},twitter:{display:"Twitter",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_18")},linkedin:{display:"Linkedin",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_19")},mail:{display:"Mail",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_20")},flickr:{display:"Flickr",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_21")},pinterest:{display:"Pinterest",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_22")},plus:{display:"Google+",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_23")},rss:{display:"RSS",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_24")},vimeo:{display:"Vimeo",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_25")
},yahoo:{display:"Yahoo!",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_26")},youtube:{display:"YouTube",hint:_W.utl("html.weebly.libraries.classes.elements.SocialElement_27")}};var u=["facebook","twitter","linkedin","mail"];var d=Class.create(s,{initialize:function($super,e,t){$super(e,t);this.formatSocialData()},formatSocialData:function(){var e=this.getDataProperty();e=e?e.evalJSON():{};if(!e.badges||!$H(e.badges).keys().length){e.badges=h()}e.badges=g(e.badges);this.skipGetProperty=false;this.data=e},"<!BADGES!>":function(){var e,t,n,r,o,s,a="",l=[],c,u,d=false;if(!this.data||!this.skipGetProperty){this.formatSocialData()}e=this.data;t=this.data.badges||g(e.badges);n=f(e,t);if(i.chromeless){d=this.showPlaceholder()}if(d){a='<a><span class="icon icon-social"></span>'+_W.utl("html.weebly.libraries.classes.elements.SocialElement_14")+"</a>"}else{for(var h=0;h<n.length;h++){o=n[h];r=t[o];if(r){s="";if(!r.active||!r.url||!v(o)){s="hidden"}else if(c===undefined){c=h;s="first-child"}else{u=h}l.push('<a class="'+s+" wsite-social-item wsite-social-"+o+'" href="#" data-social="'+o+'" onclick="return false">'+'<span class="wsite-social-item-inner"></span>'+"</a>")}else{l.push("")}}if(u){l[u]=l[u].slice(0,10)+"last-child "+l[u].slice(11)}a=l.join("")}return a},getDataProperty:function(){var e=this.getContentField();if(e.getProperty("<!DATA!>")){return e.getProperty("<!DATA!>").property_result}},showPlaceholder:function(){var e=false,t=this.getDataProperty();if(!t){e=true;return e}t=t.evalJSON();e=true;for(var i in t.badges){if(t.badges[i].active){e=false}}return e},afterRender:function($super,t,n){$super(t,n);var r=this,o,s,a,l=r.li.down("span.wsite-social"),c=r.li.down(".element"),u=false;if(l&&c){o=e(l).children()}else{return}if(i.chromeless){u=this.showPlaceholder()}if(u){e(r.li).find(".element").addClass("tablet-placeholder")}else{e(r.li).find(".element").removeClass("tablet-placeholder")}for(var d=0;d<o.length;d++){s=o[d].getAttribute("data-social");a=this.data.badges[s];if(a&&a.active&&a.url&&v(s)){o[d].removeClassName("hidden")}else{o[d].addClassName("hidden")}}},disableSocialBadges:function(){var e=l.getAreaInstanceForElement(this.li.up(".weebly-area"));if(e&&e.type==="social"&&!e.name){e.hide();updateDesignElements();a.execute("mobile:updateAreaOptions");this.destroyToolbar();this.data.badges=h(this.data.badges);this.save();if(!Weebly.view.isMobileView){showTip(_W.utl("html.weebly.libraries.classes.elements.SocialElement_15"),o("weebly_tab_themes"),"y","social",undefined,300)}}}});function f(e,i){var n=(e.badge_order||[]).slice(0);n=n.concat(Object.keys(e.badges)).uniq();var r=t.difference(n,Object.keys(i));if(r.length){n=t.difference(n,r)}return n}function h(e){var t,i;e=e||{};var n;for(var r=0;r<u.length;r++){n=e[u[r]]||{};e[u[r]]={url:n.url||true,active:true}}return e}var p=1;function m(){return"social-"+p++}function g(e){var t=n.isUsingGlyphIcons(r.currentThemeData);var i=u.indexOf("instagram")!==-1;if(t&&!i){u.splice(2,0,"instagram");c["instagram"]={display:"Instagram",hint:_W.utl("javascript.editor-site-shared.build.elements.SocialElement_28")}}else if(!t&&i){u.splice(u.indexOf("instagram"),1);delete c["instagram"]}e=n.convertBadgeData(e,c);return e}function v(e){if(n.isUsingGlyphIcons(r.currentThemeData)){return true}return w().indexOf(e)!==-1}function w(){return r.currentThemeData.social.length?r.currentThemeData.social:Object.keys(c)}Weebly.SocialElement=d;s.register("35527740",d)}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(12),i(731),i(15),i(33),i(11),i(147)],r=function(e,t,i,n,r,o,s,a){function l(){s.selectElement(this);window.isDraggingElement=true}function c(e,t){window.isDraggingElement=false;var i=this.getContentField();i.getProperty("<!HEIGHT!>").property_result=t.size.height+"px";i.saveProperties()}var u=window.Class.create(o,{afterRender:function($super,o,s){$super(o,s);var u=e(o);var d=u.find(".element-box").addClass("w-handle").find(".element");if(!s){d.append(i.render(r,{label:window._W.utl("javascript.editor.build.elements.SpacerElement_1")}))}if(!n.chromeless&&!d.data("ui-resizable")){u.addClass("wsite-spacer-li");d.resizable({handles:"s",start:l,stop:t.bind(c,this),resize:function(){a.vent.trigger("editor:element:resize")}});d.find(".ui-resizable-handle").css("z-index","")}},unrender:function($super){var t=e(this.li).find(".element");if(t.data("ui-resizable")){t.resizable("destroy")}$super()}});o.register("27280689",u);return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(15),i(33),i(7),i(45)],r=function(e,t,i,n,r){e(window).on("message",s);function o(t,i){var n=e("#"+t);if(n.length){var r=n.find("iframe").first().get(0);var o=r.src;if(i){r.src=o+"&uploading=1"}else if(o.match(/&uploading/)){r.src=o.replace(/&uploading=1/g,"")}else{r.src=r.src}}}n.commands.setHandler("refreshVideoElement",o);function s(t){var r=t.originalEvent.data;if(r.type=="updateEncodedVideo"){if(e("#"+r.ucfid).length){try{if(i.currentElement&&i.currentElement.id==r.ucfid){i.getPropertyByReference("<!IMAGEFILE!>").property_result=r.imageFile;i.getPropertyByReference("<!VIDEOFILE!>").property_result=r.videoFile}else{n.request("page:navigate")}}catch(e){}}n.execute("dontSave:set",0)}else if(r.type=="videoClick"){window.clickHandler({},r.ucfid)}}var a=window.Class.create(r);t.register("63419613",a);return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(3),i(2),i(59),i(86),i(653),i(661)],r=function(e,t,i,n,r,o,s,a){var l=r.extend({getTemplate:function(){return i.compile(s)},BLOG_LINK_PREPEND:"http://weebly-blog-post-link/",switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.BlogPostView_1"),icon:"pageblog"},events:{"click .js-blog-post":"blogPostClickHandler","click .js-window":"newWindowHandler","keydown .js-search":"searchResults","click @ui.currentPostWrapper":"toggleViews","click @ui.unlink":"unlink"},ui:{searchInput:".js-search",blogPostWrapper:".blog-post-wrapper",hasBlogPosts:".has-blog-posts",noBlogPosts:".no-blog-posts",currentPostWrapper:".el-options-url-group",postSelector:".blog-post-selector",currentPostInput:".current-post-input",unlink:".js-unlink"},initialize:function(e){var t=this;t.options=e.options},templateHelpers:function(){var e=this,t=e.model.get("blogPost"),i;if(t){i=t.split("/").pop().replace(".html","")}return{disableNewWindow:e.options.disableNewWindow,currentPostTitle:i}},onRender:function(){var e=this;if(e.ui.searchInput.length>0){e.search=o.initialize(e.ui.searchInput);e.listenTo(e.search,"inputsearch:clear",function(){e.ui.searchInput.keydown()})}e.getBlogPosts()},getBlogPosts:function(){var t=this,i=e.Editor.RPC.Blog?e.Editor.RPC.Blog:e.Commerce.RPC.ComLinker;i.getBlogPosts().done(function(e){var i=t.model.get("blogPost");n.each(e,function(e){var n=t.BLOG_LINK_PREPEND+e["page_id"]+"/"+e["post_id"]+"/"+e["post_link"];if(n===decodeURIComponent(i)){e["checked"]=true}});t.model.set({hasBlogPosts:e.length>0,blogPosts:e});t.renderBlogPosts()})},renderBlogPosts:function(){var e=this,t,n=e.ui.blogPostWrapper,r=e.model.get("hasBlogPosts");if(r){if(e.model.get("blogPosts")){n.empty();t=i.render(a,e.model.attributes);n.append(t)}}e.ui.hasBlogPosts.toggleClass("hidden",!r);e.ui.noBlogPosts.toggleClass("hidden",r)},blogPostClickHandler:function(e){var i=this,n=t(e.currentTarget),r=n.find("input").val(),o=n.find(".js-name").text();e.preventDefault();i.ui.postSelector.find("input:checked").prop("checked",false);n.find("input").prop("checked",true);if(i.model.get("blogPost")!==r){var s=i.model.get("newWindow");i.model.set({newWindow:s,value:i.BLOG_LINK_PREPEND+r,blogPost:r});i.ui.currentPostInput.val(o)}i.toggleViews()},newWindowHandler:function(e){var i=this,n=t(e.currentTarget),r=i.$el.find(".js-blog-post input:checked").val();if(r){i.model.set("value",i.BLOG_LINK_PREPEND+r)}i.model.set("newWindow",n.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),i=e.model.get("newWindow")===true;return t?[t,i]:t},filterSearchResults:function(e){var t=this;n.each(t.model.get("blogPosts"),function(t){if(e===""||t["post_title"].toLowerCase().indexOf(e)>-1){t["hiddenBlogPost"]=false}else{t["hiddenBlogPost"]=true}});t.ui.blogPostWrapper.empty();t.renderBlogPosts()},toggleViews:function(){var e=this,t=e.ui.currentPostWrapper.is(":visible");if(t){e.ui.currentPostWrapper.hide();e.ui.postSelector.slideToggle(200,"swing")}else{e.ui.postSelector.slideToggle(200,"swing",function(){e.ui.currentPostWrapper.show()})}}});return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(2),i(59),i(654)],r=function(e,t,i,n,r){var o=n.extend({template:t.compile(r),switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.EmailView_1"),icon:"pageemail"},ui:{input:".js-email-input",inputWrapper:".js-input-wrapper",unlink:".js-unlink"},events:{"focus @ui.input":"setGroupState","blur @ui.input":"blurHandler","keyup @ui.input":"changeUnlinkState","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options},onRender:function(){this.changeUnlinkState()},templateHelpers:function(){var e=this,t=e.model.get("email");return{value:t}},setGroupState:function(){this.ui.inputWrapper.addClass("is-focused")},blurHandler:function(t){var i=this,n=t?e(t.currentTarget).val():i.ui.input.val(),r=/^[a-zA-Z0-9\-\_\.\+\~\#\*\'']+@[a-zA-Z0-9\-]+\.[a-zA-Z]+[a-z0-9A-Z\.\-\?\=\&]*$/,o=n!==""&&!n.match(r);if(e(t.relatedTarget).is(i.ui.unlink)){return false}this.ui.inputWrapper.removeClass("is-focused");i.ui.inputWrapper.toggleClass("is-invalid",o);i.ui.inputWrapper.find(".input-group__invalid-text").toggleClass("is-visible",o);if(n!==i.model.get("email")){if(n!==""){i.model.set("value","mailto:"+n)}else{i.model.set("value","")}i.model.set("email",n)}}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(2),i(7),i(21),i(59),i(86),i(53),i(655),i(659)],r=function(e,t,n,r,o,s,a,l,c,u){var d=s.extend({getTemplate:function(){return t.compile(c)},FILE_LINK_PREPEND:"http://weebly-file/",switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.FileView_1"),icon:"pagefile"},ui:{uploadFile:".js-upload-file",uploadFileContainer:".js-upload-file-container",deleteButtons:".delete",files:".js-file",fileSearch:".js-search",filesWrapper:".files-wrapper",fileSelector:".file-selector",currentFileInput:".current-file-input",currentFileWrapper:".el-options-url-group",unlink:".js-unlink"},events:{"click @ui.files":"clickHandler","click @ui.uploadFile":"uploadHandler","keydown @ui.fileSearch":"searchResults","click .js-window":"newWindowHandler","click @ui.currentFileWrapper":"toggleViews","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options;l.initialize()},templateHelpers:function(){var e=this,t=e.model.get("location"),i;if(t){i=e.getFileName(t)}return{disableNewWindow:e.options.disableNewWindow,currentFileTitle:i}},onRender:function(){var e=this;e.ui.filesWrapper.empty();e.search=a.initialize(e.ui.fileSearch);e.search.on("inputsearch:clear",function(){e.ui.fileSearch.keydown()});e.getFiles();if(o.inEditorContext()||e.isSpringboardContext()){var t=i(219);t.setupFileUploader({el:e.ui.uploadFileContainer,target:".js-upload-file",zIndex:99999,type:"link_file",size:"",ucfid:e.options["ucfid"]||"",ucfpid:"",successCallback:e.uploadCallback.bind(e)})}e.listenTo(e.panel.panelSwitcher.switcher,"open",function(){e.$fileHoverTip.remove();e.$fileHoverTip=null})},isSpringboardContext:function(){return window.Weebly.springboardAccount!==undefined},uploadHandler:function(){var e=this;if(!o.inEditorContext()){r.commands.setHandler("uploadCallback",function(t,i){e.uploadCallback.call(e,i);r.execute("dragndrop:dialog:close")});r.execute("determineUpload","file","",e.options["ucfid"]||"","","uploadCallback",true)}},uploadCallback:function(e){var t=this;if(!e.match(/error/i)){var i=false;if(e.match(/\.pdf$/)){i=true}t.model.set({value:t.FILE_LINK_PREPEND+e,location:e,newWinodw:i});t.onRender();t.toggleViews();t.ui.currentFileInput.val(t.getFileName(e))}},getFiles:function(){var e=this,t=Weebly.Editor?Weebly.Editor.RPC.Linker:Weebly.Commerce.RPC.ComLinker;t.getFiles().done(function(t){var i=JSON.parse(t),r=e.model.get("location");n.each(i,function(t){var i=e.getFileName(t["location"]);if(t["location"]===r){t["checked"]=true}t["cleanedLocation"]=e.getFileName(t["location"]);t["shortenedLocation"]=e.parseFileName(i)});e.model.set("files",i);e.renderFiles()}).fail()},renderFiles:function(){var e=this,i,n=e.ui.filesWrapper;if(e.model.get("files")){n.empty();i=t.render(u,e.model.attributes);n.append(i);e.bindUIElements()}},clickHandler:function(t){var i=this,n=e(t.currentTarget),r=n.find("[name=check]"),o=r.val();t.preventDefault();i.$el.find(":checked").removeAttr("checked");i.$el.find('[value= "'+o+'"]').attr("checked",true);if(o!==i.model.get("location")){var s=i.model.get("newWindow");i.model.set({newWindow:s,value:i.FILE_LINK_PREPEND+o,location:o});i.ui.currentFileInput.val(i.getFileName(o))}i.toggleViews()},newWindowHandler:function(t){var i=this,n=e(t.currentTarget),r=i.ui.files.find("input:checked").val();if(r){i.model.set("value",i.FILE_LINK_PREPEND+r)}i.model.set("newWindow",n.prop("checked"))},parseFileName:function(e){if(e.length>20){return e.substr(0,8)+"..."+e.substr(e.length-8,e.length)}return e},onClose:function(){r.commands.removeHandler("uploadCallback")},filterSearchResults:function(e){var t=this;n.each(t.model.get("files"),function(i){var n=t.getFileName(i["location"].toLowerCase());if(e===""||n.indexOf(e)>-1){i["hiddenFile"]=false}else{i["hiddenFile"]=true}});t.renderFiles()},getValue:function(){var e=this,t=e.model.get("value"),i=e.model.get("newWindow")===true;return t?[t,i]:t},getFileName:function(e){return e.replace(/^.*[\\\/]/,"")},toggleViews:function(){var e=this,t=e.ui.currentFileWrapper.is(":visible");if(t){e.ui.currentFileWrapper.hide();e.ui.fileSelector.slideToggle(200,"swing")}else{e.ui.fileSelector.slideToggle(200,"swing",function(){e.ui.currentFileWrapper.show()})}}});return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(2),i(59),i(656)],r=function(e,t,i,n,r){var o=n.extend({template:t.compile(r),switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.GiftCardUrlView_1"),icon:"dollar"},ui:{window:".js-window"},events:{"click @ui.window":"newWindowHandler"},initialize:function(e){this.options=e.options;this.model.set({value:this.options.giftCardUrl,giftCard:this.options.giftCardUrl})},templateHelpers:function(){return{disableNewWindow:this.options.disableNewWindow,placeholder:_W.utl("ecommerce.store.checkout.advanced_settings.gift_cards_url_placeholder"),value:this.model.get("value"),newWindow:this.model.get("newWindow")}},getValue:function(){var e=this.model.get("value");var t=this.model.get("newWindow")===true;return e?[e,t]:e},newWindowHandler:function(t){var i=e(t.currentTarget);this.model.set("newWindow",i.prop("checked"))}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(2),i(59),i(657)],r=function(e,t,i,n,r){var o=n.extend({getTemplate:function(){return t.compile(r)},switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.PhoneNumberView_1"),icon:"phone"},ui:{input:".js-phone-input",unlink:".js-unlink"},events:{"blur @ui.input":"blurHandler","click @ui.unlink":"unlink","keyup @ui.input":"changeUnlinkState"},initialize:function(e){var t=this;t.options=e.options},templateHelpers:function(){var e=this,t=e.model.get("phone");return{value:t}},onRender:function(){this.changeUnlinkState()},blurHandler:function(t){var i=this,n=t?e(t.currentTarget).val():i.ui.input.val();n=n.replace(/\D/g,"");if(n!==i.model.get("phone")){if(n!==""){i.model.set("value","tel:"+n)}else{i.model.set("value","")}i.model.set("phone",n)}}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(3),i(2),i(6),i(11),i(7),i(21),i(59),i(86),i(51),i(74),i(664),i(658),i(662)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p){var m=l.extend({getTemplate:function(){return i.compile(f)},switcherOptions:{title:e.utl("javascript.editor-site-shared.build.linker.item-views.StorePageView_1"),icon:"pageproduct"},ui:{categories:".js-categories",products:".js-products",storefront:".js-storefront",categoryToggle:".js-toggle-categories",productToggle:".js-toggle-products",storePageSearch:".js-search",categoriesWrapper:".categories-wrapper",productsWrapper:".products-wrapper",categoriesPageCount:".categories-pg-cnt",productsPageCount:".products-pg-cnt",spinner:".spinner",checks:".js-check",currentStorePageInput:".current-page-input",currentPageWrapper:".el-options-url-group",unlink:".js-unlink",storePageSelector:".store-page-selector"},events:{"click @ui.categoryToggle":"toggleCategories","click @ui.productToggle":"toggleProducts","click .js-open-store":"openStoreTab","click .js-categories, .js-products, .js-storefront":"optionClickHandler","click .js-window":"newWindowHandler","keydown @ui.storePageSearch":"searchResults","click @ui.currentPageWrapper":"toggleViews","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options;t.loadProductsAndCategories()},templateHelpers:function(){var t=this,i=t.model.get("products"),r=t.model.get("categories"),o=t.model.get("hasStore"),s="/"+t.model.get("store"),a=t.model.get("currentStoreLinkType"),l;if(s&&i&&r){switch(a){case"storefrontLink":l=e.utl("templates.editor.build.linker.store-page_1");break;case"product":l=n.findWhere(i,{site_link:s})["name"];break;case"category":l=n.findWhere(r,{site_link:s})["name"];break}}return{disableNewWindow:t.options.disableNewWindow,hasStore:typeof o!=="undefined"?o:true,categoryPageCount:typeof r!=="undefined"?r.length.toString():null,productPageCount:typeof i!=="undefined"?i.length.toString():null,isLoading:typeof t.isLoading==="undefined"?true:t.isLoading,currentPageTitle:l,newProductHref:"#/store/products/new"}},onRender:function(){var e=this,t=e.model.get("currentStoreLinkType"),n=i.render(h,e.model.attributes),r=i.render(p,e.model.attributes);if(e.ui.storePageSearch.length>0){e.search=c.initialize(e.ui.storePageSearch);e.listenTo(e.search,"inputsearch:clear",function(){e.ui.storePageSearch.keydown()})}e.ui.categoriesWrapper.append(n);e.ui.productsWrapper.append(r);e.bindUIElements();if(t){if(t==="category"){e.ui.categoriesWrapper.removeClass("hidden");e.ui.categoryToggle.find("input").prop("checked",true)}else if(t==="product"){e.ui.productsWrapper.removeClass("hidden");e.ui.productToggle.find("input").prop("checked",true)}else{e.ui.storefront.find("input").prop("checked",true)}}},loadProductsAndCategories:function(e){var i=this;i.model.set("searchValue",e||"");if(typeof e!=="undefined"){i.ui.spinner.show();i.ui.checks.hide()}else if(i.model.get("store")){e=i.model.get("store").split("/").pop().replace(/\.\w+$/,"").replace(/[_\W]+/g," ")}var r=new u([],{mode:"infinite",state:{pageSize:200},searchText:e});var o=new d([],{mode:"infinite",state:{pageSize:200},searchText:e});i.isLoading=true;t.when(r.getPage(1),o.getPage(1,{merge:false})).done(function(){i.getSiteCategoryId().done(function(t){var s=r.findWhere({site_category_id:t}).get("site_link");var a;var l=[];var c=[];if(s===i.model.get("store")){i.model.set("currentStoreLinkType","storefrontLink")}s="/"+s;i.model.set("storefrontLink",s);a=n.filter(JSON.parse(JSON.stringify(r.models)),function(e){return e["name"]!=="Featured Products"});c=n.map(a,function(e){if(e["site_link"]===i.model.get("store")){e["checked"]=true;i.model.set("currentStoreLinkType","category")}e["site_link"]="/"+e["site_link"];return e});i.model.set("categories",c);l=n.map(JSON.parse(JSON.stringify(o.models)),function(e){if(e["site_link"]===i.model.get("store")){e["checked"]=true;i.model.set("currentStoreLinkType","product")}e["site_link"]="/"+e["site_link"];return e});i.model.set("products",l);if(!e){i.model.set("hasStore",i.model.get("products").length>0)}if(typeof i.ui.spinner!=="string"){i.ui.spinner.hide();i.ui.checks.show()}i.isLoading=false;i.render()})})},getSiteCategoryId:function(){var i=t.Deferred();if(e.Commerce&&e.Commerce.storefrontSettings){i.resolve(e.Commerce.storefrontSettings.get("storefront_category_id"))}else if(a.inEditorContext()){i.resolve(r.commerce.storefrontSettings.get("storefront_category_id"))}else{i=s.request("editor:commerce:storefront:link:get")}return i.promise()},toggleCategories:function(e){var t=this,i=t.ui.categoryToggle.find("input");if(e){e.preventDefault();if(t.isLoading){e.stopPropagation();e.stopImmediatePropagation();return}}if(t.ui.productsWrapper.is(":visible")){t.toggleProducts()}i.prop("checked",!i.prop("checked"));t.ui.categoriesWrapper.toggleClass("hidden")},toggleProducts:function(e){var t=this,i=t.ui.productToggle.find("input");if(e){e.preventDefault();if(t.isLoading){e.stopPropagation();e.stopImmediatePropagation();return}}if(t.ui.categoriesWrapper.is(":visible")){t.toggleCategories()}i.prop("checked",!i.prop("checked"));t.ui.productsWrapper.toggleClass("hidden")},openStoreTab:function(e){var t=this;Weebly.Elements.unselectElement();if(a.inEditorContext()){t.options.close()}else{e.preventDefault();o.vent.trigger("element:options:dialog:close");s.execute("store:newProductPage:show")}},optionClickHandler:function(e){var i=this,n=t(e.currentTarget),r=n.find("input"),o=n.find(".js-name").text();e.preventDefault();if(i.isLoading){e.stopPropagation();return}if(n.hasClass("js-products")){i.model.set("currentStoreLinkType","products")}else if(n.hasClass("js-categories")){i.model.set("currentStoreLinkType","categories")}i.ui.storefront.find("input").prop("checked",false);i.$el.find("[type=checkbox]:not(.js-window)").prop("checked",false);r.prop("checked",true);if(r.val()!==i.model.get("store")){var s=i.model.get("newWindow");i.model.set({newWindow:s,value:r.val(),store:r.val()});i.ui.currentStorePageInput.val(o)}i.toggleViews()},newWindowHandler:function(e){var i=this,n=t(e.currentTarget),r=i.$el.find(".js-store-page:checked").val();if(r){i.model.set("value",r)}i.model.set("newWindow",n.prop("checked"))},getValue:function(){var e=this,t=e.model.get("value"),i=e.model.get("newWindow")===true;return t?[t,i]:t},searchResults:n.debounce(function(e){var i=this,n=t(e.currentTarget).val();i.loadProductsAndCategories(n.toLowerCase().trim())},500),toggleViews:function(){var e=this,t=e.ui.currentPageWrapper.is(":visible");if(t){e.ui.currentPageWrapper.hide();e.ui.storePageSelector.slideToggle(200,"swing")}else{e.ui.storePageSelector.slideToggle(200,"swing",function(){e.ui.currentPageWrapper.show()})}}});return m}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(2),i(59),i(47),i(665)],r=function(e,t,i,n,r,o){var s=n.extend({template:t.compile(o),switcherOptions:{title:_W.utl("javascript.editor-site-shared.build.linker.item-views.UrlView_1"),icon:"pageexternal"},ui:{input:".js-url-input",inputWrapper:".js-input-wrapper",window:".js-window",unlink:".js-unlink"},events:{"focus @ui.input":"setGroupState","blur @ui.input":"urlBlurHandler","click @ui.window":"newWindowHandler","keyup @ui.input":"changeUnlinkState","click @ui.unlink":"unlink"},initialize:function(e){var t=this;t.options=e.options},onRender:function(){this.changeUnlinkState()},templateHelpers:function(){var e=this,t=e.model.get("url")||e.model.get("value");if(!e.model.has("newWindow")&&!t){e.model.set("newWindow",true)}e.model.set("value",t);return{disableNewWindow:e.options.disableNewWindow,placeholder:"http://www.google.com",value:t,newWindow:e.model.get("newWindow")}},setGroupState:function(){this.ui.inputWrapper.addClass("is-focused")},getValue:function(){var e=this,t=e.model.get("value"),i=e.model.get("newWindow")===true;return t?[t,i]:t},urlBlurHandler:function(t){var i=this,n=t?e(t.currentTarget).val().strip():i.ui.input.val().strip();if(t&&e(t.relatedTarget).is(i.ui.unlink)){return false}if(!n.match(/^[\w-]+:\/\//)&&n!==""){var o=n.indexOf(":")>-1,s=r.hasValidUrl(n);if(n===n.replace(/<\/?[^>]+>/g,"")&&s){if(!o&&n!==""){n="http://"+n}this.ui.inputWrapper.removeClass("is-invalid");this.ui.inputWrapper.find(".input-group__invalid-text").removeClass("is-visible")}else{this.ui.inputWrapper.addClass("is-invalid");this.ui.inputWrapper.find(".input-group__invalid-text").addClass("is-visible");return}}i.model.set({value:n,url:n})},newWindowHandler:function(t){var i=this,n=e(t.currentTarget);i.model.set("newWindow",n.prop("checked"))}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(7),i(10),i(89),i(21),i(18)],r=function(e,t,i,n,r,o){var s=e.Model.extend(n).extend({idAttribute:"header_setting_id",MODEL_TYPE:"header-section",initialize:function(e){if(!r.inEditorContext()){t.commands.removeHandlers(["headerSectionSetting:properties:update","headerSectionSetting:background:image:update"]);t.commands.setHandlers({"headerSectionSetting:properties:update":this.updateProperties.bind(this),"headerSectionSetting:background:image:update":this.updateHeaderSectionBackgroundImage.bind(this)})}},isBackgroundEditable:function(){return o.getCurrentThemeHeaderSectionSettingValue("editable-background",true,window.currentPageType)},isBackgroundResizeable:function(){return o.getCurrentThemeHeaderSectionSettingValue("resizable",true,window.currentPageType)},updateProperties:function(e){this.set("properties",e);this.trigger("headerSectionSetting:updated")},updateHeaderSectionBackgroundImage:function(e,t){this.setBackgroundImage(t);if(this.isNew()){this.set("header_setting_id",e)}},defaults:function(){return{user_id:window.userID,site_id:window.currentSite,page_id:window.currentPage,properties:this.getDefaultProperty()}},getDefaultProperty:function(){var e=this.SECTION_PROPERTIES;var t={};t[e.BACKGROUND_KEY]={};t[e.VERSION_KEY]=e.CURRENT_VERSION;t[e.BACKGROUND_KEY][e.BACKGROUND_TYPES_KEY]=null;return t},set:function(t,i,n){var r;if(t==null)return this;if(typeof t==="object"){r=t;n=i}else{(r={})[t]=i}if(typeof r.properties==="string"){r.properties=JSON.parse(r.properties)}return e.Model.prototype.set.call(this,r,n)},generateSelector:function(){return"."+i.HEADER_SECTION_CLASS_NAME}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(198),i(182)],r=function(e,t,i){var n=Class.create({id:null,url:"",handle:null,events:null,options:{windowId:null,top:"center",left:"center",width:500,height:400,location:false,toolbar:false,menubar:false,status:false,resizable:false,scrollbars:false,autoopen:false},initialize:function(e,n){this.options=t.mergeOptions(this.options,n);this.id=this.options.windowId||this.generateId();this.url=e;this.events=new i;if(this.options.autoopen){this.open()}},open:function(){if(this.handle){this.handle.focus();return this}this.handle=window.open(this.url,this.id,this.buildParams());return this},close:function(){if(!this.handle){return}this.handle.close();this.handle=null},generateId:function(){var e="WEEBLY_BROWSER_WINDOW_UNIQUE_ID_LIST";window[e]=window[e]||0;return"WeeblyBrowserWindow"+ ++window[e]},buildParams:function(){var e=this.options,t={};var i=["location","toolbar","menubar","status","resizable","scrollbars"];for(var n=0;n<i.length;n++){var r=i[n];t[r]=e[r]?"yes":"no"}var o=["width","height"];for(var n=0;n<o.length;n++){var r=o[n];t[r]=""+e[r]}if(e["top"]=="center"){var s=parseInt(t["height"],10),a=typeof window.screenY!="undefined"?window.screenY:window.screenTop,l=document.viewport.getHeight();t["top"]=parseInt(a+(l-s)/2.5,10)}if(e["left"]=="center"){var c=parseInt(t["width"],10),u=typeof window.screenX!="undefined"?window.screenX:window.screenLeft,d=document.viewport.getWidth();t["left"]=parseInt(u+(d-c)/2,10)}var f=[];for(r in t){f.push(r+"="+t[r])}return f.join(",")}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},,function(e,t,i){var n,r;!(n=[i(1),i(5),i(311)],r=function(e,t){var i;var n=[];var r=function(t){var i=t.width();if(i===0){var n=t.parentsUntil(".platform-element-contents");if(n.eq(n.length-1).prop("tagName").toUpperCase()!=="HTML"){var r=0;n.each(function(t){if(t+1!==n.length){r+=o(e(this).css("padding-left"));r+=o(e(this).css("padding-right"));r+=o(e(this).css("margin-left"));r+=o(e(this).css("margin-right"))}});i=Math.max(n.eq(n.length-1).width()-r,0)}}i=i&&i<400?i<235?235:i:400;return i;function o(e){if(e.indexOf("px")!==-1&&e.indexOf("calc")===-1){return parseInt(e)}return 0}};var o=function(){e.each(n,function(){var t=e(this.container).parents(".wsite-html5audio");var i=r(t.parent());this.setPlayerSize(i,this.height);this.setControlsSize()})};var s=function(t){var i=e(".wsite-html5audio audio",t),o=false;n=[];i.each(function(){var t=e(this),i=t.parents(".wsite-html5audio"),a=t.attr("data-track"),l=t.attr("data-artist"),c=t.attr("data-autostart"),u;t.attr("preload","none");c=c==="yes"?true:false;if(c&&!o){o=true}else{c=false}u=r(i.parent());var d={audioWidth:u,enableKeyboard:false,success:function(e,t,i){if(Weebly.mobile_navigation&&Weebly.mobile_navigation.resizeScreen){Weebly.mobile_navigation.resizeScreen()}s(e,i)}};var f=t.attr("src");if(typeof f=="undefined"||f===null||f==""||f.charAt(f.length-1)=="/"){d.type="audio/mp3"}if(c){d.success=function(e,t,i){if(i&&i.play){if(e.pluginType==="native"){i.load()}s(e,i);i.play()}}}var h=new mejs.MediaElementPlayer(t,d);n.push(h);var p=i.find(".mejs-container");if(p.length>0){var m=a&&a.length>0,g=l&&l.length>0;var v='<div class="wsite-mejs-track">';if(m&&g){v+='<span class="wsite-mejs-title">'+a+"</span>"+'<span class="wsite-mejs-track-sep"> - </span>'+'<span class="wsite-mejs-artist">'+l+"</span>"+"</div>"}else if(m){v+='<span class="wsite-mejs-title">'+a+"</span>"+"</div>"}else if(g){v+='<span class="wsite-mejs-artist">'+l+"</span>"+"</div>"}else{v=""}p.append(v)}});function s(t,i){var n=e("#"+i.id).find("button");t.addEventListener("play",function(){n.blur()},false);t.addEventListener("pause",function(){n.blur()},false)}};e(function(){if(Weebly.EDITOR){editorApp.vent.on("themeRendered",o);return}s();o();e(window).load(o)});return{init:s}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(13),i(278),i(353)],r=function(e,t,i,n){var r=t.extend(e.extend({},n,{size:"small",height:300,isModal:false,closeOnClickAway:true,className:"dialog dialog--movecopy dialog-option-tip",panelEvents:["page:selected"],constructor:function(e){e=e||{};if(!e.initialPanel&&!e.panels){e.initialPanel=new i}t.prototype.constructor.call(this,e)},setIsLoading:function(e){this.currentPanel.setIsLoading(e)}}));return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(531),i(279)],r=function(e,t,i){var n=t.extend({panelEvents:["page:selected","section:shift:up","section:shift:down"],constructor:function(n){n=e.extend({allowLeftRight:false,positionRefresh:false},n);if(!n.initialPanel){n.initialPanel=new i({section:n.section,selectorTitle:_W.utl("sections.movecopy.copy_selector_heading"),disablePageKinds:["store","blog"],disablePageLayouts:["splash"]})}t.prototype.constructor.call(this,n)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(13),i(673)],r=function(e,t,i){var n=t.Panel.extend({disabledClass:"is-disabled",events:{"click .js-up":"onClickUp","click .js-down":"onClickDown"},initialize:function(e){this.listenTo(e.section.collection,"sort",function(){this.renderContent(this.$contentInnerEl);this.delegateEvents()})},renderContent:function(t){t.html(e.render(i));if(this.isUpDisabled()){this.setButtonDisabled(this.$(".js-up"))}if(this.isDownDisabled()){this.setButtonDisabled(this.$(".js-down"))}},setButtonDisabled:function(e){e.addClass(this.disabledClass).prop("disabled",true)},onClickUp:function(){this.trigger("section:shift:up")},onClickDown:function(){this.trigger("section:shift:down")},isUpDisabled:function(){return this.options.section.collection.at(0)===this.options.section},
isDownDisabled:function(){return this.options.section.collection.last()===this.options.section}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(176),i(667)],r=function(e,t){var i=e.extend({className:"topbar topbar--movecopy",template:t,activeClass:"is-active",events:{"click .js-copy":"onClickCopy","click .js-move":"onClickMove"},setActiveButton:function(e){e.addClass(this.activeClass).siblings().removeClass(this.activeClass)},setActiveCopy:function(){this.setActiveButton(this.$(".js-copy"))},setActiveMove:function(){this.setActiveButton(this.$(".js-move"))},onClickCopy:function(){this.setActiveCopy();this.trigger("change:mode:copy")},onClickMove:function(){this.setActiveMove();this.trigger("change:mode:move")}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2)],r=function(e,t){var i={for:function(i){var n=["blog","link","nonclickable","store","category","product"];var r=t.contains(n,i)?this[i]:this["page"];r.layout=r.layout||window.getDefaultPageType(window.currentThemeData,e.view.isMobileView);return r},page:{title:e.stl("javascript.editor.page-manager.entities.Defaults_2"),kind:"page"},nonclickable:{title:e.stl("javascript.editor.page-manager.entities.Defaults_8"),kind:"nonclickable",nonclickable:1},link:{title:e.stl("javascript.editor.page-manager.entities.Defaults_3"),kind:"page",extlink:"http://",search_hidden:1},blog:{title:e.stl("javascript.editor.page-manager.entities.Defaults_4"),kind:"blog"},store:{title:e.stl("javascript.editor.page-manager.entities.Defaults_5"),kind:"store",layout:"no-header",store_page_kind:"category",store_page_kind_id:"1"},category:{title:e.stl("javascript.editor.page-manager.entities.Defaults_6"),kind:"store",layout:"no-header",store_page_kind:"category"},product:{title:e.stl("javascript.editor.page-manager.entities.Defaults_7"),kind:"store",layout:"no-header",store_page_kind:"product"}};return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t={initialize:function(e){this.length=0;this.items={};if(e.length>0){this.flatten(e)}return this},flatten:function(e){var t=this;e.each(function(e){t.add(e);t.flatten(e.get("children"))})},toJSON:function(){var t={};e.each(this.items,function(e){t[e.id]=e.toJSON()});return t},get:function(e){return this.items[e]},add:function(e){if(this.items[e.id])return;this.length+=1;this.items[e.id]=e},remove:function(e){this.length-=1;delete this.items[e.id]},each:function(t){e.each(this.items,function(e,i){t.call(null,e,i)});return this},some:function(t){return e.some(this.items,function(e,i){return t.call(null,e,i)})},map:function(t){return e.map(this.items,function(e,i){return t.call(null,e,i)})},find:function(t){return e.find(this.items,function(e,i){return t.call(null,e,i)})}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(9),i(535),i(536)],r=function(e,t,i,n,r,o){var s=n.Model.extend({defaults:function(e){if(this.isNew()&&e)return r.for(e);return{}},initialize:function(e){e=e||{};this.set(this.defaults(e.page_kind));this.initChildren();this.on("change",this.onModelChange.bind(this));this.listenTo(this.get("children"),{changed:function(e){this.trigger("changed",e)},"page:go":function(e){this.trigger("page:go",e)},removed:function(e){this.trigger("removed",e)}})},onModelChange:function(){var e=i.keys(this.changedAttributes());var t=["title","hidden","pwprotected","membership_required","nav_menu"];var n=i.intersection(t,e).length>0;if(n){this.trigger("changed",this)}var r=["title","hidden","layout","store_page_kind_id"];var o=i.intersection(r,e).length>0;if(o){this.trigger("page:go",this)}},initChildren:function(){var e=this.get("children");if(e instanceof a===false){this.set("children",new a(e,{subcollection:true}))}},isCommercePage:function(){return i.contains(["store","category","product"],this.get("page_kind"))},hasCommerceModel:function(e){return this.hasCategory(e)||this.hasProduct(e)},hasProduct:function(e){return this.get("store_page_kind_id")==e.get("site_product_id")},hasCategory:function(e){return this.get("store_page_kind_id")==e.get("site_category_id")},commerceCleanup:function(){var t=this;e.Editor.RPC.Page.cleanupCommercePage(t.id).done(function(){t.set({hidden:1,kind:"page",page_kind:"page",store_page_kind:null,store_page_kind_id:null})})},unescapedAttr:function(e){var i=this.get(e);return t("<div/>").html(i).text()},sync:function(t,n,r){var o=n.hasChanged("store_page_kind_id");if(n.collection){n.set("order",n.collection.indexOf(n)+1)}if(n.isNew()){if(n.collection.allPagesProtected()){n.set("pwprotected",1)}}return e.Editor.RPC.Page.savePage(window.currentSite,n.id,n.attributes).then(function(e){e=i.mapObject(e,function(e,t){if(e==="0"||e==="1")e=parseInt(e,10);return e});var t=n.isNew();var r=t?"save":"sync";var s=!i.isEqual(n.toJSON(),e);n.set(e,{silent:true});n.trigger(r,n);if(s){n.trigger("change",n)}if(o){n.trigger("page:go",n)}return n})},destroy:function(t){this.trigger("destroy",this,this.collection,this.collection.indexOf(this));return e.Editor.RPC.Page.removePage(window.currentSite,this.id)},copy:function(){var t=this;var n=e.Editor.RPC.Page.copyPage(window.currentSite,t.id);return n.then(function(e){var n=i.extend(t.toJSON(),{id:e.page_id,children:[]});return new s(n)})},toJSON:function(e){var t=i.clone(this.attributes);t.children=this.get("children").toJSON();return t},canBeHomepage:function(){var e=this.get("page_kind");return e!=="nonclickable"&&e!=="link"}});var a=n.Collection.extend({model:s,initialize:function(e,t){t=t||{};if(!t.subcollection){this.on({"save add":function(e){if(!e.isNew()){this.getHash().add(e)}},removed:function(e){this.getHash().remove(e)}},this)}this.on("destroy",this.relocateChildren,this);n.Collection.prototype.initialize.apply(this,arguments)},saveHierarchy:function(t){this.mirrorHierarchy(t);return e.Editor.RPC.Page.saveHierarchy(window.currentSite,t)},mirrorHierarchy:function(e){var t=this.getHash();function n(e,r){var o=1;i.each(r,function(i){var r=t.get(i.id);r.collection.remove(r,{silent:true});e.add(r,{silent:true});r.set("order",o++);n(r.get("children"),i.children)})}n(this,e)},relocateChildren:function(e,t,i){var n=e.get("children");var r=n.at(0);while(r){n.remove(r);t.add(r,{at:i++});r=n.at(0)}this.trigger("removed",e)},onSitePasswordChange:function(e,t){var i=this.getHash();if(!t){i.each(function(e){e.set("pwprotected",0)});return}var n=i.find(function(e){return e.get("pwprotected")});if(!e&&!n){i.each(function(e){e.set("pwprotected",1)})}},allPagesProtected:function(){return i.all(this.getHash().items,function(e){return parseInt(e.get("pwprotected"))==1})},reset:function(e,t){delete this.pageHash;n.Collection.prototype.reset.call(this,e,t)},getHash:function(){this.pageHash=this.pageHash||o.initialize(this);return this.pageHash},getPage:function(e){return this.getHash().get(e)},getHomepage:function(){return this.at(0)},isHomepage:function(e){return e.id===this.getHomepage().id},canDeleteHomepage:function(){var e=this.at(1);return e&&e.get("page_kind")!=="external"&&e.get("page_kind")!=="nonclickable"},cleanupCommercePages:function(e){this.getHash().each(function(t){if(t.isCommercePage()&&t.hasCommerceModel(e)){t.commerceCleanup()}})}});return{PageModel:s,PageCollection:a}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(13),i(281),i(282),i(540)],r=function(e,t,i,n,r,o,s){var a={steps:r,video:o,topics:s};var l=function(e){var t=this;this.tutorial=e;var i=a[e.get("type")];this.tutorialView=new i({model:e});this.setInitialPanel();this.setDialog()};l.prototype.setDialog=function(){var e=this;this.dialog=new n({hasContentLegacyStyles:false,hasProgressBar:false,initialPanel:this.panel})},l.prototype.setInitialPanel=function(){var e=this;this.panel=new n.Panel({title:_W.utl("platform.Editor.Element.Settings.TutorialModal.Title"),hasContentPadding:false,hasContentLegacyStyles:false,forwardLink:_W.utl("platform.Editor.Element.Settings.TutorialModal.Forward"),backLink:"",onForward:function(){this.close()},content:this.tutorialView})},l.prototype.getDialog=function(){return this.dialog};return l}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(13),i(281),i(282),i(676)],r=function(e,t,i,n,r,o){var s=e.Marionette.ItemView.extend({template:t.compile(o),className:"group__item app-tutorial-topic",tagName:"li",events:{click:"openTopic"},tutorialTypes:{steps:n,video:r},initialize:function(){this.setTutorialView()},setTutorialView:function(){var e=this.tutorialTypes[this.model.get("type")];this.tutorialView=new e({model:this.model})},openTopic:function(){var e=new i.Panel({title:_W.utl("platform.Editor.Element.Settings.TutorialModal.Title"),hasContentPadding:false,hasContentLegacyStyles:false,forwardLink:"",backLink:{isDirectional:true,text:""},content:this.tutorialView});this.trigger("open:app:topic",e)}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(539),i(677)],r=function(e,t,i,n){var r=e.Marionette.CompositeView.extend({template:t.compile(n),className:"app-tutorial-topics app-tutorial",itemView:i,itemViewContainer:".app-tutorial-topics-container",initialize:function(){var t=this;this.collection=new e.Collection(this.model.get("content"))},onItemviewOpenAppTopic:function(e,t){this.dialog.pushPanel(t)}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(2),i(5),i(32),i(182),i(42)],r=function(e,t,i,n,r){var s=Class.create({STATE_NONE:"STATE_NONE",STATE_LOADING:"STATE_LOADING",STATE_SUCCESS:"STATE_SUCCESS",TEXT_LOADING_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Base_1"),TEXT_LOADING_BODY:t.utl("html.weebly.libraries.classes.PublishWindow.Base_2"),TEXT_SUCCESS_TITLE:t.utl("html.weebly.libraries.classes.PublishWindow.Base_3"),URL_SPINNER:"https://"+editorStatic+"/weebly/images/ajax-loader.gif",DEFAULT_HEIGHT:400,DEFAULT_WIDTH:680,getOptions:function(e){return this.mergeOptions({},e)},initialize:function(e){this.options=this.getOptions(e);this.events=new n;this.container=o("publishing-status");this.dialog=this.createDialog();this.visible=false;this.clear();this.init()},init:function(){},open:function(){if(this.visible)return;this.dialog.open();this.visible=true;this.events.fireEvent("open");return this},close:function(e){if(!this.visible)return;e=this.mergeOptions({skipDialog:false,skipGoMain:false},e);this.clear();this.visible=false;this.events.fireEvent("close");!e.skipDialog&&this.dialog.close();!e.skipGoMain&&i.go("main")},clear:function(){this.getTitleElement().innerHTML="";this.getBodyElement().innerHTML="";this.state=this.STATE_NONE;this.events.fireEvent("clear");return this},loading:function(){this.open();this.clear();this.state=this.STATE_LOADING;this.setTitle(this.TEXT_LOADING_TITLE);this.setBody('<div style="text-align:center;display:block;padding-top:90px;">'+'<img src="'+this.URL_SPINNER+'" />'+"<br /><br />"+this.TEXT_LOADING_BODY+"</div><br /><br />");this.dialog.positionDialog();return this},success:function(e){this.open();this.clear();this.state=this.STATE_SUCCESS;this.setTitle(this.TEXT_SUCCESS_TITLE);this.setBody(e);this.dialog.positionDialog();return this},setTitle:function(e){this.getTitleElement().setInnerText(e)},setBody:function(e){this.getBodyElement().innerHTML=e},getTitleElement:function(){return this.container.select(".titled-box-title")[0]},getBodyElement:function(){return o("exportText")},createDialog:function(){var e={modal:true,blackoutOpacity:.8,onClose:this.close.bind(this,{skipDialog:true})};return new r(this.container,this.getOptions(e))},mergeOptions:function(){var t=Array.prototype.slice.apply(arguments),i={};e.each(t,function(t){e.extend(i,t)});return i}});return s}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){var n,r;!(n=[i(1),i(283)],r=function(e,t){var i=new Class.create(t,{isAuthenticated:function($super){return $super()&&this.element.readAttribute("data-has-link")==="1"},auth:function(){var t=e(this.element),i=t.parents(".weebly-dialog"),n=i.find(".publish-share-fb-connect").show();t.fbConnect({autoLaunch:true,dialog:i,backButton:i.find(".fb-share-back"),pubWindow:true,onStart:n.show.bind(n),onSuccess:this.authSuccess.bind(this),onClose:this.resetState.bind(this)})}});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(283)],r=function(e,t){var i=new Class.create(t,{});return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(357)],r=function(e,t){var i={baseObject:{model:t.model,comparator:function(e){return e.get("section_order")},getBackgroundImages:function(){var e={};this.each(function(t){var i;var n;if(t.hasBackgroundImage()){i=t.get("section_id");n=t.getBackgroundContent();e[i]=n}});return e},getBackgroundVideos:function(){var e={};this.each(function(t){if(t.hasBackgroundVideo()){var i=t.get("section_id");var n=t.getBackgroundContent();e[i]=n}});return e}}};i.collection=e.Collection.extend(i.baseObject);return i}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(4),i(188)],r=function(e,t,i){var n=t.Collection.extend({model:i,fetchOptions:{},fetch:function(e){var t=this;var i=e.target_id;var n=e.target_type;return Weebly.Section.RPC.HeaderSection.getHeaderSection(i,n).done(function(r){var o=e.reset?"reset":"set";var s=r?r:{};s.target_id=i;s.target_type=n;t[o]([s],e);t.trigger("sync",t,[s],e);return t})}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},,,,function(e,t,i){var n,r;!(n=[i(2),i(5),i(55)],r=function(e,t,i){var n={identifyType:function(e){var t;var i=e["options"];var n=i.toLowerCase();var r=e["result"];if(n.indexOf("/")>0){return this.parseSelectType(i,r)}else if(e["property"]==="%%CAPTION%%"){return{type:"text"}}else{var o=e["hidden"]==="1";return this.getTypeByOption(n,o)}},convertProperty:function(t,i){var n=e.extend({label:i["title"],name:i["title"].replace(/\s/g,"_").toLowerCase(),cfpid:i["cfpid"],default:"",legacy:true},t);if(n["type"]==="text"){n={label:i["title"],type:"group",properties:[n]}}return n},parseSelectType:function(t,i){var n=t.split("/");var r="";var o=i.split("/");var s=/^(?=.*left)(?=.*center)(?=.*right).*$/;if(s.test(t.toLowerCase())){r="align";n=e.map(n,function(e){return e.toLowerCase()})}else{r="select"}return{values:this.getValuesList(n,o),type:r}},getValuesList:function(t,i){if(t.length!==i.length){return[]}return e.map(t,function(e,t){return{name:e,value:i[t]}})},getTypeByOption:function(e,i){var n={};switch(e){case"%%number%%":n["type"]="int";break;case"%%fileupload%%":n={type:"button",label:t.utl("javascript.element.editor.utils.replace_image"),arguments:["this","image","250","ucfid","ucfpid"],action:"menuBarChooseImage"};break;case"%%fileuploadaudio%%":n={type:"button",label:t.utl("javascript.element.editor.utils.upload_audio"),action:"determineUpload",arguments:["audio","","ucfid","ucfpid"]};break;case"%%link%%":n={type:"link",arguments:["ucfid","ucfpid"]};break;default:if(i){return false}n["type"]="string";break}return n}};var r={manifest:"1",version:"1.0.0",elements:[{name:"",path:"files",version:"1.0.0",settings:{config:{autopopup:false},properties:[{label:"",type:"group",properties:[]}]}}]};var o={label:t.utl("javascript.element.editor.utils.edit_image"),name:"editImage",type:"button",action:"require",requireContext:"site/editor/ui/images/controls",requireFunction:"startImageEditor",arguments:["%%ELEMENTID%%"]};var s={convertToManifest:function(t,s,a){var l=JSON.parse(JSON.stringify(r));var c=l.elements[0];var u=c.settings.properties[0].properties;c["name"]=s.replace("<br/>"," ");t=e.sortBy(t,function(){return parseInt(t.displayOrder)});e.each(t,function(e){var t=n.identifyType(e);if(!t){return}var i=n.convertProperty(t,e);if(i["type"]==="button"){c.settings.properties.unshift(i)}else{u.push(i)}});if(i.isImageElement(a)){c.settings.properties.unshift(o)}return u.length>0?l:false}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(13),i(53),i(35)],r=function(e,t,i,n,r,o){var s=n.Panel.extend({hasContentLegacyStyles:false,events:{"click .has-action":"pushByIndex","click .btn--action":"pushByIndex","click .btn-control":"pushByIndex"},constructor:function(e,t){var i=this;if(t.actionPanes){i.actionPanes=t.actionPanes}if(t.contentCollection){i.contentCollection=t.contentCollection}n.Panel.prototype.constructor.apply(i,arguments)},pushByIndex:function(e){var i=this,n,r=t(e.currentTarget),s=typeof r.data("action-index")!=="undefined"?r.data("action-index"):r.find("[data-action-index]").data("action-index");if(typeof s==="undefined"){return}n=o.getPropertyByKey(i.contentCollection,"actionPaneIndex",s);if(typeof n==="object"){i.actionPanes[s].contentView.model.clear().set(n)}else if(n){i.actionPanes[s].contentView.model.set("value",n)}this.pushPanel(i.actionPanes[s])},onBeforePop:function(t){if(!t.contentView.model){return}if(!this.contentView.model.get("isTrigger")){var i=o.getPropertyByKey(t.contentView.collection,"actionPaneIndex",t.contentView.model.get("actionPaneIndex"));t.contentView.model.clear().set(i)}else{var n,r=this.contentView.model.get("name"),s=t.contentView.model.get("values");if(s){e.each(s,function(e){if(e["trigger"]&&e["trigger"]["name"]===r){n=e["value"]}})}t.contentView.model.set("value",n)}},onBeforeLeave:function(){r.closeAll()}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(3),i(6),i(54),i(31),i(35),i(299),i(289),i(730)],r=function(e,t,i,n,r,o,s,a,l,c,u){var d=i.Marionette.CompositeView.extend({getTemplate:function(){return n.compile(u)},itemViewContainer:".dialog__section",templateHelpers:function(){var t=this.options.description;if(e.isObject(t)){if(t["restriction"]){var i=t["restriction"];var n=false;switch(i){case"pro":n=!s.hasPro();break;case"starter":n=!s.hasStarter();break;case"business":n=!s.hasBusiness();break;case"performance":n=!s.hasPerformance();break;case"free":default:n=!s.hasFreeRestrictions();break}t=n?"":_W.utl(t["text"])}else if(t["whitelabel"]){t=o.isWhiteLabeled()?_W.utl(t["whitelabel"]):_W.utl(t["text"])}}return{description:t}},getItemView:function(e){var t=l.getItemView(e);return t==="group"?c:t},appendHtml:function(i,n,r){var o=this,s=n.model.get("type"),a=["select","radio","group","button"],l=n.el;if(!e.contains(a,s)){l=t("<div/>",{class:"group group--flush"}).append(n.el)}i.$(this.itemViewContainer).append(l)},onRender:function(){this.$el.find(".hidden").remove()}});return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(3),i(11),i(7),i(189),i(190),i(362),i(556),i(538)],r=function(e,t,i,n,r,o,s,a,l,c,u){var d=s.extend({initialize:function(e){s.prototype.initialize.call(this);var t=this;t.peid=e.peid;t.tutorial=e.tutorial;if(t.model.get("external")){t.externalView=new a({model:t.model,isExternal:true,peid:t.peid,parentView:t})}t.listenTo(t.collection,{change:t.savePlatformOptions});t.initGroups();t.renderTutorial()},savePlatformOptions:function(){var e=this;Weebly.Editor.RPC.PlatformElementInstance.updateSettings(e.peid,e.prepareSettingsSave()).done(function(e){if(e.success){var t=Weebly.Elements.currentElement;Weebly.Elements.currentElement=null;o.request("page:navigate",window.currentPage).then(function(){Weebly.Elements.setCurrentElement(t)})}})},prepareSettingsSave:function(){var t=this,i={};t.collection.each(function(t){e.each(t.get("properties"),function(e){var t=e.default||null;var n=typeof e.value==="undefined"?t:e.value;i[e.name]=n})});return i},openSettingsIframe:function(){var e=this;r.vent.trigger("element:options:dialog:close");o.execute("platform:element:setting:external:open",e.model.toJSON(),e.prepareSettingsSave(),e.peid)},checkHasNonHiddenSetting:function(e){var t=this;if(!e.length){return false}for(var i=0;i<e.length;i++){if(e[i].get("hidden")){continue}else if(e[i].get("type")!=="group"){return true}else if(!e[i].get("properties")||!e[i].get("properties").length){continue}else{var n=e[i].get("properties");for(var r=0;r<n.length;r++){if(!n[r].hidden){return true}}}}return false},displayIframe:function(){var e=this;var t=!e.hasSettings&&e.model.has("external");return t},renderTutorial:function(){var e=this;if(!e.tutorial||!e.initialPane){return}e.tutorialButton=new c({model:new i.Model(e.tutorial)});this.listenTo(e.tutorialButton,"open:app:tutorial",e.openAppTutorial);e.initialPane.$itemViewContainer.append(e.tutorialButton.render().el);e.baseInitialPaneOnRender=e.initialPane.onRender;e.initialPane.onRender=function(){e.baseInitialPaneOnRender.call(this);e.tutorialButton.delegateEvents();this.$itemViewContainer.append(e.tutorialButton.render().el)};if(e.tutorial.element_autopop===true){this.autopopTutorial()}},openAppTutorial:function(e){var t=new u(new i.Model(this.tutorial));var n={};if(e){n.outerClassName="dialog__overlay is-static"}this.container.currentPanel.pushDialog(t.getDialog(),n)},autopopTutorial:function(){var e=this;this.openAppTutorial(true);this.tutorial.element_autopop=false;_W.Editor.RPC.PlatformElementInstance.completeTutorial(e.model.get("platform_element_id"))}});return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(1),i(4),i(3)],r=function(e,t,i,n,r){var o=n.Marionette.ItemView.extend({defaultText:"Insert text",dialogOptions:{backLink:false,forwardLink:e.utl("javascript.element.editor.view.settings.TextAreaView_3"),allowLeftRight:false,preferTop:true,preferBottom:false,isDraggable:true,size:"small",width:300,height:190},onDialogForward:function(){var e=this.$el.find("textarea").val().trim();if(e!==this.defaultText){this.trigger("textarea:submit",this.$el.find("textarea").val())}this.dialog.close()},changedText:function(){this.trigger("textarea:change",this.$el.find("textarea").val())},removePlaceholder:function(e){if(i(e.currentTarget).hasClass("empty")){i(e.currentTarget).removeClass("empty").val("")}},template:'<textarea class="{{className}}" placeholder="{{placeholderText}}">{{content}}</textarea>',events:{"focus textarea":"removePlaceholder","keyup textarea":"changedText"},initialize:function(t){this.text=t.text;this.placeholderText=t.placeholderText?t.placeholderText:e.utl("javascript.element.editor.view.settings.TextAreaView_1");this.dialogOptions.title=t.title?t.title:e.utl("javascript.element.editor.view.settings.TextAreaView_2");return this},templateHelpers:function(){return{content:this.text?this.text:this.defaultText,placeholderText:this.placeholderText?this.placeholderText:"",className:this.text?"":"empty"}}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(1),i(4),i(3),i(558),i(286),i(90)],r=function(e,t,i,n,r,o,s){var a=i.Marionette.CompositeView.extend({itemView:r,itemViewContainer:".tooltip-list",itemViewOptions:function(){return{$targetEl:this.options.$targetEl,callbacks:this.options.callbacks}},itemEvents:{"tooltips:close":function(e){this.close()}},className:"tooltip-list-container",template:n.compile("<ul class='tooltip-list'></ul>"),initialize:function(){return this},onShow:function(){this.repositionToElement(this.options.$targetEl)},repositionToElement:function(e){var t=e.offset().top-50,i=e.offset().left,n=e.width();tooltipWidth=this.$el.width();this.$el.css({top:t,left:i+(n-tooltipWidth)/2})}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(715)],r=function(e,t,i){var n=e.Marionette.ItemView.extend({template:t.compile(i),events:{"click @ui.toggle":"updateToggleValue","blur @ui.input":"blurHandler"},ui:{toggle:'[name="check"]',input:'[name="std"]'},templateHelpers:function(){var e=this.model.get("url");return{value:typeof e==="boolean"?"":e,show_toggle:this.options.showToggle}},onBeforeRender:function(){var e=this;e.dialog.onBeforePop=function(t){t.contentView.updateBadge(e.model.toJSON())}},onShow:function(){this.ui.input.focus()},updateToggleValue:function(){this.ui.toggle.toggleClass("checked",this.ui.toggle.prop("checked"));this.model.set("active",this.ui.toggle.hasClass("checked"))},blurHandler:function(){this.model.set("url",this.ui.input.val())}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(721)],r=function(e,t,i,n){var r=t.Marionette.ItemView.extend({template:i.compile(n),events:{click:"openTutorial"},openTutorial:function(){var e=this;this.trigger("open:app:tutorial")}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(1),i(2),i(3),i(13),i(218),i(555),i(18),i(181),i(725)],r=function(e,t,i,n,r,o,s,a,l,c){var u=e.Marionette.ItemView.extend({template:n.compile(c),ui:{inactive:".btn-control",active:".group__item",reorder:".group__item-reorder",activeWrap:".group",reorder:".reorder"},events:{"click .btn-control":"openEditSocialIcon"},templateHelpers:function(){var e=this,t=e.model.get("badges"),n=e.model.get("label");return{hasActive:i.filter(t,function(e){return e["active"]}).length>0,hasInactive:i.filter(t,function(e){return!e["active"]}).length>0,label:_W.utl(n)}},onBeforeRender:function(){var e=this;if(!e.firstRender)e.parsePropertyValues()},onRender:function(){var e=this;e.dialog.onBeforePop=function(){e.save()};e.dialog.onBeforeForward=function(){if(!e.isReordering){e.showReorder()}else{e.hideReorder()}};e.ui.reorder.hide()},parsePropertyValues:function(){var e=this;var n=typeof this.model.get("value")==="string"?JSON.parse(this.model.get("value")):this.model.get("value");var r=["facebook","twitter","linkedin","mail","flickr","pinterest","plus","rss","tumblr","vimeo","yahoo","youtube"];var o=l.consolidateBadgeOrder(n["badge_order"],r);var s={facebook:{display:"Facebook",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_2"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Facebook")},twitter:{display:"Twitter",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_3"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Twitter")},linkedin:{display:"Linkedin",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_4"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Linkedin")},mail:{display:"Mail",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_5"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Mail")},flickr:{display:"Flickr",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_6"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Flickr")},pinterest:{display:"Pinterest",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_7"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Pinterest")},plus:{display:"Google+",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_8"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Google+")},rss:{display:"RSS",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_9"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","RSS")},vimeo:{display:"Vimeo",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_10"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Vimeo")},yahoo:{display:"Yahoo!",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_11"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Yahoo!")},youtube:{display:"YouTube",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_12"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","YouTube")}};var c=l.convertBadgeData(n["badges"],s);var u=a.currentThemeData.tmpSocialIconFont||a.currentThemeData["glyph-icons"];var d={dribbble:{display:"dribbble",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_13"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","dribbble")},instagram:{display:"Instagram",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_14"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Instagram")},tumblr:{display:"Tumblr",hint:_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_Tumblr"),form_label:_W.utl("javascript.element.editor.view.settings.item-views.profile_url","Tumblr")}};e.firstRender=true;for(var f in d){if(u){if(!s.hasOwnProperty(f)){s[f]=d[f]}if(o.indexOf(f)===-1){if(f==="instagram"&&t(Weebly.Elements.currentElement).find(".wsite-social-instagram").length>0){o.splice(2,0,"instagram");c[f]={active:true,url:true}}else{o.push(f);c[f]={active:false,url:true}}}}else{if(s.hasOwnProperty(f)){delete s[f]}var h=o.indexOf(f);if(h>-1){o.splice(h,1);delete c[f]}}}if(c["undefined"])delete c["undefined"];for(var p=0;p<o.length;p++){var m=c[o[p]];if(m&&o[p]){m["name"]=o[p];m["label"]=s[o[p]]["display"];m["form_label"]=s[o[p]]["form_label"];m["index"]=p;m["hint"]=s[o[p]]["hint"]}}var g=i.sortBy(i.filter(i.values(c),function(e){return!!e.name}),"index");e.model.set("badges",g)},showReorder:function(){var e=this,i=e.dialog;i.$headerEl.find(".topbar__left").children().addClass("is-hidden");i.$headerEl.find(".topbar").addClass("is-activated");i.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_15"));e.isReordering=true;this.socialGroup=t(".js-social-sort");this.sortableGroup=new o.create(this.socialGroup);this.socialGroup.addClass("is-sorting").find(".btn-control").toggleClass("is-sorting")},hideReorder:function(){var e=this,t=e.dialog;t.$headerEl.find(".topbar__left").children().removeClass("is-hidden");t.$headerEl.find(".topbar").removeClass("is-activated");t.$headerEl.find(".topbar__right .topbar__action").text(_W.utl("javascript.element.editor.view.settings.item-views.SocialIconsItemView_16"));e.isReordering=false;this.sortableGroup.destroy();this.socialGroup.removeClass("is-sorting").find(".btn-control").toggleClass("is-sorting");e.processReorder()},processReorder:function(){var e=this,t=e.model.get("badges");i.each(e.ui.activeWrap.find(".btn-control"),function(e,n){var r=e.getAttribute("data-name");i.findWhere(t,{name:r})["index"]=n});e.model.set("badges",i.sortBy(t,"index"));e.save()},updateBadge:function(e){var t=this.model.get("badges");t=i.map(t,function(t){if(t["name"]===e["name"]){t=e}return t});this.model.set("badges",t);setTimeout(this.render.bind(this),300);this.save()},save:function(){var e=this,t=e.model.get("badges"),n=e.model.get("cfpid"),r=e.model.get("ucfpid"),o=[],s={},a;i.each(t,function(e){if(e&&e["name"]){var t=e["url"]===""?true:e["url"];o.push(e["name"]);s[e["name"]]={url:t,active:e["active"]}}});a={badges:s,badge_order:o};Weebly.Elements.uproperty.properties[n].property_result=JSON.stringify(a);Weebly.Elements.onChange(r,n)},openEditSocialIcon:function(n){var o=this;var a=n.currentTarget.className;var l=t(n.currentTarget).data("name");var c=o.model.get("badges");var u=i.findWhere(c,{name:l});var d=new e.Model(u);var f=i.where(c,{active:true}).length>1||!u.active;var h=new s({model:d,showToggle:f});h["dialogOptions"]={title:d.get("label"),backLink:{isDirectional:true,text:""}};h.listenTo(d,"change",function(e){o.updateBadge(e.toJSON())});if(a==="form-control__indicator"){setTimeout(function(){o.dialog.pushPanel(new r.Panel(h))},150)}else{o.dialog.pushPanel(new r.Panel(h))}}});return u}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(4),i(3)],r=function(e,t,i){var n=t.Marionette.ItemView.extend({tagName:"li",template:i.compile("<a>{{label}}</a>"),
templateHelpers:function(){var e=this,t=e.model.get("label"),i,n;if(!t){n=e.model.get("booleanCallback");i=parseInt(e[n].call(e));t=e.model.get("booleanItems")[i]["label"];e.model.set(e.model.get("booleanItems")[i])}return{label:_W.utl(t)}},events:{click:"itemCallback"},initialize:function(){this.attachCallbacks()},attachCallbacks:function(){o.each(this.options.callbacks,function(e,t){this[t]=e},this)},onRender:function(){if(this.model.get("highlighted")){this.$el.addClass("pressed")}},itemCallback:function(e){var t=this.model.get("callback");e.preventDefault();this[t](e)}});return n}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(1),i(13)],r=function(e,t){return t.extend({parent:"#premium-element-warning-dialog",isModal:true,isModalDark:true,initialize:function(){var e=this;e.listenTo(editorApp.vent,"billing:upgrade:window",e.close)}})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(6),i(234),i(732)],r=function(e,t,i,n,r,o){var s=t.Marionette.ItemView.extend({template:i.compile(o),templateHelpers:function(){var e=this;return{imageUrl:e.imageUrl,headerText:e.headerText,descriptionText:e.descriptionText,eligibleForFreeTrial:e.eligibleForFreeTrial}},events:{"click a.free-trial-link":"onFreeTrialLinkClicked","click button.upgrade-button":"onUpgradeClicked"},initialize:function(e){var t=this;t.eligibleForFreeTrial=n.site.get("is_eligible_for_free_trial")&&r.has("site_owner");t.elementId=e.elementId;t.setElementSpecificData(t.elementId)},setElementSpecificData:function(e){var t=this;var i={siteSearch:"90122486",hdVideo:"63419613",audio:"67748238",fileUpload:"82023692"};var n={editFooter:"edit_footer"};t.restrictionType="element";switch(e){case i.siteSearch:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_14");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_4");break;case i.hdVideo:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_15");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_6");break;case i.audio:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_16");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_8");break;case i.fileUpload:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_17");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_13");break;case"premium-element-warning-dialog":t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_18");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_11");break;case n.editFooter:t.headerText=_W.utl("javascript.free-trial.views.PremiumElementWarningView_18");t.descriptionText=_W.Reseller?_W.utl("javascript.editor.dialogs.UpgradeWarning_31"):_W.utl("javascript.editor.dialogs.PremiumElementDialogService_11");t.restrictionType="feature";break;default:t.headerText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_12");t.descriptionText=_W.utl("javascript.editor.dialogs.PremiumElementDialogService_13");break}t.render()},onFreeTrialLinkClicked:function(e){n.loading.start("PremiumElementWarningView::onFreeTrialLinkClicked");Weebly.Editor.RPC.Site.startFreeTrial().done(function(){window.location.reload()}).fail(function(){n.loading.stop("PremiumElementWarningView::onFreeTrialLinkClicked")})},onUpgradeClicked:function(){var e=this;n.vent.trigger("billing:upgrade:window",{siteID:currentSite,refer:"premium_element_upsell_dialog",type:"upgrade",restrictionID:e.elementId,restrictionType:e.restrictionType})}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},,,,function(e,t,i){var n,r;!(n=[i(9),i(3),i(7),i(75),i(679)],r=function(e,t,i,n,r){"use strict";var o=e.Marionette.ItemView.extend({className:"hover-toolbar hover-toolbar-above edit-slide-toolbar",getTemplate:function(){return t.compile(r)},ui:{editButton:".edit-button",linkButton:".link-button",playButton:".play-button",pauseButton:".pause-button",captionSaveButton:".save-button",captionCancelButton:".cancel-button",captionButton:".caption-button",captionArea:".caption-area",captionForm:".caption-popout"},events:{"click @ui.editButton":"editSlide","click @ui.captionButton":"toggleCaptionForm","click @ui.linkButton":"showLinker","click @ui.playButton":"playSlideshow","click @ui.pauseButton":"pauseSlideshow","click @ui.captionSaveButton":"saveCaption","click @ui.captionCancelButton":"closeCaptionForm"},initialize:function(e){var t=this;t.slideshow=e.slideshow;t.slideshow.clearHandlers();t.slideshow.on("play",t.updatePlayPause.bind(t));t.slideshow.on("pause",t.updatePlayPause.bind(t));t.slideshow.on("slideChange",function(e){t.trigger("change",e);t.updateToolbar()});t.listenTo(t.$el,{shown:function(){t.position();t.updateToolbar()}})},onClose:function(){this.slideshow.clearHandlers()},onRender:function(){var e=this;e.updatePlayPause();e.closeCaptionForm()},editSlide:function(){var e=this,t=e.slideshow,i;t.pause();i=t.getSlideIndex()||0;e.trigger("edit",i)},toggleCaptionForm:function(){var e=this;if(e.isCaptionFormOpen){e.closeCaptionForm()}else{e.openCaptionForm()}},closeCaptionForm:function(){var e=this;e.ui.captionForm.hide();e.ui.captionButton.removeClass("pressed");e.isCaptionFormOpen=false},openCaptionForm:function(){var e=this,t=n.getCurrentHeader(),i=t.data,r=e.slideshow.getSlideIndex(),o=i.slideshow.slides[r].caption||"";e.slideshow.pause();e.ui.captionForm.show();e.ui.captionArea.val(o);e.ui.captionButton.addClass("pressed");e.isCaptionFormOpen=true},showLinker:function(e){e.stopPropagation();var t=this,r=n.getCurrentHeader(),o=r.data,s=t.slideshow.getSlideIndex(),a=o.slideshow.slides[s].link;t.slideshow.pause();t.closeCaptionForm();if(a){a=parseLinkString(a)}i.request("linker:open",{zIndex:10001,existing:a,remove:true}).done(function(e,i){if(i){e+="weeblylink_new_window"}o.slideshow.slides[s].link=e;n.setData(o);t.updateToolbar()})},playSlideshow:function(){this.slideshow.play(true)},pauseSlideshow:function(){this.slideshow.pause()},saveCaption:function(){var e=this,t=e.slideshow.getSlideIndex(),i=n.getCurrentHeader(),r=i.data;r.slideshow.slides[t].caption=e.ui.captionArea.val();e.closeCaptionForm();e.updateToolbar();n.setData(r).done(function(){e.trigger("saveCaption")})},updatePlayPause:function(){var e=this;if(e.isClosed){return}if(e.slideshow.isPlaying()){e.ui.playButton.hide();e.ui.pauseButton.css("display","inline-block")}else{e.ui.playButton.css("display","inline-block");e.ui.pauseButton.hide()}},updateToolbar:function(){var e=this,t=n.getCurrentHeader(),i=e.slideshow.getSlideIndex(),r=t.data,o;if(!e.isClosed&&r){o=r.slideshow&&r.slideshow.slides&&r.slideshow.slides[i]||{};e.ui.captionButton.toggleClass("active",!!o.caption);e.ui.linkButton.toggleClass("active",!!o.link)}},position:function(){var e=this,t=e.slideshow.getElement(),i=t.offset();e.$el.css({top:i.top-e.$el.outerHeight()-10,left:i.left+t.outerWidth()-e.$el.outerWidth()})}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(138)],r=function(e,t){"use strict";var i=e(window);var n=function(n){var r={};var o=e(n);var s=false;if(o[0].style.height=="auto"){s=true;o.css("height","")}r.height=o.height();if(s){o.css("height","auto")}r.width=o.width();r.outerHeight=o.outerHeight();r.outerWidth=o.outerWidth();r.offset=o.offset();r.offset.left-=i.scrollLeft();r.offset.top-=i.scrollTop();r.border={top:parseInt(o.css("border-top-width"),10)||0,left:parseInt(o.css("border-left-width"),10)||0,right:parseInt(o.css("border-right-width"),10)||0,bottom:parseInt(o.css("border-bottom-width"),10)||0};r.padding={top:parseInt(o.css("padding-top"),10)||0,left:parseInt(o.css("padding-left"),10)||0,right:parseInt(o.css("padding-right"),10)||0,bottom:parseInt(o.css("padding-bottom"),10)||0};r.id=o.up(".element").attr("id");r.image=t.getBackgroundSprite(o);return r};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(3),i(18),i(10),i(767)],r=function(e,t,i,n,r,o){var s={attachEdgeToSection:function(e,n){t.defaults(n,{showResizeHandle:true});var s=i.render(o,{handle:n.showResizeHandle});e.css("position","relative").append(s);var a=e.find("."+r.SECTION_EDGE_CLASS);this.repositionEdge(a,e);return a},destroyEdge:function(e){e.find("."+r.SECTION_EDGE_CLASS).remove()},repositionEdge:function(e,t){var i=t.outerHeight(),n=t.offset().top;if(e.hasClass("edge-top")){e.css("top",n)}else{e.css("top",i)}}};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(50)],r=function(e){var t=e.extend({title:_W.utl("javascript.site.editor.sections.SectionControlView_4"),message:_W.utl("javascript.site.editor.sections.SectionControlView_5"),cancelText:_W.utl("javascript.site.editor.sections.SectionControlView_6"),proceedButton:{text:_W.utl("javascript.site.editor.sections.SectionControlView_3"),className:"is-destructive"},isTop:false,isModal:false,closeOnClickAway:true,outerClassName:"section-delete-confirm",isPositionFixed:true});return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(566),i(25),i(10),i(147)],r=function(e,t,i,n){var r={$edgeParent:null,initialize:function(n,r){if(n.data("uiResizable")){return}var o=this;var s;var a=t.attachEdgeToSection(r.edgeParent,{showResizeHandle:r.showResizeHandle});var l=e(window);var c=l.height();var u=a.find(".section-edge-handle-wrapper");this.$edgeParent=r.edgeParent;this.$edgeHoverTip=a.find(".hover-tip");this.attachHoverTipListener(r.showResizeTipAbove);var d=false;var f=0;var h=false;var p=null;n.resizable({handles:{s:u},start:function(){p=n.height();if(typeof r.onStart==="function"){r.onStart.apply(this,arguments)}a.addClass("resize-active");o.detachHoverTipListener();s=n.find(".empty-element-message");d=n.css("box-sizing")==="border-box";if(d){f=n.outerHeight()-n.height()}},stop:function(e,t){t.saveAutoHeight=h;if(typeof r.onStop==="function"){r.onStop.apply(this,arguments)}a.removeClass("resize-active");o.attachHoverTipListener(r.showResizeTipAbove);s=null;d=false;p=null},resize:function(e,u){var m;var g=i.getSectionInnerHeight(u.helper,u.size.height);s.height(0);if(d){u.size.height+=f}u.helper.css("height",u.size.height+"px");var v=u.helper.height();if(p===v){m=_W.utl("javascript.site.editor.sections.SectionResize_2");u.helper.css("height","auto");h=true}else{m=u.size.height+"px";h=false}if(s.length){i.resizeEmptyMessage(n,g)}o.$edgeHoverTip.text(m);t.repositionEdge(a,n);if(e.clientY>c-30){l.scrollTop(l.scrollTop()+10)}if(typeof r.onResize==="function"){r.onResize.apply(this,arguments)}p=u.helper.height()}})},destroy:function(i){if(i.data("ui-resizable")){var n=i.children().find(".ui-resizable-handle").map(function(){var t=e(this);var i={$handle:t,$previous:t.prev(),$parent:t.parent()};t.detach();return i});i.resizable("destroy");n.get().forEach(function(e){if(e.$previous.length){e.$previous.after(e.$handle)}else{e.$parent.prepend(e.$handle)}})}if(this.$edgeParent){t.destroyEdge(this.$edgeParent);this.$edgeParent=null}},attachHoverTipListener:function(t){this.$edgeHoverTip.text(_W.utl("javascript.site.editor.sections.SectionResize_1"));this.$edgeHoverTip.parent().on("mouseenter.hovertip",function(){var i=this.$edgeHoverTip.parent();var n=this.$edgeHoverTip.outerWidth();var r=i.offset();var o=i.outerWidth();var s=e(window).width();this.$edgeParent.on("mousemove.hovertip",function(e){var i={};i.left=e.pageX+n+5>s?e.pageX-(e.pageX+n-s+5):e.pageX-r.left;if(t){i.top=-45}this.$edgeHoverTip.css(i)}.bind(this))}.bind(this)).on("mouseleave.hovertip",function(){this.$edgeParent.off("mousemove.hovertip")}.bind(this))},detachHoverTipListener:function(){this.$edgeHoverTip.parent().off(".hovertip");this.$edgeParent.off("mousemove.hovertip")}};return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(4),i(571),i(7)],r=function(e,t,i){var n=e.Collection.extend({model:t,comparator:"section_order",initialize:function(){this.listenTo(this,"add",this.onAdd);i.commands.removeHandlers(["sections:properties:update"]);i.commands.setHandlers({"sections:properties:update":this.updateSectionProperties.bind(this)})},remove:function(t,i){if(i){var n=e.Collection.prototype.remove.call(this,t);this.onRemove(n,i)}},onAdd:function(e){this.updateSectionsOrder(e,1)},onRemove:function(e,t){i.execute("section:remove",e.id,t);this.updateSectionsOrder(e,-1)},updateSectionBackgroundImage:function(e,t){var i=this.get(e);i.setBackgroundImage(t);this.trigger("sections:updated")},shiftSections:function(e,t){var n=this.get(e);var r=this.indexOf(n);var o=r+t;var s=this.at(o);var a=s.get("section_id");var l=n.get("section_order");var c=s.get("section_order");n.set("section_order",c);s.set("section_order",l);this.sort();i.request("section:shift",e,t).done(function(){this.trigger("section:shift",e,a,t)}.bind(this))},updateSectionsOrder:function(e,t){var i=this.indexOf(e);this.each(function(e,n){if(n>i){var r=e.get("section_order");e.set("section_order",r+t,{silent:true})}})},updateSectionProperties:function(e){o.each(e,function(e,t){var i=this.get(t);i.set("properties",e)},this);this.trigger("sections:updated")},getImageEditorObject:function(){return this.reduce(function(e,t){return o.extend(e,t.getImageEditorObject())},{})}});return n}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(2),i(7),i(89),i(272),i(10)],r=function(e,t,i,n,r){var o=n.extend({HEADER_SECTION_PROPERTIES:{BASE_SETTING_KEY:"base_setting",BASE_SETTING_PROPERTIES:["height","vertical-align"]},initialize:function(){n.prototype.initialize.apply(this,arguments);this.listenTo(this.get("setting"),"headerSectionSetting:updated",function(){this.trigger("headerSection:updated")})},onChange:function(e){var i=Object.keys(e.changed);if(i.length===1&&i[0]==="header_setting_id"){return}t.execute("headerSection:save",this.id,this.toJSON())},hasNewSetting:function(){return this.get("setting").isNew()},generateSelector:function(){return"."+r.HEADER_SECTION_CLASS_NAME},getBaseSetting:function(){var e=this.get(this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY)||{};if(!this.get("setting").isBackgroundResizeable()){delete e.height}return e},getBaseStyle:function(){return e.extend({},this.get("setting").getBaseStyle(),this.getBaseSetting())},getSectionStyle:i.getSectionStyle,setBaseStyle:function(t,i){var n=this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY;var r=this.HEADER_SECTION_PROPERTIES.BASE_SETTING_PROPERTIES;var o=JSON.parse(JSON.stringify(this.get(n)))||{};o=e.extend(o,e.pick(t,r));if(!e.isEmpty(o)){this.set(n,o,i)}var s=e.omit(t,r);if(!e.isEmpty(s)){this.get("setting").setBaseStyle(s,i)}},getHeight:function(){return parseInt(this.getBaseSetting().height,10)},hasBaseStyle:function(){return this.hasBaseSetting()||this.get("setting").hasBaseStyle()},hasBaseSetting:function(){return e.keys(this.get(this.HEADER_SECTION_PROPERTIES.BASE_SETTING_KEY)).length}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(9),i(7),i(89),i(493)],r=function(e,t,i,n,r){var o=t.Model.extend(n).extend({idAttribute:"section_id",MODEL_TYPE:"section",initialize:function(e,t){var t=t||{};var i={silent:true};var n=new r({elements:this.get("elements")||[],section:this},t.context);this.set({elementArea:n},i);this.unset("elements",i);this.listenTo(this,{"change:properties":this.onChangeProperties})},onChangeProperties:function(e,t){i.execute("section:set:properties",e.id,e.toJSON().properties)},generateSelector:function(){return'.wsite-section[data-section="'+this.get("section_id")+'"]'},getHeight:function(){return parseInt(this.getBaseStyle().height,10)},set:function(e,i,n){var r;if(e==null)return this;if(typeof e==="object"){r=e;n=i}else{(r={})[e]=i}if(typeof r.properties==="string"){r.properties=JSON.parse(r.properties)}return t.Model.prototype.set.call(this,r,n)},clearElements:function(){return i.request("section:clear",this.id)}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(87)],r=function(e){var t=e.extend({height:260,dialogOptions:{title:_W.utl("javascript.editor.sections.view.BackgroundSwitcher_1"),backLink:false},initialize:function(e){o.each(e.panels,function(e){this.listenTo(e,{"section:switcher:panel:labels:hide":function(){this.hideNewLabels()}})}.bind(this))},hideNewLabels:function(){this.$el.find(".js-new-label").remove();this.switcher.collection.invoke("set","textHtml",null)}});return t}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(2),i(13),i(80),i(572),i(582),i(577),i(579),i(584),i(578),i(580)],r=function(e,t,i,n,r,o,s,a,l,c){var u=300;var d=t.extend({outerClassName:"section-set-background dialog-option-tip",parent:"._editor-ui__framework",size:"small",height:u,isModal:false,closeOnClickAway:true,positionRefresh:false,allowLeftRight:false,initialize:function(t){t=e.defaults(t||{},{showAlignment:true,isHeaderSection:false});this.section=t.section;this.$sectionEl=t.$sectionEl},onOpen:function(){if(!this.section.userSelectedBackground()){var e=null;switch(this.section.getBackgroundType()){case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.COLOR:e=this.$el.find('input[value="colorBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.GRADIENT:e=this.$el.find('input[value="gradientBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.VIDEO:e=this.$el.find('input[value="videoBackground"]');break;case this.section.SECTION_PROPERTIES.BACKGROUND_TYPES.IMAGE:e=this.$el.find('input[value="imageBackground"]');break;default:break}if(e){e.prop("checked",true)}}},shake:function(){i.shakeElement(this.$el)}});var f=function(t){var t=e.defaults({baseHeight:u},t);var f=new r(t);var h=new o(t);var p=new s(t);var m=new a(t);if(i.showUpgradeTrigger("section_video_backgrounds")){var g=new n({panels:[f,h,p,m]})}else{var g=new n({panels:[f,h,p]})}this.dialog=new d(e.extend({initialPanel:g},t));h.on("leave",function(){this.isTransitioning=false});this.dialog.listenTo(h,"panel:color:push",function(){if(h.isTransitioning)return;this.dialog.pushPanel(new l);h.isTransitioning=true}.bind(this));p.on("leave",function(){p.isTransitioning=false});this.dialog.listenTo(p,"panel:gradient:push",function(){if(p.isTransitioning)return;this.dialog.pushPanel(new c);p.isTransitioning=true}.bind(this));this.dialog.listenTo(f,{"dialog:close":function(){this.dialog.close()}.bind(this),"section:control:background:open":function(e,t){this.dialog.trigger("section:control:background:open",e,t)}.bind(this),"section:control:background:extend":function(e){this.dialog.trigger("section:control:background:extend",e)}.bind(this)});this.dialog.listenTo(m,{"dialog:close":function(){this.dialog.close()}.bind(this),"dialog:set:height":function(e){this.dialog.setHeight(e)}.bind(this)});return this.dialog.open()};return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(7),i(13),i(763)],r=function(e,t,i,n,r){var o=n.Panel.extend({title:_W.utl("sections.dialogs.SectionOptions_advanced_title"),events:{"click [data-alignment]":"onAlignmentClick","click .js-manage":"manageBackground"},templateHelpers:function(){var e=this.options.fallbackAlignment;var t=this.options.dialog.section.getBaseStyle();if(this.options.baseSetting&&this.options.baseSetting["vertical-align"]){e=this.options.baseSetting["vertical-align"]}else if(t["vertical-align"]){e=t["vertical-align"]}return{show_save_to_pages:this.options.showSaveToPages,show_alignment:this.options.showAlignment,align_top_selected:e==="top",align_middle_selected:e==="middle",align_bottom_selected:e==="bottom"}},renderContent:function(e){e.html(t.render(r,this.templateHelpers()));if(this.options.showSaveToPages){this.connectedPages=[];this.updateConnectedPageCount()}},updateConnectedPageCount:function(){Weebly.Section.RPC.HeaderSection.getConnectedHeaderBackgroundPages(window.currentPage).done(function(e){this.connectedPages=e;var t=e?Math.max(e.length-1,0):0;this.$(".js-connect-page-count").text(t)}.bind(this))},onAlignmentClick:function(t){var i=e(t.currentTarget);var n=i.data("alignment");var r=this.$("[data-alignment]");r.removeClass("is-selected");i.addClass("is-selected");this.options.dialog.trigger("section:control:baseStyle:set",{"vertical-align":n})},manageBackground:function(){i.request("backgroundConnector:open",{pages:this.connectedPages,currentPage:window.currentPage}).then(function(e,t){return Weebly.Section.RPC.HeaderSection.setConnectedHeaderBackgroundPages(window.currentPage,e,t)}).done(function(){this.updateConnectedPageCount()}.bind(this))}},{hasVisibleOptions:function(e){return e.showAlignment||e.showSaveToPages}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(3),i(13),i(764)],r=function(e,t,i,n){var r=i.Panel.extend({title:_W.utl("sections.dialogs.SectionOptions_effects_title"),events:{'click [name="section-effects"]':"onClick"},templateHelpers:function(){return{effects:this.effects}},initialize:function(t){this.section=t.section;this.effects=[];e.each(this.section.SECTION_BACKGROUND_EFFECTS,function(i){if(i.available.indexOf(t.panelType)!==-1){this.effects.push(e.clone(i))}},this);var i=[];var n=this.section.getBackgroundEffects();var r=Object.keys(n);if(r.length){i=e.filter(this.effects,function(e){return r.indexOf(e.value)!==-1})}if(!i.length){i=e.where(this.effects,{value:"none"})}i.forEach(function(e){e.selected=true})},renderContent:function(e){e.html(t.render(n,this.templateHelpers()))},onClick:e.throttle(function(e){var t=e.currentTarget.value;var i={};if(t!=="none"){i[t]={}}this.section.setBackgroundEffects(i)},200)});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(4),i(574),i(575),i(13),i(765)],r=function(e,t,i,n,r,o,s){var a=i.Marionette.ItemView.extend({template:s,events:{"click .js-effects":"onEffectsClick","click .js-advanced":"onAdvancedClick"},templateHelpers:function(){var e=this.options.section;return{show_advanced:n.hasVisibleOptions(this.options),selected_effects:function(){var i=e.getBackgroundEffects();var n=Object.keys(i);if(n.length===1){var r=t.findWhere(e.SECTION_BACKGROUND_EFFECTS,{value:n[0]});return t.result(r,"label",_W.utl("sections.effects.none"))}else if(n.length>1){return n.length}else{return _W.utl("sections.effects.none")}}}},onAdvancedClick:function(){this.options.dialog.pushPanel(new n(e.extend({forwardLink:false,backLink:{isDirectional:true}},this.options)))},onEffectsClick:function(){this.options.dialog.pushPanel(new r({section:this.options.dialog.section,panelType:this.options.panelType,forwardLink:false,backLink:{isDirectional:true}}))}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(7),i(145),i(744)],r=function(e,t,i,n){var r=i.extend({title:_W.utl("javascript.editor.sections.view.color.ColorBackgroundPanel_1"),icon:"bgtypecolor",value:"colorBackground",events:{"click .add-color":"onClickChangeColor"},trackingContext:{},initialize:function(e){i.prototype.initialize.apply(this,arguments);this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundColor();var t=e.section.id;if(e.isHeaderSection){this.trackingContext={object_category:"site",action:"change",object_instance:window.currentSite,property:"header_color"}}else{this.trackingContext={object_category:"legacy_section",action:"edit",object_instance:t?t:"no-id",property:"color"}}if(e.showNewLabels){this.titleHtml=this.newLabelTpl()}},onEnter:function(){if(this.options.showNewLabels){this.hideNewLabels();this.options.showNewLabels=false}},renderContent:function(t){this.beforeRender();var i=this.section.getBackgroundContent();t.html(e.render(n,i));this.renderOptions()},beforeRender:function(){if(this.section.hadBackgroundColor()){this.section.setTypeToColor()}},onClickChangeColor:function(e){this.trigger("panel:color:push");t.execute("analytics:track:event",this.trackingContext)}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(3),i(13),i(252),i(747)],r=function(e,t,i,n,r){var s=i.Panel.extend({title:_W.utl("javascript.editor.sections.view.color.ColorPanel_1"),height:365,backLink:{isDirectional:true},renderContent:function(e){e.html(t.render(r));this.createColorPicker()},onEnter:function(){this.prevHeight=this.comboDialog.height;this.comboDialog.setHeight(this.height);this.colorPicker.showWithin(this.$(".color-picker__container"))},onLeave:function(){this.comboDialog.setHeight(this.prevHeight)},onDestroy:function(){this.colorPicker.destroy()},createColorPicker:function(){var e=this;var t=this.comboDialog.section.getBackgroundContent();var i=t["background-color"]||"#ffffff";e.colorPicker=new n({color:i,hasInput:true,inputLabel:_W.utl("javascript.editor.sections.view.color.ColorPanel_2")});e.listenTo(e.colorPicker,"change",o.throttle(e.onColorChange,50));e.listenTo(e.colorPicker,"pick",e.onColorPick)},onColorChange:function(t){var i=this.comboDialog.section.generateSelector();var n=e(i);if(n){n.css({"background-color":t.hex,"background-image":"none"})}},onColorPick:function(e){this.comboDialog.section.setBackgroundColor({"background-color":e.hex,"background-image":"none"})}});return s}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(5),i(3),i(7),i(145),i(745),i(110)],r=function(e,t,i,n,r,o){var s=n.extend({title:e.utl("javascript.editor.sections.view.gradient.gradient-background-panel-title"),icon:"transitionfade",value:"gradientBackground",events:{"click .add-gradient":"onClickChangeGradient"},initialize:function(e){n.prototype.initialize.apply(this,arguments);this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundGradient();if(e.isHeaderSection){this.trackingContext={object_category:"site",action:"change",object_instance:window.currentSite,property:"header_gradient"}}else{this.trackingContext={object_category:"legacy_section",action:"edit",object_instance:e.section.id,property:"gradient"}}if(e.showNewLabels){this.titleHtml=this.newLabelTpl()}},onEnter:function(){if(this.options.showNewLabels){this.hideNewLabels();this.options.showNewLabels=false}},renderContent:function(e){this.beforeRender();e.html(t.render(r,{background:o.generateCSS(this.section.getBackgroundContent())}));this.renderOptions()},beforeRender:function(){if(this.section.hadBackgroundGradient()){this.section.setTypeToGradient()}},onClickChangeGradient:function(e){this.trigger("panel:gradient:push");i.execute("analytics:track:event",this.trackingContext)}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(4),i(1),i(3),i(2),i(13),i(252),i(87),i(581),i(251),i(748),i(25),i(56),i(110)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p=o.Panel.extend({title:e.utl("javascript.editor.sections.view.gradient.gradient-panel-title"),hasContentPadding:false,height:532,backLink:{isDirectional:true},renderContent:function(e){this.properties=this.comboDialog.section.getBackgroundContent()||{};this.gradientAngle=typeof this.properties.angle==="number"?this.properties.angle:180;this.colorSections=[];this.colors=this.properties.colors;this.createColorSections();e.html(n.render(u));this.container=this.$(".gradient-builder")},onEnter:function(){this.prevHeight=this.comboDialog.height;this.comboDialog.setHeight(this.height);this.renderGradientAngleSlider();this.renderGradientPanelSwitcher()},onLeave:function(){this.comboDialog.setHeight(this.prevHeight)},onDestroy:function(){r.each(this.colorSections,function(e){e.colorPicker.destroy()})},renderGradientAngleSlider:function(){var e=this.container.find("#slider")[0];if(e.noUiSlider){e.noUiSlider.off();e.noUiSlider.destroy()}c.create(e,{start:this.gradientAngle,range:{min:0,max:360}});this.labeledSliderLabel=this.container.find("#slider-label")[0];e.noUiSlider.on("update",function(e,t){this.updateSlider(e,t);this.updateGradient()}.bind(this));e.noUiSlider.on("set",function(e,t){this.updateSlider(e,t);this.saveGradient()}.bind(this))},renderGradientPanelSwitcher:function(){var e=[];r.each(this.colorSections,function(t){var i=this.getColorPickerColor(t.colorPicker);var n=new l({title:i,titleHtml:'<div class="switcher__background" style="'+this.generateTitleBackgroundGradient(i)+'"></div>',hasContentPadding:true,content:t});e.push(n)},this);var t=new a({height:400,panels:e});t.showWithin(this.container)},updateSlider:function(e,t){var i=Math.round(e[t]);if(this.labeledSliderLabel){this.labeledSliderLabel.innerHTML=i+"&deg;"}this.gradientAngle=i},generateTitleBackgroundGradient:function(e){return h.generateCSS({colors:[{color:e,position:0},{color:"#ffffff",position:100}],type:"linear",angle:270})},createColorSections:function(){var e="#ffffff";if(this.colors){r.each(this.colors,function(e){this.addColorData(e.color,e.position)},this)}else{this.addColorData(e,0);this.addColorData(e,100)}},addColorData:function(e,i){var n=new s({color:e,hasInput:true});this.listenTo(n,"change",r.throttle(this.updateGradient,50));this.listenTo(n,"pick",this.saveGradient);var o=new t.Model({position:i});this.listenTo(o,"updateColorPositionSlider",r.throttle(this.updateGradient,50));this.listenTo(o,"setColorPositionSlider",this.saveGradient);this.colorSections.push({colorPicker:n,positionSlider:o})},updateGradient:function(){var e=this.comboDialog.section.generateSelector();var t=i(e);if(t.length){var n=h.getGradient({colors:this.getGradientColors(),type:"linear",angle:this.gradientAngle});t.css({background:n});if(this.comboDialog.section.hasBackgroundEffects()){var r=this.comboDialog.section.getBackgroundEffects();f.applyBackgroundEffects(t,r,true)}}},saveGradient:function(){this.comboDialog.section.setBackgroundGradient({colors:this.getGradientColors(),type:"linear",angle:this.gradientAngle})},getGradientColors:function(){return r.map(this.colorSections,function(e){var t=this.getColorPickerColor(e.colorPicker);var i=e.positionSlider.get("position");return{color:t,position:i}},this)},getColorPickerColor:function(e){var t=e.color.get("hex");return t.length?t:e.initialColor}});return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(3),i(87),i(251),i(110),i(749)],r=function(e,t,i,n,r,o){var s=i.Panel.extend({_initialize:function(){i.Panel.prototype._initialize.call(this);this.colorPicker=this.options.content.colorPicker;this.positionSlider=this.options.content.positionSlider;this.titleHtml=this.queryOption("titleHtml")},render:function(){if(!this.$el.find(".color-section").length){this.$el.html(t.render(o))}this.$el.toggleClass("panel-switcher__panel--padding",this.queryOption("hasContentPadding"));return this},onEnter:function(){if(!this.$el.find(".color-picker").length){this.renderColorPicker();this.renderColorPositionSlider()}else{this.$el.show()}},destroy:function(){this.$el.hide()},renderColorPicker:function(){this.colorPicker.showWithin(this.$(".color-picker__container"));this.listenTo(this.colorPicker,"change",e.throttle(this.updateTitle,50));this.listenTo(this.colorPicker,"pick",this.updateTitle)},renderColorPositionSlider:function(){var e=this.$(".color-section");var t=e.find("#slider")[0];if(t.noUiSlider){t.noUiSlider.off();t.noUiSlider.destroy()}n.create(t,{start:this.positionSlider.get("position"),range:{min:0,max:100}});this.labeledSliderLabel=e.find("#slider-label")[0];t.noUiSlider.on("update",function(e,t){this.updateSlider(e,t);this.positionSlider.trigger("updateColorPositionSlider")}.bind(this));t.noUiSlider.on("set",function(e,t){this.updateSlider(e,t);this.positionSlider.trigger("setColorPositionSlider")}.bind(this))},updateSlider:function(e,t){var i=Math.round(e[t]);if(this.labeledSliderLabel){this.labeledSliderLabel.innerHTML=i+"%"}this.positionSlider.set("position",i)},updateTitle:function(e){var t=this.panelSwitcher.switcher.collection.findWhere({value:this.value});if(!t){return false}this.updateTitleText(t,e);this.updateTitleBackground(t,e)},updateTitleText:function(e,t){
e.set("text",t.hex)},updateTitleBackground:function(e,t){e.set("textHtml",'<div class="switcher__background" style="'+this.generateTitleBackgroundGradient(t)+'"></div>')},generateTitleBackgroundGradient:function(e){return r.generateCSS({colors:[{color:e.hex,position:0},{color:"#ffffff",position:100}],type:"linear",angle:270})}});return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(7),i(145),i(746)],r=function(e,t,i,n){var r=i.extend({title:_W.utl("javascript.editor.sections.view.image.ImageBackgroundPanel_1"),icon:"bgtypeimage",value:"imageBackground",events:{"click .change-image":"onClickChangeImage","click .replace-image":"onClickReplaceImage"},initialize:function(e){i.prototype.initialize.apply(this,arguments);this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundImage();if(e.isHeaderSection){this.trackingContext={object_category:"site",action:"change",object_instance:window.currentSite,property:"header_image"}}else{this.trackingContext={object_category:"legacy_section",action:"edit",object_instance:e.section.id,property:"image"}}},beforeRender:function(){if(this.section.hadBackgroundImage()){this.section.setTypeToImage();this.trigger("section:control:background:extend",this.section.getImageEditorObject())}},renderContent:function(t){this.beforeRender();var i=this.section.getBackgroundContent();t.html(e.render(n,i));this.renderOptions()},onClickChangeImage:function(e){this.trigger("section:control:background:open",this.section.id,false);this.afterOnClickImage()},onClickReplaceImage:function(e){this.trigger("section:control:background:open",this.section.id,true);this.afterOnClickImage()},afterOnClickImage:function(){this.trigger("dialog:close");t.execute("analytics:track:event",this.trackingContext)}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(3),i(44),i(733)],r=function(e,t,i){var n=t.extend({title:_W.utl("javascript.editor.sections.view.video.encoding_failure_title"),isModal:false,events:{"click .js-confirm":"confirm"},renderContent:function(t){t.html(e.render(i))},confirm:function(){this.close()}});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(11),i(7),i(13),i(145),i(144),i(585),i(25),i(56),i(369),i(10),i(752),i(751),i(156)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p=o.extend({icon:"bgtypevideo",title:_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_1"),iconAfterText:function(){if(!_W.Restrictions.hasAccess("section_video_backgrounds")){return"bolt"}},value:"videoBackground",events:{"click .add-video":"onClickChangeVideo","click .change-video":"onClickChangeVideo","change .toggle__loop input":"onToggle","click .js-preview":"toggleVideoPreview"},initialize:function(e){o.prototype.initialize.apply(this,arguments);this.selected=e.section.userSelectedBackground()&&e.section.hasBackgroundVideo();if(e.isHeaderSection){this.trackingContext={object_category:"site",action:"change",object_instance:window.currentSite,property:"header_video"}}else{this.trackingContext={object_category:"legacy_section",action:"edit",object_instance:e.section.id,property:"video"}}if(e.showNewLabels){this.titleHtml=this.newLabelTpl()}},onEnter:function(){var e=this.section;var t=this.$(".videobg__header");this.$preview=this.$(".js-preview");this.listenTo(this.options.video,{change:function(i){e.setBackgroundVideo(i.toJSON());t.css("background-image","url("+i.get("background_url")+")")}});this.listenTo(i.vent,{"section:background:video:render":this.resetVideo});this.listenTo(n,{"encoding:success encoding:failure":function(t){if(t===e.id){this.options.video.unset("encoding_done");this.render()}}});if(this.options.showNewLabels){this.hideNewLabels();this.options.showNewLabels=false}},beforeRender:function(){if(this.section.hadBackgroundVideo()){this.section.setTypeToVideo()}else if(this.section.getBackgroundType()==="video"){this.options.$sectionEl.css({"background-color":"","background-image":"url("+this.section.getVideoBackgroundSnapshot()+")"})}this.options.video=new s(this.section.getBackgroundContent())},renderContent:function(e){this.beforeRender();var i=this.options.video;var n=i.has("video_id")?h:f;var r=i.toJSON();r.encoding_done=r.encoding_done!==false;e.html(t.render(n,r));this.renderOptions()},onClickChangeVideo:function(){var e=this.dialog;if(e.$el.children().eq(0).hasClass("is-transitioning")){return}var t=new a({model:this.options.video,showPaywall:!_W.Restrictions.hasAccess("section_video_backgrounds")});var i=new r.Panel({content:t});this.listenTo(t,{"gallery:selected":this.playVideoPreview,"gallery:close":function(){s();this.trigger("dialog:close");u.hide()}.bind(this),"gallery:upgrade":function(){n.request("billing:upgrade:prompt",{restrictionID:"section_video_backgrounds",restrictionType:"feature",refer:"element_trial_upgrade"}).done(function(e){var t=JSON.parse(e.responseText);if(t&&t.action==="successBillingPremium"){s()}})},"gallery:reset":function(){var e=this.options.$sectionEl;var t=this.section.getBackgroundContent();l.previewBackgroundVideo(e,t)},close:function(){s();u.hide()}});var o=new r({initialPanel:i,size:"medium",height:550});o.section=this.section;e.currentPanel.pushDialog(o);var s=function(){e.onBeforeClose=e.savedOnBeforeClose;delete e.savedOnBeforeClose};e.savedOnBeforeClose=e.onBeforeClose;e.onBeforeClose=function(){return false};u.show({mousedown:function(){this.scrollTo(o.$el).always(function(){setTimeout(function(){e.shake()},100)})}},{zIndex:parseInt(e.$el.css("z-index"))-1});this.listenTo(o,{"change:height":function(e){this.trigger("dialog:set:height",e)}.bind(this),"before:close":function(){this.trigger("dialog:set:height",this.options.baseHeight)}.bind(this)});n.execute("analytics:track:event",this.trackingContext)},onLeave:function(){this.destroyVideoBackground()},onToggle:function(t){var i=e(t.currentTarget);var n=i.attr("name");var r=this.options.video;var o=r.get(n)===0;var s=o?1:0;i.attr("checked",o);r.set(n,s)},resetVideo:function(){var e=this.$preview.hasClass("js-playing");var t=this.options.$sectionEl.data("has-video");if(t){this.destroyVideoBackground()}if(e){this.toggleVideoPreview()}},toggleVideoPreview:function(){var e=this.options.$sectionEl;if(e.data("in-preview")){this.stopVideoPreview()}else{this.playVideoPreview()}},stopVideoPreview:function(){var e=this.options.$sectionEl;var t=e.data("has-video");if(t&&e.data("in-preview")){c.toggleVideoBackground(e);var i=_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_preview-video");e.removeData("in-preview");this.$preview.removeClass("js-playing");this.$(".preview-label").text(i)}},playVideoPreview:function(){this.stopVideoPreview();var e=this.options.$sectionEl;var t=e.data("has-video");if(!t){c.applyBackgroundVideo(e,this.section.getBackgroundContent(),true)}else{c.toggleVideoBackground(e)}var i=_W.utl("javascript.editor.sections.view.video.VideoBackgroundPanel_stop-video");e.data("in-preview",true);this.$preview.addClass("js-playing");this.$(".preview-label").text(i)},destroyVideoBackground:function(){var e=this.options.$sectionEl.hasClass(d.SECTION_BACKGROUND_VIDEO_CLASS_NAME);this.$preview.removeClass("js-playing");this.options.$sectionEl.removeData("in-preview");c.destroyVideoBackground(this.options.$sectionEl);if(e){this.options.$sectionEl.addClass(d.SECTION_BACKGROUND_VIDEO_CLASS_NAME)}}});return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(7),i(587),i(589),i(590),i(588),i(356),i(25),i(44),i(10),i(750)],r=function(e,t,i,n,r,o,s,a,l,c,u,d){var f=t.Marionette.ItemView.extend({ui:{videoUpgradeMessage:".upgrade-video-message",videoSwitchers:".btn-group__add-video > button",videoButtonGroup:".btn-group__add-video",videoViewContainer:".add-video-container",videoUrlButton:"[data-type=url]"},events:{"click @ui.videoSwitchers":"toggleViews"},triggers:{"click @ui.videoUpgradeMessage":"gallery:upgrade"},heights:{default:350,max:550,perVideo:110},dialogOptions:{hasContentPadding:false,backLink:{text:_W.utl("sections.layouts.cancel")},forwardLink:{text:_W.utl("sections.layouts.save")},onBeforeClose:function(){this.contentView.cancel()},onForward:function(){this.contentView.save()}},template:d,templateHelpers:function(){var e=this.model.get("video_type");return{has_url:e==="vimeo"||e==="youtube",show_paywall:this.options.showPaywall}},onRender:function(){var e=this;e.comboDialog=e.dialog.comboDialog;this.dialog.setForwardEnabled(false);var t=e.model.has("video_id")?_W.utl("javascript.editor.sections.view.video.AddVideoPanel_1"):_W.utl("javascript.editor.sections.view.video.AddVideoPanel_2");var i=e.model.get("video_type");e.dialog.setTitle(t);if(i){if(i==="vimeo"||i==="youtube"){this.prepareVideoView("url");this.ui.videoUrlButton.addClass("is-active")}else{this.prepareVideoView(i);this.ui.videoButtonGroup.find("[data-type="+i+"]").addClass("is-active")}}else{this.prepareVideoView("gallery");this.ui.videoButtonGroup.find("[data-type=gallery]").addClass("is-active")}},toggleViews:function(t){var i=e(t.currentTarget);var n=i.data("type");if(n==="upload"&&this.options.showPaywall){this.showPaywall();return}this.ui.videoSwitchers.removeClass("is-active");i.addClass("is-active");this.prepareVideoView(n)},prepareVideoView:function(i){var n=this,r=e.Deferred();this.ui.videoViewContainer.empty();if(n.currentView){n.currentView.close()}switch(i){case"gallery":if(!n.galleryVideos){n.dialog.setIsLoading(true);Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory("all").done(function(e){n.dialog.setIsLoading(false);n.galleryVideos=new t.Collection(e);r.resolve()})}else{r.resolve()}r.done(function(){n.renderVideoViewByType(i)});break;case"upload":case"url":n.renderVideoViewByType(i);break}},renderVideoViewByType:function(e){var i,s={model:this.model,dialog:this.dialog};switch(e){case"gallery":s["galleryVideos"]=this.galleryVideos;this.currentView=new n(s);this.listenTo(this.currentView,{"itemview:select":function(){this.hasPreviewed=true;this.dialog.setForwardEnabled(true)}});this.listenTo(s.model,{"change:video_id":function(){this.trigger("gallery:selected")}});break;case"upload":this.currentView=new r(s);this.listenTo(this.currentView,{"video:upload:uploaded":function(){this.trigger("gallery:close")}});break;case"url":this.currentView=new o(s);break}i=this.currentView.render().$el;this.ui.videoViewContainer.append(i);this.dialog.comboDialog.applyScrollbar();if(e==="upload"){var a=this;Weebly.Editor.RPC.BackgroundVideo.getBackgroundVideosByCategory("uploaded").done(function(e){a.uploadedVideos=new t.Collection(e);a.renderUploadedVideoView()})}},renderUploadedVideoView:function(){var e,t={model:this.model,dialog:this.dialog,galleryVideos:this.uploadedVideos,showHovertip:true};var i=t["galleryVideos"].length;if(!i){return}this.uploadGalleryHeaderView=new s;e=this.uploadGalleryHeaderView.render().$el;this.ui.videoViewContainer.append(e);this.uploadGalleryView=new n(t);this.listenTo(this.uploadGalleryView,{"itemview:select":function(){this.hasPreviewed=true;this.dialog.setForwardEnabled(true)}});this.listenTo(t.model,{"change:video_id":function(){this.trigger("gallery:selected")}});e=this.uploadGalleryView.render().$el;var r=this.getViewHeight(i);this.comboDialog.setHeight(r);this.comboDialog.trigger("change:height",r);this.ui.videoViewContainer.append(e)},getViewHeight:function(e){if(!e){e=0}var t=this.heights.default;t+=this.heights.perVideo*e;if(t<=this.heights.max){return t}return this.heights.max},cancel:function(){if(this.hasPreviewed){this.trigger("gallery:reset")}},save:function(){var e=this.comboDialog.video;var t=e.has("video_id")?e.toJSON():{};if(this.options.showPaywall){this.showPaywall(t)}else{this.comboDialog.section.setBackgroundVideo(t);this.trigger("gallery:close")}},showPaywall:function(e){var t=new a({noImage:true,restrictionID:"section_video_backgrounds",listenTo:i});t.on({"section:upgrade:request":function(){this.trigger("gallery:upgrade")},"section:upgrade:complete":function(){if(e){this.comboDialog.section.setBackgroundVideo(e);this.trigger("gallery:close")}}},this);var n=new c({title:_W.utl("sections.layouts.apply.upgrade.title"),backLink:{text:_W.utl("sections.layouts.apply.upgrade.cancel"),action:"close"},isModal:false,content:t});this.dialogPanel.pushDialog(n)}});return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(4),i(3),i(53),i(753)],r=function(e,t,i,n){var r=e.Marionette.ItemView.extend({tagName:"section",className:"dialog__section js-video",initialize:function(e){this.showHovertip=false;if(e.showHovertip){this.showHovertip=true;i.initialize()}},getTemplate:function(){return t.compile(n)},templateHelpers:function(){return{show_hovertip:this.showHovertip}},events:{"click @ui.snapshot":"select","mouseenter @ui.snapshot":"showGif","mouseleave @ui.snapshot":"hideGif"},ui:{snapshot:".video-gallery__snapshot"},select:function(){this.trigger("select",this.model)},showGif:function(){var e=this.model.get("gif_url");if(!e){return}this.showing=true;if(!this.loaded&&!this.loading){this.loading=true;var t=document.createElement("img");t.src=e;t.onload=function(){if(this.showing){this.ui.snapshot.css("background-image",'url("'+e+'")')}this.loaded=true;this.loading=false;this.$el.removeClass("loading")}.bind(this);this.$el.addClass("loading")}else if(this.loaded){this.ui.snapshot.css("background-image",'url("'+e+'")')}},hideGif:function(){this.showing=false;this.ui.snapshot.css("background-image",'url("'+this.model.get("snapshot_url")+'")')}});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(4),i(11),i(586),i(144),i(25),i(56),i(10)],r=function(e,t,i,n,r,s,a,l){var c=t.Marionette.CollectionView.extend({itemView:n,itemViewOptions:function(){return{showHovertip:!!this.options.showHovertip}},itemEvents:{select:"previewVideo"},initialize:function(){this.comboDialog=this.options.dialog.comboDialog;this.collection=this.options.galleryVideos;this.comboDialog.$contentInnerEl.find(".dialog__scroll").on("scroll",this.onScroll.bind(this));this.onScrollStopDebounced=o.debounce(this.onScrollStop.bind(this),200)},onScroll:function(){this.el.classList.add("dialog__scrolling");this.onScrollStopDebounced()},onScrollStop:function(){this.el.classList.remove("dialog__scrolling")},onRender:function(){var e=550;this.comboDialog.setHeight(e);this.comboDialog.trigger("change:height",e)},previewVideo:function(t,i){var n=i.model;var o=this.comboDialog;var a=o.section;var l=o.video=new r({video_type:"gallery",video_url:n.get("video_url"),video_id:n.get("video_url"),background_url:n.get("snapshot_url")});var c=l.has("video_id")?l.toJSON():{};var u=e(a.generateSelector());s.previewBackgroundVideo(u,c)}});return c}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(4),i(754)],r=function(e,t,i,n){var r=i.Marionette.ItemView.extend({template:n});return r}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(7),i(4),i(144),i(583),i(755)],r=function(e,t,i,n,r,o,s){var a=n.Marionette.ItemView.extend({ui:{uploadVideo:".js-upload"},events:{"click @ui.uploadVideo":"triggerUploadVideo"},initialize:function(){this.comboDialog=this.options.dialog.comboDialog;this.dialog=this.options.dialog;this.listenTo(this.dialog,{leave:function(){this.stopListening(i)}});this.listenTo(i,{"encoding:failure":function(e){if(e===this.dialog.comboDialog.section.id){this.dialog.pushDialog(new o)}}})},onRender:function(){var e=325;this.comboDialog.setHeight(e);this.comboDialog.trigger("change:height",e)},getTemplate:function(){return t.compile(s)},templateHelpers:function(){var e=this.model.get("video_type")==="upload"?this.model.get("video_url"):undefined;return{videoFileName:e?e.replace(/^.*[\\\/]/,""):undefined}},saveVideo:function(t){var i=e(t.currentTarget),n=i.closest(".video-gallery__snapshot").data("snapshot-url"),o=e(t.currentTarget).attr("src"),s=this.comboDialog.section;var a=this.comboDialog.video=new r({video_url:o,video_type:"gallery",video_id:o,background_url:n});var l=a.has("video_id")?a.toJSON():{};s.setBackgroundVideo(l)},triggerUploadVideo:function(){this.videoUploadCallbackName="section:bgvideo:upload:chosen:"+this.cid;this.videoErrorCallbackName="section:bgvideo:upload:error:"+this.cid;this.videoAbortCallbackName="section:bgvideo:upload:abort:"+this.cid;i.commands.setHandler(this.videoUploadCallbackName,this.onVideoUploaded.bind(this));i.commands.setHandler(this.videoErrorCallbackName,this.onVideoUploadError.bind(this));i.commands.setHandler(this.videoAbortCallbackName,this.removeRelayHandlers.bind(this));i.execute("determineUpload","video","","","",this.videoUploadCallbackName,this.videoErrorCallbackName,this.videoAbortCallbackName)},onVideoUploaded:function(e,t){var i=t.match(/^%%QUEUEID:([^%]*)%%([^%]*)%%([^%]*)%%([^%]*)$/);if(!i){this.onVideoUploadError(t);return}this.removeRelayHandlers();var n="/uploads/b/"+i[3]+"-"+i[4]+"/"+i[2];var o=n.replace(/\.[^.]+$/,".jpg");this.comboDialog.video=new r({video_type:"upload",video_url:n,video_id:n,background_url:o,encoding_done:false});var s=this.comboDialog.video.toJSON();this.comboDialog.section.setBackgroundVideo(s);this.model.set(s);this.render();this.trigger("video:upload:uploaded")},onVideoUploadError:function(){this.removeRelayHandlers();this.comboDialog.currentPanel.alert({title:_W.utl("javascript.editor.sections.view.video.error_title"),message:_W.utl("javascript.editor.sections.view.video.error_message")})},removeRelayHandlers:function(){i.commands.removeHandlers([this.videoUploadCallbackName,this.videoErrorCallbackName,this.videoAbortCallbackName])}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(3),i(4),i(144),i(756)],r=function(e,t,i,n,r){var o=i.Marionette.ItemView.extend({events:{"click .add-video":"saveVideo"},initialize:function(e){this.comboDialog=e.dialog.comboDialog},getTemplate:function(){return t.compile(r)},templateHelpers:function(){var e=this.model.get("video_type");var t=e==="vimeo"||e==="youtube"?this.model.get("video_url"):undefined;return{videoUrl:t}},saveVideo:function(){var e=this.$(".bgvideo__input").val(),t=this.comboDialog.section;if(!e){return}var i=this.comboDialog.video=new n({video_url:e});this.model.set(this.comboDialog.video.toJSON());var r=i.has("video_id")?i.toJSON():{};t.setBackgroundVideo(r);this.comboDialog.popPanel()}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(3),i(4),i(7),i(11),i(367),i(158),i(55),i(25),i(12),i(10),i(1720),i(18),i(29)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m){"use strict";var g=s.module("themeBackground",function(g){var v=null;var w=null;var b=[];var y={};var _=null;var E={rerender:function(e){if(!e){E.applyBackgrounds(y)}else{var t=g.getBackgroundNameFromClass(e);E.applyBackgrounds(i.pick(y,t))}},rendered:function(){C();T();E.applyBackgrounds(y)},update:function(e){y=e.backgrounds?e.backgrounds:y;if(d.chromeless&&!e.backgrounds){y={}}},extend:function(e){if(e){y=i.extend(y,e)}},onStartRender:function(e,t){E.update(t)},init:function(e){var i;_=t(window);_.on({"resize.theme-background":E.resize});v=g.getBackgroundElement(e);w=g.getNonBackgroundElements(v);i=g.getDefaultBackgroundUrl(v);w.css("opacity","0.5");v.css("transition","background-position 0.1s linear");C();o.trigger("themeBackground:ready",i);o.on("image:editor:scroll",E.onImageEditorScroll,E)},onImageEditorScroll:function(e){var t=_.scrollTop();_.scrollTop(t-e);o.trigger("image:editor:iframe:scroll",t-_.scrollTop())},close:function(){t(window).off(".theme-background");o.off(null,null,E);w.css("opacity","");v.css("transition","");v=null;w=null;setTimeout(T,1e3);l.updateFooterAttribution()},applyBackgroundToElement:function(e,t){g.applyBackgroundToElement(e,t)},getAll:function(){return y},getIsCommerce:function(){var e=t("#wsite-com-area-category").attr("data-id"),i=t("#wsite-com-product-gen").attr("data-id"),n;if(e){n={type:"category",id:e}}else if(i){n={type:"product",id:i}}return n},getElementPosition:function(e){var t=g.getBackgroundElement(e);return{bgSrc:(t.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1],bgCoords:c.getBackgroundPosition(t),bgSizePct:parseFloat(t.css("background-size")),availHeight:t.innerHeight(),availWidth:t.innerWidth()}},getPositioningProperties:function(e){var i=g.getBackgroundElement(e),n={},r=["float","position","width","height","left","top","backgroundSize","backgroundPosition","marginLeft","marginTop","paddingLeft","paddingTop","padding"];r.forEach(function(e){if(e==="height"){n[e]=i.outerHeight()}else if(e==="width"){n[e]=i.outerWidth()}else{n[e]=i.css(e)}});n.offset=i.offset();n.offset.top=n.offset.top-t(window).scrollTop();return n},applyBackgrounds:function(e){var t={};var i;for(var n in e){i=e[n];t[n]=i;if(i instanceof r.Model){t[n]=i.toJSON()}}g.applyBackgrounds(e)},applyBackgroundPositioning:function(t,i){var n=v,r=[t,i].join(" ");var o=u.isHeaderSectionSupported(e.pageContext.getAreas())?"":"important";n[0].style.setProperty("background-position",r,o)}};var T=function(){if(d.chromeless){return}p.getCurrentThemeData(m.isMobileView).done(function(e){var i=g.getBackgroundElements();i.not("body, .wsite-section, .wsite-header-section").each(function(){var i=t(this);var n=i.attr("class")||"";var r=n.match(/\bwsite-background(?:-([\w-]*))?\b/);var s=r[1]||"";var l=new a({targetElement:i,appendToElement:"#_editor-ui",allowPageTypes:!u.themeSupportsSections(e),allowSlideshow:false,editCallback:function(){o.execute("editor:background:open",s)}});l.render();b.push(l)})})};var C=function(){i.each(b,function(e){e.destroy()});b=[]};g.applyBackgroundToElement=function(i,r,o){var s,a,l,c,d;if(!(r instanceof t)){r=g.getBackgroundElement(r)}var f=u.isHeaderSectionSupported(e.pageContext.getAreas())?"":"important";c={"background-position":"","background-size":"","background-repeat":"","background-image":"","background-attachment":""};if(i&&i.image&&!i.image.useThemeDefault){r.addClass("wsite-custom-background")}else{r.removeClass("wsite-custom-background")}var p=t("<div/>").hide().appendTo("body");if(r.css("backgroundColor")!==p.css("backgroundColor")){delete c["background-image"]}p.remove();d=r[0];r.removeClass("is-loading");var m="js-encoding-icon";var v=t(n.render(h)).addClass(m);r.find("."+m).remove();if(i&&!i.loading){var w=i.image,b=i.zoom;l=i.position;s=b?100+b*100+"%":"cover";a=i.backgroundPosition;if(w&&!w.useThemeDefault){if(o){c={"background-size":"cover","background-repeat":"no-repeat"};a="50% 50%";s="cover"}else if(l=="fill"||!l){a=a?a:"50% 50%";c={"background-position":a,"background-repeat":"no-repeat"};if(r.is("body")){c["background-attachment"]="fixed"}}else{if(l=="left"){c={"background-position":"0% 0%","background-size":"auto","background-repeat":"no-repeat"};a="0% 0%"}else if(l=="center"){c={"background-position":"50% 0%","background-size":"auto","background-repeat":"no-repeat"};a="50% 0%"}else if(l=="right"){c={"background-position":"100% 0%","background-size":"auto","background-repeat":"no-repeat"};a="100% 0%"}else if(l=="tile"){c={"background-position":"0 0","background-size":"auto","background-repeat":"repeat"};a="0 0"}}if(a){d.style.setProperty("background-position",a,f)}if(s&&(l==="fill"||o)){d.style.setProperty("background-size",s,f)}else{d.style.setProperty("background-size","auto",f)}c["background-color"]="transparent";c["background-image"]="url('"+w.url+"')"}}else if(i&&i.loading){r.addClass("is-loading").append(v)}r.css(c);return r};g.applyBackgrounds=function(e){var i=g.getBackgroundElements();var n=t("body");S(n);n.removeClass("wsite-custom-background");i.each(function(){var i=t(this),n=i.attr("class")||"",r=g.getBackgroundNameFromClass(n),o=e[r];if(o){g.applyBackgroundToElement(o,i)}})};g.getBackgroundNameFromClass=function(e){var t=e.match(/\bwsite-background(?:-([\w-]*))?\b/);return t[1]||""};g.getBackgroundElement=function(e){e=e?"-"+e:"";return g.getCorrectBackground(t(".wsite-background"+e))};g.getBackgroundElements=function(){var e=t('body.wsite-background, body[class^="wsite-background-"], body[class*=" wsite-background-"]');return t("#icontent").find('.wsite-background, [class^="wsite-background-"], [class*=" wsite-background-"]').add(e)};g.getNonBackgroundElements=function(e){return e.siblings().add(e.children().not("."+f.SECTION_HIGHLIGHT_CLASS_NAME))};g.getDefaultBackgroundUrl=function(e){var i=e.css("background-image"),n=t("#icontent").find(".wsite-custom-background").add("body.wsite-custom-background");e.css("background-image","");n.removeClass("wsite-custom-background");var r=I(e);n.addClass("wsite-custom-background");e.css("background-image",i);return r};g.getCorrectBackground=function(e){return e.is("#icontent")?t("body"):e};function S(e){e.css({"background-position":"","background-size":"","background-repeat":"","background-image":"","background-attachment":""})}function I(e){var t=e.css("background-image");if(t){var i=t.match(/url\(('([^']*)'|"([^"]*)"|(.*?))\)/);if(i){return i[2]||i[3]||i[4]}}}g.on("start",function(){g.listenTo(s.vent,{"page:startRender":E.onStartRender,"editor:middle":E.update,pageRendered:E.rendered,themeRendered:E.rendered,"section:background:image:render":E.rerender,"headerSection:background:image:render":E.rerender});g.listenTo(o,{"themeBackground:close":E.close});s.commands.setHandlers({"themeBackground:update":E.update,"themeBackground:extend":E.extend});s.reqres.setHandlers({"themeBackground:all":E.getAll});o.commands.setHandlers({"themeBackground:init":E.init,"themeBackground:extend":E.extend,"themeBackground:apply":E.applyBackgrounds,"themeBackground:applyToElement":E.applyBackgroundToElement,"themeBackground:applyPosition":E.applyBackgroundPositioning});o.reqres.setHandlers({"themeBackground:isCommerce":E.getIsCommerce,"themeBackground:elementPosition":E.getElementPosition,"themeBackground:positioningProperties":E.getPositioningProperties})});g.on("stop",function(){g.stopListening();s.commands.removeHandlers(["themeBackground:update","themeBackground:extend"]);s.reqres.removeHandlers(["themeBackground:all"]);o.commands.removeHandlers(["themeBackground:init","themeBackground:extend","themeBackground:close","themeBackground:apply","themeBackground:applyToElement","themeBackground:applyPosition"]);o.reqres.removeHandlers(["themeBackground:isCommerce","themeBackground:elementPosition","themeBackground:positioningProperties"])})});return g}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1)],r=function(e){function t(t){var i=0;var n=false;var r=e();e.each(t.elements||[],function(){r=r.add(this)});r.on("mouseover",o).on("mousemove",s).on("mouseout",a);function o(){s();i++}function s(){if(!n){n=true;if(t.mouseover){t.mouseover()}}}function a(){var e=++i;setTimeout(function(){if(e==i){n=false;if(t.mouseout){t.mouseout()}}},t.delay||100)}this.destroy=function(){r.off("mouseover",o).off("mousemove",s).off("mouseout",a)}}return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(11),i(238),i(165),i(79),i(78),i(266),i(10),i(33),i(7),i(23),i(17),i(36),i(99)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h){var p={};var m=1e3;var g=.3;function v(){e(this).closest("li.inside").addClass("wsite-image-move").end().closest("a").removeAttr("title").on("click",false)}p.init=function(h,p,b,y,_,E,T){if(h.closest(".platform-element-child").length>0){return function(){}}d.init(i);var C;var S;var I;var O;var k;var x;var D;var R;var P;var A;var N;var M;var L;var B;var K;var F=false;function H(e,t,i,n){var r=(e.left-i)/(n-C);var o;if(b){if(r<.33){o="left"}else if(r<.66){o="center"}else{o="right"}}else if(r<.5){o="left"}else{o="right"}if(N!==o){y(t.helper,t.helper,o,M)}N=o}p.draggable({addClasses:false,revert:true,revertDuration:200,create:v,distance:10,helper:function(){var e=h.find("img").clone().attr("id","weebly_image_extras_helper").css({"z-index":m,margin:0,width:"auto","max-width":""});var t=f.getElementObject(h.closest("li.inside")[0]);if(b){K=t}else{K=new a({eid:"0",li:t.li,imageText:true,content_fields:[{ucfid:"0",cfid:"0",properties:[{cfpid:"0",ucfpid:"0",property_result:t.getPropertyResult("<!ALIGN!>"),initial_value_set:"",reference_property:"<!ALIGN!>"}]}]},Weebly.pageContext)}h.parent().prepend(e);return e},start:function(t,i){var n=e(this);o.disable();s.disable();var r=h.closest(".element-box");var a=r.offset();C=n.width();S=n.height();I=h.outerHeight();R=t.pageY;P=N=E();A=M=T?T():0;O=a.left;k=a.top;x=r.outerWidth();D=r.outerHeight();L=b?null:h.next();h.css("opacity",g).addClass("weebly-image-dragging");c.unselectElement();c.setCurrentElement(h[0]);s.hide(h[0],true);if(K){K.startDrag(t,i)}},drag:function(e,i){i.noDrop=true;var o=i.helper.offset();var s=10;var a=f.getElementObject(h.closest("li.inside")[0]);if((a.eid===l.CURRENT_PARAGRAPH_IMAGE_ELEMENT||l.STANDALONE_IMAGE_ELEMENTS.indexOf(a.eid)!==-1)&&(o.left<O-s||o.top<k-s||o.left+C>O+x+s||o.top+S>k+D+s)){if(!F){F=true;i.helper.removeClass("inside-hover");r.start.call(this,e,i)}h.css("visibility","hidden");i.helper.css("opacity",g);var c=t.clone(i);if(b){c.helper=i.helper.closest("li.inside")}else{K.getContentField().getProperty("<!ALIGN!>").property_result=a.getPropertyResult("<!ALIGN!>")}c.elementObject=K;i.helper.closest(".inside").triggerHandler(e.originalEvent);r.drag.call(this,e,c);if(K&&K.combiner&&K.combiner.found){B=null;n.removeMarker();H(o,i,K.combiner.found.offset().left,K.combiner.found.width())}}else{B=null;n.removeMarker();i.helper.addClass("inside-hover");h.css("visibility","");i.helper.css("opacity",1);var u;if(b){u=0}else{u=A+e.pageY-R;u=Math.min(u,L.outerHeight()-I);u=Math.max(u,0)}H(o,i,O,x);if(M!==u){M=u;y(i.helper,i.helper,N,M)}if(F){r.stop.call(this,e,i);F=false}}if(!B&&(!K||!K.combiner||!K.combiner.found)){o=h.find("img").offset();i.originalPosition.top=o.top;i.originalPosition.left=o.left;o=i.helper.parent().offset();i.originalPosition.top-=o.top;i.originalPosition.left-=o.left}},stop:function(e,t){o.enable();n.removeMarker();h.removeClass("weebly-image-dragging").css({opacity:1,visibility:""});s.enable();if(N!==P||M!==A){_(N,M)}if(F){t.elementObject=K;r.stop.call(this,e,t);F=false}}}).on({"drag:edge:changed":function(e,t,i){B=t;if(b){var n=i.helper.closest("li.inside");i.originalPosition.left+=(n.outerWidth()-i.helper.outerWidth())/2;i.originalPosition.top+=(n.outerHeight()-i.helper.outerHeight())/2}},"drag:edge:removed":function(){B=null},"dragstop:drop":function(t,i){t.stopPropagation();if(b){e(K.li).trigger("dragstop:drop",[i,B]);return}h.hide();var n=B.el;var r=B.position;var o=B.section_id;var s={parent:n?n.parentString:null,content_area:B.area&&B.area.name};if(r===l.POSITION_LEFT||r===l.POSITION_RIGHT){s.columns=d.getColumnData(B,{element_id:"30621876"})}var a=h.closest(".inside")[0];var c=a.id.replace(/[\D]/g,"");var p=f.getElementObject(c).elData;var m=p.area.name;u.execute("xhrUploading:set",h[0].id);u.execute("loading:start","SiteEditorUiImagesDragging::drop");Weebly.Editor.RPC.Elements.splitImageTextElement(window.currentPage,B.area.is_site_wide,m,c,p.parentString,s,o,n?n.id:null,r===l.POSITION_TOP?"before":"after").always(function(){u.execute("loading:stop","SiteEditorUiImagesDragging::drop");w()});u.request("page:navigate",window.currentPage)}});p.parent().attr("title","");return function(){if(!p.data("ui-draggable")){return}p.draggable("destroy").off("drag:edge:changed drag:edge:removed dragstop:drop")}};function w(){u.execute("xhrUploading:set",null)}return p}.apply(t,n),r!==undefined&&(e.exports=r))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(2),__webpack_require__(11),__webpack_require__(164),__webpack_require__(370),__webpack_require__(395),__webpack_require__(267),__webpack_require__(92),__webpack_require__(94),__webpack_require__(10),__webpack_require__(238),__webpack_require__(273),__webpack_require__(33),__webpack_require__(235),__webpack_require__(136),__webpack_require__(23),__webpack_require__(227),__webpack_require__(7),__webpack_require__(109),__webpack_require__(17),__webpack_require__(36),__webpack_require__(35),__webpack_require__(165),__webpack_require__(399),__webpack_require__(22)],
__WEBPACK_AMD_DEFINE_RESULT__=function($,_,frameApp,ElementUtils,ElementMoveCopy,SplitPane,MultiColumnElement,ElementSpotlight,HoverToolbar,UICONST,Marker,Edges,Elements,Droppable,Definitions,UIUtils,UIView,Relay,ImageResizing,WElementUtils,AreaUtils,ElementSettingsUtils){var exports={};var insideMove,deleteBox,deleteElementActiveClass,deleteElementInside,deleteElementToolbar;function controlsLocked(e){var t=$(e);return t.find(".inside-hover").length||t.closest(".wsite-multicol-li.inside-active").length||window.isDraggingElement||ImageResizing.resizing||SplitPane.resizing||MultiColumnElement.isResizing||ElementSpotlight.isOutside(e)||t.closest(".platform-element-child").length&&!t.closest(".content-area-element").length}exports.initElementControls=function(){exports.attachInitEventListeners();Edges.init(frameApp);UIUtils.init(frameApp)};exports.attachInitEventListeners=function(){var e=null;$(document).on("mouseover","li.inside",function(){if(controlsLocked(this)){return}if(e){e.removeClass("inside-hover")}e=$(this).addClass("inside-hover")}).on("mouseout","li.inside",function(){if(controlsLocked(this)){return}$(this).removeClass("inside-hover inside-handle-hover inside-delete-hover");e=null});$(document).on("mouseover",".w-element-controls .w-upgrade",function(){$(this).closest(".inside").addClass("inside-upgrade-hover")}).on("mouseout",".w-element-controls .w-upgrade",function(){$(this).closest(".inside").removeClass("inside-upgrade-hover")}).on("mouseover",".w-element-controls .w-handle",function(){$(this).closest(".inside").addClass("inside-handle-hover")}).on("mouseout",".w-element-controls .w-handle",function(){$(this).closest(".inside").removeClass("inside-handle-hover")}).on("mouseover",".w-element-controls .w-move",function(){$(this).closest(".inside").addClass("inside-move-hover")}).on("mouseout",".w-element-controls .w-move",function(){$(this).closest(".inside").removeClass("inside-move-hover")}).on("click",".w-element-controls .w-move",showMove).on("mouseover",".w-element-controls .w-delete",function(){$(this).closest(".inside").addClass("inside-delete-hover")}).on("mouseout",".w-element-controls .w-delete",function(){$(this).closest(".inside").removeClass("inside-delete-hover")}).on("click",".w-element-controls .w-delete",function(e){exports.deleteGenericElement.call(this,e)}).on("click",".element > .w-delete-outer",function(e){exports.askDelete.call(this.firstChild,deleteImage,window._W.utl("javascript.site.editor.ui.weebly_element_controls_3"),"",e)})};frameApp.vent.on({"pageRendered editor:spotlight:open editor:spotlight:close editor:elements:newElement editor:sections:newSectionRendered":function(){$(Droppable.topLevelDroppables).removeClass("weebly-area-active");_.each(Droppable.allDroppables,destroyUserElementListSorting);Droppable.buildTopLevelDroppables();$(Droppable.topLevelDroppables).addClass("weebly-area-active");_.each(Droppable.allDroppables,initUserElementListSorting)},attachControlEvents:function(){exports.attachInitEventListeners()}});function initUserElementListSorting(e){$(e).children().touchit().wDraggable({app:frameApp,handle:".w-handle",revertDuration:50}).on(elementUIEvents).find(".w-handle").touchit()}function destroyUserElementListSorting(e){$(e).children().filter(":data(ui-draggable)").wDraggable("destroy").off(elementUIEvents)}function deleteElement(e,t,i,n){e.addClass("inside-inactive");ElementUtils.deleteWeeblyElement(e[0],!i,n);t()}function showMove(){var moveButton=$(this);var newInsideMove=moveButton.closest(".inside");if(newInsideMove.is(insideMove)){return}frameApp.vent.trigger("element:options:dialog:close");closeMove();insideMove=newInsideMove;var value=insideMove.children("form").find("[name=idfield]").val();var idfield;try{idfield=eval("("+value+")")}catch(e){window.showError(window._W.utl("javascript.site.editor.ui.weebly_element_controls_4"));return}Definitions.fetchDefinition(idfield.eid,function(e){ElementMoveCopy.open(e,moveButton)});insideMove.addClass("inside-move-active");Elements.setCurrentElement(insideMove.find(".element")[0]);moveButton.on("mouseup.move-copy-button click.element-control.move",function(e){e.stopPropagation()});$(document).on("click.element-control.move",closeMove).on("mouseup.move-copy-button",closeMove)}function closeMove(){if(insideMove){var e=insideMove;insideMove=undefined;$(document).off("click.element-control.move");$(document).off("mouseup.move-copy-button");$(".w-element-controls .w-move").off("mouseup.move-copy-button click.element-control.move");setTimeout(function(){e.removeClass("inside-move-active")},200)}}exports.deleteGenericElement=function(e){Weebly.Elements.hideElementSettings();exports.askDelete.call(this,deleteElement,window._W.utl("javascript.site.editor.ui.weebly_element_controls_7"),"inside-delete-active",e)};exports.askDelete=function(e,t,i,n){if(deleteElementToolbar){n.stopPropagation();if(deleteBox[0]!==this){deleteBox.closest(".inside").removeClass("inside-delete-active")}deleteElementToolbar.remove()}deleteBox=$(this);deleteElementInside=deleteBox.closest(".inside");deleteElementActiveClass=i;var r=false;var o="";if(deleteElementInside.hasClass("wsite-multicol-li")){r=true;o=window._W.utl("javascript.site.editor.ui.weebly_element_controls_5",deleteElementInside.find("li.inside").length)}if(i){deleteElementInside.addClass(i)}var s=new HoverToolbar({targetElement:deleteBox[0],alignElement:deleteElementInside[0],parent:UIView.getContainer()[0],adjustX:26,preferAbove:true});s.setAutoHide(false);s.setAutoShow(false);deleteElementToolbar=$(s.getElement()).addClass("w-element-delete-popup").addClass("inactive").on("click",function(){return false});$(s.getInnerElement()).addClass("w-ui").append("<p>"+t+"</p>").append($("<span class='btn btn-large btn-danger'>"+window._W.utl("javascript.site.editor.ui.weebly_element_controls_6")+"</span>").on("click",function(){var t=deleteElementInside.attr("id").split("_").pop();e(deleteElementInside,closeDeleteElement,r,o)}));s.show();deleteElementToolbar.removeClass("inactive");$(document).on("click.element-control.delete",closeDeleteElement)};Relay.on({"iframe:overlays:hide":function(){closeMove();closeDeleteElement()},"site:overlays:hide":function(){closeMove();closeDeleteElement()}});function closeDeleteElement(){if(deleteElementInside){if(deleteElementActiveClass){deleteElementInside.removeClass(deleteElementActiveClass)}deleteElementInside=undefined;deleteElementToolbar.addClass("inactive");setTimeout(function(){deleteElementToolbar.remove()},1e3);$(document).off("click.element-control.delete",closeDeleteElement)}}function deleteImage(e,t){t();var i=e.closest(".weebly-area")[0];var n=AreaUtils.getAreaInstanceForElement(i);var r=window.getElementParentString(e[0]);var o;if($(".wsite-com-long-description").length&&(!n||!n.name)){o=true}else if(n&&n.context.pageID){o=false}else{o=true}var s=e.find(".element");if(s.length){Relay.execute("xhrUploading:set",s[0].id)}Relay.execute("loading:start","SiteEditorUiElementControls::delete");Weebly.Editor.RPC.Elements.removeImageTextImage(window.currentPage,o,n&&n.name||"",e[0].id.replace(/[^\d]/g,""),r).always(function(){Relay.execute("loading:stop","SiteEditorUiElementControls::delete");afterRPC()}).done(deleteImageDone)}function deleteImageDone(){Relay.trigger("editor:element:delete:after")}function afterRPC(){Relay.execute("xhrUploading:set",null)}var elementUIEvents={"dragstart:before":onBeforeDragStart,"drag:drag":onDrag,"drag:edge:removed":onDragEdgeRemoved,"drag:edge:changed":onDragEdgeChanged,"dragstop:before":onBeforeDragStop,"dragstop:drop":onDragDrop};var originalPositionTop;var originalPositionLeft;var originalPositionEdge;var elementObject=null;var originalHelperStyle;function setUIObjectProps(e){if(!e.elementObject){e.elementObject=elementObject}}function onBeforeDragStart(e,t){originalHelperStyle=t.helper.attr("style")||"";elementObject=WElementUtils.getElementObject(this);setUIObjectProps(t);if(ElementSettingsUtils.isElementSettingsOpen()){frameApp.vent.trigger("element:options:dialog:close")}Elements.saveProperties();originalPositionTop=t.originalPosition.top;originalPositionLeft=t.originalPosition.left;Edges.getEdge(elementObject,UICONST.POSITION_TOP).done(function(e){originalPositionEdge=e});t.helper.addClass("inside-dragging");return false}function onDrag(e,t,i){t.position.left-=i.left;t.position.top-=i.top;setUIObjectProps(t);return false}function onDragEdgeRemoved(e,t){if(originalPositionEdge&&t.originalPosition.left===originalPositionLeft&&t.originalPosition.top===originalPositionTop){Marker.createMarkerFromEdge(originalPositionEdge)}return false}function onDragEdgeChanged(e,t,i){if(i.elementObject&&i.elementObject.li){i.originalPosition.top+=$(i.elementObject.li).outerHeight()/2}return false}function onBeforeDragStop(e,t){setUIObjectProps(t);t.helper.removeClass("inside-changed inside-dragging").attr("style",originalHelperStyle);originalHelperStyle=undefined;WElementUtils.repositionElements();Weebly.Elements.unselectElement();return false}function onDragDrop(e,t,i){if(i===originalPositionEdge){elementObject=null;return false}window.isDraggingElement=true;Relay.execute("destroyDragging");var n;var r="";var o=i.position;var s=i.area;var a=i.el?i.el.parentString:s.parentString;var l=elementObject.id;var c=i;i=_.clone(c);i.column=!!i.column;if(i.el){n=i.el.section_id||i.section_id;i.el=_.clone(i.el);delete i.el.area;delete i.el.columns;delete i.el.children;if(i.el.parent){i.el.parent=i.el.parent.id}else{delete i.el.parent}if(i.el.parentColumn){i.el.parent=i.el.parentColumn.el.id}delete i.el.parentColumn;r=i.el.parent}else{n=i.section_id}i.area=_.clone(i.area);delete i.area.elements;if(i.area.sections){_.each(i.area.sections,function(e){delete e.elements})}var u=$(t.elementObject.li);if(o===UICONST.POSITION_LEFT||o===UICONST.POSITION_RIGHT){u.hide();var d={page_element_id:l};var f=UIUtils.getColumnData(c,d);Relay.request("editor:element:reorder",i,l,f).always(function(){window.isDraggingElement=false}).done(function(e){if(typeof e!=="boolean"){Relay.request("page:navigate",window.currentPage)}}).fail(function(){u.show();Relay.execute("initDragging")})}else if(o===UICONST.POSITION_TOP||o===UICONST.POSITION_BOTTOM){var h=u.next();var p;var m=u.find("img");if(!h.length){p=u.parent()}if(m.length>0){u.hide()}if(i.el){$(WElementUtils.getElementObject(i.el.id).li)[o===UICONST.POSITION_BOTTOM?"after":"before"](u)}else{var g=AreaUtils.getAreaInstance(i.area.is_site_wide,i.area.type,i.area.name);if(n){g=g.getAreaFromSectionId(n)}var v=g.el;if(g.innerEl){v=g.innerEl}$(v)[o===UICONST.POSITION_BOTTOM?"append":"prepend"](u);g.removeEmptyMessage()}Relay.request("editor:element:reorder",i,l).done(function(e){if(!i.insideContentAreaElement){ElementUtils.moveElementObject(l,a,s,i.el?i.el.id:null,o===UICONST.POSITION_TOP?"before":"after",r,n);if(m.length>0){ImageResizing.destroy(m)}}frameApp.vent.trigger("editor:elements:changed")}).fail(function(){if(h.length){h.before(u)}else{p.append(u)}}).always(function(){window.isDraggingElement=false;u.show();if(u.find("iframe").length){WElementUtils.getElementObject(l).afterRender(u[0],true,true)}Relay.execute("initDragging")})}elementObject=null;return false}return exports}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,i){var n,r;!(n=[i(1),i(2)],r=function(e,t){var i={};var n;i.init=function(e){if(!n){n=new r(e)}};i.destroy=function(){if(n){n.destroy();n=null}};function r(e){this.config=e;this.queryDom();this.updateTransitions();this.updateIsForced();this.bindTriggerHandlers();this.bindPostCloseActions();this.bindWindowResizeHandler()}r.prototype={config:null,paneEl:null,slidingEl:null,stickyNavEl:null,stickyOffset:null,coveringEl:null,bodyEl:null,triggerEl:null,spotlightEl:null,isOpen:false,isLeft:false,isFullscreen:false,isSlidingNav:false,paneWidth:0,paneTransition:null,queryDom:function(){this.paneEl=e(".w-navpane");this.slidingEl=e(".w-navpane-slide:not(.w-navpane)");this.stickyNavEl=e(".w-navbar-sticky");this.triggerEl=e(".w-navpane-trigger");this.spotlightEl=e(".w-navpane-spotlight");this.bodyEl=e("body");this.isFullscreen=this.paneEl.hasClass("w-navpane-fullscreen");this.isSlidingNav=this.paneEl.hasClass("w-navpane-slide");this.paneTransition=this.paneEl.css("transition")},updateIsForced:function(){this.bodyEl.toggleClass("w-navpane-is-forced",this.isForced())},isForced:function(){if(this.config.isForced){return true}if(this.config.condense!==false&&e(window).width()<=this.config.condense){return true}return false},queryIsLeft:function(){this.isLeft=this.triggerEl.eq(0).position().left<this.bodyEl.width()/2},queryPaneWidth:function(){this.paneWidth=this.paneEl.outerWidth()},open:function(){var e=this;this.isOpen=true;this.triggerEl.addClass("w-navpane-trigger-active");this.queryIsLeft();this.queryPaneWidth();if(!this.isFullscreen){this.addCovering();this.pinStickyNavToPage();this.preparePaneForOpen();setTimeout(function(){e.addSpotlight();e.movePaneToOpenPosition();e.moveSliderToOpenPosition()},0)}else{if(this.isSlidingNav){this.paneEl.show()}setTimeout(function(){e.paneEl.show().css("opacity",1)},0)}this.bodyEl.addClass("w-navpane-is-open");this.bindCloseHandlers()},preparePaneForOpen:function(){this.bodyEl.toggleClass("w-navpane-is-left",this.isLeft);this.bodyEl.toggleClass("w-navpane-is-right",!this.isLeft);if(this.isSlidingNav){this.paneEl.show();if(this.isLeft){this.paneEl.css({left:-this.paneWidth,right:"auto"})}else{this.paneEl.css({right:-this.paneWidth,left:"auto"})}}},movePaneToOpenPosition:function(){if(this.isSlidingNav){if(this.isLeft){this.paneEl.css("left",0)}else{this.paneEl.css("right",0)}}},movePaneToClosePosition:function(){if(this.isSlidingNav){if(this.isLeft){this.paneEl.css("left",-this.paneWidth)}else{this.paneEl.css("right",-this.paneWidth)}}else{if(!this.isFullscreen){this.removeCovering()}}},moveSliderToOpenPosition:function(){if(this.isLeft){this.slidingEl.css({left:this.paneWidth,right:-this.paneWidth})}else{this.slidingEl.css({left:-this.paneWidth,right:this.paneWidth})}},moveSliderToClosePosition:function(){this.slidingEl.css({left:0,right:0})},close:function(){this.isOpen=false;this.bodyEl.removeClass("w-navpane-is-open");this.triggerEl.removeClass("w-navpane-trigger-active");if(!this.isFullscreen){this.movePaneToClosePosition();this.moveSliderToClosePosition();this.removeSpotlight()}else{this.paneEl.css("opacity",0)}this.unbindCloseHandlers()},bindTriggerHandlers:function(){var e=this;this.triggerEl.on("click.navpane",function(t){t.stopPropagation();if(e.isOpen){e.close()}else{e.open()}})},unbindTriggerHandlers:function(){this.triggerEl.off("click.navpane")},postCloseHandler:function(){if(!this.isOpen){if(!this.isFullscreen){this.paneEl.scrollTop(0);this.unpinStickyNavToPage();this.removeCovering()}this.paneEl.hide()}},bindPostCloseActions:function(){o(this.paneEl,this.postCloseHandler.bind(this))},unbindPostCloseActions:function(){s(this.paneEl)},bindCloseHandlers:function(){var t=this;var i=".w-navpane-trigger, .w-navpane-is-open .w-navpane-covering, .w-navpane-close";e(document).on("click.navpane",i,function(e){e.stopPropagation();t.close()})},unbindCloseHandlers:function(){e(document).off("click.navpane")},bindWindowResizeHandler:function(){this.unbindWindowResizeHandler();if(this.config.condense===false||this.config.isForced){return}this.resizeHandler=t.debounce(t.bind(this.updateIsForced,this),100);e(window).on("resize",this.resizeHandler)},unbindWindowResizeHandler:function(){if(this.resizeHandler!=null){e(window).off("resize",this.resizeHandler);this.resizeHandler=null}},addCovering:function(){if(!this.coveringEl){this.coveringEl=e("<div class='w-navpane-covering'></div>");this.paneEl.after(this.coveringEl)}},removeCovering:function(){if(this.coveringEl!=null){this.coveringEl.remove();this.coveringEl=null}},addSpotlight:function(){if(this.paneEl.hasClass("w-navpane-spotlight")){this.coveringEl.addClass("w-navpane-covering-dark");this.coveringEl.css("transition",this.paneTransition)}},removeSpotlight:function(){if(this.paneEl.hasClass("w-navpane-spotlight")){this.coveringEl.removeClass("w-navpane-covering-dark")}},updateTransitions:function(){if(this.slidingEl.length){this.slidingEl.css("transition",this.paneTransition)}if(this.coveringEl){this.coveringEl.css("transition",this.paneTransition)}},pinStickyNavToPage:function(){if(this.stickyNavEl.css("position")==="fixed"){this.stickyOffset=this.stickyNavEl.position().top;this.stickyNavEl.css("position","absolute");this.stickyNavEl.css("top",this.stickyNavEl.postion.top()+this.stickyOffset)}},unpinStickyNavToPage:function(){if(this.stickyNavEl.hasClass("w-navbar-stuck")){if(this.stickyNavEl.css("z-index")==="100"){this.stickyNavEl.css({position:"fixed",top:this.stickyOffset})}else if(this.stickyNavEl.css("z-index")==="99"){this.stickyNavEl.css({position:"fixed",top:0})}}},destroy:function(){if(this.isOpen){this.close()}this.unbindTriggerHandlers();this.unbindPostCloseActions();this.unbindWindowResizeHandler();this.postCloseHandler()}};function o(e,t){e.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",t)}function s(e){e.off("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd")}return{data:[{name:"forced",title:"Collapse Navigation",type:"toggle",default:true}],render:function(e){i.destroy();i.init({isForced:Boolean(e.forced),condense:e.condense!=null?e.condense:1024})}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(611)],r=function(e){return{data:[{name:"type",title:"Sticky Navbar",type:"dropdown",choices:[{value:"normal",title:"Normal"},{value:"fixed",title:"Fixed"},{value:"semi-fixed",title:"Semi-fixed"}],default:"normal"}],render:function(t,i){var n="w-navbar-sticky";var r=t.type;if(r!=="normal"){if(e("."+n).length){e("."+n).stickUp({scrollHide:r==="semi-fixed",zIndex:r==="semi-fixed"?100:99,scrollContainer:false,topMargin:"auto"})}}else{if(e("."+n).length){e("."+n).removeStickUp({scrollContainer:false})}}}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(425)],r=function(e,t){var i="UploadPlayer";var n="uploadplayer";var r=n+"-container";var o=n+"-shield";var s=n+"-player";var a="/weebly/libraries/videojs/video-js.swf";var l=1.77777777777778;var c="objectFit"in document.documentElement.style;var u={player:null,init:function i(n,r){window.videojs.options.flash.swf=a;this.$node=e(n);this.options=t.chain(r).pick(["video_url","background_url","autoplay","loop","mute"]).defaults({autoplay:true,loop:true,mute:true,controls:false,techOrder:["html5","flash"],preload:"none"}).value();this.ID=this.$node.data("section")||(new Date).getTime();this.createBackgroundVideo();return this},createBackgroundVideo:function(){var i=s+"-"+this.ID;var a=window.videojs.players[i];if(a){a.dispose()}var l=r+"-"+this.ID;var u=e("<div/>",{class:r,id:l});var d=e("<div/>",{class:o});var f=e("<video>",{class:s+" video-js",id:i,poster:this.options.background_url,append:e("<source>",{src:this.options.video_url,type:"video/mp4"})});u.append(f,d);this.$video=f;this.$container=u;this.$node.append(u);this.player=window.videojs(i,this.options);this.player.muted(this.options.mute);if(!c){this.$video.addClass("js-no-object-fit");this.cover();e(window).on("resize."+n,t.throttle(this.cover.bind(this),25))}},destroy:function(){this.player.dispose();this.$node.removeData(i);this.$container.remove();this.$node=null;this.$container=null;if(!c){e(window).off("resize."+n)}},cover:function(){var e=this.$node.outerHeight();var t=this.$node.outerWidth();this.size(e,t);this.center(e,t)},size:function(e,t){var i={};var n=e/t;var r=this.$video.outerHeight();var o=this.$video.outerWidth();var s=r/o;if(s>=n){i.width="100%";i.height=""}else{i.width="";i.height=e+"px"}this.$video.css(i)},center:function(e,t){var i={};var n=this.$video.outerHeight();var r=this.$video.outerWidth();if(Math.ceil(n)>Math.ceil(e)){i.marginTop=-(n-e)/2;i.marginLeft=""}if(Math.ceil(r)>Math.ceil(t)){i.marginTop="";i.marginLeft=-(r-t)/2}this.$video.css(i)}};e.fn[i]=function(t){return this.each(function(){if(e.data(this,i)){return}var n=Object.create(u);n.init(this,t);e.data(this,i,n)})}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(5),i(7)],r=function(e,t,i){return{RECAPTCHA_PUBLIC_KEY:t.INVISIBLE_RECAPTCHA_PUBLIC_KEY,markupSet:false,rendered:false,widgetId:false,markupSelector:null,getCaptchaMarkup:function(){return'<div id="g-recaptcha" data-size="invisible" data-sitekey="'+this.RECAPTCHA_PUBLIC_KEY+'"></div>'},setCaptchaMarkup:function(t){this.markupSelector=t;if(this.markupSet===false){e(t).prepend(this.getCaptchaMarkup())}return this},reset:function(){grecaptcha.reset(this.widgetId);if(typeof this.customReset==="function"){this.customReset()}return this},teardown:function(){this.markupSet=false;this.rendered=false;this.widgetId=false;e("#g-recaptcha").remove()},pollChallenge:function(e,t){var n=this;n.iframePoll=window.setInterval(function(){var e=n.getIframeChallenge();if(typeof e!=="undefined"&&e.css("visibility")==="visible"){if(window.AragornAnalytics){window.AragornAnalytics.track({type:"page-view",location:"weebly."+n.LOCATION+".captcha_challenge",version:"legacy"})}else{i.execute("analytics:track:event",{type:"page-view",location:"weebly."+n.LOCATION+".captcha_challenge",version:"legacy"})}window.clearInterval(n.iframePoll);if(t){t()}}},500)},getIframeChallenge:function(){return e('iframe[src*="https://www.google.com/recaptcha/api2/bframe"]')}}}.apply(t,n),r!==undefined&&(e.exports=r))},,,function(e,t,i){var n,r;!(n=[i(2),i(117),i(604)],r=function(e,t,i){var n={LEVEL:{INFO:"info",WARNING:"warning",ERROR:"error"}};var r=25;var o=6e4;var s=null;var a={};var l=[/dev.weebly.net$/];var c=[/^https?:\/\/([A-Za-z0-9-]+\.)*(?:weebly.net|weebly.com|weeblycloud.com|editmysite.com)/];var u={dataCallback:function(e){return e},shouldSendCallback:e.noop,url:"/api/JsonRPC/Ocular/"};n.isBlacklisted=function(e){return l.length?f(l).test(e):false};n.install=function(l){l=e.extend({},u,l);var f=new i({url:l.url,standalone:false,delay:500});if(n.isBlacklisted(document.location.hostname)){return t}if(!e.isString(l.project)){console.warn("Project name not defined");return t}if(e.isUndefined(l.release)){console.warn("Release tag not defined");return t}return t.config("https://ocular@editmysite.com/"+l.project,{release:l.release,whitelistUrls:c,autoBreadcrumbs:false,dataCallback:function(e){e=l.dataCallback(e);return e},shouldSendCallback:function(e){var t=l.shouldSendCallback(e);if(t!==false){if(d(e.message)>=r){t=false}else if(!s){s=setTimeout(function(){s=null;a={}},o)}}return t!==false},transport:function(e){f.log(e.data).done(e.onSuccess).fail(e.onError)}}).install()};var d=function(e){if(typeof a[e]==="number"){a[e]++}else{a[e]=1}return a[e]};var f=function(t){var i=[],n=0,r=t.length,o;for(;n<r;n++){o=t[n];if(e.isString(o)){i.push(o.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else if(o&&o.source){i.push(o.source)}}return new RegExp(i.join("|"),"i")};return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(4),i(47)],r=function(e,t,i,n){e.extend(i.Validation.validators,{in:function(){return i.Validation.validators.oneOf.apply(this,arguments)},email:function(e,i,r){if(!n.isValidEmail(e)){return this.format(t.stl("javascript.util.backbone-validators_1"),this.formatLabel(i,r))}},maxlength:i.Validation.validators.maxLength,minlength:i.Validation.validators.minLength});e.extend(i.Validation.messages,{required:t.stl("javascript.validation.required"),acceptance:t.stl("javascript.validation.accepted"),min:t.stl("javascript.validation.min"),max:t.stl("javascript.validation.max"),range:t.stl("javascript.validation.range"),length:t.stl("javascript.validation.length"),minLength:t.stl("javascript.validation.charMin"),maxLength:t.stl("javascript.validation.charMax"),rangeLength:t.stl("javascript.validation.charRange"),oneOf:t.stl("javascript.validation.oneOf"),equalTo:t.stl("javascript.validation.equal"),digits:t.stl("javascript.validation.digits"),number:t.stl("javascript.validation.number"),int:t.stl("javascript.validation.int"),email:t.stl("javascript.validation.email"),url:t.stl("javascript.validation.url"),domain:t.stl("javascript.validation.domain"),inlinePattern:t.stl("javascript.validation.inline")})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(2),i(5),i(647)],r=function(e,t,i){return{getAllTLDs:function(t){t=t||"US";var n=i.us.slice(0);i.outside.forEach(function(i){if(e.contains(i["include-for"],t)&&i.name!=="eu"){n.unshift(i.name)}else{n.push(i.name)}});return n},getOptimizedTLDs:function(t){t=t||"US";var n=i.us.slice(0);if(t!=="US"){i.outside.forEach(function(i){if(e.contains(i["include-for"],t)){n.unshift(i.name)}})}return n},supportsWhoisPrivacy:function(t){if(!t){return false}return!e.contains(i["no-whois-privacy"],t)},filterDomain:function(e){var t=new Array;if(e!=""){t.push(new RegExp("\\.com",""));t.push(new RegExp("\\.net",""));t.push(new RegExp("\\.org",""));t.push(new RegExp("^.*:\\/\\/",""));t.push(new RegExp("^.*@",""));t.push(new RegExp("www\\.",""));t.push(new RegExp("^\\-+",""));t.push(new RegExp("\\+$",""));t.push(new RegExp("[^a-zA-Z0-9-]","g"));for(var i=0;i<t.length;i++){e=e.replace(t[i],"")}return e.substr(0,63)}return""},getDomainStringFromDomain:function(e){var t=e;if(Array.isArray(t)){t=t.join(".")}t=this.cleanDomainString(t);t=t.split(".");t=t[0];return t},getTLDFromDomain:function(e,t){var i;var n=[];if(Array.isArray(e)){e=e.join(".")}e=this.cleanDomainString(e);e=e.split(".");for(var r=1,o;r<e.length;r++){o=e[r];if(o.length){n.push(o.toLowerCase())}}if(typeof t!=="undefined"&&t==="array"){i=n}else{i=n.join(".")}return i},cleanDomainString:function(e){e=e.toLowerCase();e=e.replace(/^https?:\/\//,"");e=e.replace(/^www\./,"");e=e.replace(/[^0-9a-z-.]/g,"");return e},isWeeblyOfferedTLD:function(e){if(!t.bootstrapData||!t.bootstrapData.validTLDs){return false}if(Array.isArray(e)){e=e.join(".")}return t.bootstrapData.validTLDs.indexOf(e)!==-1}}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r,o;(function(s,a){if(true){!(r=[i(1),i(116)],n=a,o=typeof n==="function"?n.apply(t,r):n,o!==undefined&&(e.exports=o))}else if(typeof t!==undefined){a(require("jQuery"),require("vendor/jsonrpc"))}else{a(s.jQuery,s.jsonrpc)}})(this,function(e,t){"use strict";var i=function(e){this.rpc=new t.JsonRpc(e.url);if(e.delay){this.rpc.setBatchingMilliseconds(e.delay)}this.secure=!!e.secure;this.standalone=!!e.standalone};i.prototype.log=function(){var t=Array.prototype.slice.call(arguments);var i=e.Deferred();if(t.length){t.unshift("Logger::log");t.push({success:i.resolve,failure:i.reject,scope:i,secure:this.secure,standalone:this.standalone});this.rpc.call.apply(this.rpc,t)}else{i.reject()}return i.promise()};return i})},function(e,t,i){var n,r;!(n=[i(5),i(2),i(1),i(9),i(375),i(376)],r=function(e,t,i,n,r,o){var s={"w-global":e,underscore:t,jquery:i,backbone:n,"util/platform/elements/PlatformElement":r,"util/platform/elements/PlatformElementSettings":o};return function(e,t){var i=e.map(function(e){return s[e]});t.apply(t,i)}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n;!(n=function(){var e=Class.create({colors:[["#FFFFFF","#CCCCCC","#C0C0C0","#999999","#666666","#333333","#000000"],["#FFCCCC","#FF6666","#FF0000","#CC0000","#990000","#660000","#330000"],["#FFCC99","#FF9966","#FF9900","#FF6600","#CC6600","#993300","#663300"],["#FFFF99","#FFFF66","#FFCC66","#FFCC33","#CC9933","#996633","#663333"],["#FFFFCC","#FFFF33","#FFFF00","#FFCC00","#999900","#666600","#333300"],["#99FF99","#66FF99","#33FF33","#33CC00","#009900","#006600","#003300"],["#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333"],["#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066"],["#CCCCFF","#9999FF","#6666CC","#6633FF","#6600CC","#333399","#330099"],["#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"]],css:{hoverClass:"weebly-color-chooser-hover",selectedClass:"weebly-color-chooser-selected",colorClass:"weebly-color-chooser-color",containerClass:"weebly-color-chooser"},initialize:function(e){this.element=P$(e);var t=Object.extend({closeOnClick:true},arguments[1]||{});if(t.color){this.value=t.color;this.value=this.getValue()}if(P$(t.updateElement)){this.updateElement=P$(t.updateElement)}if(t.colors)this.colors=t.colors;if(P$(t.clickElement)){P$(t.clickElement).observe("click",this.draw.bindAsEventListener(this))}this.options=t},draw:function(){var e=new Element("div",{class:this.css.containerClass});var t=new Element("table",{cellspacing:"0",cellpadding:"0"}).setStyle({background:"#CCCCCC",border:"1px solid #CCCCCC"});var i=new Element("tbody");t.update(i);this.colors.each(function(e){var t=new Element("tr");e.each(function(e){var i=new Element("td").setStyle({width:"16px",height:"14px"});var n=new Element("div",{class:"weebly-color-chooser-color"}).setStyle({backgroundColor:e});if(this.getValue()==e){n.addClassName(this.css.selectedClass)}n.observe("click",this.selectGridColor.bindAsEventListener(this));n.observe("mouseover",this.hoverGridColor.bindAsEventListener(this));n.observe("mouseout",this.leaveGridColor.bindAsEventListener(this));i.update(n);t.insert({bottom:i})},this);i.insert({bottom:t})},this);e.update(t);var n=new Element("div",{class:"weebly-color-chooser-custom"}).setStyle({backgroundColor:"#CCCCCC"});n.update('<input style="float:left; width:77px; height:18px;" type="text" value="'+this.getValue()+'" />');var r=new Element("img",{src:"http://"+editorStatic+"/weebly/images/color_picker_button.gif",alt:"save"}).setStyle({float:"right",cursor:"pointer",margin:"2px"});r.observe("click",this.selectCustomColor.bindAsEventListener(this));n.insert({bottom:r});n.insert({bottom:'<div style="clear:both"></div>'});e.insert({bottom:n});this.element.update(e);if(this.options.closeOnClick){this.closeTime=(new Date).getTime()+100;this.clickClose=function(e){var t=Event.element(e);if((new Date).getTime()>this.closeTime&&!t.up("."+this.css.containerClass)){this.close();document.stopObserving("mousedown",this.clickClose)}}.bindAsEventListener(this);document.observe("mousedown",this.clickClose)}},removeGridClass:function(e){var t=this.element.down("."+e);if(t){t.removeClassName(e)}},hoverGridColor:function(e){this.removeGridClass(this.css.hoverClass);Event.element(e).addClassName(this.css.hoverClass)},leaveGridColor:function(e){Event.element(e).removeClassName(this.css.hoverClass)},selectGridColor:function(e){var t=Event.element(e);this.updateValue(t.getStyle("backgroundColor"));this.removeGridClass(this.css.selectedClass);t.addClassName(this.css.selectedClass)},selectCustomColor:function(){this.updateValue(this.element.down("input").value);this.removeGridClass(this.css.selectedClass)},updateValue:function(e,t){this.value=e;this.element.down("input").value=this.getValue();if(this.updateElement){this.updateElement.setStyle({backgroundColor:this.getValue()})}if(!t){if(this.options.onUpdate){this.options.onUpdate(this.getValue(e))}}if(this.options.closeOnClick){this.close()}},getValue:function(){if(this.value){if(this.value.match("rgb")){return this.rgbToHex(this.value)}return this.value}return""},rgbToHex:function(e){var t=e.match(/rgb\((\d+).*?(\d+).*?(\d+)\)/);var i=function(e){return"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16)};return"#"+i(parseInt(t[1]))+i(parseInt(t[2]))+i(parseInt(t[3]))},close:function(){var e=this.element.down(".weebly-color-chooser");if(e){e.remove()}}});return e}.call(t,i,t,e),n!==undefined&&(e.exports=n))},function(e,t,i){var n,r;!(n=[i(2)],r=function(e){var t=function(t){var i,n,r={width:"100%",percent:0,id:null},t=t||{};t=e.extend(r,t);function o(e){var i=parseInt(e);t.percent=i;n.style.width=i+"%"}function s(){i=document.createElement("div");i.className="upload-meter";if(t.id){i.id=t.id}n=document.createElement("span");n.className="upload-meter-progress";
n.style.width=t.percent+"%";i.appendChild(n);return i}return{el:function(){return i},render:function(){return s()},progress:function(e){o(e)}}};return t}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(5),i(42)],r=function(e){var t=Class.create({initialize:function(t){this.options=Object.extend({onConfirm:null,onCancel:null},t);this.dialog=new e.Dialog("cancel-blog-post-prompt",{modal:true,showClose:true,inner_class:"weebly-dialog-inner-red",closeFunction:this.handleCancel.bind(this)});this.buttons={confirm:o("cancel-blog-post-ok"),cancel:o("cancel-blog-post-cancel")};this.buttons.confirm.stopObserving("click");this.buttons.confirm.observe("click",this.handleConfirm.bind(this));this.buttons.cancel.stopObserving("click");this.buttons.cancel.observe("click",this.handleCancel.bind(this));this.dialog.open()},handleConfirm:function(e){e.stop();this.dialog.close();this.options.onConfirm&&this.options.onConfirm()},handleCancel:function(e){e.stop();this.dialog.close();this.options.onCancel&&this.options.onCancel()}});return t}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(16))},function(e,t,i){(function(e){(function(e){function t(e){for(var t=1;t<arguments.length;t++){e=e.replace("%"+(t-1),arguments[t])}return e}function i(i,n){var r=e("img:first",i);var o=r;var s;var a;var l=null;var c=null;var u=null;var d=null;var f=null;var h=null;var p;var m=0;var g=0;var v,w;var b=0;var y=0;var _=0;var E=0;var T=0;var C,S;var I=this,O;setTimeout(function(){if(c===null){var e=i.width();i.parent().append(t('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',e/3,e/2-e/6)).find(":last").css("opacity",.5)}},200);var k=function(){if(h!==null){h.remove();h=null}};this.removeBits=function(){if(u){u.remove();u=null}if(d){d.remove();d=null}if(f){f.remove();f=null}k();e(".cloud-zoom-loading",i.parent()).remove()};this.destroy=function(){i.data("zoom",null);if(c){c.unbind();c.remove();c=null}if(l){l.remove();l=null}this.removeBits()};this.fadedOut=function(){if(l){l.remove();l=null}this.removeBits()};this.controlLoop=function(){if(u){var e=C-o.offset().left-v*.5>>0;var t=S-o.offset().top-w*.5>>0;if(e<0){e=0}else if(e>o.outerWidth()-v){e=o.outerWidth()-v}if(t<0){t=0}else if(t>o.outerHeight()-w){t=o.outerHeight()-w}u.css({left:e,top:t});u.css("background-position",-e+"px "+-t+"px");b=e/o.outerWidth()*p.width>>0;y=t/o.outerHeight()*p.height>>0;E+=(b-E)/n.smoothMove;_+=(y-_)/n.smoothMove;l.css("background-position",-(E>>0)+"px "+(-(_>>0)+"px"))}m=setTimeout(function(){I.controlLoop()},30)};this.init2=function(e,t){T++;if(t===1){p=e}if(T===2){this.init()}};this.init=function(){e(".cloud-zoom-loading",i.parent()).remove();c=e(".mousetrap",i.parent());if(c){c.unbind();c.remove()}c=i.parent().append(t("<div class='mousetrap' style='background-image:url(\"//"+ASSETS_BASE+"/images/blank.gif\");z-index:2;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",o.outerWidth(),o.outerHeight(),0,0)).find(":last");c.bind("mousemove",this,function(e){C=e.pageX;S=e.pageY});c.bind("mouseleave",this,function(e){clearTimeout(m);clearTimeout(g);if(u){u.fadeOut(299)}if(d){d.fadeOut(299)}if(f){f.fadeOut(299)}if(l){l.fadeOut(300,function(){I.fadedOut()})}return false});var s=i.attr("href");var a=i.find("img").attr("src");if(s!=a){c.bind("mouseenter",this,function(s){g=setTimeout(function(){O=s.data;if(l){l.stop(true,false);l.remove()}var a=n.adjustX,m=n.adjustY;var g=o.outerWidth();var b=o.outerHeight();var y=n.zoomWidth;var _=n.zoomHeight;if(n.zoomWidth=="auto"){y=g}if(n.zoomHeight=="auto"){_=b}var E=i.parent();switch(n.position){case"top":m-=_;break;case"right":a+=g;break;case"bottom":m+=b;break;case"left":a-=y;break;case"inside":y=g;_=b;break;default:E=e("#"+n.position);if(!E.length){E=i;a+=g;m+=b}else{y=E.innerWidth();_=E.innerHeight()}}l=E.append(t('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:1;"></div>',a,m,y,_,p.src)).find(":last");if(r.attr("title")&&n.showTitle){l.append(t('<div class="cloud-zoom-title">%0</div>',r.attr("title"))).find(":last").css("opacity",n.titleOpacity)}if(e.browser.msie&&e.browser.version<7){h=e('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:a,top:m,zIndex:1,width:y,height:_}).insertBefore(l)}l.fadeIn(500);if(u){u.remove();u=null}v=o.outerWidth()/p.width*l.width();w=o.outerHeight()/p.height*l.height();u=i.append(t("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",v,w)).find(":last");c.css("cursor",u.css("cursor"));var T=false;if(n.tint){u.css("background",'url("'+r.attr("src")+'")');d=i.append(t('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',o.outerWidth(),o.outerHeight(),n.tint)).find(":last");d.css("opacity",n.tintOpacity);T=true;d.fadeIn(500)}if(n.softFocus){u.css("background",'url("'+r.attr("src")+'")');f=i.append(t('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',o.outerWidth()-2,o.outerHeight()-2,n.tint)).find(":last");f.css("background",'url("'+r.attr("src")+'")');f.css("opacity",.5);T=true;f.fadeIn(500)}if(!T){u.css("opacity",n.lensOpacity)}if(n.position!=="inside"){u.fadeIn(500)}O.controlLoop()},250);return})}};s=new Image;e(s).load(function(){I.init2(this,0)});s.src=r.attr("src");a=new Image;e(a).load(function(){I.init2(this,1)});a.src=i.attr("href")}e.fn.CloudZoom=function(t){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}this.each(function(){var n,r=e(this);if(r.is(".cloud-zoom")){r.css({position:"relative",display:"block"});e("img",r).css({display:"block"});if(e(this).parent().attr("id")!="cloudzoom-wrap"){e(this).wrap('<div id="cloudzoom-wrap" style="top:0px;position:relative;"></div>')}n=e.extend({},e.fn.CloudZoom.defaults,t);var o={adjustX:"int",adjustY:"int",zoomWidth:"int",zoomHeight:"int",position:"string",tint:"string",tintOpacity:"float",lensOpacity:"float",softFocus:"bool",smoothMove:"int",showTitle:"bool",titleOpacity:"float"};for(var s in o){var a=e(this).attr("data-"+s);if(a){switch(o[s]){case"int":case"float":n[s]=Number(a);break;case"bool":n[s]=Boolean(a);break;case"string":default:n[s]=a;break}}}e(this).data("zoom",new i(e(this),n))}else if(e(this).is(".cloud-zoom-gallery")){n=e.extend({},{useZoom:e(this).attr("data-zoom-id"),smallImage:e(this).attr("data-small-image")},t);e(this).data("relOpts",n);e(this).bind("click",e(this),function(t){var i=t.data;var r=i.data("relOpts");var o=e("#"+r.useZoom+" div.wsite-show").add("#"+r.useZoom+" div.wsite-show-init");e("#"+r.useZoom).data("zoom").destroy();e("#"+r.useZoom).attr("href",i.attr("href"));e("#"+r.useZoom+" img").attr("src",r.smallImage);e("#"+r.useZoom).CloudZoom(n);return false})}});return this};e.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:false,tintOpacity:.5,lensOpacity:.5,softFocus:false,smoothMove:3,showTitle:true,titleOpacity:.5,adjustX:0,adjustY:0}})(e)}).call(t,i(1))},function(e,t,i){(function(e){(function(e){var t;e.event.fix=function(e){return function(t){t=e.apply(this,arguments);if(t.type.indexOf("copy")===0||t.type.indexOf("paste")===0){t.clipboardData=t.originalEvent.clipboardData}return t}}(e.event.fix);t={callback:e.noop,matchType:/image.*/};return e.fn.pasteImageReader=function(i){if(typeof i==="function"){i={callback:i}}i=e.extend({},t,i);return this.each(function(){var t,n;n=this;t=e(this);return t.bind("paste",function(e){var t,r;r=false;t=e.clipboardData?e.clipboardData:false;if(t===false){return}return Array.prototype.forEach.call(t.types,function(e,o){var s,a;if(r){return}if(e.match(i.matchType)||t.items[o].type.match(i.matchType)){s=t.items[o].getAsFile();a=new FileReader;a.onload=function(e){return i.callback.call(n,{dataURL:e.target.result,event:e,file:s,name:s.name})};a.readAsDataURL(s);return r=true}})})})}})(e)}).call(t,i(1))},function(e,t,i){(function(e){(function(e,t,i){var n=function(n,o){var s=0,a=0,l="",c=0,u=false,d=false,f=false,h=0,p=0,m=0,g=0,v=0,w=0,b=0,y=e(),_=0,E=0,T=false,C=false,S=e('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),I=e(),O={top:0,bottom:0,custom:[]},k,x={scrollHide:false,lazyHeight:0,topMargin:"auto",keepInWrapper:false,wrapperSelector:"",zIndex:99,syncPosition:false,scrollContainer:false,topOffset:0},D=function(){if(x.topMargin==="auto"){return parseInt(y.css("marginTop"))}else{if(isNaN(x.topMargin)&&x.topMargin.search("px")>0){return parseInt(x.topMargin.replace("px",""))}else if(!isNaN(parseInt(x.topMargin))){return parseInt(x.topMargin)}else{void 0;return 0}}},R=function(){S.remove();y.removeClass("w-navbar-stuck").css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""});u=false;d=false;f=false;if(x.syncPosition)B()},P=function(e){y.before(S.css("height",p));var t=S.offsetParent();if(e){y.css({position:"absolute"});var i=I.offset().top+I.outerHeight()-t.offset().top-m-parseInt(I.css("paddingBottom"))}void 0;void 0;y.css({position:"absolute",marginTop:_,bottom:"",left:S.position().left,top:e?i:y.offset().top-t.offset().top-_})},A=function(){u=true;y.before(S.css("height",p));y.addClass("w-navbar-stuck");var e=-E;y.css({marginTop:_,position:"fixed",top:e+"px",left:"",right:"",bottom:""})},N=function(){y.before(S.css("height",p));y.addClass("w-navbar-stuck");var e=-E;y.css({marginTop:_,position:"fixed",top:"",left:"",right:"",bottom:e})},M=function(){if(S.width()!==y.outerWidth())y.outerWidth(S.outerWidth())},L=function(){k=S.offset().left;if(k!==y.offset().left);y.offset({left:k})},B=function(){S.css({"margin-left":y.css("margin-left"),"margin-right":y.css("margin-left")});y.css({"margin-left":S.css("margin-left"),"margin-right":S.css("margin-right")})},K=function(n){a=e(n.target).scrollTop();l=a>=s?"down":"up";c=Math.abs(s-a);g=e(t).outerHeight();v=a+g;s=a;w=y.offset().top;h=parseInt(y.outerHeight()+_)+parseInt(y.css("marginBottom"));if(x.scrollContainer&&!u)w.top+=a;if(!u&&!f&&!d){p=parseInt(y.outerHeight(true));if(!d&&!f)O.top=parseInt(y.offset().top);else O.top=parseInt(S.offset().top);k=parseInt(y.offset().left)+5}if(x.scrollContainer&&!u)O.top+=a;m=parseInt(y.outerHeight())+parseInt(y.css("margin-bottom"))+_;if(x.keepInWrapper)O.bottom=I.offset().top+I.outerHeight()-parseInt(I.css("paddingBottom"));else O.bottom=e(i).outerHeight();b=y.offset().top+m;if(h>g){C=true;if(T){P();T=false}if(f&&l==="up"&&a<=w-_){void 0;A();u=true;d=false;f=false}if(!u&&!d&&(!x.keepInWrapper||x.keepInWrapper&&v<=O.bottom)&&v>=b-_){void 0;N();d=true;u=true;f=false}if(!f&&u&&d&&l==="up"||!f&&u&&!d&&l==="down"&&b>=v){void 0;P();u=false;d=false;f=true}if(v>=O.bottom&&x.keepInWrapper&&(!d&&!f||parseInt(b-_)!==parseInt(O.bottom))){void 0;P(true);u=false;d=true;f=true}}else{T=true;if(C){P();C=false}if(x.scrollHide)E=h+x.lazyHeight;else E=+x.lazyHeight;if(u){var r=parseInt(y.css("top"));if(l==="up"&&r!==0){var o=c>-r?0:r+c;y.css("top",o+"px")}else if(l==="down"&&r>-E){var o=c>E+r?-E:r-c;y.css("top",o+"px")}}if(!u&&!d&&a>=O.top-_+E||d&&f&&a<=w-_+E){void 0;A();u=true;d=false;f=false}if(x.keepInWrapper&&parseInt(b-_)!==parseInt(O.bottom)&&a>=O.bottom-m+E){void 0;P(true);u=false;d=true;f=true}}if((u||f||d)&&a<=O.top-_){void 0;R()}if(u||f||d)M();if(x.syncPosition&&u||f)L()},F=function(e){if(f)P();void 0;if(x.scrollContainer)e.target=x.scrollContainer;K(e)};var H=function(n,o){y=e(n);if(o){e.extend(true,x,o)}if(y.hasClass("stuckElement")){r(n,o)}y.addClass("stuckElement");_=x.topMargin!=null?D():0;if(x.lazyHeight)_=_+x.lazyHeight;if(x.keepInWrapper){if(x.wrapperSelector!=="")I=y.closest(x.wrapperSelector);if(!I.length)I=y.offsetParent()}else{I=e("body")}if(x.zIndex)y.css("z-index",x.zIndex);if(L){B()}if(!x.scrollContainer){e(i).on("scroll.stickUp",K)}else{e(x.scrollContainer).on("scroll.stickUp",K)}e(t).on("resize.stickUp",F);K({target:!o.scrollContainer?i:x.scrollContainer})};H.call(this,n,o)};var r=function(n,r){if(!r.scrollContainer){e(i).scrollTop(0).trigger("scroll.stickUp");e(i).off("scroll.stickUp")}else{e(r.scrollContainer).scrollTop(0).trigger("scroll.stickUp");e(r.scrollContainer).off("scroll.stickUp")}e(n).removeClass("stuckElement");e(t).off("resize.stickUp")};e.fn.stickUp=function(e){return this.each(function(){new n(this,e)})};e.fn.removeStickUp=function(e){r(this,e)}})(e,window,document)}).call(t,i(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){Weebly.TimingTest={send:function(e,t,i){new Ajax.Request(ajax,{parameters:{pos:"speedtest",test:e,req_time:t,js_time:i,cookie:document.cookie,token:Weebly.RequestToken},bgRequest:true,failSilently:true})}};e.exports=Weebly.TimingTest},function(e,t,i){(function(t){e.exports=t["platformElementRequire"]=i(642)}).call(t,function(){return this}())},function(e,t,i){(function(t){e.exports=t["require"]=i(605)}).call(t,function(){return this}())},function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_$){window.Weebly=window.Weebly||{};window.settingAnimations=0;window.settingQuickExport=0;window.settingTooltips=0;window.uploadInProgress=0;window.exiting=0;window.ajax="/weebly/getElements.php";window.ajaxStatusCheckTimeout=4e3;window.ajaxStatusTimeoutGrowthFactor=1;window.Weebly.ajaxLog=[];window.onbeforeunload=function(){window.exiting=1};window.jQuery.ajaxPrefilter(function(e,t,i){var n=/\/(weebly|editor)\/getElements\.php(\?.*)?$/;if(n.test(e.url)){i.setRequestHeader("X-CSRF-TOKEN",window.Weebly.CSRFRequestToken);if(t.data){if(typeof t.data==="object"){e.data=window.jQuery.param(window.jQuery.extend(t.data,{_csrf:window.Weebly.CSRFRequestToken}))}else{try{var r=JSON.parse(t.data);if(r instanceof Array){e.data=JSON.stringify(r.each(function(e){window.jQuery.extend(e,{_csrf:window.Weebly.CSRFRequestToken})}))}else{e.data=JSON.stringify(window.jQuery.extend(r,{_csrf:window.Weebly.CSRFRequestToken}))}}catch(t){if(t instanceof SyntaxError){e.data+="&_csrf="+window.Weebly.CSRFRequestToken}else{throw t}}}}else{e.data=JSON.stringify({_csrf:window.Weebly.CSRFRequestToken})}}});window.myGlobalHandlers={onCreate:function(e,t){t.request.times={start:(new Date).getTime()};if(!e.options.bgRequest){window.startWait()}if(e.parameters&&e.parameters.pos){window.Weebly.ajaxLog.push(e.parameters.pos);if(window.Weebly.ajaxLog.size()>10){window.Weebly.ajaxLog.shift()}}e.options.requestHeaders=e.options.requestHeaders||{};var i=/\/(weebly|editor)\/getElements\.php(\?.*)?$/;if(i.test(e.url)){e.options.requestHeaders["X-CSRF-TOKEN"]=window.Weebly.CSRFRequestToken;e.url+=(e.url.include("?")?"&":"?")+"_csrf="+window.Weebly.CSRFRequestToken}if(typeof currentSite!="undefined"){e.options.requestHeaders["Weebly-Site-ID"]=window.currentSite}if(!e.options.requestHeaders["x-ajax-request-id"]){var n=(new Date).getTime()+""+Math.floor(Math.random()*999);e.options.requestHeaders["x-ajax-request-id"]=n}if(e.options.isRetry&&e.options.previouslyAborted){e.options.requestHeaders["x-ajax-abort-retry"]=window.ajaxStatusCheckTimeout}if(!e.options.isRetry&&!window.Prototype.Browser.IE6){setTimeout(function(){window.checkAjaxRequestStatus(e)},window.ajaxStatusCheckTimeout)}},onLoading:function(e,t){if(t.request.times&&t.request.times.start){t.request.times.initialized=(new Date).getTime()-t.request.times.start}},onLoaded:function(e,t){if(t.request.times&&t.request.times.start){t.request.times.sent=(new Date).getTime()-t.request.times.start;if(e.options.isRetry&&t.request.times.sent>window.ajaxStatusCheckTimeout/2){window.ajaxStatusCheckTimeout=window.ajaxStatusCheckTimeout+window.ajaxStatusCheckTimeout*window.ajaxStatusTimeoutGrowthFactor;window.ajaxStatusTimeoutGrowthFactor=window.ajaxStatusTimeoutGrowthFactor*.9}}},onInteractive:function(e,t){if(t.request.times&&t.request.times.start&&!t.request.times.response){t.request.times.response=(new Date).getTime()-t.request.times.start}},onComplete:function(e,t){if(t.status==0&&!e.aborted){window.retriableErrFunc(e,t);return false}if(t.request.times&&t.request.times.start){t.request.times.end=(new Date).getTime();t.request.times.complete=t.request.times.end-t.request.times.start}if(!e.options.bgRequest){window.endWait()}if(e.isRetriable()){e.retry()}else{window.handleLogout(t,e)}},onException:window.endWait};if(window.Ajax){window.Ajax.Responders.register(window.myGlobalHandlers)}window.startWait=function(e,t){try{e=e||window._W.utl("html.weebly.libraries.weebly_utils_ajax_1");window.pushLoading();window.jQuery("#pleaseWait").toggleClass("no-delay",!!t).find(".loading-text").text(e)}catch(e){}};window.endWait=function(){var e;try{window.popLoading();e=window.jQuery("#pleaseWait").find(".loading-text").text(window._W.utl("html.weebly.libraries.weebly_utils_ajax_2"))}catch(e){}};window.setSetting=function(setting,value){if(typeof value=="string"&&value.match(/{/)){value=value.replace(/^'/,"");value=value.replace(/'$/,"")}eval(setting+" = "+value+";")};window.handleLogout=function(e,t){var i;try{i=e.getHeader("Weebly-Auth-Msg")}catch(e){}i=i||"";if(i.match("not-logged-in")){window.onbeforeunload=null;document.location="/?session-expired=1"}else if(i.match("database-error")){window.retriableErrFunc(t,e,i)}else if(i.match("query-error")){window.retriableErrFunc(t,e,i)}else if(i.match("account-deleted")){window.onbeforeunload=null;document.location="logout.php"}else if(i.match("refresh-build")){if(!(typeof currentBlog!="undefined"&&window.currentBlog.postId&&window.currentBlog.postId==1)){window.onbeforeunload=null;window.refreshMe()}}else if(i.match("maintenance-soon")){var n=i.match(/maintenance-soon\(([^\)]+)\)/);window.onbeforeunload=null;window.maintenanceSoon(n[1])}};window.maintenanceSoon=function(e){__webpack_provided_window_dot_$("maintenanceLength").innerHTML=e;Element.show("maintenanceDiv")};window.refreshMe=function(){Element.show("refreshingDiv");Element.show("grayedOut");setTimeout("window.location.reload();",4e3)};window.retriableErrFunc=function(e,t,i){window.endWait();if(e.options.failSilently){return}if(window.exiting){return}if(t.status==0){window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_3"),e,false)}else if(i.match("database-error")){window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_4"),e,false)}else if(i.match("query-error")){window.showRetriableError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_5"),e,true)}};window.errFunc=function(e){if(e&&e.request&&e.request.isRetriable())return;window.showError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_6"),e)};window.exceptionFunc=function(e,t,i){if(e.isRetriable())return;if(e&&(!e.getStatus||!e.getStatus()||e.getStatus()<100||e.getStatus()>500)){try{var n=e.options||{},r=n._retryCount||0;if(r<=1){n._retryCount=++r;new window.Ajax.Request(e.url,n)}else{window.showError(window._W.utl("html.weebly.libraries.weebly_utils_ajax_7")+t.message)}}catch(e){}}else if(window.console&&console.log){if(typeof t=="object"){for(var o in t){if(typeof t[o]!="function"){console.log(o+": "+t[o])}}}else{console.log(t)}}};window.checkAjaxRequestStatus=function(e){if(!e._complete&&window.Prototype.Browser.IE&&!e.times.sent){e.abort()}};if(window.Ajax){window.Ajax.Request.addMethods({abort:function(){if(this._complete)return;this.transport.onreadystatechange=window.Prototype.emptyFunction;this.transport.abort();this._complete=true;this.aborted=true;var e=new window.Ajax.Response(this);["Abort","Complete"].each(function(t){try{(this.options["on"+t]||window.Prototype.emptyFunction)(e,e.headerJSON);window.Ajax.Responders.dispatch("on"+t,this,e,e.headerJSON)}catch(e){this.dispatchException(e)}},this)},retry:function(e){if(e||this.isRetriable()){var t=this.options||{};t._retryCount=(t._retryCount||0)+1;t.isRetry=true;t.previouslyAborted=this.aborted?true:false;new window.Ajax.Request(this.url,t)}},isRetriable:function(){if(!this._complete){return false}var e=this.getStatus();var t=this.options||{};var i=t.maxRetries||1;var n=t._retryCount||0;return(e==408||e>1e4||this.aborted)&&n<i}})}}).call(exports,__webpack_require__(16))},function(e,t,i){var n=i(215);CKEDITOR.lang["en"]={wsc:{btnIgnore:"Ignore",btnIgnoreAll:"Ignore All",btnReplace:"Replace",btnReplaceAll:"Replace All",btnUndo:"Undo",changeTo:"Change to",errorLoading:"Error loading application service host: %s.",ieSpellDownload:"Spell checker not installed. Do you want to download it now?",manyChanges:"Spell check complete: %1 words changed",noChanges:"Spell check complete: No words changed",noMispell:"Spell check complete: No misspellings found",noSuggestions:"- No suggestions -",notAvailable:"Sorry, but service is unavailable now.",notInDic:"Not in dictionary",oneChange:"Spell check complete: One word changed",progress:"Spell check in progress...",title:"Spell Checker",toolbar:"Check Spelling"},undo:{redo:"Redo",undo:"Undo"},toolbar:{toolbarCollapse:"Collapse Toolbar",toolbarExpand:"Expand Toolbar",toolbarGroups:{document:"Document",clipboard:"Clipboard/Undo",editing:"Editing",forms:"Forms",basicstyles:"Basic Styles",paragraph:"Paragraph",links:"Links",insert:"Insert",styles:"Styles",colors:"Colors",tools:"Tools"},toolbars:"Editor toolbars"},table:{border:"Border size",caption:"Caption",cell:{menu:"Cell",insertBefore:"Insert Cell Before",insertAfter:"Insert Cell After",deleteCell:"Delete Cells",merge:"Merge Cells",mergeRight:"Merge Right",mergeDown:"Merge Down",splitHorizontal:"Split Cell Horizontally",splitVertical:"Split Cell Vertically",title:"Cell Properties",cellType:"Cell Type",rowSpan:"Rows Span",colSpan:"Columns Span",wordWrap:"Word Wrap",hAlign:"Horizontal Alignment",vAlign:"Vertical Alignment",alignBaseline:"Baseline",bgColor:"Background Color",borderColor:"Border Color",data:"Data",header:"Header",yes:"Yes",no:"No",invalidWidth:"Cell width must be a number.",invalidHeight:"Cell height must be a number.",invalidRowSpan:"Rows span must be a whole number.",invalidColSpan:"Columns span must be a whole number.",chooseColor:"Choose"},cellPad:"Cell padding",cellSpace:"Cell spacing",column:{menu:"Column",insertBefore:"Insert Column Before",insertAfter:"Insert Column After",deleteColumn:"Delete Columns"},columns:"Columns",deleteTable:"Delete Table",headers:"Headers",headersBoth:"Both",headersColumn:"First column",headersNone:"None",headersRow:"First Row",invalidBorder:"Border size must be a number.",invalidCellPadding:"Cell padding must be a positive number.",invalidCellSpacing:"Cell spacing must be a positive number.",invalidCols:"Number of columns must be a number greater than 0.",invalidHeight:"Table height must be a number.",invalidRows:"Number of rows must be a number greater than 0.",invalidWidth:"Table width must be a number.",menu:"Table Properties",row:{menu:"Row",insertBefore:"Insert Row Before",insertAfter:"Insert Row After",deleteRow:"Delete Rows"},rows:"Rows",summary:"Summary",title:"Table Properties",toolbar:"Table",widthPc:"percent",widthPx:"pixels",widthUnit:"width unit"},stylescombo:{label:"Styles",panelTitle:"Formatting Styles",panelTitle1:"Block Styles",panelTitle2:"Inline Styles",panelTitle3:"Object Styles"},specialchar:{options:"Special Character Options",title:"Select Special Character",toolbar:"Insert Special Character"},sourcearea:{toolbar:"Source"},scayt:{btn_about:"About SCAYT",btn_dictionaries:"Dictionaries",btn_disable:"Disable SCAYT",btn_enable:"Enable SCAYT",btn_langs:"Languages",btn_options:"Options",text_title:"Spell Check As You Type"},removeformat:{toolbar:"Remove Format"},pastetext:{button:"Paste as plain text",title:"Paste as Plain Text"},pastefromword:{confirmCleanup:"The text you want to paste seems to be copied from Word. Do you want to clean it before pasting?",error:"It was not possible to clean up the pasted data due to an internal error",title:"Paste from Word",toolbar:"Paste from Word"},maximize:{maximize:"Maximize",minimize:"Minimize"},magicline:{title:"Insert paragraph here"},list:{bulletedlist:"Insert/Remove Bulleted List",numberedlist:"Insert/Remove Numbered List"},link:{acccessKey:"Access Key",advanced:"Advanced",advisoryContentType:"Advisory Content Type",advisoryTitle:"Advisory Title",anchor:{toolbar:"Anchor",menu:"Edit Anchor",title:"Anchor Properties",name:"Anchor Name",errorName:"Please type the anchor name",remove:"Remove Anchor"},anchorId:"By Element Id",anchorName:"By Anchor Name",charset:"Linked Resource Charset",cssClasses:"Stylesheet Classes",emailAddress:"E-Mail Address",emailBody:"Message Body",emailSubject:"Message Subject",id:"Id",info:"Link Info",langCode:"Language Code",langDir:"Language Direction",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",menu:"Edit Link",name:"Name",noAnchors:"(No anchors available in the document)",noEmail:"Please type the e-mail address",noUrl:"Please type the link URL",other:"<other>",popupDependent:"Dependent (Netscape)",popupFeatures:"Popup Window Features",popupFullScreen:"Full Screen (IE)",popupLeft:"Left Position",popupLocationBar:"Location Bar",popupMenuBar:"Menu Bar",popupResizable:"Resizable",popupScrollBars:"Scroll Bars",popupStatusBar:"Status Bar",popupToolbar:"Toolbar",popupTop:"Top Position",rel:"Relationship",selectAnchor:"Select an Anchor",styles:"Style",tabIndex:"Tab Index",target:"Target",targetFrame:"<frame>",targetFrameName:"Target Frame Name",targetPopup:"<popup window>",targetPopupName:"Popup Window Name",title:"Link",toAnchor:"Link to anchor in the text",toEmail:"E-mail",toUrl:"URL",toolbar:"Link",type:"Link Type",unlink:"Unlink",upload:"Upload"},indent:{indent:"Increase Indent",outdent:"Decrease Indent"},image:{alertUrl:"Please type the image URL",alt:"Alternative Text",border:"Border",btnUpload:"Send it to the Server",button2Img:"Do you want to transform the selected image button on a simple image?",hSpace:"HSpace",img2Button:"Do you want to transform the selected image on a image button?",infoTab:"Image Info",linkTab:"Link",lockRatio:"Lock Ratio",menu:"Image Properties",resetSize:"Reset Size",title:"Image Properties",titleButton:"Image Button Properties",upload:"Upload",urlMissing:"Image source URL is missing.",vSpace:"VSpace",validateBorder:"Border must be a whole number.",validateHSpace:"HSpace must be a whole number.",validateVSpace:"VSpace must be a whole number."},horizontalrule:{toolbar:"Insert Horizontal Line"},format:{label:"Format",panelTitle:"Paragraph Format",tag_address:"Address",tag_div:"Normal (DIV)",tag_h1:"Heading 1",tag_h2:"Heading 2",tag_h3:"Heading 3",tag_h4:"Heading 4",tag_h5:"Heading 5",tag_h6:"Heading 6",tag_p:"Normal",tag_pre:"Formatted"},fakeobjects:{anchor:"Anchor",flash:"Flash Animation",hiddenfield:"Hidden Field",iframe:"IFrame",unknown:"Unknown Object"},elementspath:{eleLabel:"Elements path",eleTitle:"%1 element"},contextmenu:{options:"Context Menu Options"},clipboard:{copy:"Copy",copyError:"Your browser security settings don't permit the editor to automatically execute copying operations. Please use the keyboard for that (Ctrl/Cmd+C).",cut:"Cut",cutError:"Your browser security settings don't permit the editor to automatically execute cutting operations. Please use the keyboard for that (Ctrl/Cmd+X).",paste:"Paste",pasteArea:"Paste Area",pasteMsg:"Please paste inside the following box using the keyboard (<strong>Ctrl/Cmd+V</strong>) and hit OK",securityMsg:"Because of your browser security settings, the editor is not able to access your clipboard data directly. You are required to paste it again in this window.",title:"Paste"},button:{selectedLabel:"%1 (Selected)"},blockquote:{toolbar:"Block Quote"},basicstyles:{bold:"Bold",italic:"Italic",strike:"Strikethrough",subscript:"Subscript",superscript:"Superscript",underline:"Underline"},about:{copy:"Copyright &copy; $1. All rights reserved.",dlgTitle:"About CKEditor",help:"Check $1 for help.",moreInfo:"For licensing information please visit our web site:",title:"About CKEditor",userGuide:"CKEditor User's Guide"},editor:"Rich Text Editor",editorPanel:"Rich Text Editor panel",common:{editorHelp:"Press ALT 0 for help",browseServer:"Browse Server",url:"URL",protocol:"Protocol",upload:"Upload",uploadSubmit:"Send it to the Server",image:"Image",flash:"Flash",form:"Form",checkbox:"Checkbox",radio:"Radio Button",textField:"Text Field",textarea:"Textarea",hiddenField:"Hidden Field",button:"Button",select:"Selection Field",imageButton:"Image Button",notSet:"<not set>",id:"Id",name:"Name",langDir:"Language Direction",langDirLtr:"Left to Right (LTR)",langDirRtl:"Right to Left (RTL)",langCode:"Language Code",longDescr:"Long Description URL",cssClass:"Stylesheet Classes",advisoryTitle:"Advisory Title",cssStyle:"Style",ok:"OK",cancel:"Cancel",close:"Close",preview:"Preview",resize:"Resize",generalTab:"General",advancedTab:"Advanced",validateNumberFailed:"This value is not a number.",confirmNewPage:"Any unsaved changes to this content will be lost. Are you sure you want to load new page?",confirmCancel:"You have changed some options. Are you sure you want to close the dialog window?",options:"Options",target:"Target",targetNew:"New Window (_blank)",targetTop:"Topmost Window (_top)",targetSelf:"Same Window (_self)",targetParent:"Parent Window (_parent)",langDirLTR:"Left to Right (LTR)",langDirRTL:"Right to Left (RTL)",styles:"Style",cssClasses:"Stylesheet Classes",width:"Width",height:"Height",align:"Alignment",alignLeft:"Left",alignRight:"Right",alignCenter:"Center",alignJustify:"Justify",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",alignNone:"None",invalidValue:"Invalid value.",invalidHeight:"Height must be a number.",invalidWidth:"Width must be a number.",invalidCssLength:'Value specified for the "%1" field must be a positive number with or without a valid CSS measurement unit (px, %, in, cm, mm, em, ex, pt, or pc).',invalidHtmlLength:'Value specified for the "%1" field must be a positive number with or without a valid HTML measurement unit (px or %).',invalidInlineStyle:'Value specified for the inline style must consist of one or more tuples with the format of "name : value", separated by semi-colons.',cssLengthTooltip:"Enter a number for a value in pixels or a number with a valid CSS unit (px, %, in, cm, mm, em, ex, pt, or pc).",unavailable:'%1<span class="cke_accessibility">, unavailable</span>'}}},function(e,t,i){var n=i(215);CKEDITOR.stylesSet.add("default",[{name:"Italic Title",element:"h2",styles:{"font-style":"italic"}},{name:"Subtitle",element:"h3",styles:{color:"#aaa","font-style":"italic"}},{name:"Special Container",element:"div",styles:{padding:"5px 10px",background:"#eee",border:"1px solid #ccc"}},{name:"Marker",element:"span",attributes:{class:"marker"}},{name:"Big",element:"big"},{name:"Small",element:"small"},{name:"Typewriter",element:"tt"},{name:"Computer Code",element:"code"},{name:"Keyboard Phrase",element:"kbd"},{name:"Sample Text",element:"samp"},{name:"Variable",element:"var"},{name:"Deleted Text",element:"del"},{name:"Inserted Text",element:"ins"},{name:"Cited Work",element:"cite"},{name:"Inline Quotation",element:"q"},{name:"Language: RTL",element:"span",attributes:{dir:"rtl"}},{name:"Language: LTR",element:"span",attributes:{dir:"ltr"}},{name:"Styled image (left)",element:"img",attributes:{class:"left"}},{name:"Styled image (right)",element:"img",attributes:{class:"right"}},{name:"Compact table",element:"table",attributes:{cellpadding:"5",cellspacing:"0",border:"1",bordercolor:"#ccc"},styles:{"border-collapse":"collapse"}},{name:"Borderless Table",element:"table",styles:{"border-style":"hidden","background-color":"#E6E6FA"}},{name:"Square Bulleted List",element:"ul",styles:{"list-style-type":"square"}}])},function(e,t,i){var n=i(1);(function(e){e.Event.prototype.stop=function(){this.preventDefault();this.stopPropagation()};e.fn.extend({getValue:function(){var e=this;if(e.attr("type")==="checkbox"||e.attr("type")==="radio")return e.prop("checked");if(!e.is(":input"))return e.html();return e.val()},setValue:function(e){var t=this;if(t.attr("type")==="checkbox"||t.attr("type")==="radio")t.prop("checked",!!e);else if(!t.is(":input"))t.html(typeof e=="string"?e:"");else t.val(e==null||e==undefined?"":e);
return t},getValues:function(t){t=t||"";var i={};this.find(":input,.input").each(function(){var n=e(this),r=n.attr("name")||n.attr("id");if(r&&r.indexOf(t)===0){r=r.substring(t.length);i[r]=n.getValue()}});return i},setValues:function(t,i){i=i||"";var n,r;this.find(":input,.input").each(function(){var n=e(this),r=n.attr("name")||n.attr("id");if(r&&r.indexOf(i)===0){r=r.substring(i.length);n.setValue(t[r])}});return this},equals:function(e){return this.data()===e.data()},padInput:function(t){var i,n="auto",r="auto";t=t||"all";this.each(function(o,s){i=e(s);if(t==="ns"||t==="all"){n=Math.floor((i.parent().height()-i.height())/2)}if(t==="ew"||t==="all"){r=Math.floor((i.parent().width()-i.width())/2)}i.css({"padding-top":n,"padding-right":r,"padding-bottom":n,"padding-left":r})});return this}})})(n);if(typeof JSON=="undefined"){JSON={stringify:Object.toJSON,parse:function(e){return(e||"").evalJSON()}}}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;var i=Array.prototype.slice.call(arguments,1);return function(){var n=Array.prototype.slice.call(arguments);return t.apply(e,i.concat(n))}});Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var i=0,n=this.length;i<n;++i){if(i in this){e.call(t,this[i],i,this)}}});Array.prototype.find||(Array.prototype.find=function(e,t){for(var i=0,n=this.length;i<n;++i){var r=this[i];if(e.call(t,r))return r}return null});Array.prototype.push||(Array.prototype.push=function(e){this[this.length]=e});Object.defineProperty(Array.prototype,"remove",{value:function(e,t){var i=this.slice((t||e)+1||this.length);this.length=e<0?this.length+e:e;return this.push.apply(this,i)},enumerable:false,configurable:true});String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof e[i]!="undefined"?e[i]:t})}},function(e,t){e.exports={us:["com","net","org","co","shop","info","us","club","services","agency","studio","solutions","biz","site","space","website","online","store","me","blog","vip"],outside:[{name:"ca","include-for":["CA"]},{name:"co.uk","include-for":["GB"]},{name:"com.au","include-for":["AU"]},{name:"nl","include-for":["NL"]},{name:"co.nz","include-for":["NZ"]},{name:"de","include-for":["DE"]},{name:"fr","include-for":["FR"]},{name:"es","include-for":["ES"]},{name:"eu","include-for":["NL","DE","FR","ES"]}],"no-whois-privacy":["us","eu","ca","co.uk","nl","de","fr","es","com.au","co.nz","com.br"],"no-domain-swap":["us","shop","ca","fr","eu","com.au","com.br","co.nz"],"no-whois-update":["com.br","com.au"],"pricing-group":{co:"special","co.nz":"special","com.au":"au"},"pricing-group-v2":{"com.au":"au",me:"group2",net:"group2",org:"group2",club:"group3",vip:"group3",agency:"group4",biz:"group4",info:"group4",solutions:"group4",space:"group5",studio:"group5",website:"group5",blog:"group6",co:"group6",services:"group6",site:"group6","co.nz":"group7",online:"group7",shop:"group7",store:"group8"},rebate:["vip","agency","solutions","studio","website","space","blog","services","site","shop","online","store"]}},,function(e,t){e.exports='<h1 class="published-ecom-feature-upsell__title">\n\t{{upsellToPlan}}\n</h1>\n\n<div class="published-ecom-feature-upsell__features">\n\t<p>\n\t\t{{#tl}}ecommerce.editor.store_demo.editor.currently_following_features_set{{/tl}}\n\t\t<ul>\n\t\t\t{{#features}}\n\t\t\t\t<li>{{.}}</li>\n\t\t\t{{/features}}\n\t\t</ul>\n\t</p>\n\t<p>\n\t\t{{#tl}}ecommerce.editor.store_demo.editor.enable_published_site_upgrade_plan{{/tl}}\n\t</p>\n\t<div class="published-ecom-feature-upsell__upgrade-btn-align">\n\t\t<a href="#" class="btn-flat btn-flat-primary js-upgrade-btn">\n\t\t\t{{#tl}}ecommerce.editor.store_demo.editor.upgrade{{/tl}}\n\t\t</a>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="store-loading">\n\t<div class="store-loading-spinner">\n\t\t<div class="store-loading-spinner__bg"></div>\n\t</div>\n\t<span class="store-loading__text">{{loadingText}}</span>\n</div>\n'},function(e,t){e.exports="<p>{{{message}}}</p>\n"},function(e,t){e.exports="\n<div class='hovercontrol-wrap'>\n\t{{#isSection}}\n\t\t<div class='button'>\n\t\t\t<div class='main'>\n\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_7{{/tl}}\n\t\t\t</div>\n\t\t</div>\n\t{{/isSection}}\n\t{{^isSection}}\n\t\t<div class='button {{#showDropdown}}button-complex{{/showDropdown}}'>\n\t\t\t<div class='main'>\n\t\t\t\t{{#isSlideshow}}\n\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_1{{/tl}}\n\t\t\t\t{{/isSlideshow}}\n\t\t\t\t{{^isSlideshow}}\n\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_2{{/tl}}\n\t\t\t\t{{/isSlideshow}}\n\t\t\t</div>\n\t\t\t{{#showDropdown}}\n\t\t\t\t<div class='expander'><div></div></div>\n\t\t\t{{/showDropdown}}\n\t\t</div>\n\t{{/isSection}}\n\t{{#showDropdown}}\n\t\t<div class='menu' style='display:none'>\n\t\t\t<div class='carrot'></div>\n\t\t\t<div class='inner'>\n\t\t\t\t<div class='item image'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_3{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{#allowNewImage}}\n\t\t\t\t<div class='item new-image'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}templates.hovercontrol.new-image{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowNewImage}}\n\t\t\t\t{{#allowSlideshow}}\n\t\t\t\t<div class='item slideshow'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#hasSlideshowData}}\n\t\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_4{{/tl}}\n\t\t\t\t\t\t{{/hasSlideshowData}}\n\t\t\t\t\t\t{{^hasSlideshowData}}\n\t\t\t\t\t\t\t{{#tl}}templates.hovercontrol.hover-controls_5{{/tl}}\n\t\t\t\t\t\t{{/hasSlideshowData}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowSlideshow}}\n\t\t\t\t{{#allowReset}}\n\t\t\t\t<div class='item reset'>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{{#tl}}html.weebly.slideshow-editor.partial_3{{/tl}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{{/allowReset}}\n\t\t\t</div>\n\t\t</div>\n\t{{/showDropdown}}\n</div>\n{{#allowPageTypes}}\n\t<div class='page-type-wrap'>\n\t\t<div class='expander'><div></div></div>\n\t\t<div class='menu' style='display:none'>\n\t\t\t<div class='carrot'></div>\n\t\t\t<div class='inner'>\n\t\t\t\t<div class='title'>{{#tl}}templates.hovercontrol.hover-controls_6{{/tl}}</div>\n\t\t\t\t<div class='items'>\n\t\t\t\t\t{{#pageTypes}}\n\t\t\t\t\t\t<div class='item {{className}}' data-page-type='{{name}}'>\n\t\t\t\t\t\t\t<div class='item-icon'></div>\n\t\t\t\t\t\t\t<div class='item-text'>{{title}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/pageTypes}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/allowPageTypes}}\n"},function(e,t){e.exports='<div class="has-blog-posts">\n\t<fieldset class="input-group el-options-url-group {{^currentPostTitle}}hidden{{/currentPostTitle}}">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t\t<input type="text" class="current-post-input" value="{{currentPostTitle}}" readonly="readonly">\n\t\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.blog-post_3{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n\t<div class="blog-post-selector {{#currentPostTitle}}hidden{{/currentPostTitle}}">\n\t\t<div class="form-control form-control--search">\n\t\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.blog-post_4{{/tl}}" class="js-search">\n\t\t</div>\n\t\t<ul class="group group--flush group--search">\n\t\t\t<div class="blog-post-wrapper">\n\t\t\t</div>\n\t\t</ul>\n\t</div>\n\n\t{{^disableNewWindow}}\n\t\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t\t<input class="js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t\t{{#tl}}templates.editor.build.linker.blog-post_1{{/tl}}\n\t\t</label>\n\t{{/disableNewWindow}}\n</div>\n\n<div class="no-blog-posts hidden">\n\t<div class="empty">\n\t\t{{#tl}}templates.editor.build.linker.blog-post_2{{/tl}}<br>\n\t</div>\n</div>\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-email-input" placeholder="name@domain.com" value="{{value}}">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.email_2{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<span class="input-group__invalid-text">{{#tl}}templates.editor.build.linker.email_1{{/tl}}</span>\n</fieldset>\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group {{^currentFileTitle}}hidden{{/currentFileTitle}}">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="current-file-input" value="{{currentFileTitle}}" readonly="readonly">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.file_3{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>\n\n<div class="file-selector {{#currentFileTitle}}hidden{{/currentFileTitle}}">\n\t<div class="form-control form-control--search">\n\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.file_4{{/tl}}" class="js-search">\n\t</div>\n\t<ul class="group group--flush group--search">\n\t\t<li class="group__item js-upload-file-container">\n\t\t\t<label class="form-control form-control--radio-check form-control--borderless js-upload-file">\n\t\t\t\t<span class="icon">plussmall</span>\n\t\t\t\t{{#tl}}templates.editor.build.linker.file_1{{/tl}}\n\t\t\t</label>\n\t\t</li>\n\t\t<div class="files-wrapper">\n\t\t</div>\n\t</ul>\n</div>\n\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class="js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.file_2{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group">\n\t<legend class="input-group__header">{{#tl}}javascript.editor-site-shared.build.linker.item-views.GiftCardUrlView_1{{/tl}}</legend>\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control">\n\t\t\t\t<input type="text" value="{{value}}" disabled>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>\n\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class="js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.website-url_3{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-phone-input" placeholder="{{#tl}}templates.editor.build.linker.phone-number_1{{/tl}}"  value="{{value}}">\n\t\t\t\t<button class="btn--link  action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.website-url_4{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>'},function(e,t){e.exports='{{#categories}}\n\t<li class="group__item js-categories">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input class="js-store-page" type="checkbox" name="check" {{#checked}}checked{{/checked}} value="{{site_link}}">\n\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t<span class="js-name">{{name}}</span>\n\t\t</label>\n\t</li>\n{{/categories}}'},function(e,t){e.exports='{{#files}}\n\t<li class="{{#hiddenFile}}hidden{{/hiddenFile}} group__item">\n\t\t<label class="form-control form-control--radio-check form-control--borderless js-file"  data-hover-tip data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-text="{{cleanedLocation}}">\n\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{location}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t{{shortenedLocation}} ({{size}})\n\t\t</label>\n\t</li>\n{{/files}}'},function(e,t){e.exports='{{#pages}}\n\t<li class="{{#hiddenPage}}is-hidden{{/hiddenPage}} group__item js-page" style="margin-left:{{margin}}px">\n\t\t<label class="form-control form-control--radio-check form-control--borderless {{#disabled}}is-disabled{{/disabled}}">\n\t\t\t<input type="{{#multi}}checkbox{{/multi}}{{^multi}}radio{{/multi}}" name="check" {{#checked}}checked{{/checked}} {{#disabled}}disabled{{/disabled}} value="{{id}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t<span class="js-name">{{title}}</span>\n\t\t\t{{#thisPage}}<span class="page-selector__this-page">{{#tl}}templates.editor.build.linker.search-results.this-page{{/tl}}</span>{{/thisPage}}\n\t\t</label>\n\t</li>\n{{/pages}}'},function(e,t){e.exports='{{#blogPosts}}\n\t<li class="{{#hiddenBlogPost}}hidden{{/hiddenBlogPost}} group__item js-blog-post">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{page_id}}/{{post_id}}/{{post_link}}">\n\t\t\t<span class="form-control__indicator"></span>\n\t\t\t<span class="js-name">{{post_title}}</span>\n\t\t</label>\n\t</li>\n{{/blogPosts}}'},function(e,t){e.exports='{{#products}}\n\t<li class="group__item js-products">\n\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t<input class="js-store-page" type="radio" name="checkbox" {{#checked}}checked{{/checked}} value="{{site_link}}">\n\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t<span class="js-name">{{name}}</span>\n\t\t</label>\n\t</li>\n{{/products}}'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group {{^currentPageTitle}}is-hidden{{/currentPageTitle}}">\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t<input type="text" class="current-page-input" value="{{currentPageTitle}}" readonly="readonly">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.standard-page_2{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</fieldset>\n\n{{#selectorTitle}}<span class="form-control__label-text">{{selectorTitle}}</span>{{/selectorTitle}}\n<div class="page-selector {{#currentPageTitle}}is-hidden{{/currentPageTitle}}">\n\t{{^disableSearch}}\n\t<div class="form-control form-control--search">\n\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.standard-page_3{{/tl}}" class="js-search">\n\t</div>\n\t{{/disableSearch}}\n\t<ul class="group group--flush group--search">\n\t\t<div class="pages-wrapper">\n\t\t</div>\n\t</ul>\n</div>\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.standard-page_1{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},function(e,t){e.exports='{{#hasStore}}\n\t<fieldset class="input-group el-options-url-group {{^currentPageTitle}}hidden{{/currentPageTitle}}">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input">\n\t\t\t\t\t<input type="text" class="current-page-input" value="{{currentPageTitle}}" readonly="readonly">\n\t\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.store-page_9{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n\t<div class="store-page-selector {{#currentPageTitle}}hidden{{/currentPageTitle}}">\n\t\t<div class="form-control form-control--search">\n\t\t\t<input type="search" placeholder="{{#tl}}templates.editor.build.linker.store-page_10{{/tl}}" class="js-search" value="{{searchValue}}">\n\t\t</div>\n\t\t<ul class="group group--flush group--search">\n\t\t\t<li class="group__item js-storefront">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input class="js-store-page" type="radio" name="check" value="{{storefrontLink}}">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t<span class="js-name">{{#tl}}templates.editor.build.linker.store-page_1{{/tl}}</span>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<li class="group__item js-toggle-categories">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="check">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t{{#tl}}templates.editor.build.linker.store-page_2{{/tl}}\n\t\t\t\t\t{{#categoryPageCount}}<span class="categories-pg-cnt">({{categoryPageCount}})</span>{{/categoryPageCount}}\n\t\t\t\t\t\t<div class="spinner" {{#isLoading}}style="display:block"{{/isLoading}}>\n\t\t\t\t\t\t\t<div class="spinner__bg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<div class="categories-wrapper hidden">\n\t\t\t</div>\n\n\t\t\t<li class="group__item js-toggle-products">\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="check">\n\t\t\t\t\t<span class="form-control__indicator js-check"></span>\n\t\t\t\t\t{{#tl}}templates.editor.build.linker.store-page_3{{/tl}}\n\t\t\t\t\t{{#productPageCount}}<span class="products-pg-cnt">({{productPageCount}})</span>{{/productPageCount}}\n\t\t\t\t\t<div class="spinner" {{#isLoading}}style="display:block"{{/isLoading}}>\n\t\t\t\t\t\t<div class="spinner__bg"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t</li>\n\n\t\t\t<div class="products-wrapper hidden">\n\t\t\t</div>\n\t\t</ul>\n\t</div>\n\n\t{{^disableNewWindow}}\n\t\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t\t{{#tl}}templates.editor.build.linker.store-page_4{{/tl}}\n\t\t</label>\n\t{{/disableNewWindow}}\n{{/hasStore}}\n{{^hasStore}}\n\t<div class="empty">\n\t\t{{#tl}}templates.editor.build.linker.store-page_5{{/tl}}<br>\n\t\t{{#tl}}templates.editor.build.linker.store-page_6{{/tl}}<a href="{{newProductHref}}" class="js-open-store">{{#tl}}templates.editor.build.linker.store-page_7{{/tl}}</a> {{#tl}}templates.editor.build.linker.store-page_8{{/tl}}\n\t</div>\n{{/hasStore}}\n'},function(e,t){e.exports='<fieldset class="input-group el-options-url-group js-input-wrapper">\n\t<legend class="input-group__header">{{#tl}}templates.editor.build.linker.website-url_1{{/tl}}</legend>\n\t<div class="input-group__content">\n\t\t<div class="input-group__row">\n\t\t\t<div class="input-group__item form-control  form-control__el-options--input">\n\t\t\t\t<input type="text" class="js-url-input" placeholder="{{placeholder}}" value="{{value}}">\n\t\t\t\t<button class="btn--link action-btn__el-options js-unlink">{{#tl}}templates.editor.build.linker.website-url_4{{/tl}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<span class="input-group__invalid-text">{{#tl}}templates.editor.build.linker.website-url_2{{/tl}}</span>\n</fieldset>\n\n{{^disableNewWindow}}\n\t<label class="form-control form-control--checkbox form-control--simple form-control--checkbox-new-window">\n\t\t<input class=" js-window" type="checkbox" {{#newWindow}}checked{{/newWindow}}>\n\t\t<span class="form-control__indicator form-control__indicator--new_window"></span>\n\t\t{{#tl}}templates.editor.build.linker.website-url_3{{/tl}}\n\t</label>\n{{/disableNewWindow}}\n'},,function(e,t){e.exports='<div class="btn-group">\n\t<button class="btn--small js-move">{{#tl}}templates.editor.dialogs.move-copy-topbar.move_button{{/tl}}</button>\n\t<button class="btn--small js-copy">{{#tl}}templates.editor.dialogs.move-copy-topbar.copy_button{{/tl}}</button>\n</div>'},function(e,t){e.exports='<div class="product-name">\n\t{{#tl}}templates.editor.dialogs.product-element.product-element-empty_1{{/tl}}\n</div>\n'},function(e,t){e.exports='<div class="product-thumb-holder">{{{thumb}}}</div>\n<div class="product-name" title="{{productName}}">{{productName}}</div>\n\t<div class="product-actions">\n\t\t{{#hasSku}}\n\t\t\t<button class="toggle-product-button btn-com"><span class="w-icon-increase"></span></button>\n\t\t{{/hasSku}}\n\t\t{{^hasSku}}\n\t\t\t<button class="connect-single-product-button btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-item-view_1{{/tl}}</button>\n\t\t{{/hasSku}}\n\t</div>\n</div>\n\n<ul class="product-skus"></ul>\n'},function(e,t){e.exports='{{#hasSku}}\n\t<div class="product-thumb-holder">{{{thumb}}}</div>\n\t<div class="product-sku-name" title="{{variation}}">\n\t\t{{variation}}\n\t</div>\n\t<div class="product-actions">\n\t\t<button class="connect-product-button btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-item_1{{/tl}}</button>\n\t</div>\n{{/hasSku}}\n'},function(e,t){e.exports='<div class="product-element-chooser-header">\n\t<input class="product-element-chooser-search" type="text" name="search" placeholder="{{#esc_attr}}{{#tl}}templates.editor.dialogs.product-element.product-element-layout_1{{/tl}}{{/esc_attr}}" />\n\t<button class="product-element-add-product btn-com">{{#tl}}templates.editor.dialogs.product-element.product-element-layout_2{{/tl}}</button>\n</div>\n<div class="product-element-chooser w-massless-scroll">\n\t<div class="scroll-outer">\n\t\t<div class="scroll-inner">\n\t\t\t<div class="list-region products-holder">{{! listRegion }}</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<span class="form-control__label-text">{{#tl}}sections.movecopy.move_section_heading{{/tl}}</span>\n<ul class="group group--flush group--hoverable">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-this">\n\t\t\t{{#tl}}sections.movecopy.on_this_page_option{{/tl}}\n\t\t</button>\n\t</li>\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-another">\n\t\t\t{{#tl}}sections.movecopy.to_another_page_option{{/tl}}\n\t\t</button>\n\t</li>\n</ul>'},function(e,t){e.exports='<span class="form-control__label-text">{{#tl}}sections.movecopy.move_section_heading{{/tl}}</span>\n<div class="btn-group btn-group--section-shift">\n\t<button class="btn--small js-up">{{#tl}}sections.movecopy.shift_up{{/tl}}</button>\n\t<button class="btn--small js-down">{{#tl}}sections.movecopy.shift_down{{/tl}}</button>\n</div>'},function(e,t){e.exports="{{#tl}}templates.editor.dialogs.upload-virus-error_1{{/tl}}\n"},function(e,t){e.exports="<div class='app-tutorial-introduction'><span>{{introduction}}</span></div>\n<section class='dialog__section--flush app-tutorial-step-section'>\n\t<ul class=\"group\">\n\t\t{{#steps}}\n\t\t\t<li class=\"group__item app-tutorial-step\">\n\t\t\t\t<span class='app-tutorial-step-title'>{{index}}</span>\n\t\t\t\t<span class='app-tutorial-step-content'>{{{value}}}</span>\n\t\t\t</li>\n\t\t{{/steps}}\n\t</ul>\n</section>\n"},function(e,t){e.exports='<button class="btn-control btn-control--borderless">\n\t<span class="btn-control__label app-tutorial-topic-label">{{label}}</span>\n</button>'},function(e,t){e.exports="<div class='app-tutorial-introduction'><span>{{introduction}}</span></div>\n<section class='dialog__section--flush app-tutorial-topics-section'>\n\t<ul class=\"group app-tutorial-topics-container\"></ul>\n</section>\n"},function(e,t){e.exports='<div class="app-tutorial-introduction"><span>{{introduction}}</span></div>\n<div class="app-tutorial-video-placeholder">\n\t<img src="https://img.youtube.com/vi/{{content}}/0.jpg" data-icon-before="play">\n</div>'},function(e,t){e.exports='<div class="hover-toolbar-arrow hover-toolbar-arrow-centered"><div></div></div>\n<div class="hover-toolbar-inner">\n\t<a class="black-button play-button"><span></span></a>\n\t<a class="black-button pause-button"><span></span></a>\n\t<span class="caption-wrap">\n\t\t<a class="black-button caption-button"><span></span></a>\n\t\t<div class="caption-popout" style="display:none">\n\t\t\t<div class="caption-arrow"></div>\n\t\t\t<textarea class="caption-area" placeholder="{{#esc_attr}}{{#tl}}templates.hovercontrol.slideshow-toolbar_2{{/tl}}{{/esc_attr}}"></textarea>\n\t\t\t<div class="buttons">\n\t\t\t\t<a class="button cancel-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_3{{/tl}}</a>\n\t\t\t\t<a class="button save-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_4{{/tl}}</a>\n\t\t\t</div>\n\t\t</div>\n\t</span>\n\t<a class="black-button link-button"><span></span></a>\n\t<a class="edit-button">{{#tl}}templates.hovercontrol.slideshow-toolbar_5{{/tl}}</a>\n</div>\n'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.categories-element.select-categories{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--2 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(categories-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(categories-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.categories-element.select-categories{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--3 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/categories-3.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.categories-element.category-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.categories-element.category-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.categories-element.view-category{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>';
},function(e,t){e.exports='<div class="ui-framework hidden-commerce-element">\n\t<h2>{{#tl}}templates.elements.categories-element.category-info-hidden{{/tl}}</h2>\n\t<p>{{#tl}}templates.elements.categories-element.dont-show-on-publish{{/tl}}</p>\n</div>\n'},function(e,t){e.exports='<div class="element" id="{{ucfid}}">\n\t{{{ contentHTML }}}\n</div>'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}} class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t</p>\n\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}}  class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t</div>\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='{{#models}}\n\t<div class="product-grid__item">\n\t\t{{#model_url}}\n\t\t\t<a class="product-grid__item-overlay {{#is_singlerow}}{{^SHOWBUTTON}}product-grid__item-overlay_full_width{{/SHOWBUTTON}}{{/is_singlerow}}" href="{{.}}"></a>\n\t\t{{/model_url}}\n\t\t<div class="product-grid__content">\n\t\t\t{{#SHOWIMAGE}}\n\t\t\t\t{{#is_multi_image}}\n\t\t\t\t\t<div class="product-grid__images product-grid-multi-image images-{{image_count}}">\n\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}" style="background-image: url(\'{{url}}\')">\n\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t</div>\n\t\t\t\t{{/is_multi_image}}\n\t\t\t\t{{^is_multi_image}}\n\t\t\t\t\t{{#first_image}}\n\t\t\t\t\t\t<div class="product-grid__images">\n\t\t\t\t\t\t\t{{#is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}}"><img src="{{url}}" />\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{^is_masonry}}\n\t\t\t\t\t\t\t\t<div class="product-grid-image image-{{index}} product-grid-image__default product-grid-image-aspect--{{ASPECTRATIO}} js-default-img" style="background-image: url({{url}})">\n\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/is_masonry}}\n\t\t\t\t\t\t\t{{#can_view_slideshow}}\n\t\t\t\t\t\t\t\t{{#image_urls}}\n\t\t\t\t\t\t\t\t\t<div class="product-grid-image product-grid-image__slideshow image-{{index}} product-grid-image-aspect--{{ASPECTRATIO}} js-slideshow-img" style="background-image: url({{url}});">\n\t\t\t\t\t\t\t\t\t\t{{#show_sale_banner}}\n\t\t\t\t\t\t\t\t\t\t\t<div class="product-grid__image-sale-banner-wrapper">\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner placeholder">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="product-grid__image-sale-banner visible">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.on_sale{{/stl}}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{{/show_sale_banner}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{{/image_urls}}\n\t\t\t\t\t\t\t{{/can_view_slideshow}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/first_image}}\n\t\t\t\t{{/is_multi_image}}\n\t\t\t{{/SHOWIMAGE}}\n\t\t\t<div class="product-grid__overlay">\n\t\t\t\t<div class="product-grid__overlay-inner">\n\t\t\t\t\t<div class="product-grid__info" style="text-align:{{TEXTALIGN}}">\n\t\t\t\t\t\t{{#SHOWNAME}}\n\t\t\t\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset">{{name}}</span>\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t{{/SHOWNAME}}\n\t\t\t\t\t\t{{#SHOWPRICE}}\n\t\t\t\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset">\n\t\t\t\t\t\t\t\t\t{{#price}}\n\t\t\t\t\t\t\t\t\t\t<span class="product-grid__sale">\n\t\t\t\t\t\t\t\t\t\t\t{{{price}}}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{{/price}}\n\t\t\t\t\t\t\t\t\t{{{sale_price}}}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWPRICE}}\n\t\t\t\t\t\t{{#show_low_stock_badge}}\n\t\t\t\t\t\t\t<p class="product-grid__low-stock-badge">\n\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.low_stock{{/stl}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{{/show_low_stock_badge}}\n\t\t\t\t\t\t{{#show_out_of_stock_badge}}\n\t\t\t\t\t\t\t<p class="product-grid__out-of-stock-badge">\n\t\t\t\t\t\t\t\t{{#stl}}ecommerce.common.out_of_stock{{/stl}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{{/show_out_of_stock_badge}}\n\t\t\t\t\t\t{{#SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">{{{short_description}}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWSHORTDESCRIPTION}}\n\t\t\t\t\t\t{{#SHOWBUTTON}}\n\t\t\t\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t\t\t\t<a {{#model_url}}href="{{.}}"{{/model_url}} class="{{BUTTONSTYLE}}">\n\t\t\t\t\t\t\t\t\t<span class="wsite-button-inner">{{BUTTONTEXT}}</span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{/SHOWBUTTON}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{{/models}}'},function(e,t){e.exports='<div class="product-grid product-grid-columns--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}}">\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-masonry  product-grid-masonry--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}}">\n\t<div class="product-grid-masonry--gutter"></div>\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-columns--{{COLUMNS}} product-grid-layout--multiimage product-grid-layout--{{INFOPLACEMENT}}">\n\t{{{models_html}}}\n</div>\n'},function(e,t){e.exports='<div class="product-grid product-grid-single-row--{{COLUMNS}} product-grid-layout--{{INFOPLACEMENT}} js-single-row-layout">\n\t\t<div class="product-grid__controls js-single-row-controls">\n\t\t\t<div class="product-grid__controls--link product-grid-single-row__prev js-scroll-arrow js-scroll-left">\n\t\t\t\t<a class="product-grid-image-aspect--{{ASPECTRATIO}}">\n\t\t\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div class="product-grid__controls--link product-grid-single-row__next js-scroll-arrow js-scroll-right">\n\t\t\t\t<a class="product-grid-image-aspect--{{ASPECTRATIO}}">\n\t\t\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid-single-row__contents">\n\t\t<div class="product-grid-single-row__wrapper js-row-wrapper" data-current-page="1" data-max-page="{{max_page}}">\n\t\t\t{{{models_html}}}\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='{{! please reflect any changes here to the string template in javascript/site/published/commerce-elements/utils.js }}\n<div class="product-pagination" data-max-page="{{max_page}}">\n\t<div class="product-grid__paging clearfix">\n\t\t<a class="product-grid__paging--link js-products-prev">\n\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t</a>\n\t\t<div class="pagination-wrapper">\n\t\t\t<a class="product-grid__paging--count js-page-num wsite-first" data-page="1">1</a>\n\n\t\t\t{{#show_head_ellipsis}}\n\t\t\t\t<span class="pagination-ellipsis"></span>\n\t\t\t{{/show_head_ellipsis}}\n\n\t\t\t{{#pages}}\n\t\t\t\t<a class="product-grid__paging--count js-page-num" data-page="{{.}}">{{.}}</a>\n\t\t\t{{/pages}}\n\n\t\t\t{{#show_tail_ellipsis}}\n\t\t\t\t<span class="pagination-ellipsis"></span>\n\t\t\t{{/show_tail_ellipsis}}\n\n\t\t\t<a class="product-grid__paging--count js-page-num wsite-last" data-page="{{max_page}}">{{max_page}}</a>\n\t\t</div>\n\t\t<a class="product-grid__paging--link product-grid--next js-products-next">\n\t\t\t<span class="product-grid__paging--arrow"></span>\n\t\t</a>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="product-pagination" data-max-page="{{max_page}}">\n\t<div class="product-grid__more" data-current-page="1">{{#tl}}templates.elements.commerce-elements.pagination.show-more{{/tl}}</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.empty-select-products{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--2 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(products-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(products-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework empty-commerce-element">\n\t<div class="commerce-element__overlay">\n\t\t<p class="empty-state__message">{{#tl}}templates.elements.empty-select-products{{/tl}}</p>\n\t</div>\n\t<div class="product-grid product-grid-columns--3 product-grid-layout--above">\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-1.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-2.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="product-grid__item">\n\t\t\t<div class="product-grid__images">\n\t\t\t\t\t<div class="product-grid-image image-1 default-image product-grid-image-aspect--1-1" style="background-image: url(//{{ASSETS_BASE}}/images/editor/elements/commerce-elements/products-3.jpg)"></div>\n\t\t\t</div>\n\t\t\t<div class="product-grid__info" style="text-align: left;">\n\t\t\t\t<h2 class="product-grid__title">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-name{{/tl}}</span>\n\t\t\t\t</h2>\n\t\t\t\t<div class="product-grid__price paragraph">\n\t\t\t\t\t<span class="product-grid-reset">{{#tl}}templates.elements.commerce-elements.products-element.product-price{{/tl}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__description paragraph">\n\t\t\t\t\t<span class="product-grid-reset product-grid__description--shortened">\n\t\t\t\t\t\t{{#tl}}templates.elements.commerce-elements.products-element.product-description{{/tl}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="product-grid__button">\n\t\t\t\t\t<a class="wsite-button wsite-button-small wsite-button-normal">\n\t\t\t\t\t\t<span class="wsite-button-inner">{{#tl}}templates.elements.commerce-elements.products-element.buy-now{{/tl}}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<div class="ui-framework hidden-commerce-element">\n\t<h2>{{#tl}}templates.elements.products-element.product-info-hidden{{/tl}}</h2>\n\t<p>{{#tl}}templates.elements.products-element.dont-show-on-publish{{/tl}}</p>\n</div>\n'},function(e,t){e.exports="<div class='product-block product' style='{{alignCss}}'>\n\n\t<div class='product-block-inner'>\n\t\t{{#showImage}}\n\t\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t\t<span class='product-block-image' style='background-image:url(\"{{imageUrl}}\")'></span>\n\t\t\t</a>\n\t\t{{/showImage}}\n\t</div>\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showPrice}}\n\t\t<div class='product-block-price'>\n\t\t\t{{{priceHtml}}}\n\t\t</div>\n\t{{/showPrice}}\n\n\t<input\n\t\tclass='product-button'\n\t\ttype='image'\n\t\t{{#isNotAvailableButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_small.gif'\n\t\t{{/isNotAvailableButton}}\n\t\t{{#isViewButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_small.gif'\n\t\t{{/isViewButton}}\n\t\t{{#isAddToCartButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_small.gif'\n\t\t{{/isAddToCartButton}}\n\t\t{{#isBuyNowButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_small.gif'\n\t\t{{/isBuyNowButton}}\n\t\t{{#buttonUrl}}\n\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t{{/buttonUrl}}\n\t\t{{{buttonDataAttrs}}}\n\t/>\n\n\t<div style='clear:both'></div>\n\t\n</div>\n"},function(e,t){e.exports="<div class='product-large product'>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t{{#showPrice}}\n\t\t<div class='product-large-price'>\n\t\t\t{{{priceHtml}}}\n\t\t\t&nbsp;\n\t\t</div>\n\t{{/showPrice}}\n\n\t<div style='height:24px'>\n\t\t<input\n\t\t\tclass='product-button'\n\t\t\ttype='image'\n\t\t\t{{#isNotAvailableButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isNotAvailableButton}}\n\t\t\t{{#isViewButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isViewButton}}\n\t\t\t{{#isAddToCartButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t\t{{/isAddToCartButton}}\n\t\t\t{{#isBuyNowButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t\t{{/isBuyNowButton}}\n\t\t\t{{#buttonUrl}}\n\t\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t\t{{/buttonUrl}}\n\t\t\t{{{buttonDataAttrs}}}\n\t\t/>\n\t</div>\n\n\t<div style='clear:both'></div>\n\t\n</div>\n"},function(e,t){e.exports="<div class='product-long product'>\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-long-detail'>\n\n\t\t{{#showPrice}}\n\t\t\t<div class='product-long-price'>\n\t\t\t\t{{{priceHtml}}}\n\t\t\t</div>\n\t\t{{/showPrice}}\n\n\t\t<div style='clear:both'></div>\n\n\t\t<div style='font-size:5px'>&nbsp;</div>\n\n\t\t<div style='height:36px; float:left'>&nbsp;</div>\n\n\t\t<input\n\t\t\tclass='product-button'\n\t\t\ttype='image'\n\t\t\t{{#isNotAvailableButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isNotAvailableButton}}\n\t\t\t{{#isViewButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t\t{{/isViewButton}}\n\t\t\t{{#isAddToCartButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t\t{{/isAddToCartButton}}\n\t\t\t{{#isBuyNowButton}}\n\t\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t\t{{/isBuyNowButton}}\n\t\t\t{{#buttonUrl}}\n\t\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t\t{{/buttonUrl}}\n\t\t\t{{{buttonDataAttrs}}}\n\t\t/>\n\n\t\t<div style='clear:both'></div>\n\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t<div style='clear:both'></div>\n\n</div>\n"},function(e,t){e.exports="\n{{#salePrice}}\n\t<div class='product-price'>\n\t\t<span style='text-decoration:line-through; margin-right:8px'>\n\t\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t\t</span>\n\t\t{{{currencyPrefix}}}{{salePrice}}{{{currencySuffix}}}\n\t</div>\n{{/salePrice}}\n\n{{^salePrice}}\n\t<div class='product-currency' style='float:left'>\n\t\t{{{currencyPrefix}}}\n\t</div>\n\t<div class='product-price'>\n\t\t{{price}}{{{currencySuffix}}}\n\t\t&nbsp;&nbsp;&nbsp;\n\t</div>\n{{/salePrice}}"},function(e,t){e.exports="<div class='product-small product'>\n\n\t{{#showImage}}\n\t\t<a {{{imageLinkAttrs}}}>\n\t\t\t<img src='{{imageUrl}}' class='product-image' style='width:{{imageWidth}}' />\n\t\t</a>\n\t{{/showImage}}\n\n\t<div class='product-title'>\n\t\t{{title}}\n\t</div>\n\n\t{{#showDescription}}\n\t\t<div class='product-description'>\n\t\t\t{{{descriptionHtml}}}\n\t\t</div>\n\t{{/showDescription}}\n\n\t{{#showPrice}}\n\t\t<div class='product-small-price'>\n\t\t\t{{{priceHtml}}}\n\t\t</div>\n\t{{/showPrice}}\n\n\t<input\n\t\tclass='product-button'\n\t\ttype='image'\n\t\t{{#isNotAvailableButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t{{/isNotAvailableButton}}\n\t\t{{#isViewButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/view_product_big.gif'\n\t\t{{/isViewButton}}\n\t\t{{#isAddToCartButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/add_to_cart_big.gif'\n\t\t{{/isAddToCartButton}}\n\t\t{{#isBuyNowButton}}\n\t\t\tsrc='//{{staticDomain}}/editor/images/buy_now_big.gif'\n\t\t{{/isBuyNowButton}}\n\t\t{{#buttonUrl}}\n\t\t\tonclick=\"window.location.href='{{buttonUrl}}'\"\n\t\t{{/buttonUrl}}\n\t\t{{{buttonDataAttrs}}}\n\t/>\n\n\t<div style='clear:both'></div>\n\n</div>\n";
},function(e,t){e.exports="\n{{#salePrice}}\n\t<a class='wsite-product-original-price'>\n\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t</a>\n\t<a class='wsite-product-sale-price'>\n\t\t{{{currencyPrefix}}}{{salePrice}}{{{currencySuffix}}}\n\t</a>\n{{/salePrice}}\n\n{{^salePrice}}\n\t<a>\n\t\t{{{currencyPrefix}}}{{price}}{{{currencySuffix}}}\n\t</a>\n{{/salePrice}}"},function(e,t){e.exports="<div class='wsite-product' style='margin-top:{{marginTop}}; margin-bottom:{{marginBottom}}'>\n\n\t{{#showImage}}\n\t\t<div class='wsite-product-image-wrap' style='width:{{imageWidth}}'>\n\t\t\t<a class='wsite-product-image' {{{imageLinkAttrs}}}>\n\t\t\t\t{{{imageHtml}}}\n\t\t\t</a>\n\t\t</div>\n\t{{/showImage}}\n\n\t<div class='wsite-product-right'>\n\n\t\t<div class='wsite-product-top'>\n\n\t\t\t<h2 class='wsite-product-title'{{#inEditor}} placeholder=''{{/inEditor}}>{{title}}</h2>\n\t\t\t{{#hasVariants}}\n\t\t\t\t<ul class='wsite-product-variations'>\n\t\t\t\t\t{{#variantOptions}}\n\t\t\t\t\t\t<li class='wsite-product-variant {{#disabled}}wsite-com-product-disabled{{/disabled}}'><span class=\"wsite-option-name\">{{name}}</span>:\n\t\t\t\t\t\t{{#text}}\n\t\t\t\t\t\t\t{{^showTextArea}}\n\t\t\t\t\t\t\t<input id=\"wsite-com-product-option-{{safe_option_name}}\" class=\"wsite-field wsite-form-input product-text-option\" {{#disabled}}disabled{{/disabled}} name=\"{{name}}\" {{{textInputDataAttrs}}}>\n\t\t\t\t\t\t\t{{/showTextArea}}\n\t\t\t\t\t\t\t{{#showTextArea}}\n\t\t\t\t\t\t\t<textarea id=\"wsite-com-product-option-{{safe_option_name}}\" class=\"wsite-field wsite-form-input product-text-option\" {{#disabled}}disabled{{/disabled}} name=\"{{name}}\" {{{textInputDataAttrs}}}></textarea>\n\t\t\t\t\t\t\t{{/showTextArea}}\n\t\t\t\t\t\t\t{{#required}}\n\t\t\t\t\t\t\t\t<span class=\"form-required {{#disabled}}wsite-com-product-disabled{{/disabled}}\">*</span>\n\t\t\t\t\t\t\t{{/required}}\n\t\t\t\t\t\t\t<div class=\"text-option-error-message\"></div>\n\t\t\t\t\t\t{{/text}}\n\t\t\t\t\t\t{{^text}}\n\t\t\t\t\t\t\t{{choice}}\n\t\t\t\t\t\t{{/text}}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t{{/variantOptions}}\n\t\t\t\t</ul>\n\t\t\t{{/hasVariants}}\n\n\t\t\t{{#hasRequiredOption}}\n\t\t\t\t<p {{#disabled}}class=\"wsite-com-product-disabled\"{{/disabled}}>{{#stl}}ecommerce.common.indicates_required{{/stl}}</p>\n\t\t\t{{/hasRequiredOption}}\n\n\t\t\t{{#showPrice}}\n\t\t\t\t<div class='wsite-product-price'>\n\t\t\t\t\t{{{priceHtml}}}\n\t\t\t\t</div>\n\t\t\t{{/showPrice}}\n\n\t\t</div>\n\n\t\t<div class='wsite-product-button-wrap'>\n\t\t\t<a href='{{buttonUrl}}' class='{{buttonClass}} {{#disabled}}wsite-com-product-disabled{{/disabled}}' {{{buttonDataAttrs}}} >\n\t\t\t\t<span class='wsite-button-inner'>{{buttonText}}</span>\n\t\t\t</a>\n\t\t</div>\n\n\t\t{{#showDescription}}\n\t\t\t<div class='wsite-product-description paragraph'{{#inEditor}} placeholder=\"{{#esc_attr}}{{#tl}}templates.elements.commerce-product_1{{/tl}}{{/esc_attr}}\"{{/inEditor}}>{{{descriptionHtml}}}</div>\n\t\t{{/showDescription}}\n\n\t</div>\n\n</div>\n"},function(e,t){e.exports='<html>\n\t<head>\n\t\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n\t\t<link rel=\'stylesheet\' href=\'{{{ sites_css_url }}}\' type=\'text/css\' />\n\t\t<style rel=\'stylesheet\' type=\'text/css\' title="wsite-theme-css" >{{{ theme_css }}}</style>\n\t\t<script type=\'application/javascript\' src=\'/gdpr/gdprscript.js?buildTime={{build_time}}&stealth=true\'></script>\n\t\t<script type=\'application/javascript\' src=\'{{{ jquery_url }}}\'></script>\n\t</head>\n\t<body style=\'margin: 0; padding: 0; background: transparent; min-height:10px; _height:10px\' onclick="parent.clickHandler(event, \'{{ ucfid }}\');">\n\t\t<div id="icontent_container" class="icontent_container">\n\t\t\t<div id="icontent" class="icontent">\n\t\t\t\t<div id="secondlist">\n\t\t\t\t\t<div class="paragraph" id="customhtml-content" style="text-align:{{ align }};">\n\t\t\t\t\t\t{{{ content }}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</body>\n</html>\n'},function(e,t){e.exports='<div class="customhtml-wrapper">\n\t<div class="customhtml-blocker">\n\t</div>\n</div>'},function(e,t){e.exports='<div class="w-dialog element-move-copy" style="display: none;">\n\t<div class="element-move-copy-arrow"></div>\n\t<div class="element-move-copy-header">\n\t\t<div class="switcher">\n\t\t\t<div class="inner">\n\t\t\t\t<div class="move">{{#tl}}Move{{/tl}}</div>\n\t\t\t\t<div class="copy">{{#tl}}Copy{{/tl}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="element-move-copy-content">\n\t\t<ul></ul>\n\t</div>\n</div>'},function(e,t){e.exports='<li class="inside" id="inside_{{id}}">\n\t<form name="id_{{id}}" data-platform-element-id="{{platform_element_id}}" data-platform-element-version="{{platform_element_version}}" style="display:none" autocomplete="off">\n\t\t<input type="hidden" name="idfield" value="{id:\'{{id}}\',eid:\'{{eid}}\'}" />\n\t</form>\n\t{{{controlHTML}}}\n\t<div class="element-box">\n\t\t<div class="element-box-contents"{{#page_element_id}} id="{{{page_element_id}}}"{{/page_element_id}}>\n\t\t\t{{{contentHTML}}}\n\t\t</div>\n\t</div>\n</li>'},function(e,t){e.exports='<td class="wsite-multicol-col" {{#in_editor}}id="{{id}}" {{/in_editor}}style="width:{{width}}; padding:{{padding}};">\n{{#elementsHTML}}\n\t{{#in_editor}}<ul class="columnlist" id="{{id}}-ul">{{/in_editor}}\n\t\t{{{elementsHTML}}}\n\t{{#in_editor}}</ul>{{/in_editor}}\n{{/elementsHTML}}\n</td>'},function(e,t){e.exports='<div class="wsite-multicol-table-wrap"{{#margin}} style="margin:{{margin}};"{{/margin}}>\n\t<table class="wsite-multicol-table">\n\t\t<tbody class="wsite-multicol-tbody">\n\t\t\t<tr class="wsite-multicol-tr">\n\t\t\t{{#columns}}\n\t\t\t\t{{>elements/multicolumn-column}}\n\t\t\t{{/columns}}\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n</div>'},function(e,t){e.exports='{{#is_fullscreen}}\n\t<div class="w-ui w-ui-topbar">\n\t\t<ul class="tabs">\n\t\t\t<li class="title-text">{{name}}</li>\n\t\t</ul>\n\t\t<ul class="right-buttons">\n\t\t\t<li class="button-option btn-info fullscreen-close-btn">\n\t\t\t\t<a><span>{{#tl}}templates.elements.settings.external-settings_2{{/tl}}</span></a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n{{/is_fullscreen}}\n<iframe src="{{built_url}}"></iframe>\n\n'},function(e,t){e.exports='<div class="{{^isDropdown}}group group--flush{{/isDropdown}}">\n</div>\n'},function(e,t){e.exports='<div class="form-control form-control--selector form-control--borderless">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="inline-selector">\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="left" data-value="{{leftValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textalignleft</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="center" data-value="{{centerValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textaligncenter</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option" data-ucfpid="{{ucfpid}}" value="right" data-value="{{rightValue}}" class="inline-selector__option">\n\t\t\t\t<span class="icon">textalignright</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>'},function(e,t){e.exports='<button class="js-button {{#isExternal}}iframe-button{{/isExternal}} btn--action" {{#actionPaneIndex}}data-action-index="{{actionPaneIndex}}"{{/actionPaneIndex}}>\n\t{{label}}\n\t{{#showBadge}}<span class="label label--badge">{{badgeLabel}}</span>{{/showBadge}}\n</button>\n\n{{#customHTML}}\n\t{{{customHTML}}}\n{{/customHTML}}\n'},function(e,t){e.exports='<label class="form-control form-control--checkbox">\n\t<input id="{{ucfpid}}" type="checkbox" {{checked}}>\n\t<span class="form-control__indicator"></span>\n\t{{label}}\n</label>'},function(e,t){e.exports='<input id="{{ucfpid}}" id="platform-settings-tooltip-{{name}}" type="input" name="{{name}}" value="{{value}}" class="color-picker">\n'},function(e,t){e.exports='<fieldset>\n\t<label class="form-control">\n\t\t<span class="form-control__label-text">{{form_label}}</span>\n\t\t<input name="std" placeholder="{{hint}}" type="text" value="{{value}}">\n\t</label>\n</fieldset>\n\n{{#show_toggle}}\n\t<label class="form-control form-control--toggle">\n\t\t<input type="checkbox" name="check" {{#active}}checked{{/active}}>\n\t\t<span class="form-control--toggle__switch"></span>\n\t\t{{#tl}}templates.elements.settings.tooltip-edit-social_2{{/tl}}\n\t</label>\n{{/show_toggle}}\n'},function(e,t){e.exports='{{#description}}\n\t<p class="element-settings__description">{{{description}}}</p>\n{{/description}}\n{{^description}}\n\t{{#label}}\n\t\t<h3 class="form-header">{{label}}</h3>\n\t{{/label}}\n{{/description}}\n\n{{> elements/settings/group-item}}\n'},function(e,t){e.exports='<div class="form-control form-control--stepper form-control--borderless">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="stepper">\n\t\t\t<div class="stepper__step icon" data-role="decrease">minussmall</div>\n\t\t\t<input class="stepper__field" id="{{ucfpid}}" type="text" value="{{value}}" placeholder="{{default}}" data-measure="{{measure}}">\n\t\t\t<div class="stepper__step icon" data-role="increase">plussmall</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='{{#isTrigger}}\n<ul class="group group--flush">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless">\n\t\t\t<span class="btn-control__label">{{label}}</span>\n\t\t\t<span class="btn-control__sublabel link-item-sublabel"></span>\n\t\t</button>\n\t</li>\n</ul>\n{{/isTrigger}}\n\n{{^isTrigger}}\n<button class="btn-control btn-control--borderless">\n\t<span class="btn-control__label">{{label}}</span>\n\t<span class="btn-control__sublabel link-item-sublabel"></span>\n</button>\n{{/isTrigger}}\n'},function(e,t){e.exports='<div class="group__item js-option">\n\t<span class="group--deletable__icon js-delete-option"></span>\n\t<div class="form-control form-control--borderless">\n\t\t<input name="std" placeholder="{{#esc_attr}}{{#tl}}templates.elements.settings.tooltip-option-item_1{{/tl}}{{/esc_attr}}" type="text">\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="group group--flush group--sortable group--deletable form-option-group js-form-option-group">\n\t{{#options}}\n\t\t<div class="group__item js-option">\n\t\t\t<span class="group--deletable__icon js-delete-option"></span>\n\t\t\t<div class="form-control form-control--borderless">\n\t\t\t\t<input name="std" value="{{.}}" type="text">\n\t\t\t</div>\n\t\t</div>\n\t{{/options}}\n</div>\n\n<button class="btn-control js-add-option form-option-add-button">\n\t<span class="icon">plussmall</span> {{#tl}}templates.elements.settings.tooltip-option-items_2{{/tl}}\n</button>\n\n<button class="btn--action open-predefined" style="margin-top:15px">\n\t{{#tl}}templates.elements.settings.tooltip-option-items_3{{/tl}}\n</button>\n'},function(e,t){e.exports='<div class="group group--flush group--hoverable">\n\t<div class="group__item">\n\t\t<button class="btn--block btn--secondary btn--borderless">\n\t\t\t{{#tl}}platform.Editor.Element.Settings.TutorialButton{{/tl}}\n\t\t</button>\n\t</div>\n</div>'},function(e,t){e.exports='<h3 class="form-header">{{label}}</h3>\n<div class="group group--flush" {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-text="{{tooltip}}" {{/tooltip}}>\n\t{{#options}}\n\t\t<div class="group__item">\n\t\t\t<label class="form-control form-control--radio form-control--borderless">\n\t\t\t\t<input id="radio-{{value}}" type="radio" name="r-opt" data-ucfpid="{{ucfpid}}" value="{{value}}" {{#checked}}checked{{/checked}}>\n\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t{{name}}\n\t\t\t</label>\n\t\t</div>\n\t{{/options}}\n</div>\n'},function(e,t){e.exports='{{#description}}\n\t<p class="element-settings__description">{{{description}}}</p>\n{{/description}}\n{{^description}}\n\t{{#label}}\n\t\t<h3 class="form-header form-header__element-settings">{{label}}</h3>\n\t\t{{#hovertip}}\n\t\t\t<span class="icon element-settings__icon" data-hover-tip="" data-hover-tip-text="{{hovertip}}" data-hover-tip-wrap-class-name="ui-framework">tooltip</span>\n\t\t{{/hovertip}}\n\t{{/label}}\n{{/description}}\n<ul class="group group--flush {{#isButtonDropdown}}button-dropdown{{/isButtonDropdown}}">\n\t{{#options}}\n\t\t<li class="group__item js-item">\n\t\t\t{{#isButtonDropdown}}\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<span class="{{value}}">\n\t\t\t\t\t\t<span class="wsite-button-inner editable-text">{{#tl}}templates.elements.settings.tooltip-select_2{{/tl}}</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<input type="radio" name="check" {{#checked}}checked{{/checked}} value="{{value}}" data-ucfpid="{{ucfpid}}">\n\t\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t</label>\n\t\t\t{{/isButtonDropdown}}\n\t\t\t{{^isButtonDropdown}}\n\t\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t\t<input type="radio" name="{{name}}" {{#checked}}checked{{/checked}} {{#optionActionPaneIndex}}data-action-index="{{optionActionPaneIndex}}" class="has-action"{{/optionActionPaneIndex}} value="{{value}}" data-ucfpid="{{ucfpid}}">\n\t\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t\t<span {{#icon}}data-icon-before="{{icon}}" class="form-control__option-icon"{{/icon}}>{{name}}</span>\n\t\t\t\t</label>\n\t\t\t{{/isButtonDropdown}}\n\t\t</li>\n\t{{/options}}\n</ul\n'},function(e,t){e.exports='<div class="form-control form-control--borderless form-control--selector element-option-slider">\n\t<div class="form-control__item default-cursor"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t<div class="form-control__item form-control__item--right">\n\t\t<div class="slider"></div>\n\t\t<div id="{{ucfpid}}" class="slider-value" data-value="{{value}}">{{value}}</div>\n\t</div>\n</div>\n'},function(e,t){e.exports='{{#hasActive}}\n\t<h3 class="form-header">{{#tl}}templates.elements.settings.tooltip-social-icons_2{{/tl}}</h3>\n\t<ul class="group group--flush group--sortable js-social-sort">\n\t\t{{#badges}}\n\t\t\t{{#active}}\n\t\t\t\t<li class="group__item">\n\t\t\t\t\t<div class="btn btn-control btn-control--borderless" data-name="{{name}}">\n\t\t\t\t\t\t<span class="btn-control__label"><span class="wsite-social-item wsite-social-{{name}}"></span>{{label}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t{{/active}}\n\t\t{{/badges}}\n\t</ul>\n{{/hasActive}}\n\n\n{{#hasInactive}}\n\t<h3 class="form-header social-inactive-header">{{#tl}}templates.elements.settings.tooltip-social-icons_3{{/tl}}</h3>\n\t<ul class="group group--flush">\n\t\t{{#badges}}\n\t\t\t{{^active}}\n\t\t\t\t<li class="group__item">\n\t\t\t\t\t<div class="btn btn-control btn-control--borderless social-inactive" data-name="{{name}}">\n\t\t\t\t\t\t<span class="btn-control__label">\n\t\t\t\t\t\t\t<span class="wsite-social-item wsite-social-{{name}}"></span>\n\t\t\t\t\t\t\t{{label}}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t{{/active}}\n\t\t{{/badges}}\n\t</ul>\n{{/hasInactive}}\n'},function(e,t){e.exports='<label class="form-control form-control--borderless"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t<input id="{{ucfpid}}" data-adv-placeholder name="adv" placeholder="{{label}}" type="text" value="{{value}}">\n</label>\n'},function(e,t){e.exports='<div class="element-settings__sublabel btn btn-control btn-control--borderless {{#isColor}}color-btn-control{{/isColor}}" data-action-index="{{actionPaneIndex}}">\n\t{{^value}}\n\t\t<div {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{#esc_attr}}{{tooltip}}{{/esc_attr}}" {{/tooltip}}>\n\t\t\t{{label}}\n\t\t\t{{#hovertip}}\n\t\t\t\t<span class="icon element-settings__icon" data-hover-tip="" data-hover-tip-text="{{hovertip}}" data-hover-tip-wrap-class-name="ui-framework">tooltip</span>\n\t\t\t{{/hovertip}}\n\t\t</div>\n\t{{/value}}\n\t{{#value}}\n\t\t<div class="btn-control__label"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>{{label}}</div>\n\t\t{{^isColor}}\n\t\t\t<span class="btn-control__sublabel">{{value}}</span>\n\t\t{{/isColor}}\n\t{{/value}}\n\t{{#isColor}}\n\t\t<span class="btn-control__sublabel">\n\t\t\t{{value}}\n\t\t\t<span class="btn-control__sublabel-color" style="background-color: {{value}}"></span>\n\t\t</span>\n\t{{/isColor}}\n</div>\n'},function(e,t){e.exports='<label class="form-control form-control--borderless"{{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t<textarea id="{{ucfpid}}" placeholder="{{default}}" name="{{name}}">{{value}}</textarea>\n</label>\n'},function(e,t){e.exports='<label class="form-control form-control--toggle form-control--borderless">\n\t<input type="checkbox" id="{{ucfpid}}" {{checked}}>\n\t<div {{#tooltip}} data-hover-tip="" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-cssclass="settings-tooltip" data-hover-tip-follow = "true" data-hover-tip-delay="true" data-hover-tip-content="{{tooltip}}" {{/tooltip}}>\n\t\t{{label}}\n\t\t{{#hovertip}}\n\t\t\t<span class="icon element-settings__icon" data-hover-tip="" data-hover-tip-text="{{hovertip}}" data-hover-tip-wrap-class-name="ui-framework">tooltip</span>\n\t\t{{/hovertip}}\n\t</div>\n\t<span class="form-control--toggle__switch"></span>\n</label>\n\n'},function(e,t){e.exports='<div class="dialog__section">\n    {{#description}}\n        <p class="element-settings__description">{{{description}}}</p>\n    {{/description}}\n</div>\n'},function(e,t){e.exports='<span class="wsite-spacer-label">{{label}}</span>'},function(e,t){e.exports='<div class="premium-element-warning-container">\n\t<div class="premium-element-warning-image-container">\n\t\t<img src="//{{ASSETS_BASE}}/images/editor/free-trial/must-upgrade-illustration.png">\n\t</div>\n\t<h2>\n\t\t{{headerText}}\n\t</h2>\n\t<p>\n\t\t{{descriptionText}}\n\t</p>\n\t<button class="btn--rounded btn--secondary upgrade-button">\n\t\t<span class="icon">bolt</span> {{#tl}}templates.free-trial.premium-element-warning_1{{/tl}}\n\t</button>\n\t{{#eligibleForFreeTrial}}\n\t<a class="free-trial-link">\n\t\t{{#tl}}templates.free-trial.premium-element-warning_2{{/tl}}\n\t</a>\n\t{{/eligibleForFreeTrial}}\n</div>'},function(e,t){e.exports='<div class="dialog__section">\n\t{{#tl}}templates.page-layouts.site-editor.encoding_failure_retry_message{{/tl}}\n</div>\n\n<button class="btn--action js-confirm">{{#tl}}templates.page-layouts.site-editor.encoding_failure_retry_confirm{{/tl}}</button>\n'},function(e,t){e.exports='{{^no_image}}\n\t<div class="upgrade page-layout-option page-layout-{{name}}" data-id="{{page_layout_id}}">\n\t{{#show_background}}\n\t\t<img class="background-image static-background" src="{{{preview_image_with_bg}}}" data-id="{{page_layout_id}}">\n\t{{/show_background}}\n\t{{^show_background}}\n\t\t<img class="background-image static-background" src="{{{preview_image}}}" data-id="{{page_layout_id}}">\n\t{{/show_background}}\n\t</div>\n{{/no_image}}\n\n<div class="section-layout-upgrade-desc">\n\t<h2>{{header}}</h2>\n\t<div class="content">{{content}}</div>\n\t<button class="layout-upgrade__btn btn--rounded btn--secondary">\n\t\t<span class="icon">bolt</span>\n\t\t{{#tl}}sections.layouts.apply.upgrade.upgrade{{/tl}}\n\t</button>\n</div>'},function(e,t){e.exports='<li {{#id}}id="{{id}}"{{/id}}\n\tclass="wsite-menu-subitem-wrap {{#is_current}}wsite-nav-current{{/is_current}}"\n\t>\n\t<a\n\t\t{{^nonclickable}}\n\t\t\t{{^nav_menu}}\n\t\t\t\thref="{{url}}"\n\t\t\t{{/nav_menu}}\n\t\t{{/nonclickable}}\n\t\t{{#target}}\n\t\t\ttarget="{{target}}"\n\t\t{{/target}}\n\t\tclass="wsite-menu-subitem"\n\t\t>\n\t\t<span class="wsite-menu-title">\n\t\t\t{{{title_html}}}\n\t\t</span>{{#has_children}}<span class="wsite-menu-arrow">&gt;</span>{{/has_children}}\n\t</a>\n\t{{#has_children}}{{> navigation/flyout/list}}{{/has_children}}\n</li>\n'},function(e,t){e.exports='<div class="wsite-menu-wrap" style="display:none">\n\t<ul class="wsite-menu">\n\t\t{{#children}}{{> navigation/flyout/item}}{{/children}}\n\t</ul>\n</div>\n'},function(e,t){e.exports='<li {{#id}}id="{{id}}"{{/id}} class="wsite-menu-item-wrap">\n\t<a\n\t\t{{^nonclickable}}\n\t\t\t{{^nav_menu}}\n\t\t\t\thref="{{url}}"\n\t\t\t{{/nav_menu}}\n\t\t{{/nonclickable}}\n\t\t{{#target}}\n\t\t\ttarget="{{target}}"\n\t\t{{/target}}\n\t\t{{#membership_required}}\n\t\t\tdata-membership-required="{{.}}"\n\t\t{{/membership_required}}\n\t\tclass="wsite-menu-item"\n\t\t>\n\t\t{{{title_html}}}\n\t</a>\n\t{{#has_children}}{{> navigation/flyout/list}}{{/has_children}}\n</li>\n'},function(e,t){e.exports='<ul class="wsite-menu-default">\n\t{{#links}}\n\t\t{{> navigation/item}}\n\t{{/links}}\n</ul>\n'},function(e,t){e.exports='<span class="wsite-logo">\n{{# max_height }}<table style="height:{{ max_height }}px"><tr><td>{{/ max_height }}\n{{# is_image }}\n\t<a href="{{ link }}">\n\t\t<img src="{{ image_url }}"{{# image_css }} style="{{ image_css }}"{{/ image_css }} alt="{{ text }}" />\n\t</a>\n{{/ is_image }}\n{{^ is_image }}\n\t{{^ is_hidden_text }}<a href="{{ link }}">{{/ is_hidden_text }}\n\t{{# is_hidden_text }}<span class="wsite-title-placeholder">&nbsp;</span><span style="display:none">{{/ is_hidden_text }}\n\t{{{ text }}}\n\t{{# is_hidden_text }}</span>{{/ is_hidden_text }}\n\t{{^ is_hidden_text }}</a>{{/ is_hidden_text }}\n{{/ is_image }}\n{{# max_height }}</td></tr></table>{{/ max_height }}\n</span>'},function(e,t){e.exports='<span class="wsite-text{{#phone}} wsite-phone{{/phone}}{{#headline}} wsite-headline{{/headline}}{{#headline_paragraph}} wsite-headline-paragraph{{/headline_paragraph}}"{{^is_mobile}}{{#is_preview}} title="{{#esc_attr}}{{#tl}}templates.platform.theme.core.shared.areas.text_2{{/tl}}{{/esc_attr}}"{{/is_preview}}{{/is_mobile}}>\n\t{{{text}}}{{^text}}{{#is_preview}}{{{preview_text}}}{{/is_preview}}{{/text}}\n</span>'},function(e,t){e.exports='{{! used within the editor }}\n\n<div id="{{elId}}" class="weebly-area wsite-elements {{containerClassName}}">\n\t{{{sections}}}\n</div>\n'},function(e,t){e.exports='<div class="wsite-section-wrap">\n\t<div {{#el_id}}id="{{el_id}}"{{/el_id}} class="wsite-section wsite-header-section{{#class_names}} {{class_names}}{{/class_names}}" style="{{style}}" {{#data}}data-{{key}}="{{value}}" {{/data}}>\n\t\t<div class="wsite-section-content">\n\t\t\t{{{prefix_html}}}\n\t\t\t\t<div class="wsite-section-elements">\n\t\t\t\t\t{{{content}}}\n\t\t\t\t</div>\n\t\t\t{{{postfix_html}}}\n\t\t</div>\n\t\t<div class="{{highlight_class_name}}"></div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="wsite-section-wrap">\n\t<div class="wsite-section wsite-body-section{{#class_names}} {{class_names}}{{/class_names}}" {{#style}}style="{{style}}"{{/style}} {{#data}}data-{{key}}="{{value}}" {{/data}}>\n\t\t{{{prefix_html}}}\n\t\t\t<div class="wsite-section-elements">\n\t\t\t\t{{{content}}}\n\t\t\t</div>\n\t\t{{{postfix_html}}}\n\n\t\t{{#highlight_class_name}}\n\t\t\t<div class="{{highlight_class_name}}"></div>\n\t\t{{/highlight_class_name}}\n\t</div>\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#background-color}} style="background-color: {{background-color}}; {{/background-color}}">\n\t<button class="btn--action add-color">{{#tl}}templates.sections.change-bgcolor-panel_1{{/tl}}</button>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#background}}style="{{background}}"{{/background}}>\n\t<button class="btn--action add-gradient">{{#tl}}templates.sections.change-bggradient-panel-action{{/tl}}</button>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='{{#image}}\n\t<div class="bgpanel__header" style="background-image: url({{image.url}});">\n\t\t<div class="sbg__btns-row">\n\t\t\t<button class="btn--action replace-image">{{#tl}}templates.sections.change-bgimage.replace{{/tl}}</button>\n\t\t\t<button class="btn--action change-image">{{#tl}}templates.sections.change-bgimage.edit{{/tl}}</button>\n\t\t</div>\n\t</div>\n{{/image}}\n\n{{^image}}\n\t<div class="bgpanel__header">\n\t\t<button class="btn--action change-image">{{#tl}}templates.sections.change-bgimage.add{{/tl}}</button>\n\t</div>\n{{/image}}\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="color-picker__container">\n\t<span class="form-control__label-text">{{#tl}}templates.sections.pick-background-color_1{{/tl}}</span>\n\t{{! color picker rendered here by ColorPanel.js }}\n</div>'},function(e,t){e.exports='<div class="gradient-builder">\n    <span class="form-control__label-text">{{#tl}}templates.sections.pick-background-gradient-angle{{/tl}}</span>\n    <label class="form-control form-control--slider">\n        <div id="slider" class="slider slider--labeled"></div>\n        <span id="slider-label" class="form-control--slider__label"></span>\n    </label>\n    <span class="form-control__label-text">{{#tl}}templates.sections.pick-background-gradient-colors{{/tl}}</span>\n</div>\n'},function(e,t){e.exports='<div class="color-section">\n    <div class="color-picker__container"></div>\n    <span class="form-control__label-text slider-label">{{#tl}}templates.sections.pick-gradient-color-start-position{{/tl}}</span>\n    <label class="form-control form-control--slider">\n        <div id="slider" class="slider slider--labeled"></div>\n        <span id="slider-label" class="form-control--slider__label"></span>\n    </label>\n</div>\n'},function(e,t){e.exports='<section class="dialog__section dialog__section--white">\n\t<div class="btn-group btn-group__add-video">\n\t\t<button data-type="gallery">{{#tl}}templates.sections.dialogs.videos.add-video-panel_1{{/tl}}</button>\n\t\t<button data-type="upload">{{#tl}}templates.sections.dialogs.videos.add-video-panel_2{{/tl}}</button>\n\t\t{{#has_url}}<button data-type="url">{{#tl}}templates.sections.dialogs.videos.add-video-panel_3{{/tl}}</button>{{/has_url}}\n\t</div>\n</section>\n\n{{#show_paywall}}\n\t<div class="message message--upgrade upgrade-video-message">\n\t\t<a href="#" class="message__content" data-icon-before="bolt">\n\t\t\t{{#tl}}sections.dialogs.video_upgrade_message{{/tl}}\n\t\t</a>\n\t</div>\n{{/show_paywall}}\n\n<div class="add-video-container">\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" {{#encoding_done}}style="background-image: url({{background_url}});"{{/encoding_done}}>\n\t{{#encoding_done}}\n\t\t<button class="btn--action change-video">{{#tl}}templates.sections.change-bgvideo-panel_1{{/tl}}</button>\n\t{{/encoding_done}}\n\t{{^encoding_done}}\n\t\t<p>{{#tl}}templates.sections.change-bgvideo-panel_encoding{{/tl}}</p>\n\t{{/encoding_done}}\n</div>\n<div class="bgpanel__body">\n\t<ul class="group group--flush">\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless btn-control--no_padding btn-control--preview_video js-preview">\n\t\t\t\t<span class="btn-control__label preview-label">{{#tl}}templates.sections.dialogs.videos.change-bgvideo-panel_preview-video{{/tl}}</span>\n\t\t\t\t<span class="video-control preview icon">play</span>\n\t\t\t\t<span class="video-control stop icon">stop</span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n\t<ul class="group group--flush">\n\t\t<li class="group__item">\n\t\t\t<div class="form-row form-row--borderless">\n\t\t\t\t<div class="form-row__left">{{#tl}}templates.sections.change-bgvideo-panel_4{{/tl}}</div>\n\t\t\t\t<div class="form-row__right">\n\t\t\t\t\t<label class="toggle toggle__loop">\n\t\t\t\t\t\t<input type="checkbox" name="loop" {{#loop}}checked="checked"{{/loop}}>\n\t\t\t\t\t\t<span class="toggle__option"></span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t){e.exports='<div class="bgpanel__header" style="background-image: url({{background_url}});">\n\t<ul class="group group--flush group--hoverable">\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless add-video">\n\t\t\t\t<span class="btn-control__label">{{#tl}}templates.sections.dialogs.videos.initial-bgvideo-panel_1{{/tl}}</span>\n\t\t\t\t<span class="btn-control__sublabel"></span>\n\t\t\t</button>\n\t\t</li>\n\t</ul>\n</div>\n<div class="bgpanel__body"></div>\n'},function(e,t){e.exports='<div class="video-gallery__snapshot" style="background-image: url({{snapshot_url}})" {{#show_hovertip}}data-hover-tip="" data-hover-tip-text="{{shortname}}" data-hover-tip-wrap-class-name="ui-framework" data-hover-tip-follow="true"{{/show_hovertip}}>\n</div>\n'},function(e,t){e.exports='<div class="user-uploaded">\n\t<span class="dialog__section form-control__label-text">{{#tl}}templates.sections.dialogs.videos.previously-uploaded-videos{{/tl}}</span>\n</div>'},function(e,t){e.exports='{{#videoFileName}}\n\t<fieldset class="input-group el-options-url-group">\n\t\t<div class="input-group__content">\n\t\t\t<div class="input-group__row">\n\t\t\t\t<div class="input-group__item form-control form-control__el-options--input js-upload">\n\t\t\t\t\t<input type="text" readonly="readonly" value="{{videoFileName}}">\n\t\t\t\t\t<button class="btn--link action-btn__el-options">{{#tl}}templates.sections.dialogs.videos.video-upload_1{{/tl}}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</fieldset>\n{{/videoFileName}}\n{{^videoFileName}}\n<div class="placeholder--video__upload js-upload">\n\t<div class="icon icon--large">videoholder64</div>\n\t<button class="btn btn--action placeholder--video__upload-btn">{{#tl}}templates.sections.dialogs.videos.video-upload_2{{/tl}}</button>\n\t<div class="warning__video-size">{{#tl}}templates.sections.dialogs.videos.video-upload_3{{/tl}}</div>\n</div>\n{{/videoFileName}}'},function(e,t){e.exports='\t<section class="dialog__section">\n\t\t<label class="form-control">\n\t\t\t<span class="form-control__label-text">Insert URL</span>\n\t\t\t<input type="text" class="bgvideo__input" placeholder="http://www.youtube.com/watch?v=dQw4w9WgXcQ" value="{{videoUrl}}">\n\t\t</label>\n\n\t\t<label class="form-control">\n\t\t\t<button class="btn--primary add-video">{{#tl}}templates.sections.add-video-panel_1{{/tl}}</button>\n\t\t</label>\n\t</section>\n'},function(e,t){e.exports='<div id="{{elID}}" class="{{classNames}}">\n\t{{& innerHtml}}\n</div>\n'},function(e,t){e.exports='<ul id="{{elID}}" class="weebly-content-area {{classNames}}">\n\t{{& elements}}\n</ul>'},function(e,t){e.exports='<div id="empty-message" class="empty-element-message">\n\t<div id="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.blog_1{{/tl}}\n\t</div>\n</div>\n';
},function(e,t){e.exports='<div id="empty-message" class="empty-element-message light-merchandising-empty-message" data-content-area="{{content_area}}">\n\t<span style="display: none;">\n\t\t<div id="empty-message-inner">\n\t\t\t<div class="light-merchandising-title light-merchandising-text">Get Started by adding a Section</div>\n\t\t\t<button class="section-layout-button">Add Section</button>\n\t\t\t<div class="light-merchandising-subtext light-merchandising-text">or</div>\n\t\t\t<div class="light-merchandising-subtext light-merchandising-text">Drag any element here from the left panel</div>\n\t\t</div>\n\t</span>\n</div>\n'},function(e,t){e.exports='<div id="empty-message" class="wsite-com-empty-long-description inside empty-message">\n\t<div id="empty-message-inner">\n\t\t{{#tl}}templates.sections.empty-messages.product_1{{/tl}}\n\t\t<div class="empty-message-line2"></div>\n\t</div>\n</div>\n'},function(e,t){e.exports='<span class="label label--new js-new-label">\n    {{#tl}}templates.sections.new-label_1{{/tl}}\n</span>\n'},function(e,t){e.exports='{{#show_save_to_pages}}\n<button class="js-manage btn-control section-manage-bg-button">\n\t<span class="btn-control__label">{{#tl}}sections.dialogs.SectionOptions_save_to_pages_label{{/tl}}</span>\n\t<span class="btn-control__sublabel js-connect-page-count"></span>\n</button>\n{{/show_save_to_pages}}\n\n{{#show_alignment}}\n<div class="form-control form-control--selector section-content-align">\n\t<div class="form-control__item">{{#tl}}sections.dialogs.SectionOptions_align_label{{/tl}}</div>\n\t<div class="form-control__item--right">\n\t\t<div class="inline-selector">\n\t\t\t<span class="inline-selector__option{{#align_top_selected}} is-selected{{/align_top_selected}}" data-alignment="top">\n\t\t\t\t<span class="icon">bodytop</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option{{#align_middle_selected}} is-selected{{/align_middle_selected}}" data-alignment="middle">\n\t\t\t\t<span class="icon">bodycenter</span>\n\t\t\t</span>\n\t\t\t<span class="inline-selector__option{{#align_bottom_selected}} is-selected{{/align_bottom_selected}}" data-alignment="bottom">\n\t\t\t\t<span class="icon">bodybottom</span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n{{/show_alignment}}\n'},function(e,t){e.exports='<ul class="group group--flush group--hoverable js-effects-container">\n\t{{#effects}}\n\t\t<li class="group__item">\n\t\t\t<label class="form-control form-control--radio-check form-control--borderless">\n\t\t\t\t<input type="radio" name="section-effects" value="{{value}}"{{#selected}} checked{{/selected}}/>\n\t\t\t\t<span class="form-control__indicator"></span>\n\t\t\t\t{{label}}\n\t\t\t</label>\n\t\t</li>\n\t{{/effects}}\n</ul>\n'},function(e,t){e.exports='<ul class="group group--hoverable group--flush">\n\t<li class="group__item">\n\t\t<button class="btn-control btn-control--borderless js-effects">\n\t\t\t<span class="btn-control__label">\n\t\t\t\t{{#tl}}sections.dialogs.SectionOptions_effects_button{{/tl}}\n\t\t\t</span>\n\t\t\t<span class="btn-control__sublabel">{{selected_effects}}</span>\n\t\t</button>\n\t</li>\n\t{{#show_advanced}}\n\t\t<li class="group__item">\n\t\t\t<button class="btn-control btn-control--borderless js-advanced">\n\t\t\t\t<span class="btn-control__label">\n\t\t\t\t\t{{#tl}}sections.dialogs.SectionOptions_advanced_button{{/tl}}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t</li>\n\t{{/show_advanced}}\n</ul>\n\n'},function(e,t){e.exports='<ul class="section-controller {{#prefer_bottom}}arrow-up{{/prefer_bottom}}">\n\n\t{{#show_edit}}\n\t\t<li class="section-edit"><a role="button">{{#tl}}templates.sections.sections-controller_1{{/tl}}</a></li>\n\t{{/show_edit}}\n\n\t{{#show_add_layout}}\n\t\t<li class="section-add-layout"><a role="button">{{#tl}}templates.sections.sections-controller_7{{/tl}}</a></li>\n\t{{/show_add_layout}}\n\n\t{{#show_add_header_layout}}\n\t\t<li class="section-add-layout"><a role="button">{{#tl}}sections.layouts.change.control.header.add_layout{{/tl}}</a></li>\n\t{{/show_add_header_layout}}\n\n\t{{#show_change_header_layout}}\n\t\t<li class="section-change-layout"><a role="button">{{#tl}}sections.layouts.change.control.header.change_layout{{/tl}}</a></li>\n\t{{/show_change_header_layout}}\t\n\n\t{{#show_move}}\n\t\t<li class="section-move"><a role="button">{{#tl}}templates.sections.sections-controller_6{{/tl}}</a></li>\n\t{{/show_move}}\n\n\t{{#show_delete}}\n\t\t<li class="section-delete"><a role="button">{{#tl}}templates.sections.sections-controller_4{{/tl}}</a></li>\n\t{{/show_delete}}\n\n\t{{#show_clear}}\n\t\t<li class="section-clear"><a role="button">{{#tl}}templates.sections.sections-controller_4{{/tl}}</a></li>\n\t{{/show_clear}}\n</ul>\n'},function(e,t){e.exports='<div class="section-edge-wrapper {{#handle}}ui-framework{{/handle}}">\n\t{{#handle}}\n\t\t<div class="section-edge-handle-wrapper ui-resizable-handle ui-resizable-s">\n\t\t\t<div class="section-edge-handle"></div>\n\t\t</div>\n\t\t<div class="hover-tip hover-tip__section"></div>\n\t{{/handle}}\n</div>'},function(e,t){e.exports='<li id="w-theme-preview-palette">\n\t<ul id="w-theme-preview-colors">\n\t\t{{#colors}}\n\t\t\t<li>\n\t\t\t\t<a style="background:{{sample}}" data-color="{{value}}">\n\t\t\t\t\t<span></span>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{{/colors}}\n\t</ul>\n</li>'},function(e,t){e.exports='<div id="w-theme-preview-top" class="w-ui-topbar ui-framework">\n\t<div class="w-logo-top">\n\t\t<div class="w-logo-container {{#isWhiteLabeled}}alt{{/isWhiteLabeled}}">\n\t\t\t{{^isWhiteLabeled}}<span class="icon w-logo">brandw</span>{{/isWhiteLabeled}}\n\t\t\t<span>{{#tl}}templates.theme-gallery.preview.topbar_1{{/tl}}</span>\n\t\t</div>\n\t</div>\n\t<ul class="tabs">\n\t\t{{#palette}}\n\t\t\t{{{palette}}}\n\t\t{{/palette}}\n\t\t{{^palette}}\n\t\t\t<li>\n\t\t\t</li>\n\t\t{{/palette}}\n\t</ul>\n\t<ul class="right-buttons">\n\t\t<li id="cancel-button">\n\t\t\t<button class="btn btn--borderless btn__header--transparent"><span>{{#tl}}templates.theme-gallery.preview.topbar_2{{/tl}}</span></button>\n\t\t</li>\n\t\t<li id="choose-button">\n\t\t\t<button class="btn btn--borderless btn__header--blue"><span>{{#tl}}templates.theme-gallery.preview.topbar_3{{/tl}}</span></button>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t){e.exports='{{!\n\tElement UI Container; holds views that are interacting with the\n\teditor iframe.\n}}\n\n<div id="element-ui-container">\n\t<div id="beacon-container"></div>\n\t<div class="ui-framework-container ui-framework">\n\t\t{{!\n\t\t\tGeneral purpose orbit container that requires\n\t\t\tthe `ui-framework` classname\n\t\t}}\n\t</div>\n</div>\n\n'},function(e,t){e.exports='<li style="position:relative;">\n\t<img src="http://{{urlPrefix}}/weebly/images/options-move.gif" alt="move" class="options-handle editmenu-input-move" />\n\t<input type="text" value="{{value}}" />\n\t<a class="editmenu-input-delete">\n\t\t<img src="http://{{urlPrefix}}/weebly/images/options-delete.gif" alt="Delete" />\n\t</a>\n</li>'},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r;!(n=[i(5),i(2),i(117),i(11),i(105),i(18),i(7),i(46),i(120),i(14),i(136),i(125),i(321)],r=function(e,t,i,n,r,o,s,a,l,c,u,d){var f={};f.initializeEditor=function(){var e=arguments;setTimeout(function(){f.initializeEditorSync.apply(this,e)},0)};s.commands.setHandler("site:initializeEditor",f.initializeEditor);f.initializeEditorSync=function(h,p,m,g,v,w,b,y,_,E,T,C,S,I){try{t.each(h.element_definitions,function(e,t){u.registerDefinition(t,e)});window.source=h.restrictions.source;delete h.restrictions.source;e.Restrictions.settings=h.restrictions;e.Restrictions.services=h.services;e.Restrictions.level=parseInt(h.access_level);e.Restrictions.published=h.is_published;if(!t.isUndefined(I)){window.userID=I;if(window.com_userID==="0"){window.com_userID=I}}if(!t.isUndefined(S)){window.currentSite=S;if(window.com_currentSite==="0"){window.com_currentSite=S}}window.currentSiteTitle=m;window.hideTitle=parseInt(h.hide_title);window.DISABLE_NAV_MORE=h.disableNavMore;window.adsenseID=h.adsenseID;window.remoteAccounts=h.remoteAccounts;g.css=v;o.setCurrentThemeColor(g.current_theme_color);o.setCurrentThemeData(g);n.vent.trigger("forceThemeRerender");o.primaryThemeDefinition=g;o.primaryThemeCSS=v;o.adaptiveThemeDefinition=w;o.adaptiveThemeCSS=b;if(t.isObject(o.primaryThemeDefinition)){e.themeCache.insert(o.primaryThemeDefinition.theme_id,o.primaryThemeDefinition)}if(t.isObject(o.adaptiveThemeDefinition)){e.themeCache.insert(o.adaptiveThemeDefinition.theme_id,o.adaptiveThemeDefinition)}f.backgrounds=_;r.setDesignOptions(y);e.Permissions=T||{};e.Font.data=h.fonts;l.setSiteSettings(h.mobile_site_settings);r.siteApplyDesignOptions();e.Commerce.hasCart=h.has_cart;d.storefrontSettings.set({product_image_ratio:h.store_settings.product_image_ratio,element_legacy_mode:h.store_settings.element_legacy_mode,upload_uid_location:h.store_settings.upload_uid_location});if(!t.isObject(e.Reseller)){e.Reseller={}}e.Reseller.isResellerUser=h.user.reseller;if(C){t.extend(e,C)}c.reset(p);n.vent.trigger("site:initialized",E)}catch(e){console.error(e);i.captureException(e);s.trigger(a.EVENTS.SITE_INIT_FAIL,e)}};s.reqres.setHandler("site:initializeEditorSync",f.initializeEditorSync);f.syncRestrictions=function(i){t.extend(e.Restrictions,i)};s.commands.setHandler("site:syncRestrictions",f.syncRestrictions);return f}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(11),i(7),i(235),i(594),i(61),i(23),i(21),i(157),i(369),i(303),i(238),i(10),i(12),i(64),i(195)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m){var g=i.module("ui",{startWithParent:false});var v=null;var w=null;var b=false;var y={pageRendered:function(){w=null;v=null;_()},scrollBy:T,dragstart:C,dragstop:S,"editor:spotlight:open editor:spotlight:close":c.resizeScreen,"page:startRender viewChange":a.clearPageDataCache,"editor:elements:changed":_};function _(){a.clearPageDataCache();[Weebly.siteContext,Weebly.pageContext].forEach(a.setContextData)}function E(t,i){var n=e(document);if(t!==null){n.scrollLeft(t)}if(i!==null){n.scrollTop(i)}}g.resetScrollTop=function(t){if(window.resetScrollTop){window.resetScrollTop=null;E(null,0)}if(t){if(window.currentBlog.skipToComments=="comments"){var i=window.currentBlog.skipToCommentId&&e("#"+window.currentBlog.skipToCommentId)?e("#"+window.currentBlog.skipToCommentId):e("#comments");var n=i.offset();E(null,n.top-150)}if(window.currentBlog.showPostSettings){e("#blogPostSettings").slideToggle();window.currentBlog.showPostSettings=0}}};function T(t,i,n){if(t===0&&i===0){return}var r=e(document);if(!n){n={left:0,top:0}}if(v===null&&!b){b=true;a.getPageData().done(I);return}var o=r.scrollLeft();var s=o;if(t<0&&o<=v||t>0&&o<v){s=o+t;if(s>=v){n.left+=v-o;s=v}else if(s<0){n.left+=0-o;s=0}else{n.left+=t}}var l=r.scrollTop();var c=l;if(i<0&&l<=w||i>0&&l<w){c=l+i;if(c>=w){n.top+=w-l;c=w}else if(c<0){n.top+=0-l;c=0}else{n.top+=i}}if(s===o&&c===l){return}E(s,c)}function C(e){var t={};if(v===null){a.getPageData().done(I)}i.vent.trigger("editor:element:dragStart");if(e===h.SECTION_ELEMENT){t.elements=[]}d.showContentAreaSpotlights(t)}function S(){d.hideContentAreaSpotlights();i.vent.trigger("editor:element:dragStop")}function I(e){var t=l.getScrollContainer();v=e.scrollWidth-t.innerWidth();w=e.scrollHeight-t.innerHeight();b=false}var O={dragstart:C,dragstop:S,scrollBy:T};n.commands.setHandlers({setScroll:E,guaranteeBestScroll:function(){if(!r.topLevelDroppables.length){return}var t;var i=e(window);var n=i.scrollTop();var o=n+i.height();for(var s=0;s<r.topLevelDroppables.length;s++){t=e(r.topLevelDroppables[s]);var a=t.offset().top;var l=a+t.outerHeight();var c=Math.max(0,Math.min(l,o)-Math.max(a,n));if(c>=100||l-a===c){return}}t=e(r.topLevelDroppables[0]);e("html, body").animate({scrollTop:t.offset().top-25},800,"easeOutExpo")},"site:set:title":function(t){e("#wsite-title").text(t)},"flyout:refreshNavCondense":window.refreshNavCondense,createMarkerFromEdge:f.createMarkerFromEdge,removeMarker:f.removeMarker});var k={scroll:function(){if(window.isDraggingElement){return}var t=e(this);n.execute("setUIScroll",t.scrollLeft(),t.scrollTop())},dragenter:function(){n.trigger("dnd:dragenter")}};window.elementControlsEnabled=false;g.on("start",function(){g.listenTo(e(document),k);g.listenTo(i.vent,y);g.listenTo(n,O);i.commands.setHandlers({createMarkerFromEdge:f.createMarkerFromEdge,removeMarker:f.removeMarker});s.initEditBox();E(0,0);o.initElementControls();window.elementControlsEnabled=true;a.init(i)});return g}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(2),i(9),i(126),i(149),i(116),i(610),i(609),i(67),i(602),i(646),i(380),i(1239),i(1466)],r=function(){}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;(function(o){!(n=[i(1),i(7)],r=function(e,t){var i={};i.getImageDimensions=function(t){var i=e("#"+t).find("img");return{offset:i.offset(),height:i.height(),innerHeight:i.innerHeight(),width:i.width(),innerWidth:i.innerWidth()}};i.addPlaceholder=function(t){var i=e(t);var n=i.outerWidth(false);var r=i.outerHeight(false);e(".wsite-transparent-placeholder").remove();var o=e('<div class="wsite-transparent-placeholder"></div>');o.width(n);o.height(r);o.css("marginTop",i.css("marginTop"));o.css("marginBottom",i.css("marginBottom"));o.css("marginLeft",i.css("marginLeft"));o.css("marginRight",i.css("marginRight"));i.after(o);i.hide()};function n(){}t.commands.setHandler("page:resizeHeaderImage",n);i.removePlaceholder=function(t){if(t){e(t).show()}e(".wsite-transparent-placeholder").remove()};i.resizePlaceholder=function(t,i){var n=parseInt(t,10);var r=parseInt(i,10);var o=e(".wsite-transparent-placeholder");o.width(n+"px");o.height(r+"px")};t.commands.setHandler("page:resizePlaceholder",i.resizePlaceholder);t.commands.setHandler("area:resizePlaceholder",i.resizePlaceholder);t.commands.setHandler("element:resizePlaceholder",i.resizePlaceholder);i.formatPHPDate=function(e,t){var i=["d","j","m","n","y","Y","a","A","g","h","G","H","i","s"];var n=["DD","D","MM","M","YY","YYYY","a","A","hh","h","HH","H","mm","ss"];o.each(i,function(e,i){t=t.replace(e,n[i])});return new Date(t).toString()};return i}.apply(t,n),r!==undefined&&(e.exports=r))}).call(t,i(2))},,,,,,,function(e,t,i){var n,r;!(n=[],r=function(){var e={};var t;var i;e.getDisqusElement=function(){return document.getElementById("disqus_thread")};e.embed=function(i){if(!e.getDisqusElement()){return}if(!t){var n=i.shortname,r=i.identifier,o=i.url,s=i.config;t=document.createElement("script");t.async=true;t.type="text/javascript";t.src="//"+n+".disqus.com/embed.js";t.onload=function(){e.reset(i)};(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}else{e.reset(i)}};e.count=function(e){var t="",n=e.shortname;window.disqus_shortname=n;if(i&&i.parentNode){i.parentNode.removeChild(i);window.DISQUSWIDGETS=i=undefined;t="?_="+(new Date).getTime();var r=n+".disqus.com/count-data.js",o=document.getElementsByTagName("head")[0],s=o.childNodes,a;for(var l=0;l<s.length;l++){a=s[l];if(a.nodeName==="SCRIPT"){if(a.src.match(r)){o.removeChild(a)}}}}i=document.createElement("script");i.async=true;i.type="text/javascript";i.src="//"+n+".disqus.com/count.js"+t;(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(i)};e.reset=function(t){var i=e.getDisqusElement();if(!i){return}if(t.scheme){i.style.color=t.scheme==="dark"?"#fff":"#000"}DISQUS.reset({reload:true,config:function(){this.page.identifier=t.identifier;this.page.title=t.title;this.page.url=t.url}})};return e}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(1),__webpack_require__(836),__webpack_require__(307),__webpack_require__(11),__webpack_require__(7),__webpack_require__(93),__webpack_require__(939),__webpack_require__(22),__webpack_require__(173)],__WEBPACK_AMD_DEFINE_RESULT__=function($,disqusSDK,facebookSDK,frameApp,Relay,Spotlight,BlogPostModule){var module=frameApp.module("blog",function(blogModule){var blogContainer;var spotlight={padding:10,current:undefined,open:function(){var e=this,t=$(".blog-body");var i=this.padding,n,r,o;if(e.current){e.close()}e.current=new Spotlight({element:t,interval:100,light:true,opacity:.3,padding:i,roundedCorners:true,onReposition:function(){e.positionNav(t,r,o)}});e.current.show();r=$("#blog-navigation");o=$(e.current.container[0]);o.append(r);e.positionNav(t,r,o)},positionNav:function(e,t,i){var n=i.offset(),r=e.offset(),o=this.padding;t.css({width:e.outerWidth()+o*2,top:r.top-t.outerHeight()-n.top-o-8,left:r.left-n.left-o})},close:function(){if(this.current){this.current.destroy()}this.current=null}};var relayCommands={"blog:index:init":function(){var e;$("#icontent, body").addClass("wsite-blog-index");blogContainer=$("#blogTable");e=blogContainer.find(".blog-post");if(!e.length){blogContainer.find(".blog-postlist").prepend('<div id="empty-blog-posts">'+_W.utl("javascript.blog.frame.module_2")+"</div>")}else{blogContainer.on("click",'a[href^="blog-url"]',function(e){var t=this.href.split(":")[1];Relay.execute("blog:link:go",t);e.preventDefault()});blogContainer.on("click.blog-index",".blog-post",function(e){var t=e.currentTarget.id;if(t&&t.split("-").length==3){t=t.split("-")[2];window.currentBlog.postId=t;Relay.execute("blog:post:edit",t)}})}},"blog:index:teardown":function(){$("#icontent, body").removeClass("wsite-blog-index")},"blog:spotlight:open":function(){spotlight.open()},"blog:spotlight:close":function(){spotlight.close()},"blog:facebook:init":function(){facebookSDK.parse()},"blog:disqus:init":function(e){disqusSDK.count({shortname:e})},"blog:post:teardown":function(){if(blogContainer){blogContainer.off(".blog-index");blogContainer=undefined}},"blogPost:start":function(e){BlogPostModule.start(e)},"blog:platformElements:update":function(){setTimeout(function(){$("#content .blog-body").find(".element-script").each(function(index,script){eval(script.innerHTML)})},500)}};blogModule.on("start",function(){Relay.commands.setHandlers(relayCommands);Relay.reqres.setHandlers({"blogPost:stop":function(){resetBlogGlobals();BlogPostModule.stop()}})})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(e,t,i){var n,r;!(n=[i(1),i(63),i(836),i(307),i(11),i(7),i(379),i(173)],r=function(e,t,i,n,r,o){return r.module("blogPost",function(r){r.startWithParent=false;var s;var a;var l;function c(i){a.title.on({"focus.post-view":function(){var e=a.title;var t=e.text();if(e.data("default-value")===t){e.text("")}window.disableBackspaceExit=false},"blur.post-view":function(){var e=a.title;var t=u(e);if(t===""){e.text(e.data("default-value"))}o.execute("blogPost:set","post_title",t);window.disableBackspaceExit=true},"paste.post-view":function(){setTimeout(function(){u(a.title)},50)},"keydown.post-view":function(e){if(e.keyCode===9||e.keyCode===13||e.keyCode===27){this.blur()}}});l=e('<div class="w-ui"></div>').appendTo("body");var n=t(i.createdDateInSiteTz,_W.siteContext.mdateFormat).toDate();a.dateField.datepicker({format:_W.siteContext.jdateFormat,autoclose:true,parentElement:l}).on("show",function(){if(!a.dateText.length){return}var e=a.dateText.offset(),t=a.dateText.height(),i=a.dateText.width();a.dateField.data("datepicker").picker.css({top:e.top+t,left:Math.max(e.left-i-40,0)});l.find(".datepicker").css("z-index","14")}).datepicker("setDate",n).datepicker("fill");a.dateText.on("click.post-view",function(e){a.dateField.datepicker("show")});a.dateField.on({"change.post-view":function(){var e=a.dateField.val();a.dateText.text(e);o.execute("blogPost:set","createdDateInSiteTz",e)}})}function u(e){var t=e.text().replace(/[\n\r]+/g," ");t=t.trim();e.text(t);return t}function d(e){var t=(new DOMParser).parseFromString(e,"text/html");return t.documentElement.textContent}function f(){var t=e("body").hasClass("wsite-theme-light");if(!s.postUrl){return}i.embed({shortname:s.shortname,identifier:s.postId,url:s.postUrl,scheme:t?"light":"dark",config:function(){this.language="en"}});i.count({shortname:shortname})}r.on("start",function(t){s=t;e("#icontent, body").addClass("wsite-blog-post");a={title:e("#blog-post-title"),dateText:e(".date-text"),dateField:e("#blog-date-field"),commentArea:e("#blogTable .blog-comment-area")};o.commands.setHandlers({"blogPost:date:update":function(e){a.dateText.text(e);a.dateField.val(e)},"blogPost:comments:hide":function(){a.commentArea.hide()}});r.listenTo(o,{"blogPost:title:blur":function(){var e=a.title;if(e.is(":focus")){e.trigger("blur")}},"blogPost:publish:success":function(){resetBlogGlobals();e("#secondlist-blog").remove()}});o.request("blog:post:current").done(function(e){currentBlog.postId=e!==undefined?e:0}).fail(function(){});if(s.postTitle){a.title.text(d(s.postTitle))}if(s.hideComments){a.commentArea.hide()}else if(s.commentingSystem==="facebook"){n.parse()}else if(s.commentingSystem==="disqus"){f()}c(s)});r.on("stop",function(){e("#icontent, body").removeClass("wsite-blog-post");l.remove();a.title.off(".post-view");a.dateText.off(".post-view");a.dateField.off(".post-view");o.commands.removeHandlers(["blogPost:date:update","blogPost:comments:hide"])})})}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(829),i(7),i(36)],r=function(e,t,i,n,r,o){var s={};s.hideArea=function(e,t,n){if(i.isUndefined(n)){n=true}setTimeout(function(){var i=o.getAreaInstance(n,e,t);if(!i){return}i.hide()},0)};r.commands.setHandler("area:hideArea",s.hideArea);s.showArea=function(e,t,n){if(i.isUndefined(n)){n=true}setTimeout(function(){var i=o.getAreaInstance(n,e,t);if(!i){return}i.show()},0)};r.commands.setHandler("area:showArea",s.showArea);s.hideLogoArea=function(){setTimeout(function(){var e=a();if(!e){return}e.data.hidden=true;e.data.hideTitle=true;window.hideTitle=true;e.rerender()},0)};r.commands.setHandler("area:hideLogoArea",s.hideLogoArea);s.rerenderLogoArea=function(){setTimeout(function(){var e=a();if(!e){return}e.rerender()},0)};r.commands.setHandler("area:rerenderLogoArea",s.rerenderLogoArea);s.setSiteTitle=function(e,i){window.currentSiteTitle=e;t("#wsite-title").text(e);if(i){this.showArea("logo")}else{this.hideArea("logo")}};r.commands.setHandler("area:setSiteTitle",s.setSiteTitle);s.showSiteTitle=function(){setTimeout(function(){var e=a();if(!e){return}window.hideTitle=false;e.data.hidden=false;e.data.hideTitle=false;e.data.isImage=false;e.rerender()},0)};r.commands.setHandler("area:showSiteTitle",s.showSiteTitle);s.showLogoImage=function(e){setTimeout(function(){var t=a();if(!t){return}n.removePlaceholder();if(e){t.data.isImage=true;t.data.url=e}if(t.data.url){t.data.hidden=false;t.data.isImage=true;t.rerender()}},0)};r.commands.setHandler("area:showLogoImage",s.showLogoImage);s.resizeLogoImage=function(){var e=".wsite-logo img";n.addPlaceholder(e)};r.commands.setHandler("area:resizeLogoImage",s.resizeLogoImage);function a(){return o.getAreaInstance(true,"logo",e.view.isAdaptiveView?"mobile":null)}return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(11),i(7),i(10),i(591),i(229),i(146),i(56),i(23)],r=function(e,t,i,n,r,o,s,a,l,c,u){var d={};d.minAreaSize=15;d.minMenuButtonSize=44;function f(){var e=t(".wsite-com-category-subcategory");var i=t("#wsite-com-product-list .wsite-com-category-product-featured");var n=t("#wsite-com-category-product-group-pagelist a");var r=[];var o=[];var s=[];var a={};i.each(function(e,i){var n=t(i).data("id");var o=t(i).find("[href^=commerce-url]");var s=o.offset();r.push({left:s.left,top:s.top,width:o.outerWidth(),height:o.outerHeight(),product_id:t(i).data("id"),link:o.attr("href")})});e.each(function(e,i){var n=t(i).data("id");var r=t(i).find(".wsite-com-category-subcategory-link");var s=r.offset();o.push({left:s.left,top:s.top,width:r.outerWidth(),height:r.outerHeight(),category_id:n,link:r.attr("href")})});if(n.length>2){var l=n.toArray();var c=l.shift();var u=l.pop();l.each(function(e){var i=t(e);var n=i.data("page");var r=i.data("category");var o=i.text();var a=i.hasClass("wsite-selected");var l=i.offset();s.push({page:n,category_id:r,label:o,active:a,left:l.left,top:l.top,width:i.outerWidth(),height:i.outerHeight()})})}a.products=r;a.categories=o;a.pagination=s;return a}function h(){return t(a.DESIGN_OPTIONS_SELECTORS.navButton).length>0}function p(e){var t=e.offset();var i=e.outerHeight();var n=e.outerWidth();var r=t.left+n/2;var o=t.top+i/2;var s=Math.max(i,d.minMenuButtonSize);var a=Math.max(n,d.minMenuButtonSize);var l={height:s,width:a,top:o-s/2,left:r-a/2};return l}function m(e){var t=e.offset();if(!i.isObject(t)){t={top:0,left:0}}return{top:t.top,left:t.left,height:e.outerHeight(false),width:e.outerWidth(false)}}function g(){var e=t(".blog-page-nav-previous");var i=t(".blog-page-nav-next");var n={};if(e.length!==0){n.prev=m(e)}if(i.length!==0){n.next=m(i)}return n}function v(){var e={};var i=[];var n;var r=t("#blogTable .blog-post");for(var o=0;o<r.length;o++){var s=r[o];var a=t(s);if(a.length===0){continue}n=a.offset();if(n){i.push({top:n.top,left:n.left,height:a.outerHeight(false)||a.children().outerHeight(false),width:a.outerWidth(false)||a.children().outerWidth(false),align:a.align,post_id:a.attr("id").slice("blog-post-".length)})}}e.posts=i;e.nav=g();return e}function w(){var e=t(".blog-title");if(!e){return{}}var i=e.offset();return{left:i.left,top:i.top,width:e.outerWidth(),height:e.outerHeight()}}function b(e,t){var i;if((i=t(e))>d.minAreaSize){return i}if((i=t(e.children()))>d.minAreaSize){return i}if((i=t(e.parent()))>d.minAreaSize){return i}if((i=t(e.parent().parent()))>d.minAreaSize){return i}return d.minAreaSize}d.getPageDimensions=function(){if(!e.siteContext||!e.pageContext){return null}var n={};var r=e.siteContext.getAreas();var m=e.pageContext.getAreas().concat(r);var g=e.view.isAdaptiveView;var b=e.pageContext.kind==="blog";var y=b&&!!e.pageContext.getArea("content","").main;var _=[];var E;var T,C,S,I;var O;var k,x;var D;for(var R=0;R<m.length;R++){T=C=S=I=null;D=[];O=m[R];k=t(O.innerEl||O.el||"#"+O.elID);x=k.children();if(O.data&&(g?O.data.mobileHidden:O.data.hidden)===true||(k.length===0||k.is(":hidden")&&O.name!=="headline")){continue}if(y&&(O.type=="content"&&O.name=="footer")||O.type=="footer"&&O.name=="mobile"){continue}if(O.descriptionArea){O=O.descriptionArea;O.type="content"}else if(O.main||O.sidebar){O=O.main||O.sidebar;O.type="content";k=t(O.innerEl||O.el||"#"+O.elID)}if(O.type==="logo"&&k.has("img").length){S=k.find(".wsite-logo img");T=u.detectImageAlign(S[0]);C={offset:S.offset(),height:S.height(),innerHeight:S.innerHeight(),width:S.width(),innerWidth:S.innerWidth()}}else if(O.type=="content"&&O.name=="footer"||O.type=="footer"&&O.name=="mobile"){if(k.outerHeight()<d.minAreaSize){var P=k.parents().filter(function(e,i){return/foot/.match(i.id+" "+i.className)&&t(i).outerHeight()>d.minAreaSize&&t(i).outerWidth()>d.minAreaSize}).first();if(P.length>0){k=P}}}else if(O.type=="content"&&O.name==o.HEADER_SECTION_TAG_NAME){I=k.css("vertical-align")}var A="";if(k.find(".wsite-com-long-description").length){A=O.elID}else if(k.attr("class")&&k.attr("class").match(/column-blog/)){A=k[0].id}else if(k.attr("class")&&k.attr("class").match(/column/)){A=O.elID}else if(k.hasClass("formlist")){A=O.elID}else if(k.closest("[data-"+o.HEADER_SECTION_PARENT_STRING_NAME+"]").length){A=O.parentString}var N;if("context"in O&&O.context&&"pageID"in O.context&&(O.context.kind==="store"&&O.name===o.HEADER_SECTION_TAG_NAME||O.context.kind!="store"&&O.context.pageID)){N=false}else{N=true}var M=false;if(O.spotlight&&O.spotlight.spotlight&&O.spotlight.spotlight.isShown){M=true}var D=[];var L=[];var B={};var K=0;if(b&&O.elements){D=i.invoke(O.elements,"getDimensions").reject(i.isEmpty);E=k.offset()}else if(O.sections){O.sections.each(function(e){var t=i.invoke(e.get("elementArea").elements,"getDimensions").reject(i.isEmpty);var n=c.getSectionElement(e.id);var r;var o;var s={};if(n.length>0){o=e.get("elementArea").isEmpty();if(o){var a=n.find(".empty-element-message");n=a.length>0?a:n}r=n.offset();s={section_id:e.id,elements:t,top:r.top+(o?8:0),left:r.left+(o?10:0),height:n.outerHeight(false),width:n.outerWidth(false)-(o?20:0)};L.push(s);K+=e.get("elementArea").elements.length}});E=k.offset()}else{D=i.invoke(O.element?[O.element]:O.elements,"getDimensions").reject(i.isEmpty);if(x.outerHeight()*x.outerWidth()>k.outerHeight()*k.outerWidth()){k=x}E=k.offset()}if(i.isObject(E)&&i.isNumber(E.top)&&i.isNumber(E.left)){var F=k.find(".empty-element-message, .wsite-com-empty-long-description");var H;var W;var j;var $;if(O.name==o.HEADER_SECTION_TAG_NAME){var z=O.el?t(O.el):k;var V=z.offset();H=V.top;W=V.left;j=z.outerWidth(false);$=z.outerHeight(false)}else{H=E.top;W=E.left;j=k.outerWidth(false);$=k.outerHeight(false)}if(D.length==0&&L.length==0&&F.length){var U=F.offset();H=U.top;if(O.context.kind=="blog"){j=F.outerWidth();W=U.left}}B={name:O.name,type:O.type,top:H,left:W,height:$,width:j,position:C,align:T,verticalAlign:I,spotlighted:M,is_site_wide:N,parentString:A};if(O.sections){B.sections=L;B.empty=K==0}else{B.elements=D;B.empty=D.length==0}if(O.headerSection){var G=O.innerEl?t(O.innerEl):k;var q=G.offset();B.isBlogPost=y;B.headerSection={top:q.top,left:q.left,height:G.outerHeight(false),width:G.outerWidth(false)}}_.push(B)}}n.areas=_;var Y=t(l.getCurrentHeaderElement());if(Y&&Y.length){E=Y.offset()||{};n.header={height:Y.outerHeight(),width:Y.outerWidth(),top:E.top,left:E.left}}var X=s.getBackgroundElement("");if(X.length){E=X.offset()||null;n.background_image={height:X.outerHeight(),width:X.outerWidth(),top:E.top,left:E.left}}var J=t(a.DESIGN_OPTIONS_SELECTORS.navButton).not(":hidden").filter(function(e,i){i=t(i);var n=i.offset();return n.left>=-i.outerWidth()&&n.top>=-i.outerHeight()});if(J.length){n.nav_button=p(J)}var Q=t(a.DESIGN_OPTIONS_SELECTORS.navMenu).not(":hidden");if(!i.isObject(n.nav_button)&&Q.length){var Z=Q.closest("ul");E=Z.offset();n.nav_menu={height:Z.outerHeight(),width:Z.outerWidth(),top:E.top,left:E.left};if(n.nav_menu.height<=10){n.nav_menu.height=Z.children().children().height()}}n.scrollWidth=t(document).width();n.scrollHeight=t(document).height();n.commerce=f();if(h()){n.menu={button:n.nav_button}}if(y){n.blog={post:{title:w()}}}else if(b){n.blog=v()}return n};r.reqres.setHandler("page:getDimensions",d.getPageDimensions);n.reqres.setHandler("page:getDimensions",d.getPageDimensions);d.getSectionDimensions=function(){return r.request("section:getCollection",{readOnly:true}).then(function(e){var n=[];i.each(e,function(e){var i=t('.wsite-section[data-section="'+e.section_id+'"]');var r;if(i.length){r=i.offset();n.push({section_id:e.section_id,section_order:e.section_order,top:r.top,left:r.left,height:i.outerHeight(false),width:i.outerWidth(false)})}});return n})};r.reqres.setHandler("page:getSectionDimensions",d.getSectionDimensions);n.reqres.setHandler("page:getSectionDimensions",d.geSectionDimensions);return d}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(2),i(3),i(4),i(11),i(829),i(7),i(10),i(17),i(36),i(25),i(15),i(326),i(23),i(33),i(125),i(61)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v){var w={};function b(e){p.init(o);p.setElementData(c.getElementObject(e),e)}w.addElement=function(e,i,n,r,s,a){var u;var d=t("#"+s);try{
u=d.closest("li.inside").attr("id").replace("inside_","")}catch(e){}var h={type:e,name:i};var p=c.newElement(s,n,r,h,u,a);if(p){o.vent.trigger("editor:elements:newElement");o.vent.trigger("editor:elements:changed");b(n.id);w.setHandlers(true);f.globalAfterRender();if(n.eid==l.PLATFORM_ELEMENT_ID){var g=c.getElementObject(n.id);var v=g.getContentField().getProperty("<!ELEMENTSETTINGS!>");if(v&&v.property_result){var y=JSON.parse(v.property_result);if(y&&y.config&&(y.config.autopop||g.tutorial_autopop)){m.selectElement(t("#inside_"+n.id).find(".element")[0])}}}}return p};a.reqres.setHandler("element:addElement",w.addElement);w.setHandlers=function(){t("#secondlist .columnlist-blog").each(function(){if(this.childNodes.length==0){this.style.height="400px"}else{this.style.height="auto"}});t(".formlist").each(function(){this.select(".show-element-options-image").invoke("remove")});t("#secondlist").each(function(){prettyPrint()});t("#createLink").each(function(){new Draggable("createLink")});t(".weebly-content-area a, #weeblyfootertext a, #weeblyfooterattribution a").not('[href^="blog-url"]').each(function(){t(this).on("click",y);this.title=e.utl("javascript.site.editor.build.element_2")});t(".weebly-content-area .disable-link").each(function(){t(this).on("click",y);this.title=""});t(".editable-text a").each(function(){this.title=""});t(".product-old .product-title, .product-old .product-description").each(function(){var e=this;e.setAttribute("contentEditable","true");e.addClassName("editable-text");e.ondblclick=function(){v.showEditBox(e.id,null,{saveCallback:saveProductField,redrawOptions:true,showOptions:true})}});t(".product-old .product-price").each(function(){var e=this;e.setAttribute("contentEditable","true");e.addClassName("editable-text");e.ondblclick=function(){v.showEditBox(e.id,null,{saveCallback:saveProductField,redrawOptions:true,showOptions:false})}})};function y(e){e.preventDefault()}a.commands.setHandler("element:setHandlers",w.setHandlers);o.commands.setHandler("element:setHandlers",w.setHandlers);w.removeElement=function(e){var i=u.getAreaInstanceForElement(t("#inside_"+e).closest(".weebly-area")[0]);if(i.sections){i=i.getSectionFromElementId(e).get("elementArea")}i.removeElement(e);o.vent.trigger("editor:elements:changed")};a.commands.setHandler("element:removeElement",w.removeElement);w.updateColumnWidths=function(e,t){c.getElementObject(e).updateWidths(t);o.vent.trigger("editor:elements:changed")};a.reqres.setHandler("element:updateColumnWidths",w.updateColumnWidths);w.addColumn=function(e,i,n,r,s){var a=u.getAreaInstanceForElement(t("#inside_"+e).closest(".weebly-area")[0]);if(s){a=d.getElementAreaInstanceFromSectionId(s,a)}a.addColumn(e,i,n,null,r);a.removeEmptyColumns();o.vent.trigger("editor:elements:changed");b(e)};a.reqres.setHandler("element:addColumn",w.addColumn);w.setProperty=function(e,i,n,r){setTimeout(function(){var s=c.getElementObject(e);var a=s.content_fields[i];c.setContentFieldProperty(i,n,r);var l=c.getContentFieldProperty(i,n);if(l&&l.reference_property==="<!SRC!>"&&l.property_result!==""){var u=a.getProperty("<!DATA!>");var d=u.property_result||"{}";var f=JSON.parse(d);f.placeholder=false;u.property_result=JSON.stringify(f)}var h=t("#"+i);var p={};p[n]=r;s.rerenderContentField(a,h[0],function(){o.vent.trigger("forceDocumentSizeChange")},p);if(s.product_data){var m=s.product_data["image_order"]?s.product_data["image_order"][0]:null;w.assignProductImageAttributes(e,s.product_data["product_images"],m)}},0)};a.commands.setHandler("element:setProperty",w.setProperty);w.setProductElementImage=function(e,i){setTimeout(function(){t("#inside_"+e+" img").attr("src",i)},0)};a.commands.setHandler("element:setProductElementImage",w.setProductElementImage);function _(i,n){var r=t("#inside_"+i+" img");var o=window.getElementObject(i);var s=new e.CommerceProduct(o);var a=g.storefrontSettings.getRatioAsNumber("product_image_ratio");var l=s.calculateProductImageAspectRatio(n,a);r.attr("src",n.path);r.width(l.width+"%");r.css("top",l.top+"%");r.css("left",l.left+"%")}w.assignProductImageAttributes=function(e,i,r){var o=n.render(h,{class_prefix:"wsite-product-image",image_source:"blank-product-w320.png",image_percent_width:100,image_percent_left:-25,image_percent_top:0});t("#inside_"+e+" .wsite-product-image").html(o);var s=null;var i=i||[];for(var a=0;a<i.length;a++){if(i[a].product_image_id===r){s=i[a];break}}if(s!==null){_(e,s)}};a.commands.setHandler("element:assignProductImageAttributes",w.assignProductImageAttributes);function E(e,t,n,r){var o=c.getElementObject(e),s;if(!o){return}if(!o.product_data){return}if(n&&r){var a=o.getContentField();if(a.getProperty("<!PRODUCTID!>")){a.getProperty("<!PRODUCTID!>").property_result=n;a.getProperty("<!PRODUCTSKUID!>").property_result=r}}i.keys(t).each(function(e){o.product_data[e]=t[e];if(e==="product_skus"){o.product_data["price"]=t[e][0].price;o.product_data["salePrice"]=t[e][0].sale_price}});o.rerender();s=t["image_order"]?t["image_order"][0]:null;w.assignProductImageAttributes(e,t["product_images"],s)}w.setProductAttributes=function(e,t,i,n){E(e,n,t,i)};a.commands.setHandler("element:setProductAttributes",w.setProductAttributes);w.updateElementsForProduct=function(t,n){var r=e.pageContext.elementsByID;i.each(r,function(e){if(!e.product_data||e.product_data.product_id!==t){return}E(e.id,n)})};a.commands.setHandler("element:updateElementsForProduct",w.updateElementsForProduct);w.setProperties=function(e,t,i){for(var n=0,r=i.length;n<r;n++){this.setProperty(e,t,i[n].ucfpid,i[n].property_result)}};a.commands.setHandler("element:setProperties",w.setProperties);w.getProperty=function(e,t,i){var n=c.getElementObject(e);if(!n){return null}var r=n.getContentField(t);if(!r){return null}var o=r.getProperty(i);if(!o){return null}return o.property_result};a.reqres.setHandler("element:getProperty",w.getProperty);w.showElement=function(e){var t="#inside_"+e;s.removePlaceholder(t);o.vent.trigger("forceDocumentSizeChange")};a.commands.setHandler("element:showElement",w.showElement);w.getImageDimensions=function(e){return s.getImageDimensions(e)};a.reqres.setHandler("element:getImageDimensions",w.getImageDimensions);w.hideElement=function(e){var t="#inside_"+e;s.addPlaceholder(t)};a.commands.setHandler("element:hideElement",w.hideElement);w.blur=function(){t(":focus").blur()};a.commands.setHandler("element:blur",w.blur);return w}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(1),i(117),i(3),i(2),i(12),i(11),i(14),i(544),i(545),i(591),i(826),i(236),i(347),i(18),i(7),i(75),i(29),i(158),i(326),i(46),i(146),i(186),i(827),i(305),i(346),i(33),i(25),i(10),i(173),i(22)],r=function(e,t,i,n,r,o,s,a,l,c,u,d,f,h,p,m,g,v,w,b,y,_,E,T,C,S,I,O,k){var x={};var D;var R={};x.syncPages=function(e){a.reset(e)};m.commands.setHandler("pages:sync",x.syncPages);x.setPageHierarchy=function(e){a.reset(e);f.renderTheme();if(r.isUndefined(R.template)===false){x.setAreaTemplate(R.template)}};m.reqres.setHandler("page:setPageHierarchy",x.setPageHierarchy);x.renderPage=function(e,t,n,o){setTimeout(function(){try{v.isMobileView=v.isAdaptiveView=!p.currentThemeData.responsive&&n;var s,a;if(r.isUndefined(R.template)===false){delete R.template}if(v.isAdaptiveView){s=p.adaptiveThemeDefinition;a=p.adaptiveThemeCSS}else{s=p.primaryThemeDefinition;a=p.primaryThemeCSS}window.currentTheme=s.theme_id;x.renderPageSync(e,t,s,a,o)}catch(e){console.error(e.stack);i.captureException(e);m.trigger(y.EVENTS.PAGE_RENDER_FAIL,e)}},0)};m.commands.setHandler("page:renderPage",x.renderPage);x.renderPageSync=function(e,t,i,n,r){if(n){D=n}else{n=D}s.vent.trigger("page:startRender",e,t);if(!t.backgrounds){t.backgrounds=d.backgrounds}m.execute("setElementsPageType");window.currentPage=e;window.currentPageKind=t.kind;window.currentBlog.editingBlog=0;if(!i){p.getCurrentThemeData(v.isMobileView).done(function(e){A(t,e,n,r)})}else{if(i&&typeof i==="object"){p.setCurrentThemeData(i)}A(t,i,n,r)}if(!t.areas){return}for(var o=0;o<t.areas.length;o++){var a=t.areas[o];if(a&&a.template&&a.elements){if(a.elements.length===0){x.setAreaTemplate(a.template)}}}P()};m.commands.setHandler("page:renderPageSync",x.renderPageSync);function P(){var e="http://"+ASSETS_BASE+"/images/util/";var i=n.compile(b,{class_prefix:"wsite-product-image",image_source:"blank-product-w320.png",image_percent_width:100,image_percent_left:0,image_percent_top:0});var r=t('.wsite-com-category-subcategory-image.wsite-imageaspectratio-image[src=""]');r.attr("src",e+"blank-category-w320.png");var o=[];var s=t('.wsite-product-image-image.wsite-imageaspectratio-image[src=""]');var a=t('.wsite-com-category-product-featured-image.wsite-imageaspectratio-image[src=""]');var l=t('.wsite-com-category-product-image[src=""]');o.push(s);o.push(a);o.push(l);o.each(function(e){t(e).attr("src","blank-product-w320.png")});t("a.wsite-product-image").each(function(){if(t(this).html().trim()===""){t(this).html(i)}});var c='<a title="Links active once published">$0.00</a>';t(".wsite-product-price").each(function(){if(t(this).text().trim()===""){t(this).html(c)}})}function A(t,i,n,o){if(t.pages){E.updatePageData(t.pages);var l=a.get(window.currentPage);if(!l){window.showPageChooser("Choose a page to edit:","This page was deleted by another editor.",{load_page_locks:true})}}p.setCurrentTheme(i.theme_id,i.is_mobile);p.setCurrentThemeColor(i.current_theme_color);x.buildEditingArea(t,i,n,o);if(t.post_locked){window.showWarning({title:e.utl("javascript.site.editor.build.page_2"),message:'<div style="text-align:left">'+e.utl("javascript.site.editor.build.page_3").replace(/{{email}}/,t.post_locked.email)+"</div>"+'<a href="#" onclick="window.goUpdateList({{currentPage}}, 1); window.hideWarning();">'.replace(/{{currentPage}}/,window.currentPage)+e.utl("javascript.site.editor.build.page_4")+"</a>"},{closeFunction:function(){window.goUpdateList(window.currentPage,1);window.hideWarning()}})}w.updateFooterAttribution();m.request("userEvent:hasDoneUserEvent",{"x-pages":false,"x-elements":true,"x-show-pages":true}).done(function(e){if(e){m.execute("userEvent:showEvent","x-pages")}});window.obtainedPage=window.currentPage;s.vent.trigger("editor:middle",t);m.trigger("editor:middle",r.omit(t,["currentApp"]))}function N(i){t(".tablet-placeholder").hide();t("#empty-message-standard").hide();t("#weebly-empty-footer").hide();t('h2:contains("Double-tap to add headline")').hide();t('p:contains("Double tap to add description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.")').hide();t('h2:contains("Click to add headline")').hide();t('p:contains("Click tap to add description. Lorem ipsum dolor sit amet, consectetur adipiscing elit.")').hide();var n=e.pageContext.elementsByID;r.each(n,function(e){var i=t(e.li).text().trim();if(i==="Double-tap to edit."||i==="Button Text"){t(e.li).hide()}});t(".wsite-spacer").css("border-color","rgba(0,0,0,0)");t('.phone-number > span:contains("Add text")').hide();if(i.site_is_free===true){t(".wsite-video").hide();t(".wsite-search-element-outer").hide();t(".wsite-html5audio").hide()}}x.buildEditingArea=function(i,n,a,l){s.vent.trigger("processPageDataHook",i);var c=i.site_element_data||i.site_areas;if(c){var u=e.siteContext;e.siteContext=null;c.currentApp=s;e.siteContext=new h(c);e.siteContext._oldContext=u;delete i.site_element_data;delete i.site_areas}else{e.siteContext={}}if(o.chromeless){$(i,n)}window.currentPagePublished=Boolean(i.isPagePublished);var d=e.pageContext;e.pageContext=null;i.currentApp=s;e.pageContext=new h(i);e.pageContext.pageID=window.currentPage;e.pageContext._oldContext=d;g.setCurrentHeader(i.header_image);delete i.header_image;var m=i.kind=="blog";if(m){K()}if(window.navFlyoutMenu){window.navFlyoutMenu.hideSubmenus()}if(f.adaptiveThemeCSS){n.css=a;p.setCurrentThemeData(n);s.vent.trigger("forceThemeRerender")}if(v.isMobileView&&S.isEditing){s.vent.trigger("forceThemeRerender");s.vent.once("themeRendered",function(){t(document).scrollTop(t(document).height())})}if(!n){n=p.currentThemeData}if(!a){a=p.currentThemeData.css}if(v.isMobileView){window.currentStandardTheme=i.theme}else{p.setCurrentTheme(i.theme,false)}f.renderPage(function(){s.execute("element:setHandlers");if(i.is_preview===true){N(i)}},n,a,i,l);s.vent.trigger("editorListUpdated",i,n,a);if(i.kind==="blog"){C.init()}if(i.new_elements){r.each(i.new_elements,function(e,i){if(e.platform_element&&e.autopop){var n=t("#inside_"+i).find(".element");I.selectElement(n[0])}})}if(!window.externalLibariesLoaded){window.loadExternalLibraries()}T.resetScrollTop(m)};var M="#blog-post-title";var L=".blog-page-nav-previous";var B=".blog-page-nav-next";function K(){var e=false,i=true;t(document).off("focus",M,F).on("focus",M,F).off("blur",M,j).on("blur",M,j).off("click",L,H).on("click",L,H).off("click",B,W).on("click",B,W)}function F(){window.disableBackspaceExit=false;m.trigger(y.EVENTS.EDITING_POST_TITLE)}function H(e){m.trigger(y.EVENTS.NAV_PREVIOUS_PAGE_CLICKED)}function W(){m.trigger(y.EVENTS.NAV_NEXT_PAGE_CLICKED)}function j(e){var i=t(e.target).closest(M);window.disableBackspaceExit=true;m.trigger(y.EVENTS.EDITED_POST_TITLE,i.text())}function $(e,t){var i=new l.collection;var n=O.isHeaderSectionSupported(e.areas);var o;var a;var u;r(e.areas).each(function(e){if(r(e).has("sections")){r(e.sections).each(function(e,t){if(typeof e.properties==="object"){e.properties=JSON.stringify(e.properties)}i.add({section_id:e.section_id,section_order:t+1,properties:e.properties})})}});if(e.backgrounds===undefined){e.backgrounds=[]}if(i.length){o=i.getBackgroundImages();u=i.getBackgroundVideos();e.backgrounds=O.mergeBackgroundData(e.backgrounds,o,"section");e.backgrounds=O.mergeVideoBackgroundData(e.backgrounds,u,"section")}if(n){a=new c;var d=r.chain(e.areas).findWhere({name:k.HEADER_SECTION_TAG_NAME}).result("header_section").value();a.add(d);if(a.length&&!(t["header-section"]&&t["header-section"]["editable-background"]===false)){var f=a.first();if(f.hasBackgroundImage()){var h={};var p=f.id;h[p||""]=f.getBackgroundContent();e.backgrounds=O.mergeBackgroundData(e.backgrounds,h,"header-section")}else if(f.hasBackgroundVideo()){var m={};m[f.id]=f.getBackgroundContent();e.backgrounds=O.mergeVideoBackgroundData(e.backgrounds,m,"header-section")}}}s.execute("themeBackground:update",e)}x.setHeaderImage=function(e){var i=_.getCurrentHeaderElement();if(e){g.setCurrentHeader({url:e});t(i).css("background-image","url("+e+")")}};m.commands.setHandler("page:setHeaderImage",x.setHeaderImage);x.setBackgroundImage=function(e){var t=u.getBackgroundElement("");var i=null;if(!t){return}if(e&&e.url){i={"":{image:{url:e.url},position:"fill"}};u.applyBackgrounds(i)}};m.commands.setHandler("page:setBackgroundImage",x.setBackgroundImage);x.setAreaTemplate=function(e){if(window.currentBlog.editingBlog===1){return}t("ul.weebly-content-area").each(function(){if(t(this.parentElement).hasClass("wsite-not-footer")){t(this).first().html(e);R.template=e;return}})};m.commands.setHandler("page:setAreaTemplate",x.setAreaTemplate);x.hideNav=function(){if(window.navFlyoutMenu){if(window.navFlyoutMenu.mouseoverItems){for(var e=window.navFlyoutMenu.mouseoverItems.length-1;e>=0;e--){window.navFlyoutMenu.mouseoverItems[e].trigger("mouseout")}window.navFlyoutMenu.mouseoverItems=[]}window.navFlyoutMenu.contract()}};m.commands.setHandler("page:hideNav",x.hideNav);return x}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(11),i(7),i(329),i(1668),i(3),i(10)],r=function(e,t,i,n,r,o,s){i.once("tutorial:sections:start",function(){i.commands.setHandlers({"tutorial:show:customizable:headers":function(){var a=e("."+s.HEADER_SECTION_CLASS_NAME);var l=new n({content:o.render(r),pointAt:a,allowLeftRight:false,preferBottom:true,closeOnClickAway:true,closeOnClick:false,closeOnEsc:false,showPointAtArrow:true,placement:"bottom",wrapClassName:"ui-framework sections-tutorial",arrowGap:2});var c=l.close.bind(l);t.vent.once("navClicked",c);t.vent.once("pageRendered",c);t.vent.once("editor:elements:newElement",c);var u=function(){t.vent.off("navClicked",c);t.vent.off("pageRendered",c);t.vent.off("editor:elements:newElement",c);i.trigger("tutorial:schedule")};l.on("close",u);l.on("open",function(){l.$el.find(".btn").on("click",c)});l.open()}})})}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(11),i(7)],r=function(e,t,i){"use strict";var n=t.module("helpy");n.on("start",function(){var t=e(document);var n=e("body");i.commands.setHandlers({"helpy:initialized":function(){i.on("helpy:elementsGuide:scrollToElement",function(e){n.animate({scrollTop:parseInt(e)-200},200,function(){i.trigger("helpy:elementsGuide:scrollingFinished");window.setTimeout(function(){t.on("scroll.elementsGuide",function(){i.trigger("helpy:elementsGuide:endOnScroll");t.off("scroll.elementsGuide")})},500)})})},"helpy:elementsGuide:listenDeleteElement":function(t){var n=e(t);n.one("click",function(){i.trigger("helpy:elementsGuide:elementDeleted")})},"helpy:elementsGuide:listenElementClicked":function(t){var n=e(t);n.one("click",function(){n.one("blur",function(){i.trigger("helpy:elementsGuide:elementClicked")})})}})});n.on("stop",function(){i.commands.removeHandlers(["helpy:initialized","helpy:elementsGuide:listenDeleteElement","helpy:elementsGuide:listenElementClicked"])});return n}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(601),i(11),i(481),i(7),i(46),i(1223),i(1221),i(1230),i(1222),i(826),i(1220),i(1224),i(125),i(236),i(1227),i(591),i(167),i(827),i(124),i(938),i(1229),i(457),i(458),i(1225),i(375),i(376)],r=function(e,t,i,n,r,o){try{t.install({project:"editor-iframe",release:window.buildTime,shouldSendCallback:function(e){r.execute("raven:message",e);return false}})}catch(e){console.warn("Raven failed to install")}e(function(){n.setup(r.incoming,window.parent,r.outgoing);i.start();i.ui.start();r.trigger(o.EVENTS.DOCUMENT_READY)});window.inEditor=function(){return true}}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(11),i(157),i(7),i(120),i(29),i(371)],r=function(e,t,i,n,r,o){var s=t.module("mobile");var a=e(window);function l(){i.resizeScreen()}s.on("start",function(){n.commands.setHandlers({setMobileColor:s.setMobileColor,setSiteSettings:r.setSiteSettings});s.listenTo(n,{setMobileView:s.setMobileView,setStandardView:s.setStandardView})});s.setMobileView=function(){if(o.isMobileView){return}t.vent.trigger("setMobileView");if(r.getSiteSetting("allow_mobile")===false){return}d();o.isMobileView=true;window.ENABLE_PAGE_HIERARCHY=false;if(window.navFlyoutMenu){window.navFlyoutMenu.destroy()}e("body").addClass("wsite-mobile");s.listenTo(a,{resize:i.resizeScreen});s.listenTo(t.vent,{"editor:middle":l,"pageRendered themeRendered":c,navClicked:i.closeMenu})};function c(){if(!window.isThemeCSSLoaded()){window.whenThemeCSSLoaded(u)}else{u()}i.resizeScreen()}function u(){if(e(".wsite-mobile-menu").length>0){return}e("#wmobile-menu").find("ul span.wsite-nav-handle").show();i.init()}function d(){var t="//"+ASSETS_BASE+"/css/mobile-sites.css";e("head").append('<link id="mobile-css" rel="stylesheet" href="'+t+'">')}function f(){e("#mobile-css").remove()}s.setMobileColor=function(t){e(".wmobile-bar,.wmobile-button,.wmobile-line").css("background-color",t)};s.setStandardView=function(){if(!o.isMobileView){return}t.vent.trigger("setStandardView");if(r.getSiteSetting("allow_mobile")===false){return}f();o.isMobileView=false;window.ENABLE_PAGE_HIERARCHY=true;e("body").removeClass("wsite-mobile");s.stopListening(a);s.stopListening(t.vent)};return s}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(4),i(3),i(7),i(303),i(1709),i(1710)],r=function(e,t,i,n,r,o,s){var a=t.Marionette.ItemView.extend({template:i.compile(s),className:"page-layout-preview-tooltip",ui:{keepBtn:".keep-btn",cancelBtn:".cancel-btn"},events:{"click @ui.keepBtn":"keepLayout","click @ui.cancelBtn":"changeLayout"},onReady:function(){var t=this;r.showContentAreaSpotlights({opacity:.5,ants:false,roundedCorners:false,zIndex:100,element:e(t.options.contentAreaSelector)});var i=t.positionTooltip();e("#secondlist .weebly-content-area").append(o);t.$el.addClass("fade-in");if(t.options.content_area!="footer"){var n;if(i){n=t.$el.position().top-20}else{n=t.$el.position().top+t.$el.height()+20}e(window).animate({scrollTop:n},500)}t.saveButton=e(".spotlight-controls-inner").find(".save-button");if(t.saveButton){t.saveButton.hide()}},positionTooltip:function(){var t=this;var i=e(t.options.contentAreaSelector);if(t.options.sectionId){i=i.find(".wsite-section[data-section='"+t.options.sectionId+"']")}t.$el.css("left",i.offset().left+i.width()/2);var n=i.offset().top-t.$el.height()-20;if(n>0){t.$el.css("top",n);return true}else{t.$el.addClass("top-arrow");t.$el.css("top",i.offset().top+i.height()-10);return false}},closeView:function(){var t=this;n.execute("pageLayouts:spotlight:close");r.hideContentAreaSpotlights();if(t.saveButton){t.saveButton.show()}t.remove();t.unbind();e(".page-layout-element-cover").remove()},keepLayout:function(t){var i=this;if(t){t.preventDefault()}i.closeView();if(i.saveButton){i.saveButton.trigger("click")}n.execute("pageLayouts:spotlight:close",i.options);e(".page-layout-element-cover").remove()},changeLayout:function(e){var t=this;n.request("pageLayouts:revertLayout",t.options);if(e){e.preventDefault()}t.closeView()}});return a}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(1),i(7),i(11),i(1228)],r=function(e,t,i,n){var r=null;var o=i.module("pageLayouts");o.on("start",function(){e(document).on("click.pageLayouts","#empty-message.layout-chooser",function(){var e=this.getAttribute("data-content-area");var i=this.getAttribute("data-layout-section-id");t.execute("pageLayouts:gallery:show",e,null,i)})});o.on("stop",function(){e(document).off(".pageLayouts")});t.commands.setHandlers({"pageLayouts:spotlight:show":function(t){r=new n(t);r.render();e("#_editor-ui").append(r.$el);setTimeout(function(){r.onReady();e(document).scrollTop(r.$el.parent().position().top+r.$el.position().top-20)},100)},"pageLayouts:confirmTooltip:position":function(){if(r){r.positionTooltip()}}});return o}.apply(t,n),r!==undefined&&(e.exports=r))},function(e,t,i){var n,r;!(n=[i(5),i(2),i(6),i(105),i(236),i(18),i(7)],r=function(e,t,i,n,r,o,s){var a={"site-title":"siteTitle","paragraph-title":"header","paragraph-text":"global",links:"a","navigation-menu-text":"navMenu","flyout-menu-text":"flyoutMenu","image-captions":"imageCaptions","photo-gallery-captions":"galleryCaptions","lightbox-gallery-captions":"lightboxGalleryCaptions","slideshow-captions":"slideshowCaptions","phone-number-field":"phone","landing-page-headline":"headline","landing-page-sub-headline":"subHeadline",button:"button","small-button":"smallButton",blockquote:"blockquote","footer-paragraph-title":"footerHeader","footer-paragraph-text":"footerGlobal","footer-links":"footerA","footer-blockquote":"footerBlockquote","blog-post-title":"blogPostTitle","product-title":"productTitle","product-price":"productPrice"};var l={primaryThemeCSS:null,adaptiveThemeCSS:null};l.renderTheme=function(t,i,s,a,l,c,u){if(c){n.setDesignOptions(c);n.applyDesignOptions()}e.view.isMobileView=e.view.isAdaptiveView=!o.currentThemeData.responsive&&u;if(e.view.isAdaptiveView){i=a;s=l}r.renderTheme(t,null,i,s)};s.commands.setHandler("theme:renderTheme",l.renderTheme);l.setNavMore=function(e,t){window.DISABLE_NAV_MORE=e;if(t){l.renderTheme()}};s.commands.setHandler("theme:DISABLE_NAV_MORE",l.setNavMore);l.setThemeCSS=function(t,n){var o=n?"adaptive":"desktop";var s=e.view.isAdaptiveView?"adaptive":"desktop";if(n){if(l.adaptiveThemeCSS==t){return}l.adaptiveThemeCSS=t}else{if(l.primaryThemeCSS==t){return}l.primaryThemeCSS=t}var a=function(){if(o===s){r.setThemeStyle(window.currentTheme,window.currentThemeColor,t)}};if(e.pageContext&&e.pageContext.hasRendered){a()}else{i.vent.once("themeRendered",a)}};s.commands.setHandler("theme:setThemeCSS",l.setThemeCSS);l.getCurrentFontSettings=function(e){var t=n.getCurrentStyles(e);if(t&&t.font){t.font=t.font.replace(/'/g,"")}return t};s.reqres.setHandler("theme:getCurrentFontSettings",l.getCurrentFontSettings);l.setFontSetting=function(e,t,i){setTimeout(function(){var r=t.charAt(0).toUpperCase()+t.slice(1);var o=a[e]+r;n.setDesignOption(o,i);n.siteApplyDesignOptions()},0)};s.commands.setHandler("theme:setFontSetting",l.setFontSetting);l.setFontSettings=function(e){setTimeout(function(){n.setDesignOptions(e);n.siteApplyDesignOptions()},0)};s.commands.setHandler("theme:setFontSettings",l.setFontSettings);l.setThemeColor=function(e,t){setTimeout(function(){o.setCurrentThemeColor(e);l.renderTheme(null,t)},0)};s.commands.setHandler("theme:setThemeColor",l.setThemeColor);return l}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,,,,function(e,t,i){(function(e){(function(e){if(typeof e.fn.each2=="undefined"){e.fn.extend({each2:function(t){var i=e([0]),n=-1,r=this.length;while(++n<r&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==false);return this}})}})(e);(function(e,t){"use strict";if(window.Select2!==t){return}var i,n,r,o,s,a,l={x:0,y:0},c,u,i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return true}return false},isControl:function(e){var t=e.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return true}if(e.metaKey)return true;return false},isFunctionKey:function(e){e=e.which?e.which:e;return e>=112&&e<=123}},d="<div class='select2-measure-scrollbar'></div>";c=e(document);s=function(){var e=1;return function(){return e++}}();function f(e,t){var i=0,n=t.length;for(;i<n;i=i+1){if(p(e,t[i]))return i}return-1}function h(){var t=e(d);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};t.remove();return i}function p(e,i){if(e===i)return true;if(e===t||i===t)return false;if(e===null||i===null)return false;if(e.constructor===String)return e+""===i+"";if(i.constructor===String)return i+""===e+"";return false}function m(t,i){var n,r,o;if(t===null||t.length<1)return[];n=t.split(i);for(r=0,o=n.length;r<o;r=r+1)n[r]=e.trim(n[r]);return n}function g(e){return e.outerWidth(false)-e.width()}function v(i){var n="keyup-change-value";i.on("keydown",function(){if(e.data(i,n)===t){e.data(i,n,i.val())}});i.on("keyup",function(){var r=e.data(i,n);if(r!==t&&i.val()!==r){e.removeData(i,n);i.trigger("keyup-change")}})}c.on("mousemove",function(e){l.x=e.pageX;l.y=e.pageY});function w(i){i.on("mousemove",function(i){var n=l;if(n===t||n.x!==i.pageX||n.y!==i.pageY){e(i.target).trigger("mousemove-filtered",i)}})}function b(e,i,n){n=n||t;var r;return function(){var t=arguments;window.clearTimeout(r);r=window.setTimeout(function(){i.apply(n,t)},e)}}function y(e){var t=false,i;return function(){if(t===false){i=e();t=true}return i}}function _(e,t){var i=b(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){if(f(e.target,t.get())>=0)i(e)})}function E(e){if(e[0]===document.activeElement)return;window.setTimeout(function(){var t=e[0],i=e.val().length,n;e.focus();if(e.is(":visible")&&t===document.activeElement){if(t.setSelectionRange){t.setSelectionRange(i,i)}else if(t.createTextRange){n=t.createTextRange();n.collapse(false);n.select()}}},0)}function T(t){t=e(t)[0];var i=0;var n=0;if("selectionStart"in t){i=t.selectionStart;n=t.selectionEnd-i}else if("selection"in document){t.focus();var r=document.selection.createRange();n=document.selection.createRange().text.length;r.moveStart("character",-t.value.length);i=r.text.length-n}return{offset:i,length:n}}function C(e){e.preventDefault();e.stopPropagation()}function S(e){e.preventDefault();e.stopImmediatePropagation()}function I(t){if(!a){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});a.attr("class","select2-sizer");e("body").append(a)}a.text(t.val());return a.width()}function O(t,i,n){var r,o=[],s;r=t.attr("class");if(r){r=""+r;e(r.split(" ")).each2(function(){if(this.indexOf("select2-")===0){o.push(this)}})}r=i.attr("class");if(r){r=""+r;e(r.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){s=n(this);if(s){o.push(this)}}})}t.attr("class",o.join(" "))}function k(e,t,i,n){var r=e.toUpperCase().indexOf(t.toUpperCase()),o=t.length;if(r<0){i.push(n(e));return}i.push(n(e.substring(0,r)));i.push("<span class='select2-match'>");i.push(n(e.substring(r,r+o)));i.push("</span>");i.push(n(e.substring(r+o,e.length)))}function x(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function D(i){var n,r=0,o=null,s=i.quietMillis||100,a=i.url,l=this;return function(c){window.clearTimeout(n);n=window.setTimeout(function(){r+=1;var n=r,s=i.data,u=a,d=i.transport||e.fn.select2.ajaxDefaults.transport,f={type:i.type||"GET",cache:i.cache||false,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,f);s=s?s.call(l,c.term,c.page,c.context):null;u=typeof u==="function"?u.call(l,c.term,c.page,c.context):u;if(o){o.abort()}if(i.params){if(e.isFunction(i.params)){e.extend(h,i.params.call(l))}else{e.extend(h,i.params)}}e.extend(h,{url:u,dataType:i.dataType,data:s,success:function(e){if(n<r){return}var t=i.results(e,c.page);c.callback(t)}});o=d.call(l,h)},s)}}function R(t){var i=t,n,r,o=function(e){return""+e.text};if(e.isArray(i)){r=i;i={results:r}}if(e.isFunction(i)===false){r=i;i=function(){return r}}var s=i();if(s.text){o=s.text;if(!e.isFunction(o)){n=s.text;o=function(e){return e[n]}}}return function(t){var n=t.term,r={results:[]},s;if(n===""){t.callback(i());return}s=function(i,r){var a,l;i=i[0];if(i.children){a={};for(l in i){if(i.hasOwnProperty(l))a[l]=i[l]}a.children=[];e(i.children).each2(function(e,t){s(t,a.children)});if(a.children.length||t.matcher(n,o(a),i)){r.push(a)}}else{if(t.matcher(n,o(i),i)){r.push(i)}}};e(i().results).each2(function(e,t){s(t,r.results)});t.callback(r)}}function P(i){var n=e.isFunction(i);return function(r){var o=r.term,s={results:[]};e(n?i():i).each(function(){var e=this.text!==t,i=e?this.text:this;if(o===""||r.matcher(o,i)){s.results.push(e?this:{id:this,text:this})}});r.callback(s)}}function A(t,i){if(e.isFunction(t))return true;if(!t)return false;throw new Error(i+" must be a function or a falsy value")}function N(t){return e.isFunction(t)?t():t}function M(t){var i=0;e.each(t,function(e,t){if(t.children){i+=M(t.children)}else{i++}});return i}function L(e,i,n,r){var o=e,s=false,a,l,c,u,d;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;while(true){l=-1;for(c=0,u=r.tokenSeparators.length;c<u;c++){d=r.tokenSeparators[c];l=e.indexOf(d);if(l>=0)break}if(l<0)break;a=e.substring(0,l);e=e.substring(l+d.length);if(a.length>0){a=r.createSearchChoice.call(this,a,i);if(a!==t&&a!==null&&r.id(a)!==t&&r.id(a)!==null){s=false;for(c=0,u=i.length;c<u;c++){if(p(r.id(a),r.id(i[c]))){s=true;break}}if(!s)n(a)}}}if(o!==e)return e}function B(t,i){var n=function(){};n.prototype=new t;n.prototype.constructor=n;n.prototype.parent=t.prototype;n.prototype=e.extend(n.prototype,i);return n}n=B(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,r,o=".select2-results",a,l;this.opts=i=this.prepareOpts(i);this.id=i.id;if(i.element.data("select2")!==t&&i.element.data("select2")!==null){i.element.data("select2").destroy()}this.container=this.createContainer();this.containerId="s2id_"+(i.element.attr("id")||"autogen"+s());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");
this.container.attr("id",this.containerId);this.body=y(function(){return i.element.closest("body")});O(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.css(N(i.containerCss));this.container.addClass(N(i.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(N(i.dropdownCssClass));this.dropdown.data("select2",this);this.results=n=this.container.find(o);this.search=r=this.container.find("input.select2-input");this.resultsPage=0;this.context=null;this.initContainer();w(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent));_(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));e(this.container).on("change",".select2-input",function(e){e.stopPropagation()});e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()});if(e.fn.mousewheel){n.mousewheel(function(e,t,i,r){var o=n.scrollTop(),s;if(r>0&&o-r<=0){n.scrollTop(0);C(e)}else if(r<0&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()){n.scrollTop(n.get(0).scrollHeight-n.height());C(e)}})}v(r);r.on("keyup-change input paste",this.bind(this.updateResults));r.on("focus",function(){r.addClass("select2-focused")});r.on("blur",function(){r.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){if(e(t.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(t);this.selectHighlighted(t)}}));this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()});if(e.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(i.maximumInputLength!==null){this.search.attr("maxlength",i.maximumInputLength)}var a=i.element.prop("disabled");if(a===t)a=false;this.enable(!a);var l=i.element.prop("readonly");if(l===t)l=false;this.readonly(l);u=u||h();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",false);if(this.autofocus)this.focus()},destroy:function(){var e=this.opts.element,i=e.data("select2");if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(i!==t){i.container.remove();i.dropdown.remove();e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){e.attr({tabindex:this.elementTabIndex})}else{e.removeAttr("tabindex")}e.show()}},optionToData:function(e){if(e.is("option")){return{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:p(e.attr("locked"),"locked")||p(e.data("locked"),true)}}else if(e.is("optgroup")){return{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}}},prepareOpts:function(i){var n,r,o,s,a=this;n=i.element;if(n.get(0).tagName.toLowerCase()==="select"){this.select=r=i.element}if(r){e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}i=e.extend({},{populateResults:function(n,r,o){var s,l,c,u,d=this.opts.id;s=function(n,r,l){var c,u,f,h,p,m,g,v,w,b;n=i.sortResults(n,r,o);for(c=0,u=n.length;c<u;c=c+1){f=n[c];p=f.disabled===true;h=!p&&d(f)!==t;m=f.children&&f.children.length>0;g=e("<li></li>");g.addClass("select2-results-dept-"+l);g.addClass("select2-result");g.addClass(h?"select2-result-selectable":"select2-result-unselectable");if(p){g.addClass("select2-disabled")}if(m){g.addClass("select2-result-with-children")}g.addClass(a.opts.formatResultCssClass(f));v=e(document.createElement("div"));v.addClass("select2-result-label");b=i.formatResult(f,v,o,a.opts.escapeMarkup);if(b!==t){v.html(b)}g.append(v);if(m){w=e("<ul></ul>");w.addClass("select2-result-sub");s(f.children,w,l+1);g.append(w)}g.data("select2-data",f);r.append(g)}};s(r,n,0)}},e.fn.select2.defaults,i);if(typeof i.id!=="function"){o=i.id;i.id=function(e){return e[o]}}if(e.isArray(i.element.data("select2Tags"))){if("tags"in i){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id")}i.tags=i.element.data("select2Tags")}if(r){i.query=this.bind(function(e){var i={results:[],more:false},r=e.term,o,s,l;l=function(t,i){var n;if(t.is("option")){if(e.matcher(r,t.text(),t)){i.push(a.optionToData(t))}}else if(t.is("optgroup")){n=a.optionToData(t);t.children().each2(function(e,t){l(t,n.children)});if(n.children.length>0){i.push(n)}}};o=n.children();if(this.getPlaceholder()!==t&&o.length>0){s=this.getPlaceholderOption();if(s){o=o.not(s)}}o.each2(function(e,t){l(t,i.results)});e.callback(i)});i.id=function(e){return e.id};i.formatResultCssClass=function(e){return e.css}}else{if(!("query"in i)){if("ajax"in i){s=i.element.data("ajax-url");if(s&&s.length>0){i.ajax.url=s}i.query=D.call(i.element,i.ajax)}else if("data"in i){i.query=R(i.data)}else if("tags"in i){i.query=P(i.tags);if(i.createSearchChoice===t){i.createSearchChoice=function(e){return{id:e,text:e}}}if(i.initSelection===t){i.initSelection=function(t,n){var r=[];e(m(t.val(),i.separator)).each(function(){var t=this,n=this,o=i.tags;if(e.isFunction(o))o=o();e(o).each(function(){if(p(this.id,t)){n=this.text;return false}});r.push({id:t,text:n})});n(r)}}}}}if(typeof i.query!=="function"){throw"query function not defined for Select2 "+i.element.attr("id")}return i},monitorSource:function(){var e=this.opts.element,i;e.on("change.select2",this.bind(function(e){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));i=this.bind(function(){var i,n,r=this;var o=e.prop("disabled");if(o===t)o=false;this.enable(!o);var n=e.prop("readonly");if(n===t)n=false;this.readonly(n);O(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(N(this.opts.containerCssClass));O(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(N(this.opts.dropdownCssClass))});e.on("propertychange.select2 DOMAttrModified.select2",i);if(this.mutationCallback===t){this.mutationCallback=function(e){e.forEach(i)}}if(typeof WebKitMutationObserver!=="undefined"){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new WebKitMutationObserver(this.mutationCallback);this.propertyObserver.observe(e.get(0),{attributes:true,subtree:false})}},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});this.opts.element.trigger(i);return!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=e.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange)this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;if(e===this.enabledInterface)return false;this.container.toggleClass("select2-container-disabled",t);this.close();this.enabledInterface=e;return true},enable:function(e){if(e===t)e=true;if(this._enabled===e)return false;this._enabled=e;this.opts.element.prop("disabled",!e);this.enableInterface();return true},readonly:function(e){if(e===t)e=false;if(this._readonly===e)return false;this._readonly=e;this.opts.element.prop("readonly",e);this.enableInterface();return true},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,i=this.container.offset(),n=this.container.outerHeight(false),r=this.container.outerWidth(false),o=t.outerHeight(false),s=e(window).scrollLeft()+e(window).width(),a=e(window).scrollTop()+e(window).height(),l=i.top+n,c=i.left,d=l+o<=a,f=i.top-o>=this.body().scrollTop(),h=t.outerWidth(false),p=c+h<=s,m=t.hasClass("select2-drop-above"),g,v,w,b;if(this.opts.dropdownAutoWidth){b=e(".select2-results",t)[0];t.addClass("select2-drop-auto-width");t.css("width","");h=t.outerWidth(false)+(b.scrollHeight===b.clientHeight?0:u.width);h>r?r=h:h=r;p=c+h<=s}else{this.container.removeClass("select2-drop-auto-width")}if(this.body().css("position")!=="static"){g=this.body().offset();l-=g.top;c-=g.left}if(m){v=true;if(!f&&d)v=false}else{v=false;if(!d&&f)v=true}if(!p){c=i.left+r-h}if(v){l=i.top-o;this.container.addClass("select2-drop-above");t.addClass("select2-drop-above")}else{this.container.removeClass("select2-drop-above");t.removeClass("select2-drop-above")}w=e.extend({top:l,left:c,width:r},N(this.opts.dropdownCss));t.css(w)},shouldOpen:function(){var t;if(this.opened())return false;if(this._enabled===false||this._readonly===true)return false;t=e.Event("select2-opening");this.opts.element.trigger(t);return!t.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return false;this.opening();return true},opening:function(){var t=this.containerId,i="scroll."+t,n="resize."+t,r="orientationchange."+t,o,s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}o=e("#select2-drop-mask");if(o.length==0){o=e(document.createElement("div"));o.attr("id","select2-drop-mask").attr("class","select2-drop-mask");o.hide();o.appendTo(this.body());o.on("mousedown touchstart click",function(t){var i=e("#select2-drop"),n;if(i.length>0){n=i.data("select2");if(n.opts.selectOnBlur){n.selectHighlighted({noFocus:true})}n.close();t.preventDefault();t.stopPropagation()}})}if(this.dropdown.prev()[0]!==o[0]){this.dropdown.before(o)}e("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");s=l();o.css(s).show();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(n+" "+i+" "+r,function(t){var i=l();e("#select2-drop-mask").css(i);a.positionDropdown()})});function l(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}},close:function(){if(!this.opened())return;var t=this.containerId,i="scroll."+t,n="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(r)});this.clearDropdownAlignmentPreference();e("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(e.Event("select2-close"))},externalSearch:function(e){this.open();this.search.val(e);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return N(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,i,n,r,o,s,a,l;n=this.highlight();if(n<0)return;if(n==0){t.scrollTop(0);return}i=this.findHighlightableChoices().find(".select2-result-label");r=e(i[n]);o=r.offset().top+r.outerHeight(true);if(n===i.length-1){l=t.find("li.select2-more-results");if(l.length>0){o=l.offset().top+l.outerHeight(true)}}s=t.offset().top+t.outerHeight(true);if(o>s){t.scrollTop(t.scrollTop()+(o-s))}a=r.offset().top-t.offset().top;if(a<0&&r.css("display")!="none"){t.scrollTop(t.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){var i=this.findHighlightableChoices(),n=this.highlight();while(n>-1&&n<i.length){n+=t;var r=e(i[n]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i=this.findHighlightableChoices(),n,r;if(arguments.length===0){return f(i.filter(".select2-highlighted")[0],i.get())}if(t>=i.length)t=i.length-1;if(t<0)t=0;this.results.find(".select2-highlighted").removeClass("select2-highlighted");n=e(i[t]);n.addClass("select2-highlighted");this.ensureHighlightVisible();r=n.data("select2-data");if(r){this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})}},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else if(i.length==0){this.results.find(".select2-highlighted").removeClass("select2-highlighted")}},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i,n=-1,r=this.resultsPage+1,o=this,s=this.search.val(),a=this.context;if(t.length===0)return;i=t.offset().top-e.offset().top-e.height();if(i<=this.opts.loadMorePadding){t.addClass("select2-active");this.opts.query({element:this.opts.element,term:s,page:r,context:a,matcher:this.opts.matcher,callback:this.bind(function(i){if(!o.opened())return;o.opts.populateResults.call(this,e,i.results,{term:s,page:r,context:a});o.postprocessResults(i,false,false);if(i.more===true){t.detach().appendTo(e).text(o.opts.formatLoadMore(r+1));window.setTimeout(function(){o.loadMoreIfNeeded()},10)}else{t.remove()}o.positionDropdown();o.resultsPage=r;o.context=i.context})})}},tokenize:function(){},updateResults:function(i){var n=this.search,r=this.results,o=this.opts,s,a=this,l,c=n.val(),u=e.data(this.container,"select2-last-term");if(i!==true&&u&&p(c,u))return;e.data(this.container,"select2-last-term",c);if(i!==true&&(this.showSearchInput===false||!this.opened())){return}function d(){n.removeClass("select2-active");a.positionDropdown()}function f(e){r.html(e);d()}var h=this.getMaximumSelectionSize();if(h>=1){s=this.data();if(e.isArray(s)&&s.length>=h&&A(o.formatSelectionTooBig,"formatSelectionTooBig")){f("<li class='select2-selection-limit'>"+o.formatSelectionTooBig(h)+"</li>");return}}if(n.val().length<o.minimumInputLength){if(A(o.formatInputTooShort,"formatInputTooShort")){f("<li class='select2-no-results'>"+o.formatInputTooShort(n.val(),o.minimumInputLength)+"</li>")}else{f("")}if(i&&this.showSearch)this.showSearch(true);return}if(o.maximumInputLength&&n.val().length>o.maximumInputLength){if(A(o.formatInputTooLong,"formatInputTooLong")){f("<li class='select2-no-results'>"+o.formatInputTooLong(n.val(),o.maximumInputLength)+"</li>")}else{f("")}return}if(o.formatSearching&&this.findHighlightableChoices().length===0){f("<li class='select2-searching'>"+o.formatSearching()+"</li>")}n.addClass("select2-active");l=this.tokenize();if(l!=t&&l!=null){n.val(l)}this.resultsPage=1;o.query({element:o.element,term:n.val(),page:this.resultsPage,context:null,matcher:o.matcher,callback:this.bind(function(s){var l;if(!this.opened()){this.search.removeClass("select2-active");return}this.context=s.context===t?null:s.context;if(this.opts.createSearchChoice&&n.val()!==""){l=this.opts.createSearchChoice.call(a,n.val(),s.results);if(l!==t&&l!==null&&a.id(l)!==t&&a.id(l)!==null){if(e(s.results).filter(function(){return p(a.id(this),a.id(l))}).length===0){s.results.unshift(l)}}}if(s.results.length===0&&A(o.formatNoMatches,"formatNoMatches")){f("<li class='select2-no-results'>"+o.formatNoMatches(n.val())+"</li>");return}r.empty();a.opts.populateResults.call(this,r,s.results,{term:n.val(),page:this.resultsPage,context:null});if(s.more===true&&A(o.formatLoadMore,"formatLoadMore")){r.append("<li class='select2-more-results'>"+a.opts.escapeMarkup(o.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){a.loadMoreIfNeeded()},10)}this.postprocessResults(s,i);d();this.opts.element.trigger({type:"select2-loaded",items:s})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur)this.selectHighlighted({noFocus:true});this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){E(this.search)},selectHighlighted:function(e){var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");if(n){this.highlight(t);this.onSelect(n,e)}else if(e&&e.noFocus){this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children().first();if(this.opts.placeholderOption!==t){return this.opts.placeholderOption==="first"&&e||typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select)}else if(e.text()===""&&e.val()===""){return e}}},initContainerWidth:function(){function i(){var i,n,r,o,s;if(this.opts.width==="off"){return null}else if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else if(this.opts.width==="copy"||this.opts.width==="resolve"){i=this.opts.element.attr("style");if(i!==t){n=i.split(";");for(o=0,s=n.length;o<s;o=o+1){r=n[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(r!==null&&r.length>=1)return r[1]}}if(this.opts.width==="resolve"){i=this.opts.element.css("width");if(i.indexOf("%")>0)return i;return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}return null}else if(e.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}var n=i.call(this);if(n!==null){this.container.css("width",n)}}});r=B(n,{createContainer:function(){var t=e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='icon'>downarrowsmall<b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var t,i,n;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}this.search.focus();t=this.search.get(0);if(t.createTextRange){i=t.createTextRange();i.collapse(false);i.select()}else if(t.setSelectionRange){n=this.search.val().length;t.setSelectionRange(n,n)}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},focus:function(){if(this.opened()){this.close()}else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},initContainer:function(){var t,n=this.container,r=this.dropdown;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=t=n.find(".select2-choice");this.focusser=n.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+s());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===i.PAGE_UP||e.which===i.PAGE_DOWN){C(e);return}switch(e.which){case i.UP:case i.DOWN:this.moveHighlight(e.which===i.UP?-1:1);C(e);return;case i.ENTER:this.selectHighlighted();C(e);return;case i.TAB:this.selectHighlighted({noFocus:true});return;case i.ESC:this.cancel(e);C(e);return}}));this.search.on("blur",this.bind(function(e){if(document.activeElement===this.body().get(0)){window.setTimeout(this.bind(function(){this.search.focus()}),0)}}));this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===i.TAB||i.isControl(e)||i.isFunctionKey(e)||e.which===i.ESC){return}if(this.opts.openOnEnter===false&&e.which===i.ENTER){C(e);return}if(e.which==i.DOWN||e.which==i.UP||e.which==i.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open();C(e);return}if(e.which==i.DELETE||e.which==i.BACKSPACE){if(this.opts.allowClear){this.clear()}C(e);return}}));v(this.focusser);this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open()}}));t.on("mousedown","abbr",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.clear();S(e);this.close();this.selection.focus()}));t.on("mousedown",this.bind(function(t){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(e.Event("select2-focus"))}if(this.opened()){this.close()}else if(this.isInterfaceEnabled()){this.open()}C(t)}));r.on("mousedown",this.bind(function(){this.search.focus()}));t.on("focus",this.bind(function(e){C(e)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(e.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(e.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(e.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");if(t){var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(e!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t});this.triggerChange({removed:t})}}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected()){this.updateSelection([]);this.close();this.setPlaceholder()}else{var i=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){i.updateSelection(e);i.close();i.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var e;return(e=this.getPlaceholderOption())!==t&&e.is(":selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;if(t.element.get(0).tagName.toLowerCase()==="select"){t.initSelection=function(e,t){var n=e.find(":selected");t(i.optionToData(n))}}else if("data"in t){t.initSelection=t.initSelection||function(i,n){var r=i.val();var o=null;t.query({matcher:function(e,i,n){var s=p(r,t.id(n));if(s){o=n}return s},callback:!e.isFunction(n)?e.noop:function(){n(o)}})}}return t},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===t){return t}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,r=this,o=true;this.findHighlightableChoices().each2(function(e,t){if(p(r.id(t.data("select2-data")),r.opts.element.val())){n=e;return false}});if(i!==false){if(t===true&&n>=0){this.highlight(n)}else{this.highlight(0)}}if(t===true){var s=this.opts.minimumResultsForSearch;if(s>=0){this.showSearch(M(e.results)>=s)}}},showSearch:function(t){if(this.showSearchInput===t)return;this.showSearchInput=t;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t);e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(!this.triggerSelect(e)){return}var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e));this.updateSelection(e);this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e});this.close();if(!t||!t.noFocus)this.selection.focus();if(!p(i,this.id(e))){this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i=this.selection.find(".select2-chosen"),n,r;this.selection.data("select2-data",e);i.empty();n=this.opts.formatSelection(e,i,this.opts.escapeMarkup);if(n!==t){i.append(n)}r=this.opts.formatSelectionCssClass(e,i);if(r!==t){i.addClass(r)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==t){this.container.addClass("select2-allowclear")}},val:function(){var e,i=false,n=null,r=this,o=this.data();if(arguments.length===0){return this.opts.element.val()}e=arguments[0];if(arguments.length>1){i=arguments[1]}if(this.select){this.select.val(e).find(":selected").each2(function(e,t){n=r.optionToData(t);return false});this.updateSelection(n);this.setPlaceholder();if(i){this.triggerChange({added:n,removed:o})}}else{if(!e&&e!==0){this.clear(i);return}if(this.opts.initSelection===t){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(e);this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(!e?"":r.id(e));r.updateSelection(e);r.setPlaceholder();if(i){r.triggerChange({added:e,removed:o})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(e,i){var n;if(arguments.length===0){n=this.selection.data("select2-data");if(n==t)n=null;return n}else{if(!e||e===""){this.clear(i)}else{n=this.data();this.opts.element.val(!e?"":this.id(e));this.updateSelection(e);if(i){this.triggerChange({added:e,removed:n})}}}}});o=B(n,{createContainer:function(){var t=e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;if(t.element.get(0).tagName.toLowerCase()==="select"){t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push(i.optionToData(t))});t(n)}}else if("data"in t){t.initSelection=t.initSelection||function(i,n){var r=m(i.val(),t.separator);var o=[];t.query({matcher:function(i,n,s){var a=e.grep(r,function(e){return p(e,t.id(s))}).length;if(a){o.push(s)}return a},callback:!e.isFunction(n)?e.noop:function(){var e=[];for(var i=0;i<r.length;i++){var s=r[i];for(var a=0;a<o.length;a++){var l=o[a];if(p(s,t.id(l))){e.push(l);o.splice(a,1);break}}}n(e)}})}}return t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");if(t.length&&e&&e[0]==t[0]){}else{if(t.length){this.opts.element.trigger("choice-deselected",t)}t.removeClass("select2-search-choice-focus");if(e&&e.length){this.close();e.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",e)}}},initContainer:function(){var t=".select2-choices",n;this.searchContainer=this.container.find(".select2-search-field");this.selection=n=this.container.find(t);var r=this;this.selection.on("mousedown",".select2-search-choice",function(t){r.search[0].focus();r.selectChoice(e(this))});this.search.attr("id","s2id_autogen"+s());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled())return;if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;++this.keydowns;var t=n.find(".select2-search-choice-focus");var r=t.prev(".select2-search-choice:not(.select2-locked)");var o=t.next(".select2-search-choice:not(.select2-locked)");var s=T(this.search);if(t.length&&(e.which==i.LEFT||e.which==i.RIGHT||e.which==i.BACKSPACE||e.which==i.DELETE||e.which==i.ENTER)){var a=t;if(e.which==i.LEFT&&r.length){a=r}else if(e.which==i.RIGHT){a=o.length?o:null}else if(e.which===i.BACKSPACE){this.unselect(t.first());this.search.width(10);a=r.length?r:o}else if(e.which==i.DELETE){this.unselect(t.first());this.search.width(10);a=o.length?o:null}else if(e.which==i.ENTER){a=null}this.selectChoice(a);C(e);if(!a||!a.length){this.open()}return}else if((e.which===i.BACKSPACE&&this.keydowns==1||e.which==i.LEFT)&&(s.offset==0&&!s.length)){this.selectChoice(n.find(".select2-search-choice:not(.select2-locked)").last());C(e);return}else{this.selectChoice(null)}if(this.opened()){switch(e.which){case i.UP:case i.DOWN:this.moveHighlight(e.which===i.UP?-1:1);C(e);return;case i.ENTER:this.selectHighlighted();C(e);return;case i.TAB:this.selectHighlighted({noFocus:true});this.close();return;case i.ESC:this.cancel(e);C(e);return}}if(e.which===i.TAB||i.isControl(e)||i.isFunctionKey(e)||e.which===i.BACKSPACE||e.which===i.ESC){return}if(e.which===i.ENTER){if(this.opts.openOnEnter===false){return}else if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){return}}this.open();if(e.which===i.PAGE_UP||e.which===i.PAGE_DOWN){C(e)}if(e.which===i.ENTER){C(e)}}));this.search.on("keyup",this.bind(function(e){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened())this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(e.Event("select2-blur"))}));this.container.on("click",t,this.bind(function(t){if(!this.isInterfaceEnabled())return;if(e(t.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(e.Event("select2-focus"))}this.open();this.focusSearch();t.preventDefault()}));this.container.on("focus",t,this.bind(function(){if(!this.isInterfaceEnabled())return;if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(e.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var e;if(this.opts.element.val()===""&&this.opts.element.text()===""){
this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var i=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){i.updateSelection(e);i.close();i.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();if(e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(e).addClass("select2-default");this.search.width(i>0?i:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(true);this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],r=this;e(t).each(function(){if(f(r.id(this),i)<0){i.push(r.id(this));n.push(this)}});t=n;this.selection.find(".select2-search-choice").remove();e(t).each(function(){r.addSelectedChoice(this)});r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts);if(e!=null&&e!=t){this.search.val(e);if(e.length>0){this.open()}}},onSelect:function(e,t){if(!this.triggerSelect(e)){return}this.addSelectedChoice(e);this.opts.element.trigger({type:"selected",val:this.id(e),choice:e});if(this.select||!this.opts.closeOnSelect)this.postprocessResults();if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:e});if(!t||!t.noFocus)this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var n=!i.locked,r=e("<li class='select2-search-choice'>"+"    <div></div>"+"    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a>"+"</li>"),o=e("<li class='select2-search-choice select2-locked'>"+"<div></div>"+"</li>");var s=n?r:o,a=this.id(i),l=this.getVal(),c,u;c=this.opts.formatSelection(i,s.find("div"),this.opts.escapeMarkup);if(c!=t){s.find("div").replaceWith("<div>"+c+"</div>")}u=this.opts.formatSelectionCssClass(i,s.find("div"));if(u!=t){s.addClass(u)}if(n){s.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){if(!this.isInterfaceEnabled())return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();C(t)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}s.data("select2-data",i);s.insertBefore(this.searchContainer);l.push(a);this.setVal(l)},unselect:function(e){var t=this.getVal(),i,n;e=e.closest(".select2-search-choice");if(e.length===0){throw"Invalid argument: "+e+". Must be .select2-search-choice"}i=e.data("select2-data");if(!i){return}n=f(this.id(i),t);if(n>=0){t.splice(n,1);this.setVal(t);if(this.select)this.postprocessResults()}e.remove();this.opts.element.trigger({type:"removed",val:this.id(i),choice:i});this.triggerChange({removed:i})},postprocessResults:function(e,t,i){var n=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),s=this;r.each2(function(e,t){var i=s.id(t.data("select2-data"));if(f(i,n)>=0){t.addClass("select2-selected");t.find(".select2-result-selectable").addClass("select2-selected")}});o.each2(function(e,t){if(!t.is(".select2-result-selectable")&&t.find(".select2-result-selectable:not(.select2-selected)").length===0){t.addClass("select2-selected")}});if(this.highlight()==-1&&i!==false){s.highlight(0)}if(!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0){if(!e||e&&!e.more&&this.results.find(".select2-no-results").length===0){if(A(s.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-g(this.search)},resizeSearch:function(){var e,t,i,n,r,o=g(this.search);e=I(this.search)+10;t=this.search.offset().left;i=this.selection.width();n=this.selection.offset().left;r=i-(t-n)-o;if(r<e){r=i-o}if(r<40){r=i-o}if(r<=0){r=e}this.search.width(r)},getVal:function(){var e;if(this.select){e=this.select.val();return e===null?[]:e}else{e=this.opts.element.val();return m(e,this.opts.separator)}},setVal:function(t){var i;if(this.select){this.select.val(t)}else{i=[];e(t).each(function(){if(f(this,i)<0)i.push(this)});this.opts.element.val(i.length===0?"":i.join(this.opts.separator))}},buildChangeDetails:function(e,t){var t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++){for(var n=0;n<e.length;n++){if(p(this.opts.id(t[i]),this.opts.id(e[n]))){t.splice(i,1);i--;e.splice(n,1);n--}}}return{added:t,removed:e}},val:function(i,n){var r,o=this,s;if(arguments.length===0){return this.getVal()}r=this.data();if(!r.length)r=[];if(!i&&i!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(n){this.triggerChange({added:this.data(),removed:r})}return}this.setVal(i);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(n){this.triggerChange(this.buildChangeDetails(r,this.data()))}}else{if(this.opts.initSelection===t){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,o.id);o.setVal(i);o.updateSelection(t);o.clearSearch();if(n){o.triggerChange(this.buildChangeDetails(r,this.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var n=this,r,o;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get()}else{o=this.data();if(!t){t=[]}r=e.map(t,function(e){return n.opts.id(e)});this.setVal(r);this.updateSelection(t);this.clearSearch();if(i){this.triggerChange(this.buildChangeDetails(o,this.data()))}}}});e.fn.select2=function(){var i=Array.prototype.slice.call(arguments,0),n,s,a,l,c,u=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],d=["val","opened","isFocused","container","data"],h={search:"externalSearch"};this.each(function(){if(i.length===0||typeof i[0]==="object"){n=i.length===0?{}:e.extend({},i[0]);n.element=e(this);if(n.element.get(0).tagName.toLowerCase()==="select"){c=n.element.prop("multiple")}else{c=n.multiple||false;if("tags"in n){n.multiple=c=true}}s=c?new o:new r;s.init(n)}else if(typeof i[0]==="string"){if(f(i[0],u)<0){throw"Unknown method: "+i[0]}l=t;s=e(this).data("select2");if(s===t)return;a=i[0];if(a==="container"){l=s.container}else if(a==="dropdown"){l=s.dropdown}else{if(h[a])a=h[a];l=s[a].apply(s,i.slice(1))}if(f(i[0],d)>=0){return false}}else{throw"Invalid arguments to select2 plugin: "+i}});return l===t?this:l};e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var r=[];k(e.text,i.term,r,n);return r.join("")},formatSelection:function(e,i,n){return e?n(e.text):t},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return t},formatSelectionCssClass:function(e,i){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" more character"+(i==1?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(i==1?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:L,escapeMarkup:x,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null}};e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:D,local:R,tags:P},util:{debounce:b,markMatch:k,escapeMarkup:x},class:{abstract:n,single:r,multi:o}}})(e)}).call(t,i(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n,r;var o=i(67);!(n=[i(5),i(67)],r=function(e){e.Commerce=e.Commerce||{};e.Commerce.Site=e.Commerce.Site||{};if(window.initCommerceModels){window.initCommerceModels()}}.apply(t,n),r!==undefined&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<div class="popover__title_container">\n\t<h1 class="popover__title">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_customizable-headers{{/tl}}\n\t</h1>\n\t<div class="new-icon">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_new{{/tl}}\n\t</div>\n</div>\n<span class="popover__text">\n\t{{#tl}}templates.editor.updates.sections-tutorial_customizable-headers-text{{/tl}}\n</span>\n<div class="popover__button-container">\n\t<button class="btn">\n\t\t{{#tl}}templates.editor.updates.sections-tutorial_got-it{{/tl}}\n\t</button>\n</div>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<div class="page-layout-element-cover"></div>'},function(e,t){e.exports='<div class="spotlight-container">\n\t<p class="title">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_1{{/tl}}</p>\n\t<a class="cancel-btn min-btn" href="#">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_2{{/tl}}</a>\n\t<a class="keep-btn min-btn" href="#">{{#tl}}templates.page-layouts.editor.spotlight.preview-tooltip_3{{/tl}}</a>\n\t<div class="arrow_box"></div>\n\t<div class="top_arrow_box"></div>\n</div>'},,,,,,,,,,function(e,t){e.exports='<div class="encoding-icon">\n\t<div class="encoding-icon__bg">\n\t</div>\n</div>\n'}]);